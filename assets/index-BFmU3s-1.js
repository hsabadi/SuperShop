var iv=t=>{throw TypeError(t)};var Sh=(t,e,n)=>e.has(t)||iv("Cannot "+n);var U=(t,e,n)=>(Sh(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?iv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ue=(t,e,n,r)=>(Sh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(Sh(t,e,"access private method"),n);var gc=(t,e,n,r)=>({set _(s){ue(t,e,s,n)},get _(){return U(t,e,r)}});function hC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function M_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j_={exports:{}},yd={},V_={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),fC=Symbol.for("react.portal"),pC=Symbol.for("react.fragment"),mC=Symbol.for("react.strict_mode"),gC=Symbol.for("react.profiler"),yC=Symbol.for("react.provider"),vC=Symbol.for("react.context"),wC=Symbol.for("react.forward_ref"),_C=Symbol.for("react.suspense"),xC=Symbol.for("react.memo"),EC=Symbol.for("react.lazy"),ov=Symbol.iterator;function TC(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var L_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F_=Object.assign,U_={};function Fo(t,e,n){this.props=t,this.context=e,this.refs=U_,this.updater=n||L_}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $_(){}$_.prototype=Fo.prototype;function im(t,e,n){this.props=t,this.context=e,this.refs=U_,this.updater=n||L_}var om=im.prototype=new $_;om.constructor=im;F_(om,Fo.prototype);om.isPureReactComponent=!0;var av=Array.isArray,z_=Object.prototype.hasOwnProperty,am={current:null},B_={key:!0,ref:!0,__self:!0,__source:!0};function H_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)z_.call(e,r)&&!B_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Nl,type:t,key:i,ref:o,props:s,_owner:am.current}}function IC(t,e){return{$$typeof:Nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nl}function SC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lv=/\/+/g;function bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SC(""+t.key):e.toString(36)}function qc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nl:case fC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+bh(o,0):r,av(s)?(n="",t!=null&&(n=t.replace(lv,"$&/")+"/"),qc(s,e,n,"",function(u){return u})):s!=null&&(lm(s)&&(s=IC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",av(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+bh(i,a);o+=qc(i,e,n,c,s)}else if(c=TC(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+bh(i,a++),o+=qc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yc(t,e,n){if(t==null)return t;var r=[],s=0;return qc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function bC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},Gc={transition:null},CC={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Gc,ReactCurrentOwner:am};function W_(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:yc,forEach:function(t,e,n){yc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yc(t,function(){e++}),e},toArray:function(t){return yc(t,function(e){return e})||[]},only:function(t){if(!lm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Fo;he.Fragment=pC;he.Profiler=gC;he.PureComponent=im;he.StrictMode=mC;he.Suspense=_C;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CC;he.act=W_;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=F_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=am.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)z_.call(e,c)&&!B_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Nl,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:vC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yC,_context:t},t.Consumer=t};he.createElement=H_;he.createFactory=function(t){var e=H_.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:wC,render:t}};he.isValidElement=lm;he.lazy=function(t){return{$$typeof:EC,_payload:{_status:-1,_result:t},_init:bC}};he.memo=function(t,e){return{$$typeof:xC,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Gc.transition;Gc.transition={};try{t()}finally{Gc.transition=e}};he.unstable_act=W_;he.useCallback=function(t,e){return jt.current.useCallback(t,e)};he.useContext=function(t){return jt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};he.useEffect=function(t,e){return jt.current.useEffect(t,e)};he.useId=function(){return jt.current.useId()};he.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return jt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};he.useRef=function(t){return jt.current.useRef(t)};he.useState=function(t){return jt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return jt.current.useTransition()};he.version="18.3.1";V_.exports=he;var T=V_.exports;const W=M_(T),q_=hC({__proto__:null,default:W},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC=T,RC=Symbol.for("react.element"),PC=Symbol.for("react.fragment"),NC=Object.prototype.hasOwnProperty,kC=AC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OC={key:!0,ref:!0,__self:!0,__source:!0};function G_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NC.call(e,r)&&!OC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:RC,type:t,key:i,ref:o,props:s,_owner:kC.current}}yd.Fragment=PC;yd.jsx=G_;yd.jsxs=G_;j_.exports=yd;var f=j_.exports,wf={},K_={exports:{}},sn={},Q_={exports:{}},Y_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var X=V.length;V.push(B);e:for(;0<X;){var K=X-1>>>1,J=V[K];if(0<s(J,B))V[K]=B,V[X]=J,X=K;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],X=V.pop();if(X!==B){V[0]=X;e:for(var K=0,J=V.length,te=J>>>1;K<te;){var Ce=2*(K+1)-1,Ze=V[Ce],ve=Ce+1,gt=V[ve];if(0>s(Ze,X))ve<J&&0>s(gt,Ze)?(V[K]=gt,V[ve]=X,K=ve):(V[K]=Ze,V[Ce]=X,K=Ce);else if(ve<J&&0>s(gt,X))V[K]=gt,V[ve]=X,K=ve;else break e}}return B}function s(V,B){var X=V.sortIndex-B.sortIndex;return X!==0?X:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,m=null,h=3,y=!1,w=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(V){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=V)r(u),B.sortIndex=B.expirationTime,e(c,B);else break;B=n(u)}}function k(V){if(x=!1,I(V),!w)if(n(c)!==null)w=!0,Z(D);else{var B=n(u);B!==null&&le(k,B.startTime-V)}}function D(V,B){w=!1,x&&(x=!1,_(E),E=-1),y=!0;var X=h;try{for(I(B),m=n(c);m!==null&&(!(m.expirationTime>B)||V&&!N());){var K=m.callback;if(typeof K=="function"){m.callback=null,h=m.priorityLevel;var J=K(m.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?m.callback=J:m===n(c)&&r(c),I(B)}else r(c);m=n(c)}if(m!==null)var te=!0;else{var Ce=n(u);Ce!==null&&le(k,Ce.startTime-B),te=!1}return te}finally{m=null,h=X,y=!1}}var j=!1,b=null,E=-1,A=5,R=-1;function N(){return!(t.unstable_now()-R<A)}function O(){if(b!==null){var V=t.unstable_now();R=V;var B=!0;try{B=b(!0,V)}finally{B?P():(j=!1,b=null)}}else j=!1}var P;if(typeof v=="function")P=function(){v(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,se=q.port2;q.port1.onmessage=O,P=function(){se.postMessage(null)}}else P=function(){S(O,0)};function Z(V){b=V,j||(j=!0,P())}function le(V,B){E=S(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,Z(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var X=h;h=B;try{return V()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=h;h=V;try{return B()}finally{h=X}},t.unstable_scheduleCallback=function(V,B,X){var K=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,V={id:d++,callback:B,priorityLevel:V,startTime:X,expirationTime:J,sortIndex:-1},X>K?(V.sortIndex=X,e(u,V),n(c)===null&&V===n(u)&&(x?(_(E),E=-1):x=!0,le(k,X-K))):(V.sortIndex=J,e(c,V),w||y||(w=!0,Z(D))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var B=h;return function(){var X=h;h=B;try{return V.apply(this,arguments)}finally{h=X}}}})(Y_);Q_.exports=Y_;var DC=Q_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=T,rn=DC;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X_=new Set,Ya={};function wi(t,e){wo(t,e),wo(t+"Capture",e)}function wo(t,e){for(Ya[t]=e,t=0;t<e.length;t++)X_.add(e[t])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=Object.prototype.hasOwnProperty,jC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cv={},uv={};function VC(t){return _f.call(uv,t)?!0:_f.call(cv,t)?!1:jC.test(t)?uv[t]=!0:(cv[t]=!0,!1)}function LC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FC(t,e,n,r){if(e===null||typeof e>"u"||LC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var cm=/[\-:]([a-z])/g;function um(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cm,um);pt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cm,um);pt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cm,um);pt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function dm(t,e,n,r){var s=pt.hasOwnProperty(e)?pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FC(e,n,s,r)&&(n=null),r||s===null?VC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=MC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vc=Symbol.for("react.element"),Li=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),J_=Symbol.for("react.provider"),Z_=Symbol.for("react.context"),fm=Symbol.for("react.forward_ref"),Ef=Symbol.for("react.suspense"),Tf=Symbol.for("react.suspense_list"),pm=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),e1=Symbol.for("react.offscreen"),dv=Symbol.iterator;function ga(t){return t===null||typeof t!="object"?null:(t=dv&&t[dv]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Ch;function ba(t){if(Ch===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ch=e&&e[1]||""}return`
`+Ch+t}var Ah=!1;function Rh(t,e){if(!t||Ah)return"";Ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ah=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ba(t):""}function UC(t){switch(t.tag){case 5:return ba(t.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 2:case 15:return t=Rh(t.type,!1),t;case 11:return t=Rh(t.type.render,!1),t;case 1:return t=Rh(t.type,!0),t;default:return""}}function If(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fi:return"Fragment";case Li:return"Portal";case xf:return"Profiler";case hm:return"StrictMode";case Ef:return"Suspense";case Tf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z_:return(t.displayName||"Context")+".Consumer";case J_:return(t._context.displayName||"Context")+".Provider";case fm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pm:return e=t.displayName||null,e!==null?e:If(t.type)||"Memo";case Wr:e=t._payload,t=t._init;try{return If(t(e))}catch{}}return null}function $C(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return If(e);case 8:return e===hm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function t1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zC(t){var e=t1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wc(t){t._valueTracker||(t._valueTracker=zC(t))}function n1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=t1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sf(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function r1(t,e){e=e.checked,e!=null&&dm(t,"checked",e,!1)}function bf(t,e){r1(t,e);var n=Ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cf(t,e.type,Ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cf(t,e,n){(e!=="number"||wu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ca=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ts(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Af(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Ca(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ts(n)}}function s1(t,e){var n=Ts(e.value),r=Ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function i1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?i1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _c,o1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_c=_c||document.createElement("div"),_c.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_c.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BC=["Webkit","ms","Moz","O"];Object.keys(Da).forEach(function(t){BC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Da[e]=Da[t]})});function a1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Da.hasOwnProperty(t)&&Da[t]?(""+e).trim():e+"px"}function l1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=a1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var HC=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pf(t,e){if(e){if(HC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Nf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=null;function mm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Of=null,Ji=null,Zi=null;function gv(t){if(t=Dl(t)){if(typeof Of!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Ed(e),Of(t.stateNode,t.type,e))}}function c1(t){Ji?Zi?Zi.push(t):Zi=[t]:Ji=t}function u1(){if(Ji){var t=Ji,e=Zi;if(Zi=Ji=null,gv(t),e)for(t=0;t<e.length;t++)gv(e[t])}}function d1(t,e){return t(e)}function h1(){}var Ph=!1;function f1(t,e,n){if(Ph)return t(e,n);Ph=!0;try{return d1(t,e,n)}finally{Ph=!1,(Ji!==null||Zi!==null)&&(h1(),u1())}}function Ja(t,e){var n=t.stateNode;if(n===null)return null;var r=Ed(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Df=!1;if(wr)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){Df=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{Df=!1}function WC(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ma=!1,_u=null,xu=!1,Mf=null,qC={onError:function(t){Ma=!0,_u=t}};function GC(t,e,n,r,s,i,o,a,c){Ma=!1,_u=null,WC.apply(qC,arguments)}function KC(t,e,n,r,s,i,o,a,c){if(GC.apply(this,arguments),Ma){if(Ma){var u=_u;Ma=!1,_u=null}else throw Error(z(198));xu||(xu=!0,Mf=u)}}function _i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function p1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yv(t){if(_i(t)!==t)throw Error(z(188))}function QC(t){var e=t.alternate;if(!e){if(e=_i(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return yv(s),t;if(i===r)return yv(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function m1(t){return t=QC(t),t!==null?g1(t):null}function g1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=g1(t);if(e!==null)return e;t=t.sibling}return null}var y1=rn.unstable_scheduleCallback,vv=rn.unstable_cancelCallback,YC=rn.unstable_shouldYield,XC=rn.unstable_requestPaint,qe=rn.unstable_now,JC=rn.unstable_getCurrentPriorityLevel,gm=rn.unstable_ImmediatePriority,v1=rn.unstable_UserBlockingPriority,Eu=rn.unstable_NormalPriority,ZC=rn.unstable_LowPriority,w1=rn.unstable_IdlePriority,vd=null,Gn=null;function eA(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(vd,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:rA,tA=Math.log,nA=Math.LN2;function rA(t){return t>>>=0,t===0?32:31-(tA(t)/nA|0)|0}var xc=64,Ec=4194304;function Aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Aa(a):(i&=o,i!==0&&(r=Aa(i)))}else o=n&~s,o!==0?r=Aa(o):i!==0&&(r=Aa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cn(e),s=1<<n,r|=t[n],e&=~s;return r}function sA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Cn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=sA(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function jf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _1(){var t=xc;return xc<<=1,!(xc&4194240)&&(xc=64),t}function Nh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function oA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Cn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ym(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function x1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var E1,vm,T1,I1,S1,Vf=!1,Tc=[],ls=null,cs=null,us=null,Za=new Map,el=new Map,Gr=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wv(t,e){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(e.pointerId)}}function va(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Dl(e),e!==null&&vm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function lA(t,e,n,r,s){switch(e){case"focusin":return ls=va(ls,t,e,n,r,s),!0;case"dragenter":return cs=va(cs,t,e,n,r,s),!0;case"mouseover":return us=va(us,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Za.set(i,va(Za.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,el.set(i,va(el.get(i)||null,t,e,n,r,s)),!0}return!1}function b1(t){var e=Qs(t.target);if(e!==null){var n=_i(e);if(n!==null){if(e=n.tag,e===13){if(e=p1(n),e!==null){t.blockedOn=e,S1(t.priority,function(){T1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kf=r,n.target.dispatchEvent(r),kf=null}else return e=Dl(n),e!==null&&vm(e),t.blockedOn=n,!1;e.shift()}return!0}function _v(t,e,n){Kc(t)&&n.delete(e)}function cA(){Vf=!1,ls!==null&&Kc(ls)&&(ls=null),cs!==null&&Kc(cs)&&(cs=null),us!==null&&Kc(us)&&(us=null),Za.forEach(_v),el.forEach(_v)}function wa(t,e){t.blockedOn===e&&(t.blockedOn=null,Vf||(Vf=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,cA)))}function tl(t){function e(s){return wa(s,t)}if(0<Tc.length){wa(Tc[0],t);for(var n=1;n<Tc.length;n++){var r=Tc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ls!==null&&wa(ls,t),cs!==null&&wa(cs,t),us!==null&&wa(us,t),Za.forEach(e),el.forEach(e),n=0;n<Gr.length;n++)r=Gr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gr.length&&(n=Gr[0],n.blockedOn===null);)b1(n),n.blockedOn===null&&Gr.shift()}var eo=Pr.ReactCurrentBatchConfig,Iu=!0;function uA(t,e,n,r){var s=Te,i=eo.transition;eo.transition=null;try{Te=1,wm(t,e,n,r)}finally{Te=s,eo.transition=i}}function dA(t,e,n,r){var s=Te,i=eo.transition;eo.transition=null;try{Te=4,wm(t,e,n,r)}finally{Te=s,eo.transition=i}}function wm(t,e,n,r){if(Iu){var s=Lf(t,e,n,r);if(s===null)$h(t,e,r,Su,n),wv(t,r);else if(lA(s,t,e,n,r))r.stopPropagation();else if(wv(t,r),e&4&&-1<aA.indexOf(t)){for(;s!==null;){var i=Dl(s);if(i!==null&&E1(i),i=Lf(t,e,n,r),i===null&&$h(t,e,r,Su,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $h(t,e,r,null,n)}}var Su=null;function Lf(t,e,n,r){if(Su=null,t=mm(r),t=Qs(t),t!==null)if(e=_i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=p1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Su=t,null}function C1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JC()){case gm:return 1;case v1:return 4;case Eu:case ZC:return 16;case w1:return 536870912;default:return 16}default:return 16}}var ss=null,_m=null,Qc=null;function A1(){if(Qc)return Qc;var t,e=_m,n=e.length,r,s="value"in ss?ss.value:ss.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Qc=s.slice(t,1<r?1-r:void 0)}function Yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ic(){return!0}function xv(){return!1}function on(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ic:xv,this.isPropagationStopped=xv,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xm=on(Uo),Ol=Le({},Uo,{view:0,detail:0}),hA=on(Ol),kh,Oh,_a,wd=Le({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Em,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(kh=t.screenX-_a.screenX,Oh=t.screenY-_a.screenY):Oh=kh=0,_a=t),kh)},movementY:function(t){return"movementY"in t?t.movementY:Oh}}),Ev=on(wd),fA=Le({},wd,{dataTransfer:0}),pA=on(fA),mA=Le({},Ol,{relatedTarget:0}),Dh=on(mA),gA=Le({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),yA=on(gA),vA=Le({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wA=on(vA),_A=Le({},Uo,{data:0}),Tv=on(_A),xA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TA[t])?!!e[t]:!1}function Em(){return IA}var SA=Le({},Ol,{key:function(t){if(t.key){var e=xA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Em,charCode:function(t){return t.type==="keypress"?Yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bA=on(SA),CA=Le({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iv=on(CA),AA=Le({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Em}),RA=on(AA),PA=Le({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),NA=on(PA),kA=Le({},wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OA=on(kA),DA=[9,13,27,32],Tm=wr&&"CompositionEvent"in window,ja=null;wr&&"documentMode"in document&&(ja=document.documentMode);var MA=wr&&"TextEvent"in window&&!ja,R1=wr&&(!Tm||ja&&8<ja&&11>=ja),Sv=" ",bv=!1;function P1(t,e){switch(t){case"keyup":return DA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function jA(t,e){switch(t){case"compositionend":return N1(e);case"keypress":return e.which!==32?null:(bv=!0,Sv);case"textInput":return t=e.data,t===Sv&&bv?null:t;default:return null}}function VA(t,e){if(Ui)return t==="compositionend"||!Tm&&P1(t,e)?(t=A1(),Qc=_m=ss=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return R1&&e.locale!=="ko"?null:e.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LA[t.type]:e==="textarea"}function k1(t,e,n,r){c1(r),e=bu(e,"onChange"),0<e.length&&(n=new xm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Va=null,nl=null;function FA(t){B1(t,0)}function _d(t){var e=Bi(t);if(n1(e))return t}function UA(t,e){if(t==="change")return e}var O1=!1;if(wr){var Mh;if(wr){var jh="oninput"in document;if(!jh){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),jh=typeof Av.oninput=="function"}Mh=jh}else Mh=!1;O1=Mh&&(!document.documentMode||9<document.documentMode)}function Rv(){Va&&(Va.detachEvent("onpropertychange",D1),nl=Va=null)}function D1(t){if(t.propertyName==="value"&&_d(nl)){var e=[];k1(e,nl,t,mm(t)),f1(FA,e)}}function $A(t,e,n){t==="focusin"?(Rv(),Va=e,nl=n,Va.attachEvent("onpropertychange",D1)):t==="focusout"&&Rv()}function zA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _d(nl)}function BA(t,e){if(t==="click")return _d(e)}function HA(t,e){if(t==="input"||t==="change")return _d(e)}function WA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:WA;function rl(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_f.call(e,s)||!Rn(t[s],e[s]))return!1}return!0}function Pv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nv(t,e){var n=Pv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pv(n)}}function M1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?M1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function j1(){for(var t=window,e=wu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wu(t.document)}return e}function Im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qA(t){var e=j1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&M1(n.ownerDocument.documentElement,n)){if(r!==null&&Im(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Nv(n,i);var o=Nv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GA=wr&&"documentMode"in document&&11>=document.documentMode,$i=null,Ff=null,La=null,Uf=!1;function kv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uf||$i==null||$i!==wu(r)||(r=$i,"selectionStart"in r&&Im(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&rl(La,r)||(La=r,r=bu(Ff,"onSelect"),0<r.length&&(e=new xm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function Sc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:Sc("Animation","AnimationEnd"),animationiteration:Sc("Animation","AnimationIteration"),animationstart:Sc("Animation","AnimationStart"),transitionend:Sc("Transition","TransitionEnd")},Vh={},V1={};wr&&(V1=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function xd(t){if(Vh[t])return Vh[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in V1)return Vh[t]=e[n];return t}var L1=xd("animationend"),F1=xd("animationiteration"),U1=xd("animationstart"),$1=xd("transitionend"),z1=new Map,Ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(t,e){z1.set(t,e),wi(e,[t])}for(var Lh=0;Lh<Ov.length;Lh++){var Fh=Ov[Lh],KA=Fh.toLowerCase(),QA=Fh[0].toUpperCase()+Fh.slice(1);Ls(KA,"on"+QA)}Ls(L1,"onAnimationEnd");Ls(F1,"onAnimationIteration");Ls(U1,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls($1,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Dv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,KC(r,e,void 0,t),t.currentTarget=null}function B1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Dv(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Dv(s,a,u),i=c}}}if(xu)throw t=Mf,xu=!1,Mf=null,t}function Pe(t,e){var n=e[Wf];n===void 0&&(n=e[Wf]=new Set);var r=t+"__bubble";n.has(r)||(H1(e,t,2,!1),n.add(r))}function Uh(t,e,n){var r=0;e&&(r|=4),H1(n,t,r,e)}var bc="_reactListening"+Math.random().toString(36).slice(2);function sl(t){if(!t[bc]){t[bc]=!0,X_.forEach(function(n){n!=="selectionchange"&&(YA.has(n)||Uh(n,!1,t),Uh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bc]||(e[bc]=!0,Uh("selectionchange",!1,e))}}function H1(t,e,n,r){switch(C1(e)){case 1:var s=uA;break;case 4:s=dA;break;default:s=wm}n=s.bind(null,e,n,t),s=void 0,!Df||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $h(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Qs(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}f1(function(){var u=i,d=mm(n),m=[];e:{var h=z1.get(t);if(h!==void 0){var y=xm,w=t;switch(t){case"keypress":if(Yc(n)===0)break e;case"keydown":case"keyup":y=bA;break;case"focusin":w="focus",y=Dh;break;case"focusout":w="blur",y=Dh;break;case"beforeblur":case"afterblur":y=Dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=pA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=RA;break;case L1:case F1:case U1:y=yA;break;case $1:y=NA;break;case"scroll":y=hA;break;case"wheel":y=OA;break;case"copy":case"cut":case"paste":y=wA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Iv}var x=(e&4)!==0,S=!x&&t==="scroll",_=x?h!==null?h+"Capture":null:h;x=[];for(var v=u,I;v!==null;){I=v;var k=I.stateNode;if(I.tag===5&&k!==null&&(I=k,_!==null&&(k=Ja(v,_),k!=null&&x.push(il(v,k,I)))),S)break;v=v.return}0<x.length&&(h=new y(h,w,null,n,d),m.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==kf&&(w=n.relatedTarget||n.fromElement)&&(Qs(w)||w[_r]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?Qs(w):null,w!==null&&(S=_i(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=Ev,k="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=Iv,k="onPointerLeave",_="onPointerEnter",v="pointer"),S=y==null?h:Bi(y),I=w==null?h:Bi(w),h=new x(k,v+"leave",y,n,d),h.target=S,h.relatedTarget=I,k=null,Qs(d)===u&&(x=new x(_,v+"enter",w,n,d),x.target=I,x.relatedTarget=S,k=x),S=k,y&&w)t:{for(x=y,_=w,v=0,I=x;I;I=ki(I))v++;for(I=0,k=_;k;k=ki(k))I++;for(;0<v-I;)x=ki(x),v--;for(;0<I-v;)_=ki(_),I--;for(;v--;){if(x===_||_!==null&&x===_.alternate)break t;x=ki(x),_=ki(_)}x=null}else x=null;y!==null&&Mv(m,h,y,x,!1),w!==null&&S!==null&&Mv(m,S,w,x,!0)}}e:{if(h=u?Bi(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var D=UA;else if(Cv(h))if(O1)D=HA;else{D=zA;var j=$A}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=BA);if(D&&(D=D(t,u))){k1(m,D,n,d);break e}j&&j(t,h,u),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Cf(h,"number",h.value)}switch(j=u?Bi(u):window,t){case"focusin":(Cv(j)||j.contentEditable==="true")&&($i=j,Ff=u,La=null);break;case"focusout":La=Ff=$i=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,kv(m,n,d);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":kv(m,n,d)}var b;if(Tm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ui?P1(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(R1&&n.locale!=="ko"&&(Ui||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ui&&(b=A1()):(ss=d,_m="value"in ss?ss.value:ss.textContent,Ui=!0)),j=bu(u,E),0<j.length&&(E=new Tv(E,t,null,n,d),m.push({event:E,listeners:j}),b?E.data=b:(b=N1(n),b!==null&&(E.data=b)))),(b=MA?jA(t,n):VA(t,n))&&(u=bu(u,"onBeforeInput"),0<u.length&&(d=new Tv("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=b))}B1(m,e)})}function il(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ja(t,n),i!=null&&r.unshift(il(t,i,s)),i=Ja(t,e),i!=null&&r.push(il(t,i,s))),t=t.return}return r}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ja(n,i),c!=null&&o.unshift(il(n,c,a))):s||(c=Ja(n,i),c!=null&&o.push(il(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XA=/\r\n?/g,JA=/\u0000|\uFFFD/g;function jv(t){return(typeof t=="string"?t:""+t).replace(XA,`
`).replace(JA,"")}function Cc(t,e,n){if(e=jv(e),jv(t)!==e&&n)throw Error(z(425))}function Cu(){}var $f=null,zf=null;function Bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(t){return Vv.resolve(null).then(t).catch(tR)}:Hf;function tR(t){setTimeout(function(){throw t})}function zh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),tl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);tl(e)}function ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Wn="__reactFiber$"+$o,ol="__reactProps$"+$o,_r="__reactContainer$"+$o,Wf="__reactEvents$"+$o,nR="__reactListeners$"+$o,rR="__reactHandles$"+$o;function Qs(t){var e=t[Wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lv(t);t!==null;){if(n=t[Wn])return n;t=Lv(t)}return e}t=n,n=t.parentNode}return null}function Dl(t){return t=t[Wn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Ed(t){return t[ol]||null}var qf=[],Hi=-1;function Fs(t){return{current:t}}function ke(t){0>Hi||(t.current=qf[Hi],qf[Hi]=null,Hi--)}function be(t,e){Hi++,qf[Hi]=t.current,t.current=e}var Is={},At=Fs(Is),zt=Fs(!1),oi=Is;function _o(t,e){var n=t.type.contextTypes;if(!n)return Is;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(t){return t=t.childContextTypes,t!=null}function Au(){ke(zt),ke(At)}function Fv(t,e,n){if(At.current!==Is)throw Error(z(168));be(At,e),be(zt,n)}function W1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,$C(t)||"Unknown",s));return Le({},n,r)}function Ru(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Is,oi=At.current,be(At,t),be(zt,zt.current),!0}function Uv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=W1(t,e,oi),r.__reactInternalMemoizedMergedChildContext=t,ke(zt),ke(At),be(At,t)):ke(zt),be(zt,n)}var hr=null,Td=!1,Bh=!1;function q1(t){hr===null?hr=[t]:hr.push(t)}function sR(t){Td=!0,q1(t)}function Us(){if(!Bh&&hr!==null){Bh=!0;var t=0,e=Te;try{var n=hr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,Td=!1}catch(s){throw hr!==null&&(hr=hr.slice(t+1)),y1(gm,Us),s}finally{Te=e,Bh=!1}}return null}var Wi=[],qi=0,Pu=null,Nu=0,ln=[],cn=0,ai=null,fr=1,pr="";function qs(t,e){Wi[qi++]=Nu,Wi[qi++]=Pu,Pu=t,Nu=e}function G1(t,e,n){ln[cn++]=fr,ln[cn++]=pr,ln[cn++]=ai,ai=t;var r=fr;t=pr;var s=32-Cn(r)-1;r&=~(1<<s),n+=1;var i=32-Cn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fr=1<<32-Cn(e)+s|n<<s|r,pr=i+t}else fr=1<<i|n<<s|r,pr=t}function Sm(t){t.return!==null&&(qs(t,1),G1(t,1,0))}function bm(t){for(;t===Pu;)Pu=Wi[--qi],Wi[qi]=null,Nu=Wi[--qi],Wi[qi]=null;for(;t===ai;)ai=ln[--cn],ln[cn]=null,pr=ln[--cn],ln[cn]=null,fr=ln[--cn],ln[cn]=null}var en=null,Zt=null,De=!1,In=null;function K1(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $v(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Zt=ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ai!==null?{id:fr,overflow:pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Zt=null,!0):!1;default:return!1}}function Gf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kf(t){if(De){var e=Zt;if(e){var n=e;if(!$v(t,e)){if(Gf(t))throw Error(z(418));e=ds(n.nextSibling);var r=en;e&&$v(t,e)?K1(r,n):(t.flags=t.flags&-4097|2,De=!1,en=t)}}else{if(Gf(t))throw Error(z(418));t.flags=t.flags&-4097|2,De=!1,en=t}}}function zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Ac(t){if(t!==en)return!1;if(!De)return zv(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bf(t.type,t.memoizedProps)),e&&(e=Zt)){if(Gf(t))throw Q1(),Error(z(418));for(;e;)K1(t,e),e=ds(e.nextSibling)}if(zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=ds(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=en?ds(t.stateNode.nextSibling):null;return!0}function Q1(){for(var t=Zt;t;)t=ds(t.nextSibling)}function xo(){Zt=en=null,De=!1}function Cm(t){In===null?In=[t]:In.push(t)}var iR=Pr.ReactCurrentBatchConfig;function xa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Rc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bv(t){var e=t._init;return e(t._payload)}function Y1(t){function e(_,v){if(t){var I=_.deletions;I===null?(_.deletions=[v],_.flags|=16):I.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=ms(_,v),_.index=0,_.sibling=null,_}function i(_,v,I){return _.index=I,t?(I=_.alternate,I!==null?(I=I.index,I<v?(_.flags|=2,v):I):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,I,k){return v===null||v.tag!==6?(v=Yh(I,_.mode,k),v.return=_,v):(v=s(v,I),v.return=_,v)}function c(_,v,I,k){var D=I.type;return D===Fi?d(_,v,I.props.children,k,I.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Wr&&Bv(D)===v.type)?(k=s(v,I.props),k.ref=xa(_,v,I),k.return=_,k):(k=ru(I.type,I.key,I.props,null,_.mode,k),k.ref=xa(_,v,I),k.return=_,k)}function u(_,v,I,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==I.containerInfo||v.stateNode.implementation!==I.implementation?(v=Xh(I,_.mode,k),v.return=_,v):(v=s(v,I.children||[]),v.return=_,v)}function d(_,v,I,k,D){return v===null||v.tag!==7?(v=si(I,_.mode,k,D),v.return=_,v):(v=s(v,I),v.return=_,v)}function m(_,v,I){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yh(""+v,_.mode,I),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vc:return I=ru(v.type,v.key,v.props,null,_.mode,I),I.ref=xa(_,null,v),I.return=_,I;case Li:return v=Xh(v,_.mode,I),v.return=_,v;case Wr:var k=v._init;return m(_,k(v._payload),I)}if(Ca(v)||ga(v))return v=si(v,_.mode,I,null),v.return=_,v;Rc(_,v)}return null}function h(_,v,I,k){var D=v!==null?v.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:a(_,v,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case vc:return I.key===D?c(_,v,I,k):null;case Li:return I.key===D?u(_,v,I,k):null;case Wr:return D=I._init,h(_,v,D(I._payload),k)}if(Ca(I)||ga(I))return D!==null?null:d(_,v,I,k,null);Rc(_,I)}return null}function y(_,v,I,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(I)||null,a(v,_,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case vc:return _=_.get(k.key===null?I:k.key)||null,c(v,_,k,D);case Li:return _=_.get(k.key===null?I:k.key)||null,u(v,_,k,D);case Wr:var j=k._init;return y(_,v,I,j(k._payload),D)}if(Ca(k)||ga(k))return _=_.get(I)||null,d(v,_,k,D,null);Rc(v,k)}return null}function w(_,v,I,k){for(var D=null,j=null,b=v,E=v=0,A=null;b!==null&&E<I.length;E++){b.index>E?(A=b,b=null):A=b.sibling;var R=h(_,b,I[E],k);if(R===null){b===null&&(b=A);break}t&&b&&R.alternate===null&&e(_,b),v=i(R,v,E),j===null?D=R:j.sibling=R,j=R,b=A}if(E===I.length)return n(_,b),De&&qs(_,E),D;if(b===null){for(;E<I.length;E++)b=m(_,I[E],k),b!==null&&(v=i(b,v,E),j===null?D=b:j.sibling=b,j=b);return De&&qs(_,E),D}for(b=r(_,b);E<I.length;E++)A=y(b,_,E,I[E],k),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?E:A.key),v=i(A,v,E),j===null?D=A:j.sibling=A,j=A);return t&&b.forEach(function(N){return e(_,N)}),De&&qs(_,E),D}function x(_,v,I,k){var D=ga(I);if(typeof D!="function")throw Error(z(150));if(I=D.call(I),I==null)throw Error(z(151));for(var j=D=null,b=v,E=v=0,A=null,R=I.next();b!==null&&!R.done;E++,R=I.next()){b.index>E?(A=b,b=null):A=b.sibling;var N=h(_,b,R.value,k);if(N===null){b===null&&(b=A);break}t&&b&&N.alternate===null&&e(_,b),v=i(N,v,E),j===null?D=N:j.sibling=N,j=N,b=A}if(R.done)return n(_,b),De&&qs(_,E),D;if(b===null){for(;!R.done;E++,R=I.next())R=m(_,R.value,k),R!==null&&(v=i(R,v,E),j===null?D=R:j.sibling=R,j=R);return De&&qs(_,E),D}for(b=r(_,b);!R.done;E++,R=I.next())R=y(b,_,E,R.value,k),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?E:R.key),v=i(R,v,E),j===null?D=R:j.sibling=R,j=R);return t&&b.forEach(function(O){return e(_,O)}),De&&qs(_,E),D}function S(_,v,I,k){if(typeof I=="object"&&I!==null&&I.type===Fi&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case vc:e:{for(var D=I.key,j=v;j!==null;){if(j.key===D){if(D=I.type,D===Fi){if(j.tag===7){n(_,j.sibling),v=s(j,I.props.children),v.return=_,_=v;break e}}else if(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Wr&&Bv(D)===j.type){n(_,j.sibling),v=s(j,I.props),v.ref=xa(_,j,I),v.return=_,_=v;break e}n(_,j);break}else e(_,j);j=j.sibling}I.type===Fi?(v=si(I.props.children,_.mode,k,I.key),v.return=_,_=v):(k=ru(I.type,I.key,I.props,null,_.mode,k),k.ref=xa(_,v,I),k.return=_,_=k)}return o(_);case Li:e:{for(j=I.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===I.containerInfo&&v.stateNode.implementation===I.implementation){n(_,v.sibling),v=s(v,I.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Xh(I,_.mode,k),v.return=_,_=v}return o(_);case Wr:return j=I._init,S(_,v,j(I._payload),k)}if(Ca(I))return w(_,v,I,k);if(ga(I))return x(_,v,I,k);Rc(_,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,I),v.return=_,_=v):(n(_,v),v=Yh(I,_.mode,k),v.return=_,_=v),o(_)):n(_,v)}return S}var Eo=Y1(!0),X1=Y1(!1),ku=Fs(null),Ou=null,Gi=null,Am=null;function Rm(){Am=Gi=Ou=null}function Pm(t){var e=ku.current;ke(ku),t._currentValue=e}function Qf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){Ou=t,Am=Gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(Am!==t)if(t={context:t,memoizedValue:e,next:null},Gi===null){if(Ou===null)throw Error(z(308));Gi=t,Ou.dependencies={lanes:0,firstContext:t}}else Gi=Gi.next=t;return e}var Ys=null;function Nm(t){Ys===null?Ys=[t]:Ys.push(t)}function J1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Nm(e)):(n.next=s.next,s.next=n),e.interleaved=n,xr(t,r)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qr=!1;function km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,xr(t,n)}return s=r.interleaved,s===null?(e.next=e,Nm(r)):(e.next=s.next,s.next=e),r.interleaved=e,xr(t,n)}function Xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ym(t,n)}}function Hv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Du(t,e,n,r){var s=t.updateQueue;qr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,d=u=c=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,x=a;switch(h=e,y=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){m=w.call(y,m,h);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,h=typeof w=="function"?w.call(y,m,h):w,h==null)break e;m=Le({},m,h);break e;case 2:qr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,c=m):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ci|=o,t.lanes=o,t.memoizedState=m}}function Wv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Ml={},Kn=Fs(Ml),al=Fs(Ml),ll=Fs(Ml);function Xs(t){if(t===Ml)throw Error(z(174));return t}function Om(t,e){switch(be(ll,e),be(al,t),be(Kn,Ml),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rf(e,t)}ke(Kn),be(Kn,e)}function To(){ke(Kn),ke(al),ke(ll)}function ex(t){Xs(ll.current);var e=Xs(Kn.current),n=Rf(e,t.type);e!==n&&(be(al,t),be(Kn,n))}function Dm(t){al.current===t&&(ke(Kn),ke(al))}var je=Fs(0);function Mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hh=[];function Mm(){for(var t=0;t<Hh.length;t++)Hh[t]._workInProgressVersionPrimary=null;Hh.length=0}var Jc=Pr.ReactCurrentDispatcher,Wh=Pr.ReactCurrentBatchConfig,li=0,Ve=null,nt=null,at=null,ju=!1,Fa=!1,cl=0,oR=0;function xt(){throw Error(z(321))}function jm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function Vm(t,e,n,r,s,i){if(li=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jc.current=t===null||t.memoizedState===null?uR:dR,t=n(r,s),Fa){i=0;do{if(Fa=!1,cl=0,25<=i)throw Error(z(301));i+=1,at=nt=null,e.updateQueue=null,Jc.current=hR,t=n(r,s)}while(Fa)}if(Jc.current=Vu,e=nt!==null&&nt.next!==null,li=0,at=nt=Ve=null,ju=!1,e)throw Error(z(300));return t}function Lm(){var t=cl!==0;return cl=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ve.memoizedState=at=t:at=at.next=t,at}function pn(){if(nt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=at===null?Ve.memoizedState:at.next;if(e!==null)at=e,nt=t;else{if(t===null)throw Error(z(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},at===null?Ve.memoizedState=at=t:at=at.next=t}return at}function ul(t,e){return typeof e=="function"?e(t):e}function qh(t){var e=pn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=nt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((li&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=m,o=r):c=c.next=m,Ve.lanes|=d,ci|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Rn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,ci|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gh(t){var e=pn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Rn(i,e.memoizedState)||($t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function tx(){}function nx(t,e){var n=Ve,r=pn(),s=e(),i=!Rn(r.memoizedState,s);if(i&&(r.memoizedState=s,$t=!0),r=r.queue,Fm(ix.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,dl(9,sx.bind(null,n,r,s,e),void 0,null),lt===null)throw Error(z(349));li&30||rx(n,e,s)}return s}function rx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sx(t,e,n,r){e.value=n,e.getSnapshot=r,ox(e)&&ax(t)}function ix(t,e,n){return n(function(){ox(e)&&ax(t)})}function ox(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function ax(t){var e=xr(t,1);e!==null&&An(e,t,1,-1)}function qv(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:t},e.queue=t,t=t.dispatch=cR.bind(null,Ve,t),[e.memoizedState,t]}function dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lx(){return pn().memoizedState}function Zc(t,e,n,r){var s=Un();Ve.flags|=t,s.memoizedState=dl(1|e,n,void 0,r===void 0?null:r)}function Id(t,e,n,r){var s=pn();r=r===void 0?null:r;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,r!==null&&jm(r,o.deps)){s.memoizedState=dl(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=dl(1|e,n,i,r)}function Gv(t,e){return Zc(8390656,8,t,e)}function Fm(t,e){return Id(2048,8,t,e)}function cx(t,e){return Id(4,2,t,e)}function ux(t,e){return Id(4,4,t,e)}function dx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hx(t,e,n){return n=n!=null?n.concat([t]):null,Id(4,4,dx.bind(null,e,t),n)}function Um(){}function fx(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function px(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mx(t,e,n){return li&21?(Rn(n,e)||(n=_1(),Ve.lanes|=n,ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function aR(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Wh.transition;Wh.transition={};try{t(!1),e()}finally{Te=n,Wh.transition=r}}function gx(){return pn().memoizedState}function lR(t,e,n){var r=ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yx(t))vx(e,n);else if(n=J1(t,e,n,r),n!==null){var s=Dt();An(n,t,r,s),wx(n,e,r)}}function cR(t,e,n){var r=ps(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yx(t))vx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Rn(a,o)){var c=e.interleaved;c===null?(s.next=s,Nm(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=J1(t,e,s,r),n!==null&&(s=Dt(),An(n,t,r,s),wx(n,e,r))}}function yx(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function vx(t,e){Fa=ju=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ym(t,n)}}var Vu={readContext:fn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},uR={readContext:fn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:Gv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zc(4194308,4,dx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zc(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lR.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:qv,useDebugValue:Um,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=qv(!1),e=t[0];return t=aR.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=Un();if(De){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),lt===null)throw Error(z(349));li&30||rx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Gv(ix.bind(null,r,i,t),[t]),r.flags|=2048,dl(9,sx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Un(),e=lt.identifierPrefix;if(De){var n=pr,r=fr;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dR={readContext:fn,useCallback:fx,useContext:fn,useEffect:Fm,useImperativeHandle:hx,useInsertionEffect:cx,useLayoutEffect:ux,useMemo:px,useReducer:qh,useRef:lx,useState:function(){return qh(ul)},useDebugValue:Um,useDeferredValue:function(t){var e=pn();return mx(e,nt.memoizedState,t)},useTransition:function(){var t=qh(ul)[0],e=pn().memoizedState;return[t,e]},useMutableSource:tx,useSyncExternalStore:nx,useId:gx,unstable_isNewReconciler:!1},hR={readContext:fn,useCallback:fx,useContext:fn,useEffect:Fm,useImperativeHandle:hx,useInsertionEffect:cx,useLayoutEffect:ux,useMemo:px,useReducer:Gh,useRef:lx,useState:function(){return Gh(ul)},useDebugValue:Um,useDeferredValue:function(t){var e=pn();return nt===null?e.memoizedState=t:mx(e,nt.memoizedState,t)},useTransition:function(){var t=Gh(ul)[0],e=pn().memoizedState;return[t,e]},useMutableSource:tx,useSyncExternalStore:nx,useId:gx,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sd={isMounted:function(t){return(t=t._reactInternals)?_i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),s=ps(t),i=yr(r,s);i.payload=e,n!=null&&(i.callback=n),e=hs(t,i,s),e!==null&&(An(e,t,s,r),Xc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),s=ps(t),i=yr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hs(t,i,s),e!==null&&(An(e,t,s,r),Xc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=ps(t),s=yr(n,r);s.tag=2,e!=null&&(s.callback=e),e=hs(t,s,r),e!==null&&(An(e,t,r,n),Xc(e,t,r))}};function Kv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!rl(n,r)||!rl(s,i):!0}function _x(t,e,n){var r=!1,s=Is,i=e.contextType;return typeof i=="object"&&i!==null?i=fn(i):(s=Bt(e)?oi:At.current,r=e.contextTypes,i=(r=r!=null)?_o(t,s):Is),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Qv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function Xf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},km(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=fn(i):(i=Bt(e)?oi:At.current,s.context=_o(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sd.enqueueReplaceState(s,s.state,null),Du(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=UC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fR=typeof WeakMap=="function"?WeakMap:Map;function xx(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fu||(Fu=!0,lp=r),Jf(t,e)},n}function Ex(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Jf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Jf(t,e),typeof r!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=CR.bind(null,t,e,n),e.then(t,t))}function Xv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,hs(n,e,1))),n.lanes|=1),t)}var pR=Pr.ReactCurrentOwner,$t=!1;function kt(t,e,n,r){e.child=t===null?X1(e,null,n,r):Eo(e,t.child,n,r)}function Zv(t,e,n,r,s){n=n.render;var i=e.ref;return to(e,s),r=Vm(t,e,n,r,i,s),n=Lm(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Er(t,e,s)):(De&&n&&Sm(e),e.flags|=1,kt(t,e,r,s),e.child)}function e0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Km(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Tx(t,e,i,r,s)):(t=ru(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(o,r)&&t.ref===e.ref)return Er(t,e,s)}return e.flags|=1,t=ms(i,r),t.ref=e.ref,t.return=e,e.child=t}function Tx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(rl(i,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,Er(t,e,s)}return Zf(t,e,n,r,s)}function Ix(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Qi,Yt),Yt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(Qi,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,be(Qi,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,be(Qi,Yt),Yt|=r;return kt(t,e,s,n),e.child}function Sx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zf(t,e,n,r,s){var i=Bt(n)?oi:At.current;return i=_o(e,i),to(e,s),n=Vm(t,e,n,r,i,s),r=Lm(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Er(t,e,s)):(De&&r&&Sm(e),e.flags|=1,kt(t,e,n,s),e.child)}function t0(t,e,n,r,s){if(Bt(n)){var i=!0;Ru(e)}else i=!1;if(to(e,s),e.stateNode===null)eu(t,e),_x(e,n,r),Xf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Bt(n)?oi:At.current,u=_o(e,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Qv(e,o,r,u),qr=!1;var h=e.memoizedState;o.state=h,Du(e,r,o,s),c=e.memoizedState,a!==r||h!==c||zt.current||qr?(typeof d=="function"&&(Yf(e,n,d,r),c=e.memoizedState),(a=qr||Kv(e,n,a,r,h,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Z1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_n(e.type,a),o.props=u,m=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=fn(c):(c=Bt(n)?oi:At.current,c=_o(e,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||h!==c)&&Qv(e,o,r,c),qr=!1,h=e.memoizedState,o.state=h,Du(e,r,o,s);var w=e.memoizedState;a!==m||h!==w||zt.current||qr?(typeof y=="function"&&(Yf(e,n,y,r),w=e.memoizedState),(u=qr||Kv(e,n,u,r,h,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ep(t,e,n,r,i,s)}function ep(t,e,n,r,s,i){Sx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Uv(e,n,!1),Er(t,e,i);r=e.stateNode,pR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Eo(e,t.child,null,i),e.child=Eo(e,null,a,i)):kt(t,e,a,i),e.memoizedState=r.state,s&&Uv(e,n,!0),e.child}function bx(t){var e=t.stateNode;e.pendingContext?Fv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fv(t,e.context,!1),Om(t,e.containerInfo)}function n0(t,e,n,r,s){return xo(),Cm(s),e.flags|=256,kt(t,e,n,r),e.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function np(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cx(t,e,n){var r=e.pendingProps,s=je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),be(je,s&1),t===null)return Kf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ad(o,r,0,null),t=si(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=np(n),e.memoizedState=tp,t):$m(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return mR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ms(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ms(a,i):(i=si(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?np(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=tp,r}return i=t.child,t=i.sibling,r=ms(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $m(t,e){return e=Ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pc(t,e,n,r){return r!==null&&Cm(r),Eo(e,t.child,null,n),t=$m(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kh(Error(z(422))),Pc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ad({mode:"visible",children:r.children},s,0,null),i=si(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Eo(e,t.child,null,o),e.child.memoizedState=np(o),e.memoizedState=tp,i);if(!(e.mode&1))return Pc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Kh(i,r,void 0),Pc(t,e,o,r)}if(a=(o&t.childLanes)!==0,$t||a){if(r=lt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xr(t,s),An(r,t,s,-1))}return Gm(),r=Kh(Error(z(421))),Pc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=AR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Zt=ds(s.nextSibling),en=e,De=!0,In=null,t!==null&&(ln[cn++]=fr,ln[cn++]=pr,ln[cn++]=ai,fr=t.id,pr=t.overflow,ai=e),e=$m(e,r.children),e.flags|=4096,e)}function r0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qf(t.return,e,n)}function Qh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ax(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(kt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r0(t,n,e);else if(t.tag===19)r0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Mu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qh(e,!0,n,null,i);break;case"together":Qh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gR(t,e,n){switch(e.tag){case 3:bx(e),xo();break;case 5:ex(e);break;case 1:Bt(e.type)&&Ru(e);break;case 4:Om(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;be(ku,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?Cx(t,e,n):(be(je,je.current&1),t=Er(t,e,n),t!==null?t.sibling:null);be(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ax(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,Ix(t,e,n)}return Er(t,e,n)}var Rx,rp,Px,Nx;Rx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rp=function(){};Px=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Xs(Kn.current);var i=null;switch(n){case"input":s=Sf(t,s),r=Sf(t,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=Af(t,s),r=Af(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cu)}Pf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ya.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ya.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pe("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Nx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ea(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yR(t,e,n){var r=e.pendingProps;switch(bm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Bt(e.type)&&Au(),Et(e),null;case 3:return r=e.stateNode,To(),ke(zt),ke(At),Mm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ac(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(dp(In),In=null))),rp(t,e),Et(e),null;case 5:Dm(e);var s=Xs(ll.current);if(n=e.type,t!==null&&e.stateNode!=null)Px(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Et(e),null}if(t=Xs(Kn.current),Ac(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Wn]=e,r[ol]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Ra.length;s++)Pe(Ra[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":hv(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":pv(r,i),Pe("invalid",r)}Pf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Cc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Cc(r.textContent,a,t),s=["children",""+a]):Ya.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":wc(r),fv(r,i,!0);break;case"textarea":wc(r),mv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=i1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wn]=e,t[ol]=r,Rx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nf(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ra.length;s++)Pe(Ra[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":hv(t,r),s=Sf(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":pv(t,r),s=Af(t,r),Pe("invalid",t);break;default:s=r}Pf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?l1(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&o1(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xa(t,c):typeof c=="number"&&Xa(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ya.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Pe("scroll",t):c!=null&&dm(t,i,c,o))}switch(n){case"input":wc(t),fv(t,r,!1);break;case"textarea":wc(t),mv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ts(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Xi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Cu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)Nx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Xs(ll.current),Xs(Kn.current),Ac(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wn]=e,(i=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:Cc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=e,e.stateNode=r}return Et(e),null;case 13:if(ke(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Zt!==null&&e.mode&1&&!(e.flags&128))Q1(),xo(),e.flags|=98560,i=!1;else if(i=Ac(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Wn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),i=!1}else In!==null&&(dp(In),In=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?rt===0&&(rt=3):Gm())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return To(),rp(t,e),t===null&&sl(e.stateNode.containerInfo),Et(e),null;case 10:return Pm(e.type._context),Et(e),null;case 17:return Bt(e.type)&&Au(),Et(e),null;case 19:if(ke(je),i=e.memoizedState,i===null)return Et(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ea(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mu(t),o!==null){for(e.flags|=128,Ea(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(je,je.current&1|2),e.child}t=t.sibling}i.tail!==null&&qe()>So&&(e.flags|=128,r=!0,Ea(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ea(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!De)return Et(e),null}else 2*qe()-i.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,Ea(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qe(),e.sibling=null,n=je.current,be(je,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return qm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function vR(t,e){switch(bm(e),e.tag){case 1:return Bt(e.type)&&Au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return To(),ke(zt),ke(At),Mm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dm(e),null;case 13:if(ke(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(je),null;case 4:return To(),null;case 10:return Pm(e.type._context),null;case 22:case 23:return qm(),null;case 24:return null;default:return null}}var Nc=!1,bt=!1,wR=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function sp(t,e,n){try{n()}catch(r){He(t,e,r)}}var s0=!1;function _R(t,e){if($f=Iu,t=j1(),Im(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,m=t,h=null;t:for(;;){for(var y;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)h=m,m=y;for(;;){if(m===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(c=o),(y=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},Iu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,S=w.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:_n(e.type,x),S);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){He(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return w=s0,s0=!1,w}function Ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sp(e,n,i)}s=s.next}while(s!==r)}}function bd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ip(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kx(t){var e=t.alternate;e!==null&&(t.alternate=null,kx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wn],delete e[ol],delete e[Wf],delete e[nR],delete e[rR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ox(t){return t.tag===5||t.tag===3||t.tag===4}function i0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ox(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cu));else if(r!==4&&(t=t.child,t!==null))for(op(t,e,n),t=t.sibling;t!==null;)op(t,e,n),t=t.sibling}function ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ap(t,e,n),t=t.sibling;t!==null;)ap(t,e,n),t=t.sibling}var ut=null,Tn=!1;function Ur(t,e,n){for(n=n.child;n!==null;)Dx(t,e,n),n=n.sibling}function Dx(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(vd,n)}catch{}switch(n.tag){case 5:bt||Ki(n,e);case 6:var r=ut,s=Tn;ut=null,Ur(t,e,n),ut=r,Tn=s,ut!==null&&(Tn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Tn?(t=ut,n=n.stateNode,t.nodeType===8?zh(t.parentNode,n):t.nodeType===1&&zh(t,n),tl(t)):zh(ut,n.stateNode));break;case 4:r=ut,s=Tn,ut=n.stateNode.containerInfo,Tn=!0,Ur(t,e,n),ut=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sp(n,e,o),s=s.next}while(s!==r)}Ur(t,e,n);break;case 1:if(!bt&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}Ur(t,e,n);break;case 21:Ur(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Ur(t,e,n),bt=r):Ur(t,e,n);break;default:Ur(t,e,n)}}function o0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wR),e.forEach(function(r){var s=RR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,Tn=!1;break e;case 3:ut=a.stateNode.containerInfo,Tn=!0;break e;case 4:ut=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(ut===null)throw Error(z(160));Dx(i,o,s),ut=null,Tn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){He(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mx(e,t),e=e.sibling}function Mx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Fn(t),r&4){try{Ua(3,t,t.return),bd(3,t)}catch(x){He(t,t.return,x)}try{Ua(5,t,t.return)}catch(x){He(t,t.return,x)}}break;case 1:wn(e,t),Fn(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(wn(e,t),Fn(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var s=t.stateNode;try{Xa(s,"")}catch(x){He(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&r1(s,i),Nf(a,o);var u=Nf(a,i);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?l1(s,m):d==="dangerouslySetInnerHTML"?o1(s,m):d==="children"?Xa(s,m):dm(s,d,m,u)}switch(a){case"input":bf(s,i);break;case"textarea":s1(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Xi(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Xi(s,!!i.multiple,i.defaultValue,!0):Xi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ol]=i}catch(x){He(t,t.return,x)}}break;case 6:if(wn(e,t),Fn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){He(t,t.return,x)}}break;case 3:if(wn(e,t),Fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(e.containerInfo)}catch(x){He(t,t.return,x)}break;case 4:wn(e,t),Fn(t);break;case 13:wn(e,t),Fn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hm=qe())),r&4&&o0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||d,wn(e,t),bt=u):wn(e,t),Fn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(m=Q=d;Q!==null;){switch(h=Q,y=h.child,h.tag){case 0:case 11:case 14:case 15:Ua(4,h,h.return);break;case 1:Ki(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){He(r,n,x)}}break;case 5:Ki(h,h.return);break;case 22:if(h.memoizedState!==null){l0(m);continue}}y!==null?(y.return=h,Q=y):l0(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=a1("display",o))}catch(x){He(t,t.return,x)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(x){He(t,t.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:wn(e,t),Fn(t),r&4&&o0(t);break;case 21:break;default:wn(e,t),Fn(t)}}function Fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ox(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xa(s,""),r.flags&=-33);var i=i0(t);ap(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=i0(t);op(t,a,o);break;default:throw Error(z(161))}}catch(c){He(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xR(t,e,n){Q=t,jx(t)}function jx(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Nc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||bt;a=Nc;var u=bt;if(Nc=o,(bt=c)&&!u)for(Q=s;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?c0(s):c!==null?(c.return=o,Q=c):c0(s);for(;i!==null;)Q=i,jx(i),i=i.sibling;Q=s,Nc=a,bt=u}a0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):a0(t)}}function a0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||bd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Wv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&tl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}bt||e.flags&512&&ip(e)}catch(h){He(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function l0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function c0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bd(4,e)}catch(c){He(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){He(e,s,c)}}var i=e.return;try{ip(e)}catch(c){He(e,i,c)}break;case 5:var o=e.return;try{ip(e)}catch(c){He(e,o,c)}}}catch(c){He(e,e.return,c)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var ER=Math.ceil,Lu=Pr.ReactCurrentDispatcher,zm=Pr.ReactCurrentOwner,hn=Pr.ReactCurrentBatchConfig,ge=0,lt=null,Ye=null,ft=0,Yt=0,Qi=Fs(0),rt=0,hl=null,ci=0,Cd=0,Bm=0,$a=null,Ut=null,Hm=0,So=1/0,dr=null,Fu=!1,lp=null,fs=null,kc=!1,is=null,Uu=0,za=0,cp=null,tu=-1,nu=0;function Dt(){return ge&6?qe():tu!==-1?tu:tu=qe()}function ps(t){return t.mode&1?ge&2&&ft!==0?ft&-ft:iR.transition!==null?(nu===0&&(nu=_1()),nu):(t=Te,t!==0||(t=window.event,t=t===void 0?16:C1(t.type)),t):1}function An(t,e,n,r){if(50<za)throw za=0,cp=null,Error(z(185));kl(t,n,r),(!(ge&2)||t!==lt)&&(t===lt&&(!(ge&2)&&(Cd|=n),rt===4&&Kr(t,ft)),Ht(t,r),n===1&&ge===0&&!(e.mode&1)&&(So=qe()+500,Td&&Us()))}function Ht(t,e){var n=t.callbackNode;iA(t,e);var r=Tu(t,t===lt?ft:0);if(r===0)n!==null&&vv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vv(n),e===1)t.tag===0?sR(u0.bind(null,t)):q1(u0.bind(null,t)),eR(function(){!(ge&6)&&Us()}),n=null;else{switch(x1(r)){case 1:n=gm;break;case 4:n=v1;break;case 16:n=Eu;break;case 536870912:n=w1;break;default:n=Eu}n=Hx(n,Vx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Vx(t,e){if(tu=-1,nu=0,ge&6)throw Error(z(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=Tu(t,t===lt?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$u(t,r);else{e=r;var s=ge;ge|=2;var i=Fx();(lt!==t||ft!==e)&&(dr=null,So=qe()+500,ri(t,e));do try{SR();break}catch(a){Lx(t,a)}while(!0);Rm(),Lu.current=i,ge=s,Ye!==null?e=0:(lt=null,ft=0,e=rt)}if(e!==0){if(e===2&&(s=jf(t),s!==0&&(r=s,e=up(t,s))),e===1)throw n=hl,ri(t,0),Kr(t,r),Ht(t,qe()),n;if(e===6)Kr(t,r);else{if(s=t.current.alternate,!(r&30)&&!TR(s)&&(e=$u(t,r),e===2&&(i=jf(t),i!==0&&(r=i,e=up(t,i))),e===1))throw n=hl,ri(t,0),Kr(t,r),Ht(t,qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Gs(t,Ut,dr);break;case 3:if(Kr(t,r),(r&130023424)===r&&(e=Hm+500-qe(),10<e)){if(Tu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hf(Gs.bind(null,t,Ut,dr),e);break}Gs(t,Ut,dr);break;case 4:if(Kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Cn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ER(r/1960))-r,10<r){t.timeoutHandle=Hf(Gs.bind(null,t,Ut,dr),r);break}Gs(t,Ut,dr);break;case 5:Gs(t,Ut,dr);break;default:throw Error(z(329))}}}return Ht(t,qe()),t.callbackNode===n?Vx.bind(null,t):null}function up(t,e){var n=$a;return t.current.memoizedState.isDehydrated&&(ri(t,e).flags|=256),t=$u(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&dp(e)),t}function dp(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function TR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Rn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kr(t,e){for(e&=~Bm,e&=~Cd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),r=1<<n;t[n]=-1,e&=~r}}function u0(t){if(ge&6)throw Error(z(327));no();var e=Tu(t,0);if(!(e&1))return Ht(t,qe()),null;var n=$u(t,e);if(t.tag!==0&&n===2){var r=jf(t);r!==0&&(e=r,n=up(t,r))}if(n===1)throw n=hl,ri(t,0),Kr(t,e),Ht(t,qe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gs(t,Ut,dr),Ht(t,qe()),null}function Wm(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(So=qe()+500,Td&&Us())}}function ui(t){is!==null&&is.tag===0&&!(ge&6)&&no();var e=ge;ge|=1;var n=hn.transition,r=Te;try{if(hn.transition=null,Te=1,t)return t()}finally{Te=r,hn.transition=n,ge=e,!(ge&6)&&Us()}}function qm(){Yt=Qi.current,ke(Qi)}function ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZA(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(bm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Au();break;case 3:To(),ke(zt),ke(At),Mm();break;case 5:Dm(r);break;case 4:To();break;case 13:ke(je);break;case 19:ke(je);break;case 10:Pm(r.type._context);break;case 22:case 23:qm()}n=n.return}if(lt=t,Ye=t=ms(t.current,null),ft=Yt=e,rt=0,hl=null,Bm=Cd=ci=0,Ut=$a=null,Ys!==null){for(e=0;e<Ys.length;e++)if(n=Ys[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ys=null}return t}function Lx(t,e){do{var n=Ye;try{if(Rm(),Jc.current=Vu,ju){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ju=!1}if(li=0,at=nt=Ve=null,Fa=!1,cl=0,zm.current=null,n===null||n.return===null){rt=1,hl=e,Ye=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=ft,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Xv(o);if(y!==null){y.flags&=-257,Jv(y,o,a,i,e),y.mode&1&&Yv(i,u,e),e=y,c=u;var w=e.updateQueue;if(w===null){var x=new Set;x.add(c),e.updateQueue=x}else w.add(c);break e}else{if(!(e&1)){Yv(i,u,e),Gm();break e}c=Error(z(426))}}else if(De&&a.mode&1){var S=Xv(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Jv(S,o,a,i,e),Cm(Io(c,a));break e}}i=c=Io(c,a),rt!==4&&(rt=2),$a===null?$a=[i]:$a.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=xx(i,c,e);Hv(i,_);break e;case 1:a=c;var v=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(fs===null||!fs.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=Ex(i,a,e);Hv(i,k);break e}}i=i.return}while(i!==null)}$x(n)}catch(D){e=D,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function Fx(){var t=Lu.current;return Lu.current=Vu,t===null?Vu:t}function Gm(){(rt===0||rt===3||rt===2)&&(rt=4),lt===null||!(ci&268435455)&&!(Cd&268435455)||Kr(lt,ft)}function $u(t,e){var n=ge;ge|=2;var r=Fx();(lt!==t||ft!==e)&&(dr=null,ri(t,e));do try{IR();break}catch(s){Lx(t,s)}while(!0);if(Rm(),ge=n,Lu.current=r,Ye!==null)throw Error(z(261));return lt=null,ft=0,rt}function IR(){for(;Ye!==null;)Ux(Ye)}function SR(){for(;Ye!==null&&!YC();)Ux(Ye)}function Ux(t){var e=Bx(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?$x(t):Ye=e,zm.current=null}function $x(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vR(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ye=null;return}}else if(n=yR(n,e,Yt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);rt===0&&(rt=5)}function Gs(t,e,n){var r=Te,s=hn.transition;try{hn.transition=null,Te=1,bR(t,e,n,r)}finally{hn.transition=s,Te=r}return null}function bR(t,e,n,r){do no();while(is!==null);if(ge&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(oA(t,i),t===lt&&(Ye=lt=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kc||(kc=!0,Hx(Eu,function(){return no(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=hn.transition,hn.transition=null;var o=Te;Te=1;var a=ge;ge|=4,zm.current=null,_R(t,n),Mx(n,t),qA(zf),Iu=!!$f,zf=$f=null,t.current=n,xR(n),XC(),ge=a,Te=o,hn.transition=i}else t.current=n;if(kc&&(kc=!1,is=t,Uu=s),i=t.pendingLanes,i===0&&(fs=null),eA(n.stateNode),Ht(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fu)throw Fu=!1,t=lp,lp=null,t;return Uu&1&&t.tag!==0&&no(),i=t.pendingLanes,i&1?t===cp?za++:(za=0,cp=t):za=0,Us(),null}function no(){if(is!==null){var t=x1(Uu),e=hn.transition,n=Te;try{if(hn.transition=null,Te=16>t?16:t,is===null)var r=!1;else{if(t=is,is=null,Uu=0,ge&6)throw Error(z(331));var s=ge;for(ge|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Ua(8,d,i)}var m=d.child;if(m!==null)m.return=d,Q=m;else for(;Q!==null;){d=Q;var h=d.sibling,y=d.return;if(kx(d),d===u){Q=null;break}if(h!==null){h.return=y,Q=h;break}Q=y}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ua(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Q=_;break e}Q=i.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Q=I;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bd(9,a)}}catch(D){He(a,a.return,D)}if(a===o){Q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Q=k;break e}Q=a.return}}if(ge=s,Us(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(vd,t)}catch{}r=!0}return r}finally{Te=n,hn.transition=e}}return!1}function d0(t,e,n){e=Io(n,e),e=xx(t,e,1),t=hs(t,e,1),e=Dt(),t!==null&&(kl(t,1,e),Ht(t,e))}function He(t,e,n){if(t.tag===3)d0(t,t,n);else for(;e!==null;){if(e.tag===3){d0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fs===null||!fs.has(r))){t=Io(n,t),t=Ex(e,t,1),e=hs(e,t,1),t=Dt(),e!==null&&(kl(e,1,t),Ht(e,t));break}}e=e.return}}function CR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(ft&n)===n&&(rt===4||rt===3&&(ft&130023424)===ft&&500>qe()-Hm?ri(t,0):Bm|=n),Ht(t,e)}function zx(t,e){e===0&&(t.mode&1?(e=Ec,Ec<<=1,!(Ec&130023424)&&(Ec=4194304)):e=1);var n=Dt();t=xr(t,e),t!==null&&(kl(t,e,n),Ht(t,n))}function AR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zx(t,n)}function RR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),zx(t,n)}var Bx;Bx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,gR(t,e,n);$t=!!(t.flags&131072)}else $t=!1,De&&e.flags&1048576&&G1(e,Nu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eu(t,e),t=e.pendingProps;var s=_o(e,At.current);to(e,n),s=Vm(null,e,r,t,s,n);var i=Lm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(i=!0,Ru(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,km(e),s.updater=Sd,e.stateNode=s,s._reactInternals=e,Xf(e,r,t,n),e=ep(null,e,r,!0,i,n)):(e.tag=0,De&&i&&Sm(e),kt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=NR(r),t=_n(r,t),s){case 0:e=Zf(null,e,r,t,n);break e;case 1:e=t0(null,e,r,t,n);break e;case 11:e=Zv(null,e,r,t,n);break e;case 14:e=e0(null,e,r,_n(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Zf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),t0(t,e,r,s,n);case 3:e:{if(bx(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Z1(t,e),Du(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Io(Error(z(423)),e),e=n0(t,e,r,n,s);break e}else if(r!==s){s=Io(Error(z(424)),e),e=n0(t,e,r,n,s);break e}else for(Zt=ds(e.stateNode.containerInfo.firstChild),en=e,De=!0,In=null,n=X1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===s){e=Er(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return ex(e),t===null&&Kf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bf(r,s)?o=null:i!==null&&Bf(r,i)&&(e.flags|=32),Sx(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&Kf(e),null;case 13:return Cx(t,e,n);case 4:return Om(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Zv(t,e,r,s,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,be(ku,r._currentValue),r._currentValue=o,i!==null)if(Rn(i.value,o)){if(i.children===s.children&&!zt.current){e=Er(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=yr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Qf(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,to(e,n),s=fn(s),r=r(s),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,s=_n(r,e.pendingProps),s=_n(r.type,s),e0(t,e,r,s,n);case 15:return Tx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),eu(t,e),e.tag=1,Bt(r)?(t=!0,Ru(e)):t=!1,to(e,n),_x(e,r,s),Xf(e,r,s,n),ep(null,e,r,!0,t,n);case 19:return Ax(t,e,n);case 22:return Ix(t,e,n)}throw Error(z(156,e.tag))};function Hx(t,e){return y1(t,e)}function PR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new PR(t,e,n,r)}function Km(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NR(t){if(typeof t=="function")return Km(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fm)return 11;if(t===pm)return 14}return 2}function ms(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ru(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Km(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fi:return si(n.children,s,i,e);case hm:o=8,s|=8;break;case xf:return t=dn(12,n,e,s|2),t.elementType=xf,t.lanes=i,t;case Ef:return t=dn(13,n,e,s),t.elementType=Ef,t.lanes=i,t;case Tf:return t=dn(19,n,e,s),t.elementType=Tf,t.lanes=i,t;case e1:return Ad(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J_:o=10;break e;case Z_:o=9;break e;case fm:o=11;break e;case pm:o=14;break e;case Wr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=dn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function si(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=dn(22,t,r,e),t.elementType=e1,t.lanes=n,t.stateNode={isHidden:!1},t}function Yh(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function Xh(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nh(0),this.expirationTimes=Nh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qm(t,e,n,r,s,i,o,a,c){return t=new kR(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=dn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},km(i),t}function OR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wx(t){if(!t)return Is;t=t._reactInternals;e:{if(_i(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Bt(n))return W1(t,n,e)}return e}function qx(t,e,n,r,s,i,o,a,c){return t=Qm(n,r,!0,t,s,i,o,a,c),t.context=Wx(null),n=t.current,r=Dt(),s=ps(n),i=yr(r,s),i.callback=e??null,hs(n,i,s),t.current.lanes=s,kl(t,s,r),Ht(t,r),t}function Rd(t,e,n,r){var s=e.current,i=Dt(),o=ps(s);return n=Wx(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hs(s,e,o),t!==null&&(An(t,s,o,i),Xc(t,s,o)),o}function zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ym(t,e){h0(t,e),(t=t.alternate)&&h0(t,e)}function DR(){return null}var Gx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xm(t){this._internalRoot=t}Pd.prototype.render=Xm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Rd(t,e,null,null)};Pd.prototype.unmount=Xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ui(function(){Rd(null,t,null,null)}),e[_r]=null}};function Pd(t){this._internalRoot=t}Pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=I1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gr.length&&e!==0&&e<Gr[n].priority;n++);Gr.splice(n,0,t),n===0&&b1(t)}};function Jm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f0(){}function MR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=zu(o);i.call(u)}}var o=qx(e,r,t,0,null,!1,!1,"",f0);return t._reactRootContainer=o,t[_r]=o.current,sl(t.nodeType===8?t.parentNode:t),ui(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=zu(c);a.call(u)}}var c=Qm(t,0,!1,null,null,!1,!1,"",f0);return t._reactRootContainer=c,t[_r]=c.current,sl(t.nodeType===8?t.parentNode:t),ui(function(){Rd(e,c,n,r)}),c}function kd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=zu(o);a.call(c)}}Rd(e,o,t,s)}else o=MR(n,e,t,s,r);return zu(o)}E1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Aa(e.pendingLanes);n!==0&&(ym(e,n|1),Ht(e,qe()),!(ge&6)&&(So=qe()+500,Us()))}break;case 13:ui(function(){var r=xr(t,1);if(r!==null){var s=Dt();An(r,t,1,s)}}),Ym(t,1)}};vm=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var n=Dt();An(e,t,134217728,n)}Ym(t,134217728)}};T1=function(t){if(t.tag===13){var e=ps(t),n=xr(t,e);if(n!==null){var r=Dt();An(n,t,e,r)}Ym(t,e)}};I1=function(){return Te};S1=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Of=function(t,e,n){switch(e){case"input":if(bf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ed(r);if(!s)throw Error(z(90));n1(r),bf(r,s)}}}break;case"textarea":s1(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};d1=Wm;h1=ui;var jR={usingClientEntryPoint:!1,Events:[Dl,Bi,Ed,c1,u1,Wm]},Ta={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VR={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||DR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{vd=Oc.inject(VR),Gn=Oc}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jR;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jm(e))throw Error(z(200));return OR(t,e,null,n)};sn.createRoot=function(t,e){if(!Jm(t))throw Error(z(299));var n=!1,r="",s=Gx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Qm(t,1,!1,null,null,n,!1,r,s),t[_r]=e.current,sl(t.nodeType===8?t.parentNode:t),new Xm(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=m1(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return ui(t)};sn.hydrate=function(t,e,n){if(!Nd(e))throw Error(z(200));return kd(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!Jm(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Gx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qx(e,null,t,1,n??null,s,!1,i,o),t[_r]=e.current,sl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pd(e)};sn.render=function(t,e,n){if(!Nd(e))throw Error(z(200));return kd(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!Nd(t))throw Error(z(40));return t._reactRootContainer?(ui(function(){kd(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};sn.unstable_batchedUpdates=Wm;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return kd(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function Kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kx)}catch(t){console.error(t)}}Kx(),K_.exports=sn;var jl=K_.exports;const Qx=M_(jl);var p0=jl;wf.createRoot=p0.createRoot,wf.hydrateRoot=p0.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}var os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(os||(os={}));const m0="popstate";function LR(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:c=""}=xi(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),hp("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof i=="string"?i:Bu(i))}function r(s,i){Zm(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return UR(e,n,r,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FR(){return Math.random().toString(36).substr(2,8)}function g0(t,e){return{usr:t.state,key:t.key,idx:e}}function hp(t,e,n,r){return n===void 0&&(n=null),fl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xi(e):e,{state:n,key:e&&e.key||r||FR()})}function Bu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function UR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=os.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(fl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function m(){a=os.Pop;let S=d(),_=S==null?null:S-u;u=S,c&&c({action:a,location:x.location,delta:_})}function h(S,_){a=os.Push;let v=hp(x.location,S,_);n&&n(v,S),u=d()+1;let I=g0(v,u),k=x.createHref(v);try{o.pushState(I,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(k)}i&&c&&c({action:a,location:x.location,delta:1})}function y(S,_){a=os.Replace;let v=hp(x.location,S,_);n&&n(v,S),u=d();let I=g0(v,u),k=x.createHref(v);o.replaceState(I,"",k),i&&c&&c({action:a,location:x.location,delta:0})}function w(S){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof S=="string"?S:Bu(S);return v=v.replace(/ $/,"%20"),Je(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let x={get action(){return a},get location(){return t(s,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(m0,m),c=S,()=>{s.removeEventListener(m0,m),c=null}},createHref(S){return e(s,S)},createURL:w,encodeLocation(S){let _=w(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:y,go(S){return o.go(S)}};return x}var y0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(y0||(y0={}));function $R(t,e,n){return n===void 0&&(n="/"),zR(t,e,n,!1)}function zR(t,e,n,r){let s=typeof e=="string"?xi(e):e,i=eg(s.pathname||"/",n);if(i==null)return null;let o=Yx(t);BR(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=eP(i);a=JR(o[c],u,r)}return a}function Yx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Je(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=gs([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Yx(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:YR(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Xx(i.path))s(i,o,c)}),e}function Xx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Xx(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function BR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HR=/^:[\w-]+$/,WR=3,qR=2,GR=1,KR=10,QR=-2,v0=t=>t==="*";function YR(t,e){let n=t.split("/"),r=n.length;return n.some(v0)&&(r+=QR),e&&(r+=qR),n.filter(s=>!v0(s)).reduce((s,i)=>s+(HR.test(i)?WR:i===""?GR:KR),r)}function XR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function JR(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",m=w0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=w0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:gs([i,m.pathname]),pathnameBase:sP(gs([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=gs([i,m.pathnameBase]))}return o}function w0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,m)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let x=a[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const w=a[m];return y&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function ZR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function eP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function tP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?xi(t):t;return{pathname:n?n.startsWith("/")?n:nP(n,e):e,search:iP(r),hash:oP(s)}}function nP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jx(t,e){let n=rP(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=xi(t):(s=fl({},t),Je(!s.pathname||!s.pathname.includes("?"),Jh("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Jh("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Jh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;s.pathname=h.join("/")}a=m>=0?e[m]:"/"}let c=tP(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const gs=t=>t.join("/").replace(/\/\/+/g,"/"),sP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eE=["post","put","patch","delete"];new Set(eE);const lP=["get",...eE];new Set(lP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(this,arguments)}const tg=T.createContext(null),cP=T.createContext(null),Ei=T.createContext(null),Od=T.createContext(null),Ti=T.createContext({outlet:null,matches:[],isDataRoute:!1}),tE=T.createContext(null);function uP(t,e){let{relative:n}=e===void 0?{}:e;Vl()||Je(!1);let{basename:r,navigator:s}=T.useContext(Ei),{hash:i,pathname:o,search:a}=rE(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:gs([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Vl(){return T.useContext(Od)!=null}function zo(){return Vl()||Je(!1),T.useContext(Od).location}function nE(t){T.useContext(Ei).static||T.useLayoutEffect(t)}function Ll(){let{isDataRoute:t}=T.useContext(Ti);return t?TP():dP()}function dP(){Vl()||Je(!1);let t=T.useContext(tg),{basename:e,future:n,navigator:r}=T.useContext(Ei),{matches:s}=T.useContext(Ti),{pathname:i}=zo(),o=JSON.stringify(Jx(s,n.v7_relativeSplatPath)),a=T.useRef(!1);return nE(()=>{a.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let m=Zx(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:gs([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,o,i,t])}function rE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(Ei),{matches:s}=T.useContext(Ti),{pathname:i}=zo(),o=JSON.stringify(Jx(s,r.v7_relativeSplatPath));return T.useMemo(()=>Zx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function hP(t,e){return fP(t,e)}function fP(t,e,n,r){Vl()||Je(!1);let{navigator:s}=T.useContext(Ei),{matches:i}=T.useContext(Ti),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=zo(),d;if(e){var m;let S=typeof e=="string"?xi(e):e;c==="/"||(m=S.pathname)!=null&&m.startsWith(c)||Je(!1),d=S}else d=u;let h=d.pathname||"/",y=h;if(c!=="/"){let S=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=$R(t,{pathname:y}),x=vP(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:gs([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:gs([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&x?T.createElement(Od.Provider,{value:{location:pl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:os.Pop}},x):x}function pP(){let t=EP(),e=aP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const mP=T.createElement(pP,null);class gP extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Ti.Provider,{value:this.props.routeContext},T.createElement(tE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yP(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(tg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Ti.Provider,{value:e},r)}function vP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);d>=0||Je(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:h,errors:y}=n,w=m.route.loader&&h[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,m,h)=>{let y,w=!1,x=null,S=null;n&&(y=a&&m.route.id?a[m.route.id]:void 0,x=m.route.errorElement||mP,c&&(u<0&&h===0?(w=!0,S=null):u===h&&(w=!0,S=m.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),v=()=>{let I;return y?I=x:w?I=S:m.route.Component?I=T.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=d,T.createElement(yP,{match:m,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?T.createElement(gP,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var sE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sE||{}),Hu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hu||{});function wP(t){let e=T.useContext(tg);return e||Je(!1),e}function _P(t){let e=T.useContext(cP);return e||Je(!1),e}function xP(t){let e=T.useContext(Ti);return e||Je(!1),e}function iE(t){let e=xP(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function EP(){var t;let e=T.useContext(tE),n=_P(Hu.UseRouteError),r=iE(Hu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function TP(){let{router:t}=wP(sE.UseNavigateStable),e=iE(Hu.UseNavigateStable),n=T.useRef(!1);return nE(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,pl({fromRouteId:e},i)))},[t,e])}function cr(t){Je(!1)}function IP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=os.Pop,navigator:i,static:o=!1,future:a}=t;Vl()&&Je(!1);let c=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:c,navigator:i,static:o,future:pl({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=xi(r));let{pathname:d="/",search:m="",hash:h="",state:y=null,key:w="default"}=r,x=T.useMemo(()=>{let S=eg(d,c);return S==null?null:{location:{pathname:S,search:m,hash:h,state:y,key:w},navigationType:s}},[c,d,m,h,y,w,s]);return x==null?null:T.createElement(Ei.Provider,{value:u},T.createElement(Od.Provider,{children:n,value:x}))}function SP(t){let{children:e,location:n}=t;return hP(fp(e),n)}new Promise(()=>{});function fp(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,fp(r.props.children,i));return}r.type!==cr&&Je(!1),!r.props.index||!r.props.children||Je(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}function bP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function CP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AP(t,e){return t.button===0&&(!e||e==="_self")&&!CP(t)}const RP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PP="6";try{window.__reactRouterVersion=PP}catch{}const NP="startTransition",_0=q_[NP];function kP(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=LR({window:s,v5Compat:!0}));let o=i.current,[a,c]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=T.useCallback(m=>{u&&_0?_0(()=>c(m)):c(m)},[c,u]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.createElement(IP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const OP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:m}=e,h=bP(e,RP),{basename:y}=T.useContext(Ei),w,x=!1;if(typeof u=="string"&&DP.test(u)&&(w=u,OP))try{let I=new URL(window.location.href),k=u.startsWith("//")?new URL(I.protocol+u):new URL(u),D=eg(k.pathname,y);k.origin===I.origin&&D!=null?u=D+k.search+k.hash:x=!0}catch{}let S=uP(u,{relative:s}),_=MP(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:m});function v(I){r&&r(I),I.defaultPrevented||_(I)}return T.createElement("a",pp({},h,{href:w||S,onClick:x||i?r:v,ref:n,target:c}))});var x0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(x0||(x0={}));var E0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(E0||(E0={}));function MP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Ll(),u=zo(),d=rE(t,{relative:o});return T.useCallback(m=>{if(AP(m,n)){m.preventDefault();let h=r!==void 0?r:Bu(u)===Bu(d);c(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,r,s,n,t,i,o,a])}const jP=1,VP=1e6;let Zh=0;function LP(){return Zh=(Zh+1)%Number.MAX_SAFE_INTEGER,Zh.toString()}const ef=new Map,T0=t=>{if(ef.has(t))return;const e=setTimeout(()=>{ef.delete(t),Ba({type:"REMOVE_TOAST",toastId:t})},VP);ef.set(t,e)},FP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,jP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?T0(n):t.toasts.forEach(r=>{T0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},su=[];let iu={toasts:[]};function Ba(t){iu=FP(iu,t),su.forEach(e=>{e(iu)})}function UP({...t}){const e=LP(),n=s=>Ba({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ba({type:"DISMISS_TOAST",toastId:e});return Ba({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function oE(){const[t,e]=T.useState(iu);return T.useEffect(()=>(su.push(e),()=>{const n=su.indexOf(e);n>-1&&su.splice(n,1)}),[t]),{...t,toast:UP,dismiss:n=>Ba({type:"DISMISS_TOAST",toastId:n})}}function we(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function $P(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function aE(...t){return e=>t.forEach(n=>$P(n,e))}function Wt(...t){return T.useCallback(aE(...t),t)}function zP(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),c=n.length;n=[...n,o];function u(m){const{scope:h,children:y,...w}=m,x=(h==null?void 0:h[t][c])||a,S=T.useMemo(()=>w,Object.values(w));return f.jsx(x.Provider,{value:S,children:y})}function d(m,h){const y=(h==null?void 0:h[t][c])||a,w=T.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,BP(s,...e)]}function BP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const m=c(i)[`__scope${u}`];return{...a,...m}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ml=T.forwardRef((t,e)=>{const{children:n,...r}=t,s=T.Children.toArray(n),i=s.find(HP);if(i){const o=i.props.children,a=s.map(c=>c===i?T.Children.count(o)>1?T.Children.only(null):T.isValidElement(o)?o.props.children:null:c);return f.jsx(mp,{...r,ref:e,children:T.isValidElement(o)?T.cloneElement(o,void 0,a):null})}return f.jsx(mp,{...r,ref:e,children:n})});ml.displayName="Slot";var mp=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const s=qP(n);return T.cloneElement(n,{...WP(r,n.props),ref:e?aE(e,s):s})}return T.Children.count(n)>1?T.Children.only(null):null});mp.displayName="SlotClone";var lE=({children:t})=>f.jsx(f.Fragment,{children:t});function HP(t){return T.isValidElement(t)&&t.type===lE}function WP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cE(t){const e=t+"CollectionProvider",[n,r]=zP(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:x}=y,S=W.useRef(null),_=W.useRef(new Map).current;return f.jsx(s,{scope:w,itemMap:_,collectionRef:S,children:x})};o.displayName=e;const a=t+"CollectionSlot",c=W.forwardRef((y,w)=>{const{scope:x,children:S}=y,_=i(a,x),v=Wt(w,_.collectionRef);return f.jsx(ml,{ref:v,children:S})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",m=W.forwardRef((y,w)=>{const{scope:x,children:S,..._}=y,v=W.useRef(null),I=Wt(w,v),k=i(u,x);return W.useEffect(()=>(k.itemMap.set(v,{ref:v,..._}),()=>void k.itemMap.delete(v))),f.jsx(ml,{[d]:"",ref:I,children:S})});m.displayName=u;function h(y){const w=i(t+"CollectionConsumer",y);return W.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((k,D)=>_.indexOf(k.ref.current)-_.indexOf(D.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},h,r]}function Fl(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),c=n.length;n=[...n,o];const u=m=>{var _;const{scope:h,children:y,...w}=m,x=((_=h==null?void 0:h[t])==null?void 0:_[c])||a,S=T.useMemo(()=>w,Object.values(w));return f.jsx(x.Provider,{value:S,children:y})};u.displayName=i+"Provider";function d(m,h){var x;const y=((x=h==null?void 0:h[t])==null?void 0:x[c])||a,w=T.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,GP(s,...e)]}function GP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const m=c(i)[`__scope${u}`];return{...a,...m}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var KP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oe=KP.reduce((t,e)=>{const n=T.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ml:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function uE(t,e){t&&jl.flushSync(()=>t.dispatchEvent(e))}function Pn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function QP(t,e=globalThis==null?void 0:globalThis.document){const n=Pn(t);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var YP="DismissableLayer",gp="dismissableLayer.update",XP="dismissableLayer.pointerDownOutside",JP="dismissableLayer.focusOutside",I0,dE=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ng=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=T.useContext(dE),[d,m]=T.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=T.useState({}),w=Wt(e,b=>m(b)),x=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(S),v=d?x.indexOf(d):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,k=v>=_,D=eN(b=>{const E=b.target,A=[...u.branches].some(R=>R.contains(E));!k||A||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},h),j=tN(b=>{const E=b.target;[...u.branches].some(R=>R.contains(E))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},h);return QP(b=>{v===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},h),T.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(I0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),S0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=I0)}},[d,h,n,u]),T.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),S0())},[d,u]),T.useEffect(()=>{const b=()=>y({});return document.addEventListener(gp,b),()=>document.removeEventListener(gp,b)},[]),f.jsx(Oe.div,{...c,ref:w,style:{pointerEvents:I?k?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,j.onFocusCapture),onBlurCapture:we(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,D.onPointerDownCapture)})});ng.displayName=YP;var ZP="DismissableLayerBranch",hE=T.forwardRef((t,e)=>{const n=T.useContext(dE),r=T.useRef(null),s=Wt(e,r);return T.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(Oe.div,{...t,ref:s})});hE.displayName=ZP;function eN(t,e=globalThis==null?void 0:globalThis.document){const n=Pn(t),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){fE(XP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function tN(t,e=globalThis==null?void 0:globalThis.document){const n=Pn(t),r=T.useRef(!1);return T.useEffect(()=>{const s=i=>{i.target&&!r.current&&fE(JP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function S0(){const t=new CustomEvent(gp);document.dispatchEvent(t)}function fE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uE(s,i):s.dispatchEvent(i)}var nN=ng,rN=hE,Ss=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},sN="Portal",pE=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=T.useState(!1);Ss(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Qx.createPortal(f.jsx(Oe.div,{...r,ref:e}),o):null});pE.displayName=sN;function iN(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Ul=t=>{const{present:e,children:n}=t,r=oN(e),s=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),i=Wt(r.ref,aN(s));return typeof n=="function"||r.isPresent?T.cloneElement(s,{ref:i}):null};Ul.displayName="Presence";function oN(t){const[e,n]=T.useState(),r=T.useRef({}),s=T.useRef(t),i=T.useRef("none"),o=t?"mounted":"unmounted",[a,c]=iN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=Dc(r.current);i.current=a==="mounted"?u:"none"},[a]),Ss(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,y=Dc(u);t?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ss(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,m=y=>{const x=Dc(r.current).includes(y.animationName);if(y.target===e&&x&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},h=y=>{y.target===e&&(i.current=Dc(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Dc(t){return(t==null?void 0:t.animationName)||"none"}function aN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Dd({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=lN({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Pn(n),c=T.useCallback(u=>{if(i){const m=typeof u=="function"?u(t):u;m!==t&&a(m)}else s(u)},[i,t,s,a]);return[o,c]}function lN({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,s=T.useRef(r),i=Pn(e);return T.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var cN="VisuallyHidden",Md=T.forwardRef((t,e)=>f.jsx(Oe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Md.displayName=cN;var uN=Md,rg="ToastProvider",[sg,dN,hN]=cE("Toast"),[mE,z6]=Fl("Toast",[hN]),[fN,jd]=mE(rg),gE=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=T.useState(null),[u,d]=T.useState(0),m=T.useRef(!1),h=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rg}\`. Expected non-empty \`string\`.`),f.jsx(sg.Provider,{scope:e,children:f.jsx(fN,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:T.useCallback(()=>d(y=>y+1),[]),onToastRemove:T.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};gE.displayName=rg;var yE="ToastViewport",pN=["F8"],yp="toast.viewportPause",vp="toast.viewportResume",vE=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=pN,label:s="Notifications ({hotkey})",...i}=t,o=jd(yE,n),a=dN(n),c=T.useRef(null),u=T.useRef(null),d=T.useRef(null),m=T.useRef(null),h=Wt(e,m,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;T.useEffect(()=>{const S=_=>{var I;r.length!==0&&r.every(k=>_[k]||_.code===k)&&((I=m.current)==null||I.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),T.useEffect(()=>{const S=c.current,_=m.current;if(w&&S&&_){const v=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(yp);_.dispatchEvent(j),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(vp);_.dispatchEvent(j),o.isClosePausedRef.current=!1}},k=j=>{!S.contains(j.relatedTarget)&&I()},D=()=>{S.contains(document.activeElement)||I()};return S.addEventListener("focusin",v),S.addEventListener("focusout",k),S.addEventListener("pointermove",v),S.addEventListener("pointerleave",D),window.addEventListener("blur",v),window.addEventListener("focus",I),()=>{S.removeEventListener("focusin",v),S.removeEventListener("focusout",k),S.removeEventListener("pointermove",v),S.removeEventListener("pointerleave",D),window.removeEventListener("blur",v),window.removeEventListener("focus",I)}}},[w,o.isClosePausedRef]);const x=T.useCallback(({tabbingDirection:S})=>{const v=a().map(I=>{const k=I.ref.current,D=[k,...CN(k)];return S==="forwards"?D:D.reverse()});return(S==="forwards"?v.reverse():v).flat()},[a]);return T.useEffect(()=>{const S=m.current;if(S){const _=v=>{var D,j,b;const I=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!I){const E=document.activeElement,A=v.shiftKey;if(v.target===S&&A){(D=u.current)==null||D.focus();return}const O=x({tabbingDirection:A?"backwards":"forwards"}),P=O.findIndex(q=>q===E);tf(O.slice(P+1))?v.preventDefault():A?(j=u.current)==null||j.focus():(b=d.current)==null||b.focus()}};return S.addEventListener("keydown",_),()=>S.removeEventListener("keydown",_)}},[a,x]),f.jsxs(rN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&f.jsx(wp,{ref:u,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});tf(S)}}),f.jsx(sg.Slot,{scope:n,children:f.jsx(Oe.ol,{tabIndex:-1,...i,ref:h})}),w&&f.jsx(wp,{ref:d,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});tf(S)}})]})});vE.displayName=yE;var wE="ToastFocusProxy",wp=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=jd(wE,n);return f.jsx(Md,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});wp.displayName=wE;var Vd="Toast",mN="toast.swipeStart",gN="toast.swipeMove",yN="toast.swipeCancel",vN="toast.swipeEnd",_E=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=Dd({prop:r,defaultProp:s,onChange:i});return f.jsx(Ul,{present:n||a,children:f.jsx(xN,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Pn(t.onPause),onResume:Pn(t.onResume),onSwipeStart:we(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:we(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});_E.displayName=Vd;var[wN,_N]=mE(Vd,{onClose(){}}),xN=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:y,...w}=t,x=jd(Vd,n),[S,_]=T.useState(null),v=Wt(e,q=>_(q)),I=T.useRef(null),k=T.useRef(null),D=s||x.duration,j=T.useRef(0),b=T.useRef(D),E=T.useRef(0),{onToastAdd:A,onToastRemove:R}=x,N=Pn(()=>{var se;(S==null?void 0:S.contains(document.activeElement))&&((se=x.viewport)==null||se.focus()),o()}),O=T.useCallback(q=>{!q||q===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(N,q))},[N]);T.useEffect(()=>{const q=x.viewport;if(q){const se=()=>{O(b.current),u==null||u()},Z=()=>{const le=new Date().getTime()-j.current;b.current=b.current-le,window.clearTimeout(E.current),c==null||c()};return q.addEventListener(yp,Z),q.addEventListener(vp,se),()=>{q.removeEventListener(yp,Z),q.removeEventListener(vp,se)}}},[x.viewport,D,c,u,O]),T.useEffect(()=>{i&&!x.isClosePausedRef.current&&O(D)},[i,D,x.isClosePausedRef,O]),T.useEffect(()=>(A(),()=>R()),[A,R]);const P=T.useMemo(()=>S?CE(S):null,[S]);return x.viewport?f.jsxs(f.Fragment,{children:[P&&f.jsx(EN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),f.jsx(wN,{scope:n,onClose:N,children:jl.createPortal(f.jsx(sg.ItemSlot,{scope:n,children:f.jsx(nN,{asChild:!0,onEscapeKeyDown:we(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||N(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:we(t.onPointerDown,q=>{q.button===0&&(I.current={x:q.clientX,y:q.clientY})}),onPointerMove:we(t.onPointerMove,q=>{if(!I.current)return;const se=q.clientX-I.current.x,Z=q.clientY-I.current.y,le=!!k.current,V=["left","right"].includes(x.swipeDirection),B=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,X=V?B(0,se):0,K=V?0:B(0,Z),J=q.pointerType==="touch"?10:2,te={x:X,y:K},Ce={originalEvent:q,delta:te};le?(k.current=te,Mc(gN,m,Ce,{discrete:!1})):b0(te,x.swipeDirection,J)?(k.current=te,Mc(mN,d,Ce,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(se)>J||Math.abs(Z)>J)&&(I.current=null)}),onPointerUp:we(t.onPointerUp,q=>{const se=k.current,Z=q.target;if(Z.hasPointerCapture(q.pointerId)&&Z.releasePointerCapture(q.pointerId),k.current=null,I.current=null,se){const le=q.currentTarget,V={originalEvent:q,delta:se};b0(se,x.swipeDirection,x.swipeThreshold)?Mc(vN,y,V,{discrete:!0}):Mc(yN,h,V,{discrete:!0}),le.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),EN=t=>{const{__scopeToast:e,children:n,...r}=t,s=jd(Vd,e),[i,o]=T.useState(!1),[a,c]=T.useState(!1);return SN(()=>o(!0)),T.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(pE,{asChild:!0,children:f.jsx(Md,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},TN="ToastTitle",xE=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Oe.div,{...r,ref:e})});xE.displayName=TN;var IN="ToastDescription",EE=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Oe.div,{...r,ref:e})});EE.displayName=IN;var TE="ToastAction",IE=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(bE,{altText:n,asChild:!0,children:f.jsx(ig,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${TE}\`. Expected non-empty \`string\`.`),null)});IE.displayName=TE;var SE="ToastClose",ig=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=_N(SE,n);return f.jsx(bE,{asChild:!0,children:f.jsx(Oe.button,{type:"button",...r,ref:e,onClick:we(t.onClick,s.onClose)})})});ig.displayName=SE;var bE=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function CE(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...CE(r))}}),e}function Mc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uE(s,i):s.dispatchEvent(i)}var b0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function SN(t=()=>{}){const e=Pn(t);Ss(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function bN(t){return t.nodeType===t.ELEMENT_NODE}function CN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var AN=gE,AE=vE,RE=_E,PE=xE,NE=EE,kE=IE,OE=ig;function DE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=DE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ME(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=DE(t))&&(r&&(r+=" "),r+=e);return r}const C0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,A0=ME,og=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return A0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],m=i==null?void 0:i[u];if(d===null)return null;const h=C0(d)||C0(m);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[m,h]=d;return h===void 0||(u[m]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:m,className:h,...y}=d;return Object.entries(y).every(w=>{let[x,S]=w;return Array.isArray(S)?S.includes({...i,...a}[x]):{...i,...a}[x]===S})?[...u,m,h]:u},[]);return A0(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>T.createElement("svg",{ref:c,...PN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jE("lucide",s),...a},[...o.map(([u,d])=>T.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(NN,{ref:i,iconNode:e,className:jE(`lucide-${RN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Nr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Nr("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Nr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Nr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=Nr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=Nr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Nr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Nr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=Nr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ag="-",VN=t=>{const e=FN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ag);return a[0]===""&&a.length!==1&&a.shift(),UE(a,e)||LN(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},UE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?UE(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ag);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},P0=/^\[(.+)\]$/,LN=t=>{if(P0.test(t)){const e=P0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},FN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return $N(Object.entries(t.classGroups),n).forEach(([i,o])=>{_p(o,r,i,e)}),r},_p=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:N0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(UN(s)){_p(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{_p(o,N0(e,i),n,r)})})},N0=(t,e)=>{let n=t;return e.split(ag).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UN=t=>t.isThemeGetter,$N=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,zN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},$E="!",BN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,m;for(let S=0;S<a.length;S++){let _=a[S];if(u===0){if(_===s&&(r||a.slice(S,S+i)===e)){c.push(a.slice(d,S)),d=S+i;continue}if(_==="/"){m=S;continue}}_==="["?u++:_==="]"&&u--}const h=c.length===0?a:a.substring(d),y=h.startsWith($E),w=y?h.substring(1):h,x=m&&m>d?m-d:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},HN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},WN=t=>({cache:zN(t.cacheSize),parseClassName:BN(t),...VN(t)}),qN=/\s+/,GN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(qN);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:y}=n(u);let w=!!y,x=r(w?h.substring(0,y):h);if(!x){if(!w){a=u+(a.length>0?" "+a:a);continue}if(x=r(h),!x){a=u+(a.length>0?" "+a:a);continue}w=!1}const S=HN(d).join(":"),_=m?S+$E:S,v=_+x;if(i.includes(v))continue;i.push(v);const I=s(x,w);for(let k=0;k<I.length;++k){const D=I[k];i.push(_+D)}a=u+(a.length>0?" "+a:a)}return a};function KN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zE(e))&&(r&&(r+=" "),r+=n);return r}const zE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zE(t[r]))&&(n&&(n+=" "),n+=e);return n};function QN(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,m)=>m(d),t());return n=WN(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=GN(c,n);return s(c,d),d}return function(){return i(KN.apply(null,arguments))}}const Re=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},BE=/^\[(?:([a-z-]+):)?(.+)\]$/i,YN=/^\d+\/\d+$/,XN=new Set(["px","full","screen"]),JN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ek=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lr=t=>ro(t)||XN.has(t)||YN.test(t),$r=t=>Bo(t,"length",uk),ro=t=>!!t&&!Number.isNaN(Number(t)),nf=t=>Bo(t,"number",ro),Ia=t=>!!t&&Number.isInteger(Number(t)),rk=t=>t.endsWith("%")&&ro(t.slice(0,-1)),ce=t=>BE.test(t),zr=t=>JN.test(t),sk=new Set(["length","size","percentage"]),ik=t=>Bo(t,sk,HE),ok=t=>Bo(t,"position",HE),ak=new Set(["image","url"]),lk=t=>Bo(t,ak,hk),ck=t=>Bo(t,"",dk),Sa=()=>!0,Bo=(t,e,n)=>{const r=BE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},uk=t=>ZN.test(t)&&!ek.test(t),HE=()=>!1,dk=t=>tk.test(t),hk=t=>nk.test(t),fk=()=>{const t=Re("colors"),e=Re("spacing"),n=Re("blur"),r=Re("brightness"),s=Re("borderColor"),i=Re("borderRadius"),o=Re("borderSpacing"),a=Re("borderWidth"),c=Re("contrast"),u=Re("grayscale"),d=Re("hueRotate"),m=Re("invert"),h=Re("gap"),y=Re("gradientColorStops"),w=Re("gradientColorStopPositions"),x=Re("inset"),S=Re("margin"),_=Re("opacity"),v=Re("padding"),I=Re("saturate"),k=Re("scale"),D=Re("sepia"),j=Re("skew"),b=Re("space"),E=Re("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ce,e],O=()=>[ce,e],P=()=>["",lr,$r],q=()=>["auto",ro,ce],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ce],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[ro,ce];return{cacheSize:500,separator:":",theme:{colors:[Sa],spacing:[lr,$r],blur:["none","",zr,ce],brightness:K(),borderColor:[t],borderRadius:["none","","full",zr,ce],borderSpacing:O(),borderWidth:P(),contrast:K(),grayscale:B(),hueRotate:K(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[rk,$r],inset:N(),margin:N(),opacity:K(),padding:O(),saturate:K(),scale:K(),sepia:B(),skew:K(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[zr]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ia,ce]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Ia,ce]}],"grid-cols":[{"grid-cols":[Sa]}],"col-start-end":[{col:["auto",{span:["full",Ia,ce]},ce]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Sa]}],"row-start-end":[{row:["auto",{span:[Ia,ce]},ce]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[zr]},zr]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zr,$r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nf]}],"font-family":[{font:[Sa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",ro,nf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lr,$r]}],"underline-offset":[{"underline-offset":["auto",lr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),ok]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ik]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[lr,ce]}],"outline-w":[{outline:[lr,$r]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[lr,$r]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",zr,ck]}],"shadow-color":[{shadow:[Sa]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zr,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[m]}],saturate:[{saturate:[I]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ia,ce]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[lr,$r,nf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pk=QN(fk);function Ue(...t){return pk(ME(t))}const mk=AN,WE=T.forwardRef(({className:t,...e},n)=>f.jsx(AE,{ref:n,className:Ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));WE.displayName=AE.displayName;const gk=og("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qE=T.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(RE,{ref:r,className:Ue(gk({variant:e}),t),...n}));qE.displayName=RE.displayName;const yk=T.forwardRef(({className:t,...e},n)=>f.jsx(kE,{ref:n,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));yk.displayName=kE.displayName;const GE=T.forwardRef(({className:t,...e},n)=>f.jsx(OE,{ref:n,className:Ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(FE,{className:"h-4 w-4"})}));GE.displayName=OE.displayName;const KE=T.forwardRef(({className:t,...e},n)=>f.jsx(PE,{ref:n,className:Ue("text-sm font-semibold",t),...e}));KE.displayName=PE.displayName;const QE=T.forwardRef(({className:t,...e},n)=>f.jsx(NE,{ref:n,className:Ue("text-sm opacity-90",t),...e}));QE.displayName=NE.displayName;function vk(){const{toasts:t}=oE();return f.jsxs(mk,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(qE,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(KE,{children:n}),r&&f.jsx(QE,{children:r})]}),s,f.jsx(GE,{})]},e)}),f.jsx(WE,{})]})}var k0=["light","dark"],wk="(prefers-color-scheme: dark)",_k=T.createContext(void 0),xk={setTheme:t=>{},themes:[]},Ek=()=>{var t;return(t=T.useContext(_k))!=null?t:xk};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=s?k0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(w,x=!1,S=!0)=>{let _=o?o[w]:w,v=x?w+"|| ''":`'${_}'`,I="";return s&&S&&!x&&k0.includes(w)&&(I+=`d.style.colorScheme = '${w}';`),n==="class"?x||_?I+=`c.add(${v})`:I+="null":_&&(I+=`d[s](n,${v})`),I},y=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${wk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${m}}catch(t){}}();`;return T.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})});var Tk=t=>{switch(t){case"success":return bk;case"info":return Ak;case"warning":return Ck;case"error":return Rk;default:return null}},Ik=Array(12).fill(0),Sk=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},Ik.map((e,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),bk=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ck=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ak=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Rk=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Pk=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},xp=1,Nk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:xp++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(Ok(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:c})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||xp++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Qt=new Nk,kk=(t,e)=>{let n=(e==null?void 0:e.id)||xp++;return Qt.addToast({title:t,...e,id:n}),n},Ok=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Dk=kk,Mk=()=>Qt.toasts,et=Object.assign(Dk,{success:Qt.success,info:Qt.info,warning:Qt.warning,error:Qt.error,custom:Qt.custom,message:Qt.message,promise:Qt.promise,dismiss:Qt.dismiss,loading:Qt.loading},{getHistory:Mk});function jk(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}jk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function jc(t){return t.label!==void 0}var Vk=3,Lk="32px",Fk=4e3,Uk=356,$k=14,zk=20,Bk=200;function Hk(...t){return t.filter(Boolean).join(" ")}var Wk=t=>{var e,n,r,s,i,o,a,c,u,d;let{invert:m,toast:h,unstyled:y,interacting:w,setHeights:x,visibleToasts:S,heights:_,index:v,toasts:I,expanded:k,removeToast:D,defaultRichColors:j,closeButton:b,style:E,cancelButtonStyle:A,actionButtonStyle:R,className:N="",descriptionClassName:O="",duration:P,position:q,gap:se,loadingIcon:Z,expandByDefault:le,classNames:V,icons:B,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:K,cn:J}=t,[te,Ce]=W.useState(!1),[Ze,ve]=W.useState(!1),[gt,Dn]=W.useState(!1),[Mn,qt]=W.useState(!1),[nr,jn]=W.useState(0),[gn,rr]=W.useState(0),Or=W.useRef(null),yn=W.useRef(null),Zo=v===0,ea=v+1<=S,Ge=h.type,Vn=h.dismissible!==!1,Zl=h.className||"",uh=h.descriptionClassName||"",Dr=W.useMemo(()=>_.findIndex(ie=>ie.toastId===h.id)||0,[_,h.id]),ta=W.useMemo(()=>{var ie;return(ie=h.closeButton)!=null?ie:b},[h.closeButton,b]),na=W.useMemo(()=>h.duration||P||Fk,[h.duration,P]),Ke=W.useRef(0),$e=W.useRef(0),$s=W.useRef(0),sr=W.useRef(null),[ra,dh]=q.split("-"),Mr=W.useMemo(()=>_.reduce((ie,Ie,Ee)=>Ee>=Dr?ie:ie+Ie.height,0),[_,Dr]),sa=Pk(),ec=h.invert||m,zs=Ge==="loading";$e.current=W.useMemo(()=>Dr*se+Mr,[Dr,Mr]),W.useEffect(()=>{Ce(!0)},[]),W.useLayoutEffect(()=>{if(!te)return;let ie=yn.current,Ie=ie.style.height;ie.style.height="auto";let Ee=ie.getBoundingClientRect().height;ie.style.height=Ie,rr(Ee),x(yt=>yt.find(Lt=>Lt.toastId===h.id)?yt.map(Lt=>Lt.toastId===h.id?{...Lt,height:Ee}:Lt):[{toastId:h.id,height:Ee,position:h.position},...yt])},[te,h.title,h.description,x,h.id]);let Ln=W.useCallback(()=>{ve(!0),jn($e.current),x(ie=>ie.filter(Ie=>Ie.toastId!==h.id)),setTimeout(()=>{D(h)},Bk)},[h,D,x,$e]);W.useEffect(()=>{if(h.promise&&Ge==="loading"||h.duration===1/0||h.type==="loading")return;let ie,Ie=na;return k||w||K&&sa?(()=>{if($s.current<Ke.current){let Ee=new Date().getTime()-Ke.current;Ie=Ie-Ee}$s.current=new Date().getTime()})():Ie!==1/0&&(Ke.current=new Date().getTime(),ie=setTimeout(()=>{var Ee;(Ee=h.onAutoClose)==null||Ee.call(h,h),Ln()},Ie)),()=>clearTimeout(ie)},[k,w,le,h,na,Ln,h.promise,Ge,K,sa]),W.useEffect(()=>{let ie=yn.current;if(ie){let Ie=ie.getBoundingClientRect().height;return rr(Ie),x(Ee=>[{toastId:h.id,height:Ie,position:h.position},...Ee]),()=>x(Ee=>Ee.filter(yt=>yt.toastId!==h.id))}},[x,h.id]),W.useEffect(()=>{h.delete&&Ln()},[Ln,h.delete]);function hh(){return B!=null&&B.loading?W.createElement("div",{className:"sonner-loader","data-visible":Ge==="loading"},B.loading):Z?W.createElement("div",{className:"sonner-loader","data-visible":Ge==="loading"},Z):W.createElement(Sk,{visible:Ge==="loading"})}return W.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:yn,className:J(N,Zl,V==null?void 0:V.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Ge],(n=h==null?void 0:h.classNames)==null?void 0:n[Ge]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":te,"data-promise":!!h.promise,"data-removed":Ze,"data-visible":ea,"data-y-position":ra,"data-x-position":dh,"data-index":v,"data-front":Zo,"data-swiping":gt,"data-dismissible":Vn,"data-type":Ge,"data-invert":ec,"data-swipe-out":Mn,"data-expanded":!!(k||le&&te),style:{"--index":v,"--toasts-before":v,"--z-index":I.length-v,"--offset":`${Ze?nr:$e.current}px`,"--initial-height":le?"auto":`${gn}px`,...E,...h.style},onPointerDown:ie=>{zs||!Vn||(Or.current=new Date,jn($e.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(Dn(!0),sr.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Ie,Ee,yt;if(Mn||!Vn)return;sr.current=null;let Lt=Number(((ie=yn.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),jr=new Date().getTime()-((Ie=Or.current)==null?void 0:Ie.getTime()),ir=Math.abs(Lt)/jr;if(Math.abs(Lt)>=zk||ir>.11){jn($e.current),(Ee=h.onDismiss)==null||Ee.call(h,h),Ln(),qt(!0);return}(yt=yn.current)==null||yt.style.setProperty("--swipe-amount","0px"),Dn(!1)},onPointerMove:ie=>{var Ie;if(!sr.current||!Vn)return;let Ee=ie.clientY-sr.current.y,yt=ie.clientX-sr.current.x,Lt=(ra==="top"?Math.min:Math.max)(0,Ee),jr=ie.pointerType==="touch"?10:2;Math.abs(Lt)>jr?(Ie=yn.current)==null||Ie.style.setProperty("--swipe-amount",`${Ee}px`):Math.abs(yt)>jr&&(sr.current=null)}},ta&&!h.jsx?W.createElement("button",{"aria-label":X,"data-disabled":zs,"data-close-button":!0,onClick:zs||!Vn?()=>{}:()=>{var ie;Ln(),(ie=h.onDismiss)==null||ie.call(h,h)},className:J(V==null?void 0:V.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||W.isValidElement(h.title)?h.jsx||h.title:W.createElement(W.Fragment,null,Ge||h.icon||h.promise?W.createElement("div",{"data-icon":"",className:J(V==null?void 0:V.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||hh():null,h.type!=="loading"?h.icon||(B==null?void 0:B[Ge])||Tk(Ge):null):null,W.createElement("div",{"data-content":"",className:J(V==null?void 0:V.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:J(V==null?void 0:V.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?W.createElement("div",{"data-description":"",className:J(O,uh,V==null?void 0:V.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),W.isValidElement(h.cancel)?h.cancel:h.cancel&&jc(h.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:ie=>{var Ie,Ee;jc(h.cancel)&&Vn&&((Ee=(Ie=h.cancel).onClick)==null||Ee.call(Ie,ie),Ln())},className:J(V==null?void 0:V.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,W.isValidElement(h.action)?h.action:h.action&&jc(h.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:ie=>{var Ie,Ee;jc(h.action)&&(ie.defaultPrevented||((Ee=(Ie=h.action).onClick)==null||Ee.call(Ie,ie),Ln()))},className:J(V==null?void 0:V.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function O0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var qk=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:c="light",richColors:u,duration:d,style:m,visibleToasts:h=Vk,toastOptions:y,dir:w=O0(),gap:x=$k,loadingIcon:S,icons:_,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:I,cn:k=Hk}=t,[D,j]=W.useState([]),b=W.useMemo(()=>Array.from(new Set([n].concat(D.filter(K=>K.position).map(K=>K.position)))),[D,n]),[E,A]=W.useState([]),[R,N]=W.useState(!1),[O,P]=W.useState(!1),[q,se]=W.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=W.useRef(null),le=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=W.useRef(null),B=W.useRef(!1),X=W.useCallback(K=>{var J;(J=D.find(te=>te.id===K.id))!=null&&J.delete||Qt.dismiss(K.id),j(te=>te.filter(({id:Ce})=>Ce!==K.id))},[D]);return W.useEffect(()=>Qt.subscribe(K=>{if(K.dismiss){j(J=>J.map(te=>te.id===K.id?{...te,delete:!0}:te));return}setTimeout(()=>{Qx.flushSync(()=>{j(J=>{let te=J.findIndex(Ce=>Ce.id===K.id);return te!==-1?[...J.slice(0,te),{...J[te],...K},...J.slice(te+1)]:[K,...J]})})})}),[]),W.useEffect(()=>{if(c!=="system"){se(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{se(K?"dark":"light")})},[c]),W.useEffect(()=>{D.length<=1&&N(!1)},[D]),W.useEffect(()=>{let K=J=>{var te,Ce;r.every(Ze=>J[Ze]||J.code===Ze)&&(N(!0),(te=Z.current)==null||te.focus()),J.code==="Escape"&&(document.activeElement===Z.current||(Ce=Z.current)!=null&&Ce.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),W.useEffect(()=>{if(Z.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,B.current=!1)}},[Z.current]),D.length?W.createElement("section",{"aria-label":`${v} ${le}`,tabIndex:-1},b.map((K,J)=>{var te;let[Ce,Ze]=K.split("-");return W.createElement("ol",{key:K,dir:w==="auto"?O0():w,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Ce,"data-x-position":Ze,style:{"--front-toast-height":`${((te=E[0])==null?void 0:te.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||Lk,"--width":`${Uk}px`,"--gap":`${x}px`,...m},onBlur:ve=>{B.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(B.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||B.current||(B.current=!0,V.current=ve.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{O||N(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},D.filter(ve=>!ve.position&&J===0||ve.position===K).map((ve,gt)=>{var Dn,Mn;return W.createElement(Wk,{key:ve.id,icons:_,index:gt,toast:ve,defaultRichColors:u,duration:(Dn=y==null?void 0:y.duration)!=null?Dn:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Mn=y==null?void 0:y.closeButton)!=null?Mn:i,interacting:O,position:K,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:X,toasts:D.filter(qt=>qt.position==ve.position),heights:E.filter(qt=>qt.position==ve.position),setHeights:A,expandByDefault:s,gap:x,loadingIcon:S,expanded:R,pauseWhenPageIsHidden:I,cn:k})}))})):null};const Gk=({...t})=>{const{theme:e="system"}=Ek();return f.jsx(qk,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Kk=q_.useId||(()=>{}),Qk=0;function YE(t){const[e,n]=T.useState(Kk());return Ss(()=>{t||n(r=>r??String(Qk++))},[t]),t||(e?`radix-${e}`:"")}const Yk=["top","right","bottom","left"],bs=Math.min,Xt=Math.max,Wu=Math.round,Vc=Math.floor,Cs=t=>({x:t,y:t}),Xk={left:"right",right:"left",bottom:"top",top:"bottom"},Jk={start:"end",end:"start"};function Ep(t,e,n){return Xt(t,bs(e,n))}function Tr(t,e){return typeof t=="function"?t(e):t}function Ir(t){return t.split("-")[0]}function Ho(t){return t.split("-")[1]}function lg(t){return t==="x"?"y":"x"}function cg(t){return t==="y"?"height":"width"}function As(t){return["top","bottom"].includes(Ir(t))?"y":"x"}function ug(t){return lg(As(t))}function Zk(t,e,n){n===void 0&&(n=!1);const r=Ho(t),s=ug(t),i=cg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=qu(o)),[o,qu(o)]}function e2(t){const e=qu(t);return[Tp(t),e,Tp(e)]}function Tp(t){return t.replace(/start|end/g,e=>Jk[e])}function t2(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function n2(t,e,n,r){const s=Ho(t);let i=t2(Ir(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Tp)))),i}function qu(t){return t.replace(/left|right|bottom|top/g,e=>Xk[e])}function r2(t){return{top:0,right:0,bottom:0,left:0,...t}}function XE(t){return typeof t!="number"?r2(t):{top:t,right:t,bottom:t,left:t}}function Gu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function D0(t,e,n){let{reference:r,floating:s}=t;const i=As(e),o=ug(e),a=cg(o),c=Ir(e),u=i==="y",d=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let y;switch(c){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-s.width,y:m};break;default:y={x:r.x,y:r.y}}switch(Ho(e)){case"start":y[o]-=h*(n&&u?-1:1);break;case"end":y[o]+=h*(n&&u?-1:1);break}return y}const s2=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:m}=D0(u,r,c),h=r,y={},w=0;for(let x=0;x<a.length;x++){const{name:S,fn:_}=a[x],{x:v,y:I,data:k,reset:D}=await _({x:d,y:m,initialPlacement:r,placement:h,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,m=I??m,y={...y,[S]:{...y[S],...k}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:m}=D0(u,h,c)),x=-1)}return{x:d,y:m,placement:h,strategy:s,middlewareData:y}};async function gl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:h=!1,padding:y=0}=Tr(e,t),w=XE(y),S=a[h?m==="floating"?"reference":"floating":m],_=Gu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},D=Gu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:I,strategy:c}):v);return{top:(_.top-D.top+w.top)/k.y,bottom:(D.bottom-_.bottom+w.bottom)/k.y,left:(_.left-D.left+w.left)/k.x,right:(D.right-_.right+w.right)/k.x}}const i2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Tr(t,e)||{};if(u==null)return{};const m=XE(d),h={x:n,y:r},y=ug(s),w=cg(y),x=await o.getDimensions(u),S=y==="y",_=S?"top":"left",v=S?"bottom":"right",I=S?"clientHeight":"clientWidth",k=i.reference[w]+i.reference[y]-h[y]-i.floating[w],D=h[y]-i.reference[y],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=j?j[I]:0;(!b||!await(o.isElement==null?void 0:o.isElement(j)))&&(b=a.floating[I]||i.floating[w]);const E=k/2-D/2,A=b/2-x[w]/2-1,R=bs(m[_],A),N=bs(m[v],A),O=R,P=b-x[w]-N,q=b/2-x[w]/2+E,se=Ep(O,q,P),Z=!c.arrow&&Ho(s)!=null&&q!==se&&i.reference[w]/2-(q<O?R:N)-x[w]/2<0,le=Z?q<O?q-O:q-P:0;return{[y]:h[y]+le,data:{[y]:se,centerOffset:q-se-le,...Z&&{alignmentOffset:le}},reset:Z}}}),o2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...S}=Tr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Ir(s),v=As(a),I=Ir(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=h||(I||!x?[qu(a)]:e2(a)),j=w!=="none";!h&&j&&D.push(...n2(a,x,w,k));const b=[a,...D],E=await gl(e,S),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(E[_]),m){const q=Zk(s,o,k);A.push(E[q[0]],E[q[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(q=>q<=0)){var N,O;const q=(((N=i.flip)==null?void 0:N.index)||0)+1,se=b[q];if(se)return{data:{index:q,overflows:R},reset:{placement:se}};let Z=(O=R.filter(le=>le.overflows[0]<=0).sort((le,V)=>le.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!Z)switch(y){case"bestFit":{var P;const le=(P=R.filter(V=>{if(j){const B=As(V.placement);return B===v||B==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(B=>B>0).reduce((B,X)=>B+X,0)]).sort((V,B)=>V[1]-B[1])[0])==null?void 0:P[0];le&&(Z=le);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function M0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function j0(t){return Yk.some(e=>t[e]>=0)}const a2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Tr(t,e);switch(r){case"referenceHidden":{const i=await gl(e,{...s,elementContext:"reference"}),o=M0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:j0(o)}}}case"escaped":{const i=await gl(e,{...s,altBoundary:!0}),o=M0(i,n.floating);return{data:{escapedOffsets:o,escaped:j0(o)}}}default:return{}}}}};async function l2(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ir(n),a=Ho(n),c=As(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,m=Tr(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof w=="number"&&(y=a==="end"?w*-1:w),c?{x:y*d,y:h*u}:{x:h*u,y:y*d}}const c2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await l2(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},u2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:_,y:v}=S;return{x:_,y:v}}},...c}=Tr(t,e),u={x:n,y:r},d=await gl(e,c),m=As(Ir(s)),h=lg(m);let y=u[h],w=u[m];if(i){const S=h==="y"?"top":"left",_=h==="y"?"bottom":"right",v=y+d[S],I=y-d[_];y=Ep(v,y,I)}if(o){const S=m==="y"?"top":"left",_=m==="y"?"bottom":"right",v=w+d[S],I=w-d[_];w=Ep(v,w,I)}const x=a.fn({...e,[h]:y,[m]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:i,[m]:o}}}}}},d2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Tr(t,e),d={x:n,y:r},m=As(s),h=lg(m);let y=d[h],w=d[m];const x=Tr(a,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const I=h==="y"?"height":"width",k=i.reference[h]-i.floating[I]+S.mainAxis,D=i.reference[h]+i.reference[I]-S.mainAxis;y<k?y=k:y>D&&(y=D)}if(u){var _,v;const I=h==="y"?"width":"height",k=["top","left"].includes(Ir(s)),D=i.reference[m]-i.floating[I]+(k&&((_=o.offset)==null?void 0:_[m])||0)+(k?0:S.crossAxis),j=i.reference[m]+i.reference[I]+(k?0:((v=o.offset)==null?void 0:v[m])||0)-(k?S.crossAxis:0);w<D?w=D:w>j&&(w=j)}return{[h]:y,[m]:w}}}},h2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Tr(t,e),d=await gl(e,u),m=Ir(s),h=Ho(s),y=As(s)==="y",{width:w,height:x}=i.floating;let S,_;m==="top"||m==="bottom"?(S=m,_=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=m,S=h==="end"?"top":"bottom");const v=x-d.top-d.bottom,I=w-d.left-d.right,k=bs(x-d[S],v),D=bs(w-d[_],I),j=!e.middlewareData.shift;let b=k,E=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=v),j&&!h){const R=Xt(d.left,0),N=Xt(d.right,0),O=Xt(d.top,0),P=Xt(d.bottom,0);y?E=w-2*(R!==0||N!==0?R+N:Xt(d.left,d.right)):b=x-2*(O!==0||P!==0?O+P:Xt(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:b});const A=await o.getDimensions(a.floating);return w!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Ld(){return typeof window<"u"}function Wo(t){return JE(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tr(t){var e;return(e=(JE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function JE(t){return Ld()?t instanceof Node||t instanceof tn(t).Node:!1}function Nn(t){return Ld()?t instanceof Element||t instanceof tn(t).Element:!1}function Zn(t){return Ld()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function V0(t){return!Ld()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}function $l(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function f2(t){return["table","td","th"].includes(Wo(t))}function Fd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function dg(t){const e=hg(),n=Nn(t)?kn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function p2(t){let e=Rs(t);for(;Zn(e)&&!bo(e);){if(dg(e))return e;if(Fd(e))return null;e=Rs(e)}return null}function hg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bo(t){return["html","body","#document"].includes(Wo(t))}function kn(t){return tn(t).getComputedStyle(t)}function Ud(t){return Nn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Rs(t){if(Wo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||V0(t)&&t.host||tr(t);return V0(e)?e.host:e}function ZE(t){const e=Rs(t);return bo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zn(e)&&$l(e)?e:ZE(e)}function yl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=ZE(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=tn(s);if(i){const a=Ip(o);return e.concat(o,o.visualViewport||[],$l(s)?s:[],a&&n?yl(a):[])}return e.concat(s,yl(s,[],n))}function Ip(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eT(t){const e=kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Wu(n)!==i||Wu(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function fg(t){return Nn(t)?t:t.contextElement}function so(t){const e=fg(t);if(!Zn(e))return Cs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=eT(e);let o=(i?Wu(n.width):n.width)/r,a=(i?Wu(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const m2=Cs(0);function tT(t){const e=tn(t);return!hg()||!e.visualViewport?m2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function g2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function di(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=fg(t);let o=Cs(1);e&&(r?Nn(r)&&(o=so(r)):o=so(t));const a=g2(i,n,r)?tT(i):Cs(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,m=s.height/o.y;if(i){const h=tn(i),y=r&&Nn(r)?tn(r):r;let w=h,x=Ip(w);for(;x&&r&&y!==w;){const S=so(x),_=x.getBoundingClientRect(),v=kn(x),I=_.left+(x.clientLeft+parseFloat(v.paddingLeft))*S.x,k=_.top+(x.clientTop+parseFloat(v.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,m*=S.y,c+=I,u+=k,w=tn(x),x=Ip(w)}}return Gu({width:d,height:m,x:c,y:u})}function y2(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=tr(r),a=e?Fd(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Cs(1);const d=Cs(0),m=Zn(r);if((m||!m&&!i)&&((Wo(r)!=="body"||$l(o))&&(c=Ud(r)),Zn(r))){const h=di(r);u=so(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function v2(t){return Array.from(t.getClientRects())}function Sp(t,e){const n=Ud(t).scrollLeft;return e?e.left+n:di(tr(t)).left+n}function w2(t){const e=tr(t),n=Ud(t),r=t.ownerDocument.body,s=Xt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Xt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Sp(t);const a=-n.scrollTop;return kn(r).direction==="rtl"&&(o+=Xt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function _2(t,e){const n=tn(t),r=tr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=hg();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function x2(t,e){const n=di(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Zn(t)?so(t):Cs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function L0(t,e,n){let r;if(e==="viewport")r=_2(t,n);else if(e==="document")r=w2(tr(t));else if(Nn(e))r=x2(e,n);else{const s=tT(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Gu(r)}function nT(t,e){const n=Rs(t);return n===e||!Nn(n)||bo(n)?!1:kn(n).position==="fixed"||nT(n,e)}function E2(t,e){const n=e.get(t);if(n)return n;let r=yl(t,[],!1).filter(a=>Nn(a)&&Wo(a)!=="body"),s=null;const i=kn(t).position==="fixed";let o=i?Rs(t):t;for(;Nn(o)&&!bo(o);){const a=kn(o),c=dg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$l(o)&&!c&&nT(t,o))?r=r.filter(d=>d!==o):s=a,o=Rs(o)}return e.set(t,r),r}function T2(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Fd(e)?[]:E2(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const m=L0(e,d,s);return u.top=Xt(m.top,u.top),u.right=bs(m.right,u.right),u.bottom=bs(m.bottom,u.bottom),u.left=Xt(m.left,u.left),u},L0(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function I2(t){const{width:e,height:n}=eT(t);return{width:e,height:n}}function S2(t,e,n){const r=Zn(e),s=tr(e),i=n==="fixed",o=di(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Cs(0);if(r||!r&&!i)if((Wo(e)!=="body"||$l(s))&&(a=Ud(e)),r){const y=di(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&(c.x=Sp(s));let u=0,d=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();d=y.top+a.scrollTop,u=y.left+a.scrollLeft-Sp(s,y)}const m=o.left+a.scrollLeft-c.x-u,h=o.top+a.scrollTop-c.y-d;return{x:m,y:h,width:o.width,height:o.height}}function rf(t){return kn(t).position==="static"}function F0(t,e){if(!Zn(t)||kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tr(t)===n&&(n=n.ownerDocument.body),n}function rT(t,e){const n=tn(t);if(Fd(t))return n;if(!Zn(t)){let s=Rs(t);for(;s&&!bo(s);){if(Nn(s)&&!rf(s))return s;s=Rs(s)}return n}let r=F0(t,e);for(;r&&f2(r)&&rf(r);)r=F0(r,e);return r&&bo(r)&&rf(r)&&!dg(r)?n:r||p2(t)||n}const b2=async function(t){const e=this.getOffsetParent||rT,n=this.getDimensions,r=await n(t.floating);return{reference:S2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function C2(t){return kn(t).direction==="rtl"}const A2={convertOffsetParentRelativeRectToViewportRelativeRect:y2,getDocumentElement:tr,getClippingRect:T2,getOffsetParent:rT,getElementRects:b2,getClientRects:v2,getDimensions:I2,getScale:so,isElement:Nn,isRTL:C2};function R2(t,e){let n=null,r;const s=tr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:m,height:h}=t.getBoundingClientRect();if(a||e(),!m||!h)return;const y=Vc(d),w=Vc(s.clientWidth-(u+m)),x=Vc(s.clientHeight-(d+h)),S=Vc(u),v={rootMargin:-y+"px "+-w+"px "+-x+"px "+-S+"px",threshold:Xt(0,bs(1,c))||1};let I=!0;function k(D){const j=D[0].intersectionRatio;if(j!==c){if(!I)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I=!1}try{n=new IntersectionObserver(k,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,v)}n.observe(t)}return o(!0),i}function P2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=fg(t),d=s||i?[...u?yl(u):[],...yl(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const m=u&&a?R2(u,n):null;let h=-1,y=null;o&&(y=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var I;(I=y)==null||I.observe(e)})),n()}),u&&!c&&y.observe(u),y.observe(e));let w,x=c?di(t):null;c&&S();function S(){const _=di(t);x&&(_.x!==x.x||_.y!==x.y||_.width!==x.width||_.height!==x.height)&&n(),x=_,w=requestAnimationFrame(S)}return n(),()=>{var _;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),m==null||m(),(_=y)==null||_.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const N2=c2,k2=u2,O2=o2,D2=h2,M2=a2,U0=i2,j2=d2,V2=(t,e,n)=>{const r=new Map,s={platform:A2,...n},i={...s.platform,_c:r};return s2(t,e,{...s,platform:i})};var ou=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Ku(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ku(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ku(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function sT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $0(t,e){const n=sT(t);return Math.round(e*n)/n}function sf(t){const e=T.useRef(t);return ou(()=>{e.current=t}),e}function L2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,m]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,y]=T.useState(r);Ku(h,r)||y(r);const[w,x]=T.useState(null),[S,_]=T.useState(null),v=T.useCallback(V=>{V!==j.current&&(j.current=V,x(V))},[]),I=T.useCallback(V=>{V!==b.current&&(b.current=V,_(V))},[]),k=i||w,D=o||S,j=T.useRef(null),b=T.useRef(null),E=T.useRef(d),A=c!=null,R=sf(c),N=sf(s),O=sf(u),P=T.useCallback(()=>{if(!j.current||!b.current)return;const V={placement:e,strategy:n,middleware:h};N.current&&(V.platform=N.current),V2(j.current,b.current,V).then(B=>{const X={...B,isPositioned:O.current!==!1};q.current&&!Ku(E.current,X)&&(E.current=X,jl.flushSync(()=>{m(X)}))})},[h,e,n,N,O]);ou(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,m(V=>({...V,isPositioned:!1})))},[u]);const q=T.useRef(!1);ou(()=>(q.current=!0,()=>{q.current=!1}),[]),ou(()=>{if(k&&(j.current=k),D&&(b.current=D),k&&D){if(R.current)return R.current(k,D,P);P()}},[k,D,P,R,A]);const se=T.useMemo(()=>({reference:j,floating:b,setReference:v,setFloating:I}),[v,I]),Z=T.useMemo(()=>({reference:k,floating:D}),[k,D]),le=T.useMemo(()=>{const V={position:n,left:0,top:0};if(!Z.floating)return V;const B=$0(Z.floating,d.x),X=$0(Z.floating,d.y);return a?{...V,transform:"translate("+B+"px, "+X+"px)",...sT(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:X}},[n,a,Z.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:P,refs:se,elements:Z,floatingStyles:le}),[d,P,se,Z,le])}const F2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?U0({element:r.current,padding:s}).fn(n):{}:r?U0({element:r,padding:s}).fn(n):{}}}},U2=(t,e)=>({...N2(t),options:[t,e]}),$2=(t,e)=>({...k2(t),options:[t,e]}),z2=(t,e)=>({...j2(t),options:[t,e]}),B2=(t,e)=>({...O2(t),options:[t,e]}),H2=(t,e)=>({...D2(t),options:[t,e]}),W2=(t,e)=>({...M2(t),options:[t,e]}),q2=(t,e)=>({...F2(t),options:[t,e]});var G2="Arrow",iT=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(Oe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});iT.displayName=G2;var K2=iT;function Q2(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),c=n.length;n=[...n,o];function u(m){const{scope:h,children:y,...w}=m,x=(h==null?void 0:h[t][c])||a,S=T.useMemo(()=>w,Object.values(w));return f.jsx(x.Provider,{value:S,children:y})}function d(m,h){const y=(h==null?void 0:h[t][c])||a,w=T.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Y2(s,...e)]}function Y2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const m=c(i)[`__scope${u}`];return{...a,...m}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function oT(t){const[e,n]=T.useState(void 0);return Ss(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var aT="Popper",[lT,cT]=Q2(aT),[H6,uT]=lT(aT),dT="PopperAnchor",hT=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=uT(dT,n),o=T.useRef(null),a=Wt(e,o);return T.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(Oe.div,{...s,ref:a})});hT.displayName=dT;var pg="PopperContent",[X2,J2]=lT(pg),fT=T.forwardRef((t,e)=>{var gt,Dn,Mn,qt,nr,jn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=t,S=uT(pg,n),[_,v]=T.useState(null),I=Wt(e,gn=>v(gn)),[k,D]=T.useState(null),j=oT(k),b=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],O=N.length>0,P={padding:R,boundary:N.filter(e4),altBoundary:O},{refs:q,floatingStyles:se,placement:Z,isPositioned:le,middlewareData:V}=L2({strategy:"fixed",placement:A,whileElementsMounted:(...gn)=>P2(...gn,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[U2({mainAxis:s+E,alignmentAxis:o}),c&&$2({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?z2():void 0,...P}),c&&B2({...P}),H2({...P,apply:({elements:gn,rects:rr,availableWidth:Or,availableHeight:yn})=>{const{width:Zo,height:ea}=rr.reference,Ge=gn.floating.style;Ge.setProperty("--radix-popper-available-width",`${Or}px`),Ge.setProperty("--radix-popper-available-height",`${yn}px`),Ge.setProperty("--radix-popper-anchor-width",`${Zo}px`),Ge.setProperty("--radix-popper-anchor-height",`${ea}px`)}}),k&&q2({element:k,padding:a}),t4({arrowWidth:b,arrowHeight:E}),h&&W2({strategy:"referenceHidden",...P})]}),[B,X]=gT(Z),K=Pn(w);Ss(()=>{le&&(K==null||K())},[le,K]);const J=(gt=V.arrow)==null?void 0:gt.x,te=(Dn=V.arrow)==null?void 0:Dn.y,Ce=((Mn=V.arrow)==null?void 0:Mn.centerOffset)!==0,[Ze,ve]=T.useState();return Ss(()=>{_&&ve(window.getComputedStyle(_).zIndex)},[_]),f.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:le?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ze,"--radix-popper-transform-origin":[(qt=V.transformOrigin)==null?void 0:qt.x,(nr=V.transformOrigin)==null?void 0:nr.y].join(" "),...((jn=V.hide)==null?void 0:jn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(X2,{scope:n,placedSide:B,onArrowChange:D,arrowX:J,arrowY:te,shouldHideArrow:Ce,children:f.jsx(Oe.div,{"data-side":B,"data-align":X,...x,ref:I,style:{...x.style,animation:le?void 0:"none"}})})})});fT.displayName=pg;var pT="PopperArrow",Z2={top:"bottom",right:"left",bottom:"top",left:"right"},mT=T.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=J2(pT,r),o=Z2[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(K2,{...s,ref:n,style:{...s.style,display:"block"}})})});mT.displayName=pT;function e4(t){return t!==null}var t4=t=>({name:"transformOrigin",options:t,fn(e){var S,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=gT(n),m={start:"0%",center:"50%",end:"100%"}[d],h=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,y=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=o?m:`${h}px`,x=`${-c}px`):u==="top"?(w=o?m:`${h}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=o?m:`${y}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=o?m:`${y}px`),{data:{x:w,y:x}}}});function gT(t){const[e,n="center"]=t.split("-");return[e,n]}var n4=hT,r4=fT,s4=mT,[$d,W6]=Fl("Tooltip",[cT]),mg=cT(),yT="TooltipProvider",i4=700,z0="tooltip.open",[o4,vT]=$d(yT),wT=t=>{const{__scopeTooltip:e,delayDuration:n=i4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=T.useState(!0),c=T.useRef(!1),u=T.useRef(0);return T.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),f.jsx(o4,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:T.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};wT.displayName=yT;var _T="Tooltip",[q6,zd]=$d(_T),bp="TooltipTrigger",a4=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=zd(bp,n),i=vT(bp,n),o=mg(n),a=T.useRef(null),c=Wt(e,a,s.onTriggerChange),u=T.useRef(!1),d=T.useRef(!1),m=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),f.jsx(n4,{asChild:!0,...o,children:f.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:we(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:we(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:we(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:we(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:we(t.onBlur,s.onClose),onClick:we(t.onClick,s.onClose)})})});a4.displayName=bp;var l4="TooltipPortal",[G6,c4]=$d(l4,{forceMount:void 0}),Co="TooltipContent",xT=T.forwardRef((t,e)=>{const n=c4(Co,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=zd(Co,t.__scopeTooltip);return f.jsx(Ul,{present:r||o.open,children:o.disableHoverableContent?f.jsx(ET,{side:s,...i,ref:e}):f.jsx(u4,{side:s,...i,ref:e})})}),u4=T.forwardRef((t,e)=>{const n=zd(Co,t.__scopeTooltip),r=vT(Co,t.__scopeTooltip),s=T.useRef(null),i=Wt(e,s),[o,a]=T.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:m}=r,h=T.useCallback(()=>{a(null),m(!1)},[m]),y=T.useCallback((w,x)=>{const S=w.currentTarget,_={x:w.clientX,y:w.clientY},v=p4(_,S.getBoundingClientRect()),I=m4(_,v),k=g4(x.getBoundingClientRect()),D=v4([...I,...k]);a(D),m(!0)},[m]);return T.useEffect(()=>()=>h(),[h]),T.useEffect(()=>{if(c&&d){const w=S=>y(S,d),x=S=>y(S,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",x)}}},[c,d,y,h]),T.useEffect(()=>{if(o){const w=x=>{const S=x.target,_={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(S))||(d==null?void 0:d.contains(S)),I=!y4(_,o);v?h():I&&(h(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,o,u,h]),f.jsx(ET,{...t,ref:i})}),[d4,h4]=$d(_T,{isInside:!1}),ET=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=zd(Co,n),u=mg(n),{onClose:d}=c;return T.useEffect(()=>(document.addEventListener(z0,d),()=>document.removeEventListener(z0,d)),[d]),T.useEffect(()=>{if(c.trigger){const m=h=>{const y=h.target;y!=null&&y.contains(c.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,d]),f.jsx(ng,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:f.jsxs(r4,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(lE,{children:r}),f.jsx(d4,{scope:n,isInside:!0,children:f.jsx(uN,{id:c.contentId,role:"tooltip",children:s||r})})]})})});xT.displayName=Co;var TT="TooltipArrow",f4=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=mg(n);return h4(TT,n).isInside?null:f.jsx(s4,{...s,...r,ref:e})});f4.displayName=TT;function p4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function m4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function g4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function y4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,u=e[o].x,d=e[o].y;c>r!=d>r&&n<(u-a)*(r-c)/(d-c)+a&&(s=!s)}return s}function v4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),w4(e)}function w4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var _4=wT,IT=xT;const x4=_4,E4=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(IT,{ref:r,sideOffset:e,className:Ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));E4.displayName=IT.displayName;var Bd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hd=typeof window>"u"||"Deno"in globalThis;function xn(){}function T4(t,e){return typeof t=="function"?t(e):t}function I4(t){return typeof t=="number"&&t>=0&&t!==1/0}function S4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function B0(t,e){return typeof t=="function"?t(e):t}function b4(t,e){return typeof t=="function"?t(e):t}function H0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==gg(o,e.options))return!1}else if(!wl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function W0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(vl(e.options.mutationKey)!==vl(i))return!1}else if(!wl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function gg(t,e){return((e==null?void 0:e.queryKeyHashFn)||vl)(t)}function vl(t){return JSON.stringify(t,(e,n)=>Cp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function wl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!wl(t[n],e[n])):!1}function ST(t,e){if(t===e)return t;const n=q0(t)&&q0(e);if(n||Cp(t)&&Cp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=ST(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function q0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Cp(t){if(!G0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!G0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function G0(t){return Object.prototype.toString.call(t)==="[object Object]"}function C4(t){return new Promise(e=>{setTimeout(e,t)})}function A4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ST(t,e):e}function R4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function P4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var yg=Symbol();function bT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===yg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Zs,Zr,co,C_,N4=(C_=class extends Bd{constructor(){super();_e(this,Zs);_e(this,Zr);_e(this,co);ue(this,co,e=>{if(!Hd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Zr)||this.setEventListener(U(this,co))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Zr))==null||e.call(this),ue(this,Zr,void 0))}setEventListener(e){var n;ue(this,co,e),(n=U(this,Zr))==null||n.call(this),ue(this,Zr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Zs)!==e&&(ue(this,Zs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Zs)=="boolean"?U(this,Zs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zs=new WeakMap,Zr=new WeakMap,co=new WeakMap,C_),CT=new N4,uo,es,ho,A_,k4=(A_=class extends Bd{constructor(){super();_e(this,uo,!0);_e(this,es);_e(this,ho);ue(this,ho,e=>{if(!Hd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,es)||this.setEventListener(U(this,ho))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,es))==null||e.call(this),ue(this,es,void 0))}setEventListener(e){var n;ue(this,ho,e),(n=U(this,es))==null||n.call(this),ue(this,es,e(this.setOnline.bind(this)))}setOnline(e){U(this,uo)!==e&&(ue(this,uo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,uo)}},uo=new WeakMap,es=new WeakMap,ho=new WeakMap,A_),Qu=new k4;function O4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function D4(t){return Math.min(1e3*2**t,3e4)}function AT(t){return(t??"online")==="online"?Qu.isOnline():!0}var RT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function of(t){return t instanceof RT}function PT(t){let e=!1,n=0,r=!1,s;const i=O4(),o=x=>{var S;r||(h(new RT(x)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>CT.isFocused()&&(t.networkMode==="always"||Qu.isOnline())&&t.canRun(),d=()=>AT(t.networkMode)&&t.canRun(),m=x=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,x),s==null||s(),i.resolve(x))},h=x=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,x),s==null||s(),i.reject(x))},y=()=>new Promise(x=>{var S;s=_=>{(r||u())&&x(_)},(S=t.onPause)==null||S.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),w=()=>{if(r)return;let x;const S=n===0?t.initialPromise:void 0;try{x=S??t.fn()}catch(_){x=Promise.reject(_)}Promise.resolve(x).then(m).catch(_=>{var j;if(r)return;const v=t.retry??(Hd?0:3),I=t.retryDelay??D4,k=typeof I=="function"?I(n,_):I,D=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!D){h(_);return}n++,(j=t.onFail)==null||j.call(t,n,_),C4(k).then(()=>u()?void 0:y()).then(()=>{e?h(_):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?w():y().then(w),i)}}function M4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ot=M4(),ei,R_,NT=(R_=class{constructor(){_e(this,ei)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I4(this.gcTime)&&ue(this,ei,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hd?1/0:5*60*1e3))}clearGcTimeout(){U(this,ei)&&(clearTimeout(U(this,ei)),ue(this,ei,void 0))}},ei=new WeakMap,R_),fo,po,an,It,Rl,ti,En,ur,P_,j4=(P_=class extends NT{constructor(n){super();_e(this,En);_e(this,fo);_e(this,po);_e(this,an);_e(this,It);_e(this,Rl);_e(this,ti);ue(this,ti,!1),ue(this,Rl,n.defaultOptions),this.setOptions(n.options),this.observers=[],ue(this,an,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ue(this,fo,L4(this.options)),this.state=n.state??U(this,fo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,It))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Rl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,an).remove(this)}setData(n,r){const s=A4(this.state.data,n,this.options);return _t(this,En,ur).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){_t(this,En,ur).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,It))==null?void 0:s.promise;return(i=U(this,It))==null||i.cancel(n),r?r.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,fo))}isActive(){return this.observers.some(n=>b4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!S4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,It))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,It))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,an).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,It)&&(U(this,ti)?U(this,It).cancel({revert:!0}):U(this,It).cancelRetry()),this.scheduleGc()),U(this,an).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,En,ur).call(this,{type:"invalidate"})}fetch(n,r){var u,d,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,It))return U(this,It).continueRetry(),U(this,It).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ue(this,ti,!0),s.signal)})},o=()=>{const h=bT(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),ue(this,ti,!1),this.options.persister?this.options.persister(h,y,this):h(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),ue(this,po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&_t(this,En,ur).call(this,{type:"fetch",meta:(m=a.fetchOptions)==null?void 0:m.meta});const c=h=>{var y,w,x,S;of(h)&&h.silent||_t(this,En,ur).call(this,{type:"error",error:h}),of(h)||((w=(y=U(this,an).config).onError)==null||w.call(y,h,this),(S=(x=U(this,an).config).onSettled)==null||S.call(x,this.state.data,h,this)),this.scheduleGc()};return ue(this,It,PT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var y,w,x,S;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(_){c(_);return}(w=(y=U(this,an).config).onSuccess)==null||w.call(y,h,this),(S=(x=U(this,an).config).onSettled)==null||S.call(x,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,y)=>{_t(this,En,ur).call(this,{type:"failed",failureCount:h,error:y})},onPause:()=>{_t(this,En,ur).call(this,{type:"pause"})},onContinue:()=>{_t(this,En,ur).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,It).start()}},fo=new WeakMap,po=new WeakMap,an=new WeakMap,It=new WeakMap,Rl=new WeakMap,ti=new WeakMap,En=new WeakSet,ur=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...V4(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return of(i)&&i.revert&&U(this,po)?{...U(this,po),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ot.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,an).notify({query:this,type:"updated",action:n})})},P_);function V4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function L4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zn,N_,F4=(N_=class extends Bd{constructor(e={}){super();_e(this,zn);this.config=e,ue(this,zn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??gg(s,n);let o=this.get(i);return o||(o=new j4({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,zn).has(e.queryHash)||(U(this,zn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,zn).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,zn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,zn).get(e)}getAll(){return[...U(this,zn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>H0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>H0(e,r)):n}notify(e){Ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ot.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ot.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zn=new WeakMap,N_),Bn,Nt,ni,Hn,Hr,k_,U4=(k_=class extends NT{constructor(n){super();_e(this,Hn);_e(this,Bn);_e(this,Nt);_e(this,ni);this.mutationId=n.mutationId,ue(this,Nt,n.mutationCache),ue(this,Bn,[]),this.state=n.state||$4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Bn).includes(n)||(U(this,Bn).push(n),this.clearGcTimeout(),U(this,Nt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ue(this,Bn,U(this,Bn).filter(r=>r!==n)),this.scheduleGc(),U(this,Nt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Bn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Nt).remove(this))}continue(){var n;return((n=U(this,ni))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,c,u,d,m,h,y,w,x,S,_,v,I,k,D,j,b,E;ue(this,ni,PT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{_t(this,Hn,Hr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{_t(this,Hn,Hr).call(this,{type:"pause"})},onContinue:()=>{_t(this,Hn,Hr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Nt).canRun(this)}));const r=this.state.status==="pending",s=!U(this,ni).canStart();try{if(!r){_t(this,Hn,Hr).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=U(this,Nt).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));R!==this.state.context&&_t(this,Hn,Hr).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const A=await U(this,ni).start();return await((d=(u=U(this,Nt).config).onSuccess)==null?void 0:d.call(u,A,n,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,A,n,this.state.context)),await((w=(y=U(this,Nt).config).onSettled)==null?void 0:w.call(y,A,null,this.state.variables,this.state.context,this)),await((S=(x=this.options).onSettled)==null?void 0:S.call(x,A,null,n,this.state.context)),_t(this,Hn,Hr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(_=U(this,Nt).config).onError)==null?void 0:v.call(_,A,n,this.state.context,this)),await((k=(I=this.options).onError)==null?void 0:k.call(I,A,n,this.state.context)),await((j=(D=U(this,Nt).config).onSettled)==null?void 0:j.call(D,void 0,A,this.state.variables,this.state.context,this)),await((E=(b=this.options).onSettled)==null?void 0:E.call(b,void 0,A,n,this.state.context)),A}finally{_t(this,Hn,Hr).call(this,{type:"error",error:A})}}finally{U(this,Nt).runNext(this)}}},Bn=new WeakMap,Nt=new WeakMap,ni=new WeakMap,Hn=new WeakSet,Hr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ot.batch(()=>{U(this,Bn).forEach(s=>{s.onMutationUpdate(n)}),U(this,Nt).notify({mutation:this,type:"updated",action:n})})},k_);function $4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kt,Pl,O_,z4=(O_=class extends Bd{constructor(e={}){super();_e(this,Kt);_e(this,Pl);this.config=e,ue(this,Kt,new Map),ue(this,Pl,Date.now())}build(e,n,r){const s=new U4({mutationCache:this,mutationId:++gc(this,Pl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Lc(e),r=U(this,Kt).get(n)??[];r.push(e),U(this,Kt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Lc(e);if(U(this,Kt).has(n)){const s=(r=U(this,Kt).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?U(this,Kt).delete(n):U(this,Kt).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,Kt).get(Lc(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,Kt).get(Lc(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,Kt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>W0(n,r))}findAll(e={}){return this.getAll().filter(n=>W0(e,n))}notify(e){Ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ot.batch(()=>Promise.all(e.map(n=>n.continue().catch(xn))))}},Kt=new WeakMap,Pl=new WeakMap,O_);function Lc(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function K0(t){return{onFetch:(e,n)=>{var d,m,h,y,w;const r=e.options,s=(h=(m=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const S=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},_=bT(e.options,e.fetchOptions),v=async(I,k,D)=>{if(x)return Promise.reject();if(k==null&&I.pages.length)return Promise.resolve(I);const j={queryKey:e.queryKey,pageParam:k,direction:D?"backward":"forward",meta:e.options.meta};S(j);const b=await _(j),{maxPages:E}=e.options,A=D?P4:R4;return{pages:A(I.pages,b,E),pageParams:A(I.pageParams,k,E)}};if(s&&i.length){const I=s==="backward",k=I?B4:Q0,D={pages:i,pageParams:o},j=k(r,D);a=await v(D,j,I)}else{const I=t??i.length;do{const k=c===0?o[0]??r.initialPageParam:Q0(r,a);if(c>0&&k==null)break;a=await v(a,k),c++}while(c<I)}return a};e.options.persister?e.fetchFn=()=>{var x,S;return(S=(x=e.options).persister)==null?void 0:S.call(x,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Q0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function B4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Be,ts,ns,mo,go,rs,yo,vo,D_,H4=(D_=class{constructor(t={}){_e(this,Be);_e(this,ts);_e(this,ns);_e(this,mo);_e(this,go);_e(this,rs);_e(this,yo);_e(this,vo);ue(this,Be,t.queryCache||new F4),ue(this,ts,t.mutationCache||new z4),ue(this,ns,t.defaultOptions||{}),ue(this,mo,new Map),ue(this,go,new Map),ue(this,rs,0)}mount(){gc(this,rs)._++,U(this,rs)===1&&(ue(this,yo,CT.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Be).onFocus())})),ue(this,vo,Qu.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Be).onOnline())})))}unmount(){var t,e;gc(this,rs)._--,U(this,rs)===0&&((t=U(this,yo))==null||t.call(this),ue(this,yo,void 0),(e=U(this,vo))==null||e.call(this),ue(this,vo,void 0))}isFetching(t){return U(this,Be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,ts).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Be).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,Be).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(B0(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,Be).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Be).get(r.queryHash),i=s==null?void 0:s.state.data,o=T4(e,i);if(o!==void 0)return U(this,Be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ot.batch(()=>U(this,Be).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Be).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Be);Ot.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Be),r={type:"active",...t};return Ot.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ot.batch(()=>U(this,Be).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(xn).catch(xn)}invalidateQueries(t={},e={}){return Ot.batch(()=>{if(U(this,Be).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ot.batch(()=>U(this,Be).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(xn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Be).build(this,e);return n.isStaleByTime(B0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xn).catch(xn)}fetchInfiniteQuery(t){return t.behavior=K0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xn).catch(xn)}ensureInfiniteQueryData(t){return t.behavior=K0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Qu.isOnline()?U(this,ts).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Be)}getMutationCache(){return U(this,ts)}getDefaultOptions(){return U(this,ns)}setDefaultOptions(t){ue(this,ns,t)}setQueryDefaults(t,e){U(this,mo).set(vl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,mo).values()];let n={};return e.forEach(r=>{wl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,go).set(vl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,go).values()];let n={};return e.forEach(r=>{wl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,ns).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=gg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===yg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,ns).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Be).clear(),U(this,ts).clear()}},Be=new WeakMap,ts=new WeakMap,ns=new WeakMap,mo=new WeakMap,go=new WeakMap,rs=new WeakMap,yo=new WeakMap,vo=new WeakMap,D_),W4=T.createContext(void 0),q4=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(W4.Provider,{value:t,children:e}));const G4=og("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Mt=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ml:"button";return f.jsx(o,{className:Ue(G4({variant:e,size:n,className:t})),ref:i,...s})});Mt.displayName="Button";const kT=T.createContext(void 0),K4=({children:t})=>{const[e,n]=T.useState(null);T.useEffect(()=>{const i=localStorage.getItem("user");if(console.log("Stored user:",i),i){const o=JSON.parse(i);console.log("Parsed user:",o),n({name:o.name,id:o.id})}},[]);const r=i=>{localStorage.setItem("user",JSON.stringify(i)),n({name:i.name,id:i.id})},s=()=>{localStorage.removeItem("user"),n(null)};return f.jsx(kT.Provider,{value:{user:e,login:r,logout:s},children:t})},vg=()=>{const t=T.useContext(kT);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Ps=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[s,i]=T.useState(!1),o=T.useRef(null),a=T.useRef(null),{user:c,logout:u}=vg(),d=()=>e(!t),m=()=>r(!n),h=()=>i(!s);return T.useEffect(()=>{const y=w=>{o.current&&!o.current.contains(w.target)&&r(!1),a.current&&!a.current.contains(w.target)&&i(!1)};return n||s?document.addEventListener("mousedown",y):document.removeEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[n,s]),f.jsxs("nav",{className:"w-full py-4 bg-white shadow-sm relative z-50",children:[f.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[f.jsx(Me,{to:"/",className:"text-2xl font-bold gradient-text",children:"Super Shop"}),f.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[f.jsx(Me,{to:"/",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"الرئيسية"}),f.jsx(Me,{to:"/services",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"الخدمات"}),f.jsx(Me,{to:"/about-us",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"من نحن"}),f.jsx(Me,{to:"/order-tracking",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"تتبع الطلبات"}),!c&&f.jsx(f.Fragment,{children:f.jsx(Me,{to:"/login",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"تسجيل الدخول"})}),f.jsx(Mt,{asChild:!0,className:"bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:f.jsx(Me,{to:"/services",children:"ابدأ الآن"})}),c&&f.jsxs("div",{className:"relative",ref:o,children:[f.jsx("button",{onClick:m,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 transition","aria-label":"فتح قائمة الحساب",children:f.jsx(R0,{className:"w-8 h-8 text-smm-purple"})}),n&&f.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg py-4 px-6 text-gray-800 text-sm border border-gray-200 z-50",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("img",{src:"https://via.placeholder.com/50",alt:"Profile",className:"w-12 h-12 rounded-full mb-2"}),f.jsx("p",{className:"font-semibold truncate",children:c.name}),f.jsxs("p",{className:"text-xs opacity-80",children:["ID: ",c.id]})]}),f.jsx("hr",{className:"my-2"}),f.jsx("button",{onClick:u,className:"block text-center text-red-500 hover:underline w-full",children:"تسجيل الخروج"})]})]})]}),f.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[c&&f.jsxs("div",{className:"relative",ref:a,children:[f.jsx("button",{onClick:h,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 transition","aria-label":"فتح قائمة الحساب",children:f.jsx(R0,{className:"w-8 h-8 text-smm-purple"})}),s&&f.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg py-4 px-6 text-gray-800 text-sm border border-gray-200 z-50",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("img",{src:"https://via.placeholder.com/50",alt:"Profile",className:"w-12 h-12 rounded-full mb-2"}),f.jsx("p",{className:"font-semibold truncate",children:c.name}),f.jsxs("p",{className:"text-xs opacity-80",children:["ID: ",c.id]})]}),f.jsx("hr",{className:"my-2"}),f.jsx("button",{onClick:u,className:"block text-center text-red-500 hover:underline w-full",children:"تسجيل الخروج"})]})]}),f.jsx("div",{children:f.jsx(Mt,{variant:"ghost",size:"icon",onClick:d,"aria-label":"Toggle menu",children:t?f.jsx(FE,{}):f.jsx(MN,{})})})]})]}),t&&f.jsx("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-white shadow-md z-50 py-4 px-4",children:f.jsxs("div",{className:"flex flex-col space-y-4",children:[f.jsx(Me,{to:"/",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"الرئيسية"}),f.jsx(Me,{to:"/services",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"الخدمات"}),f.jsx(Me,{to:"/about-us",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"من نحن"}),f.jsx(Me,{to:"/order-tracking",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"تتبع الطلبات"}),!c&&f.jsx(f.Fragment,{children:f.jsx(Me,{to:"/login",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"تسجيل الدخول"})}),f.jsx(Mt,{asChild:!0,className:"bg-gradient-smm hover:bg-smm-purple transition-all duration-300 w-full",children:f.jsx(Me,{to:"/services",onClick:d,children:"ابدأ الآن"})}),c&&f.jsxs("div",{className:"bg-smm-purple text-white px-4 py-2 rounded-xl text-sm shadow-lg text-right",children:[f.jsx("div",{className:"font-semibold truncate",children:c.name}),f.jsxs("div",{className:"text-xs opacity-80",children:["ID: ",c.id]})]})]})})]})},Q4=()=>f.jsxs("div",{className:"relative overflow-hidden bg-white py-12 md:py-24",children:[f.jsx("div",{className:"absolute -top-10 -right-10 w-72 h-72 bg-smm-yellow opacity-10 rounded-full blur-3xl"}),f.jsx("div",{className:"absolute -bottom-10 -left-10 w-80 h-80 bg-smm-purple opacity-10 rounded-full blur-3xl"}),f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[f.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[f.jsx("span",{className:"gradient-text",children:"عزز تواجدك الاجتماعي"})," اليوم"]}),f.jsx("p",{className:"text-gray-600 text-lg md:text-xl mb-8 max-w-2xl",children:"احصل على تفاعل حقيقي لملفاتك الشخصية على وسائل التواصل الاجتماعي. متابعون وإعجابات ومشاهدات عالية الجودة يتم تسليمها بسرعة وأمان."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx(Mt,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 transition-all text-white font-medium px-8 py-6",children:f.jsx(Me,{to:"/services",children:"تصفح الخدمات"})}),f.jsx(Mt,{asChild:!0,variant:"outline",className:"border-smm-purple text-smm-purple hover:bg-smm-purple/5 px-8 py-6",children:f.jsx(Me,{to:"/services",children:"عرض الأسعار"})})]}),f.jsxs("div",{className:"mt-12 flex flex-wrap gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"50K+"}),f.jsx("span",{className:"text-gray-600",children:"طلبات مكتملة"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"100%"}),f.jsx("span",{className:"text-gray-600",children:"رضا العملاء"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"24/7"}),f.jsx("span",{className:"text-gray-600",children:"دعم فني"})]})]})]}),f.jsx("div",{className:"lg:w-1/2 relative",children:f.jsxs("div",{className:"relative w-full h-64 md:h-96 bg-gradient-to-r from-smm-purple to-smm-pink rounded-2xl overflow-hidden shadow-xl animate-float",children:[f.jsx("div",{className:"absolute inset-0 bg-black/10"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"text-white text-center px-6",children:[f.jsx("h3",{className:"text-2xl font-bold mb-2",children:"خدمات مميزة لوسائل التواصل الاجتماعي"}),f.jsx("p",{className:"mb-4",children:"انستغرام، تيك توك، تليجرام، يوتيوب والمزيد"}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full"})}),f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full"})}),f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-red-500 to-pink-500 rounded-full"})}),f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-full"})})]})]})})]})})]})})]}),Ns=()=>f.jsx("footer",{className:"bg-gray-50 pt-12 pb-8",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[f.jsxs("div",{children:[f.jsx(Me,{to:"/",className:"text-2xl font-bold gradient-text mb-4 inline-block",children:"Hson Store"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"خدمات تسويق مميزة على وسائل التواصل الاجتماعي لمساعدتك على تنمية تواجدك وتفاعلك عبر الإنترنت."}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"فيسبوك"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"انستغرام"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"تويتر"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"تليجرام"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{d:"M22.05 1.577c-.393-.016-.784.08-1.117.235-.484.186-4.92 1.902-9.41 3.64-2.26.873-4.518 1.746-6.256 2.415-1.737.67-3.045 1.168-3.114 1.192-.46.16-1.082.362-1.61.984-.133.155-.267.354-.335.628s-.038.622.095.895c.265.547.714.773 1.244.976 1.76.564 3.58 1.102 5.087 1.608.556 1.96 1.09 3.927 1.618 5.89.174.394.553.54.944.544l-.002.02s.307.03.606-.042c.3-.07.677-.244 1.02-.565.377-.354 1.4-1.36 1.98-1.928l4.37 3.226.035.02s.38.193.768.193c.39 0 .786-.16 1.022-.53.133-.206.2-.494.2-.798.008-.47-.377-1.027-.377-1.027s-3.95-3.604-6.215-5.68c.61-.61 1.223-1.22 1.83-1.83.442-.44.882-.882 1.32-1.325.87-.874 1.152-1.295 1.288-1.53.13-.233.166-.362.166-.362.009-.13.022-.283.006-.466-.04-.33-.2-.617-.48-.817-.28-.203-.67-.248-.67-.248h-3.478c-.392.013-.792.123-1.115.332-.323.2-.584.46-.79.752l-.178.284s-2.05 2.97-3.55 4.84c-1.596 1.987-2.07 1.77-2.07 1.77l-.024-.04s-.114-.066-.19-.215c-.083-.176-.114-.37-.114-.52 0-.36-.004-4.368-.004-4.368s-.146-.414-.493-.604c-.348-.19-.84-.233-.84-.233l-4.75.03s-.368.023-.605.207-.4.555-.264.847c.143.282.453.509.762.781.308.273 7.924 8.575 16.8 12.224 0 0 .883.353 1.427.392.544.04 1.043-.124 1.43-.358.386-.234.58-.494.656-.8.07-.298.07-.703.07-.703.006-.26-.025-.398-.025-.398z"})})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"روابط سريعة"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx(Me,{to:"/",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الرئيسية"})}),f.jsx("li",{children:f.jsx(Me,{to:"/services",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الخدمات"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"كيف تعمل"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الأسئلة الشائعة"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"اتصل بنا"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"خدماتنا"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"متابعين انستغرام"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"مشتركين تليجرام"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"إعجابات انستغرام"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"مشاهدات يوتيوب"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"متابعين تيك توك"})})]})]})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-8 flex flex-col md:flex-row justify-between items-center",children:[f.jsxs("p",{className:"text-gray-500 text-sm",children:["© ",new Date().getFullYear()," HSON STORE. جميع الحقوق محفوظة."]}),f.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[f.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"سياسة الخصوصية"}),f.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"شروط الخدمة"}),f.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"سياسة الاسترداد"})]})]})]})}),hi=T.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));hi.displayName="Card";const Ao=T.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ue("flex flex-col space-y-1.5 p-6",t),...e}));Ao.displayName="CardHeader";const Ro=T.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:Ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ro.displayName="CardTitle";const wg=T.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:Ue("text-sm text-muted-foreground",t),...e}));wg.displayName="CardDescription";const fi=T.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ue("p-6 pt-0",t),...e}));fi.displayName="CardContent";const Yu=T.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ue("flex items-center p-6 pt-0",t),...e}));Yu.displayName="CardFooter";const Y4=()=>{const t=[{name:"Instagrams",icon:"📸",description:"احصل على متابعين حقيقيين وإعجابات وتعليقات على انستغرام"},{name:"Telegram",icon:"✈️",description:"نمو قناتك على تليجرام مع مشتركين حقيقيين"},{name:"TikTok",icon:"🎵",description:"زيادة مشاهداتك ومتابعيك وتفاعلك على تيك توك"},{name:"YouTube",icon:"🎬",description:"عزز مشاهداتك ومشتركيك ووقت المشاهدة على يوتيوب"}];return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ps,{}),f.jsxs("main",{className:"flex-grow",children:[f.jsx(Q4,{}),f.jsx("section",{className:"py-16 bg-gray-50",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"المنصات التي ندعمها"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"نقدم خدمات عالية الجودة لوسائل التواصل الاجتماعي عبر جميع المنصات الرئيسية لمساعدتك على تنمية تواجدك عبر الإنترنت."})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>f.jsx(hi,{className:"hover:shadow-md transition-shadow",children:f.jsx(fi,{className:"p-6",children:f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("span",{className:"text-4xl mb-4",children:e.icon}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.name}),f.jsx("p",{className:"text-gray-600",children:e.description})]})})},n))})]})}),f.jsx("section",{className:"py-16",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"كيف تعمل"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"عمليتنا بسيطة وسريعة ومصممة لتحقيق النتائج بسرعة."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"1"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"اختر باقة"}),f.jsx("p",{className:"text-gray-600",children:"تصفح مجموعتنا من الخدمات واختر الباقة التي تناسب احتياجاتك."})]}),f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"2"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"أكمل الدفع"}),f.jsx("p",{className:"text-gray-600",children:"ادفع بأمان باستخدام طرق الدفع المختلفة لدينا، بما في ذلك رصيد آسيا سيل."})]}),f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"3"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"شاهد نموك"}),f.jsx("p",{className:"text-gray-600",children:"استرخ وشاهد بينما نقدم تفاعلاً عالي الجودة لملفاتك الشخصية على وسائل التواصل الاجتماعي."})]})]}),f.jsx("div",{className:"text-center mt-12",children:f.jsx(Mt,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 px-8 py-6",children:f.jsx(Me,{to:"/services",children:"ابدأ الآن"})})})]})}),f.jsx("section",{className:"py-16 bg-gradient-smm text-white",children:f.jsxs("div",{className:"container mx-auto px-4 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"هل أنت مستعد لتعزيز تواجدك الاجتماعي؟"}),f.jsx("p",{className:"text-white/80 max-w-2xl mx-auto mb-8",children:"انضم إلى آلاف العملاء الراضين الذين نجحوا في تنمية تواجدهم على وسائل التواصل الاجتماعي من خلال خدماتنا المتميزة."}),f.jsx(Mt,{asChild:!0,className:"bg-white text-smm-purple hover:bg-white/90 px-8 py-6",children:f.jsx(Me,{to:"/services",children:"عرض جميع الخدمات"})})]})})]}),f.jsx(Ns,{})]})},Jt=T.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Jt.displayName="Input";var X4="Label",OT=T.forwardRef((t,e)=>f.jsx(Oe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));OT.displayName=X4;var DT=OT;const J4=og("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tt=T.forwardRef(({className:t,...e},n)=>f.jsx(DT,{ref:n,className:Ue(J4(),t),...e}));tt.displayName=DT.displayName;const Z4=({title:t,description:e,price:n,features:r,popular:s=!1,platform:i,icon:o,quantity:a,id:c,minQuantity:u,pricePerUnit:d})=>{const[m,h]=T.useState(u||a||0),y=Ll();T.useEffect(()=>{h(u||a||0)},[u,a]),console.log("ServiceCard:",{id:c,title:t,minQuantity:u,pricePerUnit:d,selectedQuantity:m,calculatedPrice:u&&d?Math.ceil(m/u)*d:n});const w=_=>{const v=parseInt(_.target.value,10);if(!isNaN(v)&&u){let I=v;I<u?I=u:(I=Math.round(I/u)*u,I<u&&(I=u)),h(I)}else h(u||0)},x=u&&d?Math.ceil(m/u)*d:n,S=()=>{const _=new URLSearchParams;_.append("service",c),u&&d?(_.append("minQuantity",u.toString()),_.append("pricePerUnit",d.toString()),_.append("price",(x==null?void 0:x.toString())||"0"),_.append("quantity",m.toString())):(_.append("price",(n==null?void 0:n.toString())||"0"),_.append("quantity",(a==null?void 0:a.toString())||"0")),y(`/payment?${_.toString()}`)};return f.jsxs(hi,{className:`w-full transition-all duration-300 hover:shadow-lg ${s?"border-2 border-smm-pink relative":""}`,children:[s&&f.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-smm-pink text-white text-sm py-1 px-3 rounded-full",children:"الاختيار الأكثر شيوعًا"}),f.jsxs(Ao,{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"bg-gradient-smm w-10 h-10 rounded-full flex items-center justify-center text-white",children:o}),f.jsx("span",{className:"text-sm text-gray-500",children:i})]}),f.jsx(Ro,{className:"text-xl sm:text-2xl",children:t}),f.jsx(wg,{children:e})]}),f.jsxs(fi,{children:[f.jsx("div",{className:"mb-6",children:u&&d?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs(tt,{htmlFor:`quantity-${c}`,children:["الكمية (",u,"+)"]}),f.jsx(Jt,{id:`quantity-${c}`,type:"number",value:m,onChange:w,min:u,step:u})]}),f.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:["$",x==null?void 0:x.toFixed(2)]}),f.jsxs("p",{className:"text-sm text-gray-500",children:["السعر لـ ",m," ",t.toLowerCase()]})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:["$",n==null?void 0:n.toFixed(2)]}),f.jsxs("p",{className:"text-sm text-gray-500",children:["لـ ",a," ",t.toLowerCase()]})]})}),f.jsx("ul",{className:"space-y-2",children:r.map((_,v)=>f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),_]},v))})]}),f.jsx(Yu,{children:f.jsx(Mt,{className:`w-full ${s?"bg-gradient-smm":"bg-smm-purple"} hover:opacity-90`,onClick:S,children:"اطلب الآن"})})]})};function eO(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),c=n.length;n=[...n,o];function u(m){const{scope:h,children:y,...w}=m,x=(h==null?void 0:h[t][c])||a,S=T.useMemo(()=>w,Object.values(w));return f.jsx(x.Provider,{value:S,children:y})}function d(m,h){const y=(h==null?void 0:h[t][c])||a,w=T.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,tO(s,...e)]}function tO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const m=c(i)[`__scope${u}`];return{...a,...m}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var nO=T.createContext(void 0);function _g(t){const e=T.useContext(nO);return t||e||"ltr"}var af="rovingFocusGroup.onEntryFocus",rO={bubbles:!1,cancelable:!0},Wd="RovingFocusGroup",[Ap,MT,sO]=cE(Wd),[iO,qd]=eO(Wd,[sO]),[oO,aO]=iO(Wd),jT=T.forwardRef((t,e)=>f.jsx(Ap.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Ap.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(lO,{...t,ref:e})})}));jT.displayName=Wd;var lO=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...m}=t,h=T.useRef(null),y=Wt(e,h),w=_g(i),[x=null,S]=Dd({prop:o,defaultProp:a,onChange:c}),[_,v]=T.useState(!1),I=Pn(u),k=MT(n),D=T.useRef(!1),[j,b]=T.useState(0);return T.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(af,I),()=>E.removeEventListener(af,I)},[I]),f.jsx(oO,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:T.useCallback(E=>S(E),[S]),onItemShiftTab:T.useCallback(()=>v(!0),[]),onFocusableItemAdd:T.useCallback(()=>b(E=>E+1),[]),onFocusableItemRemove:T.useCallback(()=>b(E=>E-1),[]),children:f.jsx(Oe.div,{tabIndex:_||j===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...t.style},onMouseDown:we(t.onMouseDown,()=>{D.current=!0}),onFocus:we(t.onFocus,E=>{const A=!D.current;if(E.target===E.currentTarget&&A&&!_){const R=new CustomEvent(af,rO);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=k().filter(Z=>Z.focusable),O=N.find(Z=>Z.active),P=N.find(Z=>Z.id===x),se=[O,P,...N].filter(Boolean).map(Z=>Z.ref.current);FT(se,d)}}D.current=!1}),onBlur:we(t.onBlur,()=>v(!1))})})}),VT="RovingFocusGroupItem",LT=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=YE(),c=i||a,u=aO(VT,n),d=u.currentTabStopId===c,m=MT(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=u;return T.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),f.jsx(Ap.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:f.jsx(Oe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:we(t.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:we(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:we(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=dO(w,u.orientation,u.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=m().filter(v=>v.focusable).map(v=>v.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const v=_.indexOf(w.currentTarget);_=u.loop?hO(_,v+1):_.slice(v+1)}setTimeout(()=>FT(_))}})})})});LT.displayName=VT;var cO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uO(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dO(t,e,n){const r=uO(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cO[r]}function FT(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function hO(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var UT=jT,$T=LT,xg="Tabs",[fO,Y6]=Fl(xg,[qd]),zT=qd(),[pO,Eg]=fO(xg),BT=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,d=_g(a),[m,h]=Dd({prop:r,onChange:s,defaultProp:i});return f.jsx(pO,{scope:n,baseId:YE(),value:m,onValueChange:h,orientation:o,dir:d,activationMode:c,children:f.jsx(Oe.div,{dir:d,"data-orientation":o,...u,ref:e})})});BT.displayName=xg;var HT="TabsList",WT=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Eg(HT,n),o=zT(n);return f.jsx(UT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(Oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});WT.displayName=HT;var qT="TabsTrigger",GT=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Eg(qT,n),a=zT(n),c=YT(o.baseId,r),u=XT(o.baseId,r),d=r===o.value;return f.jsx($T,{asChild:!0,...a,focusable:!s,active:d,children:f.jsx(Oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:we(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:we(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:we(t.onFocus,()=>{const m=o.activationMode!=="manual";!d&&!s&&m&&o.onValueChange(r)})})})});GT.displayName=qT;var KT="TabsContent",QT=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Eg(KT,n),c=YT(a.baseId,r),u=XT(a.baseId,r),d=r===a.value,m=T.useRef(d);return T.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),f.jsx(Ul,{present:s||d,children:({present:h})=>f.jsx(Oe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});QT.displayName=KT;function YT(t,e){return`${t}-trigger-${e}`}function XT(t,e){return`${t}-content-${e}`}var mO=BT,JT=WT,ZT=GT,eI=QT;const gO=mO,tI=T.forwardRef(({className:t,...e},n)=>f.jsx(JT,{ref:n,className:Ue("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));tI.displayName=JT.displayName;const Oi=T.forwardRef(({className:t,...e},n)=>f.jsx(ZT,{ref:n,className:Ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Oi.displayName=ZT.displayName;const nI=T.forwardRef(({className:t,...e},n)=>f.jsx(eI,{ref:n,className:Ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));nI.displayName=eI.displayName;const yO=()=>{const[t,e]=T.useState("all"),n=[{id:"insta-followers",title:"رشق انستكرام",description:"متابعون انستغرام عالي الجودة يتفاعلون مع محتواك",features:["لا يتطلب كلمة مرور","ثابت بدون نزول"],popular:!0,platform:"Instagram",icon:"📸",minQuantity:300,pricePerUnit:1,category:"instagram"},{id:"telegram-followers",title:"رشق متابعين تيليكرام",description:"احصل على متابعين حقيقيين لقناتك التليجرام",features:["متابعون عالي الجودة","نمط نمو طبيعي","ضمان عدم النقص","دعم للقنوات الخاصة"],popular:!0,platform:"Telegram",icon:"✈️",minQuantity:500,pricePerUnit:1,category:"telegram"},{id:"tiktok-followers-1000",title:"متابعين تيك توك",description:"نمو حسابك على تيك توك مع متابعين عالي الجودة",features:["صورة ملف شخصي وسيرة ذاتية","متابعون مستقرون","لا يتطلب كلمة مرور","نمو آمن وطبيعي"],popular:!1,platform:"TikTok",icon:"🎵",minQuantity:1e3,pricePerUnit:8.99,category:"tiktok"},{id:"tiktok-likes-2000",title:"إعجابات تيك توك",description:"احصل على المزيد من التفاعل مع إعجابات تيك توك",features:["احتفاظ عالٍ","تسليم سريع","يعمل مع جميع الفيديوهات","يزيد الوصول الخوارزمي"],popular:!1,platform:"TikTok",icon:"❤️",minQuantity:2e3,pricePerUnit:5.99,category:"tiktok"},{id:"youtube-views-5000",title:"مشاهدات يوتيوب",description:"عزز أداء فيديوهاتك مع المزيد من المشاهدات",features:["مشاهدات باحتفاظ عالٍ","آمن لـ Ad-sense","استهداف جغرافي","يساعد في التوصيات"],popular:!0,platform:"YouTube",icon:"🎬",minQuantity:5e3,pricePerUnit:19.99,category:"youtube"},{id:"youtube-subscribers-500",title:"مشتركين يوتيوب",description:"نمو قناتك على يوتيوب مع مشتركين عالي الجودة",features:["حسابات تبدو حقيقية","تسليم تدريجي","لا يتطلب كلمة مرور","مشتركون مفعلون للإشعارات"],popular:!1,platform:"YouTube",icon:"👥",minQuantity:500,pricePerUnit:29.99,category:"youtube"}],r=t==="all"?n:n.filter(s=>s.category===t);return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ps,{}),f.jsx("main",{className:"flex-grow py-12",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"خدماتنا"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"تصفح مجموعتنا من خدمات وسائل التواصل الاجتماعي عالية الجودة لتعزيز تواجدك وتفاعلك عبر الإنترنت."})]}),f.jsxs(gO,{defaultValue:"all",value:t,onValueChange:e,className:"mb-12",children:[f.jsx("div",{className:"flex justify-center",children:f.jsxs(tI,{className:"bg-gray-100",children:[f.jsx(Oi,{value:"all",children:"جميع الخدمات"}),f.jsx(Oi,{value:"instagram",children:"انستغرام"}),f.jsx(Oi,{value:"telegram",children:"تليجرام"}),f.jsx(Oi,{value:"tiktok",children:"تيك توك"}),f.jsx(Oi,{value:"youtube",children:"يوتيوب"})]})}),f.jsx(nI,{value:t,className:"mt-8",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(s=>f.jsx(Z4,{id:s.id,title:s.title,description:s.description,features:s.features,popular:s.popular,platform:s.platform,icon:s.icon,minQuantity:s.minQuantity,pricePerUnit:s.pricePerUnit},s.id))})})]}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 mt-12",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"هل تحتاج إلى باقة مخصصة؟"}),f.jsx("p",{className:"text-gray-600",children:"لا تجد ما تبحث عنه؟ اتصل بنا للحصول على حل مخصص يلبي احتياجاتك."})]}),f.jsx("div",{className:"flex justify-center",children:f.jsx("a",{href:"mailto:uusheko@gmail.com",className:"inline-flex items-center justify-center bg-smm-purple hover:bg-smm-purple/90 text-white px-6 py-3 rounded-md font-medium transition-colors",children:"اتصل بنا"})})]})]})}),f.jsx(Ns,{})]})};function vO(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Tg="Radio",[wO,rI]=Fl(Tg),[_O,xO]=wO(Tg),sI=T.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:c,form:u,...d}=t,[m,h]=T.useState(null),y=Wt(e,S=>h(S)),w=T.useRef(!1),x=m?u||!!m.closest("form"):!0;return f.jsxs(_O,{scope:n,checked:s,disabled:o,children:[f.jsx(Oe.button,{type:"button",role:"radio","aria-checked":s,"data-state":aI(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:y,onClick:we(t.onClick,S=>{s||c==null||c(),x&&(w.current=S.isPropagationStopped(),w.current||S.stopPropagation())})}),x&&f.jsx(EO,{control:m,bubbles:!w.current,name:r,value:a,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});sI.displayName=Tg;var iI="RadioIndicator",oI=T.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=xO(iI,n);return f.jsx(Ul,{present:r||i.checked,children:f.jsx(Oe.span,{"data-state":aI(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});oI.displayName=iI;var EO=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=T.useRef(null),o=vO(n),a=oT(e);return T.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&m){const h=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(h)}},[o,n,r]),f.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function aI(t){return t?"checked":"unchecked"}var TO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ig="RadioGroup",[IO,X6]=Fl(Ig,[qd,rI]),lI=qd(),cI=rI(),[SO,bO]=IO(Ig),uI=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:c,dir:u,loop:d=!0,onValueChange:m,...h}=t,y=lI(n),w=_g(u),[x,S]=Dd({prop:i,defaultProp:s,onChange:m});return f.jsx(SO,{scope:n,name:r,required:o,disabled:a,value:x,onValueChange:S,children:f.jsx(UT,{asChild:!0,...y,orientation:c,dir:w,loop:d,children:f.jsx(Oe.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":a?"":void 0,dir:w,...h,ref:e})})})});uI.displayName=Ig;var dI="RadioGroupItem",hI=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=bO(dI,n),o=i.disabled||r,a=lI(n),c=cI(n),u=T.useRef(null),d=Wt(e,u),m=i.value===s.value,h=T.useRef(!1);return T.useEffect(()=>{const y=x=>{TO.includes(x.key)&&(h.current=!0)},w=()=>h.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),f.jsx($T,{asChild:!0,...a,focusable:!o,active:m,children:f.jsx(sI,{disabled:o,required:i.required,checked:m,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:we(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:we(s.onFocus,()=>{var y;h.current&&((y=u.current)==null||y.click())})})})});hI.displayName=dI;var CO="RadioGroupIndicator",fI=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=cI(n);return f.jsx(oI,{...s,...r,ref:e})});fI.displayName=CO;var pI=uI,mI=hI,AO=fI;const Rp=T.forwardRef(({className:t,...e},n)=>f.jsx(pI,{className:Ue("grid gap-2",t),...e,ref:n}));Rp.displayName=pI.displayName;const au=T.forwardRef(({className:t,...e},n)=>f.jsx(mI,{ref:n,className:Ue("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:f.jsx(AO,{className:"flex items-center justify-center",children:f.jsx(ON,{className:"h-2.5 w-2.5 fill-current text-current"})})}));au.displayName=mI.displayName;var RO="Separator",Y0="horizontal",PO=["horizontal","vertical"],gI=T.forwardRef((t,e)=>{const{decorative:n,orientation:r=Y0,...s}=t,i=NO(r)?r:Y0,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx(Oe.div,{"data-orientation":i,...a,...s,ref:e})});gI.displayName=RO;function NO(t){return PO.includes(t)}var yI=gI;const lu=T.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>f.jsx(yI,{ref:s,decorative:n,orientation:e,className:Ue("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));lu.displayName=yI.displayName;const vI=T.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));vI.displayName="Textarea";const kO=()=>{const t=zo(),e=Ll(),{toast:n}=oE(),[r,s]=T.useState({socialLink:"",paymentMethod:"asiacell",asiacellNumber:"",asiacellSubMethod:"card",asiacellTransferPhoneNumber:"",additionalInfo:""}),[i,o]=T.useState({serviceId:"",price:0,quantity:0}),[a,c]=T.useState(!1);T.useEffect(()=>{const h=new URLSearchParams(t.search),y=h.get("service")||"",w=parseFloat(h.get("price")||"0"),x=parseInt(h.get("quantity")||"0",10);if(!y||w===0){e("/services"),n({title:"خطأ",description:"يرجى اختيار خدمة أولاً",variant:"destructive"});return}o({serviceId:y,price:w,quantity:x}),console.log("Payment Page - Extracted Service Info:",{serviceId:y,price:w,quantity:x})},[t,e,n]);const u=h=>{const{name:y,value:w}=h.target;s(x=>({...x,[y]:w}))},d=h=>{s(y=>({...y,paymentMethod:h}))},m=h=>{if(h.preventDefault(),c(!0),!r.socialLink){n({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"}),c(!1);return}if(r.paymentMethod==="asiacell"){if(r.asiacellSubMethod==="card"&&!r.asiacellNumber){n({title:"خطأ",description:"يرجى إدخال رقم كارت Asiacell",variant:"destructive"}),c(!1);return}if(r.asiacellSubMethod==="transfer"&&!r.asiacellTransferPhoneNumber){n({title:"خطأ",description:"يرجى إدخال رقم هاتفك للتحويل",variant:"destructive"}),c(!1);return}}setTimeout(()=>{console.log("Order submitted:",{...r,...i}),n({title:"تم استلام الطلب!",description:"سنقوم بمعالجة طلبك قريباً. تحقق من بريدك الإلكتروني للتأكيد."}),setTimeout(()=>e("/"),2e3),c(!1)},1500)};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[f.jsx(Ps,{}),f.jsx("main",{className:"flex-grow py-12",children:f.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[f.jsx("div",{className:"mb-8",children:f.jsx(Me,{to:"/services",className:"inline-flex items-center text-gray-600 hover:text-smm-purple transition-colors text-sm font-medium",children:"← العودة إلى الخدمات"})}),f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"أكمل طلبك"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"املأ التفاصيل الخاصة بك لتقديم طلبك"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx(hi,{className:"shadow-lg rounded-lg",children:f.jsxs("form",{onSubmit:m,children:[f.jsxs(Ao,{className:"border-b border-gray-200 pb-4",children:[f.jsx(Ro,{className:"text-2xl font-semibold text-gray-800",children:"معلوماتك"}),f.jsx(wg,{className:"text-gray-600",children:"سنستخدم هذه المعلومات لمعالجة طلبك"})]}),f.jsxs(fi,{className:"space-y-6 pt-6",children:[f.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs(tt,{htmlFor:"socialLink",className:"text-gray-700 font-medium",children:["رابط وسائل التواصل الاجتماعي",f.jsx("span",{className:"text-sm text-gray-500 ml-1 font-normal",children:"(رابط إلى ملفك الشخصي/منشورك)"})]}),f.jsx(Jt,{id:"socialLink",name:"socialLink",placeholder:"https://instagram.com/yourusername",value:r.socialLink,onChange:u,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})}),f.jsx(lu,{className:"my-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(tt,{className:"text-gray-700 font-medium",children:"طريقة الدفع"}),f.jsx(Rp,{value:r.paymentMethod,onValueChange:d,className:"flex flex-col space-y-3",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(au,{value:"asiacell",id:"asiacell"}),f.jsx(tt,{htmlFor:"asiacell",className:"cursor-pointer text-gray-600",children:"رصيد Asiacell للجوال"})]})})]}),r.paymentMethod==="asiacell"&&f.jsxs("div",{className:"space-y-4 mt-4 p-4 border border-gray-300 rounded-md bg-gray-50",children:[f.jsx(tt,{className:"text-gray-700 font-medium",children:"اختر طريقة الدفع عبر Asiacell:"}),f.jsxs(Rp,{value:r.asiacellSubMethod,onValueChange:h=>s(y=>({...y,asiacellSubMethod:h})),className:"flex flex-col space-y-3",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(au,{value:"card",id:"asiacell-card"}),f.jsx(tt,{htmlFor:"asiacell-card",className:"cursor-pointer text-gray-600",children:"ارسال رقم كارت الرصيد"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(au,{value:"transfer",id:"asiacell-transfer"}),f.jsx(tt,{htmlFor:"asiacell-transfer",className:"cursor-pointer text-gray-600",children:"التحويل"})]})]}),r.asiacellSubMethod==="card"&&f.jsxs("div",{className:"space-y-2 mt-4",children:[f.jsx(tt,{htmlFor:"asiacellNumber",className:"text-gray-700 font-medium",children:"رقم كارت الرصيد"}),f.jsx(Jt,{id:"asiacellNumber",name:"asiacellNumber",placeholder:"أدخل رقم كارت الرصيد",value:r.asiacellNumber,onChange:u,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]}),r.asiacellSubMethod==="transfer"&&f.jsxs("div",{className:"space-y-2 mt-4",children:[f.jsx(tt,{htmlFor:"asiacellTransferPhoneNumber",className:"text-gray-700 font-medium",children:"رقم هاتفك الشخصي (للتأكيد)"}),f.jsx(Jt,{id:"asiacellTransferPhoneNumber",name:"asiacellTransferPhoneNumber",placeholder:"أدخل رقم هاتفك",value:r.asiacellTransferPhoneNumber,onChange:u,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"}),f.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["يرجى تحويل المبلغ المطلوب إلى هذا الرقم:"," ",f.jsx("span",{className:"font-bold text-smm-purple",children:"07704061932"})]}),f.jsx("p",{className:"text-sm text-gray-500",children:"بعد التحويل، أدخل رقم هاتفك أعلاه للتأكيد وسنقوم بمعالجة طلبك."})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(tt,{htmlFor:"additionalInfo",className:"text-gray-700 font-medium",children:"معلومات إضافية (اختياري)"}),f.jsx(vI,{id:"additionalInfo",name:"additionalInfo",placeholder:"أي متطلبات أو أسئلة محددة؟",value:r.additionalInfo,onChange:u,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})]}),f.jsx(Yu,{className:"pt-6",children:f.jsx(Mt,{type:"submit",className:"w-full bg-gradient-smm hover:opacity-90 text-lg py-3",disabled:a,children:a?"جاري المعالجة...":"إكمال الطلب"})})]})})}),f.jsxs("div",{children:[f.jsxs(hi,{className:"shadow-lg rounded-lg",children:[f.jsx(Ao,{className:"border-b border-gray-200 pb-4",children:f.jsx(Ro,{className:"text-2xl font-semibold text-gray-800",children:"ملخص الطلب"})}),f.jsx(fi,{className:"space-y-4 pt-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"معرف الخدمة:"}),f.jsx("span",{className:"font-medium text-gray-800",children:i.serviceId})]}),i.quantity>0&&f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الكمية:"}),f.jsx("span",{className:"font-medium text-gray-800",children:i.quantity})]}),f.jsx(lu,{}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"المجموع الفرعي:"}),f.jsxs("span",{className:"font-medium text-gray-800",children:["$",i.price.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"رسوم المعالجة:"}),f.jsx("span",{className:"font-medium text-gray-800",children:"$0.00"})]}),f.jsx(lu,{}),f.jsxs("div",{className:"flex justify-between font-bold text-gray-800 text-xl",children:[f.jsx("span",{children:"الإجمالي:"}),f.jsxs("span",{children:["$",i.price.toFixed(2)]})]})]})}),f.jsx(Yu,{className:"flex flex-col items-start space-y-4 pt-6",children:f.jsxs("div",{className:"text-sm text-gray-600",children:[f.jsx("p",{className:"font-semibold mb-2 text-gray-700",children:"ملاحظات الطلب:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[f.jsx("li",{children:"يبدأ التسليم خلال 24 ساعة"}),f.jsx("li",{children:"لا يتطلب كلمة مرور"}),f.jsx("li",{children:"آمن ومضمون 100%"})]})]})})]}),f.jsx("div",{className:"mt-6 p-4 bg-gray-100 rounded-md border border-gray-200",children:f.jsxs("p",{className:"text-sm text-gray-700",children:[f.jsx("span",{className:"font-semibold block mb-1 text-gray-800",children:"هل تحتاج مساعدة؟"}),"إذا كان لديك أي أسئلة أو تحتاج إلى مساعدة، اتصل بفريق الدعم لدينا على"," ",f.jsx("a",{href:"mailto:uusheko@gmail.com",className:"text-smm-purple hover:underline",children:"uusheko@gmail.com"})]})})]})]})]})}),f.jsx(Ns,{})]})},OO=()=>{const t=zo();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},DO=()=>f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ps,{}),f.jsxs("main",{className:"flex-grow",children:[f.jsx("section",{className:"py-16 bg-gray-100 text-center",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"عن متجرنا المميز"}),f.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"اكتشف قصتنا، مهمتنا، والأشخاص الشغوفين وراء نجاحنا."})]})}),f.jsx("section",{className:"py-16",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[f.jsxs("div",{className:"md:w-1/2",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:"قصتنا"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"تأسس متجرنا المميز في [السنة] بهدف بسيط: توفير [منتجات/خدمات] عالية الجودة لمجتمعنا. ما بدأ كمشروع صغير نما ليصبح اسمًا موثوقًا به، معروفًا بالتزامنا بالتميز ورضا العملاء."}),f.jsx("p",{className:"text-gray-600",children:"على مر السنين، قمنا بتوسيع عروضنا وحققنا إنجازات جديدة، لكن قيمنا الأساسية لا تزال كما هي. نؤمن ببناء علاقات دائمة مع عملائنا وإحداث تأثير إيجابي."})]}),f.jsx("div",{className:"md:w-1/2",children:f.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-500",children:"صورة توضيحية"})})]})})}),f.jsx("section",{className:"py-16 bg-gray-50",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-8",children:[f.jsxs("div",{className:"md:w-1/2",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:"مهمتنا"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"مهمتنا هي [بيان مهمتك]. نسعى جاهدين لـ [الجوانب الرئيسية لمهمتك، مثل: تقديم قيمة استثنائية، تعزيز الابتكار، دعم المجتمعات المحلية]."}),f.jsx("p",{className:"text-gray-600",children:"نحن ملتزمون بـ [جانب رئيسي آخر من مهمتك]. كل قرار نتخذه يسترشد بالتزامنا بـ [القيمة الأساسية المتعلقة بالمهمة]."})]}),f.jsx("div",{className:"md:w-1/2",children:f.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-500",children:"صورة توضيحية"})})]})})})]}),f.jsx(Ns,{})]}),MO=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(null),[s,i]=T.useState(!1),[o,a]=T.useState(""),c=d=>{e(d.target.value)},u=d=>{if(d.preventDefault(),a(""),r(null),!t){a("Please enter an Order ID.");return}i(!0),setTimeout(()=>{i(!1),t==="12345"?r({id:"12345",service:"رشق انستكرام",quantity:500,status:"قيد المعالجة",date:"2023-10-27"}):a("Order not found.")},1500)};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[f.jsx(Ps,{}),f.jsx("main",{className:"flex-grow py-12",children:f.jsxs("div",{className:"container mx-auto px-4 max-w-2xl",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8",children:"تتبع طلبك"}),f.jsxs(hi,{className:"shadow-lg rounded-lg",children:[f.jsx(Ao,{className:"border-b border-gray-200 pb-4",children:f.jsx(Ro,{className:"text-2xl font-semibold text-gray-800",children:"أدخل معرف الطلب"})}),f.jsx(fi,{className:"space-y-4 pt-6",children:f.jsxs("form",{onSubmit:u,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(tt,{htmlFor:"orderId",className:"text-gray-700 font-medium",children:"معرف الطلب"}),f.jsx(Jt,{id:"orderId",type:"text",placeholder:"أدخل معرف طلبك هنا",value:t,onChange:c,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]}),o&&f.jsx("p",{className:"text-red-500 text-sm",children:o}),f.jsx(Mt,{type:"submit",className:"w-full bg-gradient-smm hover:opacity-90 text-lg py-3",disabled:s,children:s?"جاري البحث...":"تتبع الطلب"})]})})]}),n&&f.jsxs(hi,{className:"shadow-lg rounded-lg mt-8",children:[f.jsx(Ao,{className:"border-b border-gray-200 pb-4",children:f.jsx(Ro,{className:"text-2xl font-semibold text-gray-800",children:"تفاصيل الطلب"})}),f.jsxs(fi,{className:"space-y-4 pt-6",children:[f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"معرف الطلب:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.id})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الخدمة:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.service})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الكمية:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.quantity})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الحالة:"}),f.jsx("span",{className:`font-medium ${n.status==="قيد المعالجة"?"text-yellow-600":"text-green-600"}`,children:n.status})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"التاريخ:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.date})]})]})]})]})}),f.jsx(Ns,{})]})},jO=()=>{};var X0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},VO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},_I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,m=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(h=64)),r.push(n[d],n[m],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||m==null)throw new LO;const h=i<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),m!==64){const w=u<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FO=function(t){const e=wI(t);return _I.encodeByteArray(e,!0)},Xu=function(t){return FO(t).replace(/\./g,"")},xI=function(t){try{return _I.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=()=>UO().__FIREBASE_DEFAULTS__,zO=()=>{if(typeof process>"u"||typeof X0>"u")return;const t=X0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xI(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return jO()||$O()||zO()||BO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EI=t=>{var e,n;return(n=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HO=t=>{const e=EI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TI=()=>{var t;return(t=Gd())===null||t===void 0?void 0:t.config},II=t=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){return t.endsWith(".cloudworkstations.dev")}async function SI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xu(JSON.stringify(n)),Xu(JSON.stringify(o)),""].join(".")}const Ha={};function GO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ha))Ha[e]?t.emulator.push(e):t.prod.push(e);return t}function KO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let J0=!1;function bI(t,e){if(typeof window>"u"||typeof document>"u"||!zl(window.location.host)||Ha[t]===e||Ha[t]||J0)return;Ha[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=GO().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,y){h.setAttribute("width","24"),h.setAttribute("id",y),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{J0=!0,o()},h}function d(h,y){h.setAttribute("id",y),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function m(){const h=KO(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),S=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const I=h.element;a(I),d(S,x);const k=u();c(v,_),I.append(v,w,S,k),document.body.appendChild(I)}i?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function YO(){var t;const e=(t=Gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eD(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tD(){return!YO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nD(){try{return typeof indexedDB=="object"}catch{return!1}}function rD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sD,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?iD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new kr(s,a,r)}}function iD(t,e){return t.replace(oD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const oD=/\{\$([^}]+)}/g;function aD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Z0(i)&&Z0(o)){if(!pi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Z0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lD(t,e){const n=new cD(t,e);return n.subscribe.bind(n)}class cD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lf),s.error===void 0&&(s.error=lf),s.complete===void 0&&(s.complete=lf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fD(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hD(t){return t===Ks?void 0:t}function fD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const mD={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},gD=fe.INFO,yD={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},vD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=yD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=gD,this._logHandler=vD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const wD=(t,e)=>e.some(n=>t instanceof n);let ew,tw;function _D(){return ew||(ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xD(){return tw||(tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CI=new WeakMap,Pp=new WeakMap,AI=new WeakMap,cf=new WeakMap,bg=new WeakMap;function ED(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ys(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CI.set(n,t)}).catch(()=>{}),bg.set(e,t),e}function TD(t){if(Pp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Pp.set(t,e)}let Np={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ID(t){Np=t(Np)}function SD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uf(this),e,...n);return AI.set(r,e.sort?e.sort():[e]),ys(r)}:xD().includes(t)?function(...e){return t.apply(uf(this),e),ys(CI.get(this))}:function(...e){return ys(t.apply(uf(this),e))}}function bD(t){return typeof t=="function"?SD(t):(t instanceof IDBTransaction&&TD(t),wD(t,_D())?new Proxy(t,Np):t)}function ys(t){if(t instanceof IDBRequest)return ED(t);if(cf.has(t))return cf.get(t);const e=bD(t);return e!==t&&(cf.set(t,e),bg.set(e,t)),e}const uf=t=>bg.get(t);function CD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ys(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ys(o.result),c.oldVersion,c.newVersion,ys(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const AD=["get","getKey","getAll","getAllKeys","count"],RD=["put","add","delete","clear"],df=new Map;function nw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(df.get(e))return df.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=RD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||AD.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return df.set(e,i),i}ID(t=>({...t,get:(e,n,r)=>nw(e,n)||t.get(e,n,r),has:(e,n)=>!!nw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ND(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ND(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kp="@firebase/app",rw="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Sg("@firebase/app"),kD="@firebase/app-compat",OD="@firebase/analytics-compat",DD="@firebase/analytics",MD="@firebase/app-check-compat",jD="@firebase/app-check",VD="@firebase/auth",LD="@firebase/auth-compat",FD="@firebase/database",UD="@firebase/data-connect",$D="@firebase/database-compat",zD="@firebase/functions",BD="@firebase/functions-compat",HD="@firebase/installations",WD="@firebase/installations-compat",qD="@firebase/messaging",GD="@firebase/messaging-compat",KD="@firebase/performance",QD="@firebase/performance-compat",YD="@firebase/remote-config",XD="@firebase/remote-config-compat",JD="@firebase/storage",ZD="@firebase/storage-compat",eM="@firebase/firestore",tM="@firebase/ai",nM="@firebase/firestore-compat",rM="firebase",sM="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="[DEFAULT]",iM={[kp]:"fire-core",[kD]:"fire-core-compat",[DD]:"fire-analytics",[OD]:"fire-analytics-compat",[jD]:"fire-app-check",[MD]:"fire-app-check-compat",[VD]:"fire-auth",[LD]:"fire-auth-compat",[FD]:"fire-rtdb",[UD]:"fire-data-connect",[$D]:"fire-rtdb-compat",[zD]:"fire-fn",[BD]:"fire-fn-compat",[HD]:"fire-iid",[WD]:"fire-iid-compat",[qD]:"fire-fcm",[GD]:"fire-fcm-compat",[KD]:"fire-perf",[QD]:"fire-perf-compat",[YD]:"fire-rc",[XD]:"fire-rc-compat",[JD]:"fire-gcs",[ZD]:"fire-gcs-compat",[eM]:"fire-fst",[nM]:"fire-fst-compat",[tM]:"fire-vertex","fire-js":"fire-js",[rM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,oM=new Map,Dp=new Map;function sw(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(Dp.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,t);for(const n of Ju.values())sw(n,t);for(const n of oM.values())sw(n,t);return!0}function Cg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new Bl("app","Firebase",aM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=sM;function RI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Op,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw vs.create("bad-app-name",{appName:String(s)});if(n||(n=TI()),!n)throw vs.create("no-options");const i=Ju.get(s);if(i){if(pi(n,i.options)&&pi(r,i.config))return i;throw vs.create("duplicate-app",{appName:s})}const o=new pD(s);for(const c of Dp.values())o.addComponent(c);const a=new lM(n,r,o);return Ju.set(s,a),a}function PI(t=Op){const e=Ju.get(t);if(!e&&t===Op&&TI())return RI();if(!e)throw vs.create("no-app",{appName:t});return e}function ws(t,e,n){var r;let s=(r=iM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}Po(new mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="firebase-heartbeat-database",uM=1,_l="firebase-heartbeat-store";let hf=null;function NI(){return hf||(hf=CD(cM,uM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_l)}catch(n){console.warn(n)}}}}).catch(t=>{throw vs.create("idb-open",{originalErrorMessage:t.message})})),hf}async function dM(t){try{const n=(await NI()).transaction(_l),r=await n.objectStore(_l).get(kI(t));return await n.done,r}catch(e){if(e instanceof kr)Sr.warn(e.message);else{const n=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function iw(t,e){try{const r=(await NI()).transaction(_l,"readwrite");await r.objectStore(_l).put(e,kI(t)),await r.done}catch(n){if(n instanceof kr)Sr.warn(n.message);else{const r=vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function kI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=1024,fM=30;class pM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ow();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>fM){const o=yM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ow(),{heartbeatsToSend:r,unsentEntries:s}=mM(this._heartbeatsCache.heartbeats),i=Xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Sr.warn(n),""}}}function ow(){return new Date().toISOString().substring(0,10)}function mM(t,e=hM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),aw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),aw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nD()?rD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return iw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return iw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function aw(t){return Xu(JSON.stringify({version:2,heartbeats:t})).length}function yM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){Po(new mi("platform-logger",e=>new PD(e),"PRIVATE")),Po(new mi("heartbeat",e=>new pM(e),"PRIVATE")),ws(kp,rw,t),ws(kp,rw,"esm2017"),ws("fire-js","")}vM("");var wM="firebase",_M="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(wM,_M,"app");function Ag(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function OI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xM=OI,DI=new Bl("auth","Firebase",OI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Sg("@firebase/auth");function EM(t,...e){Zu.logLevel<=fe.WARN&&Zu.warn(`Auth (${qo}): ${t}`,...e)}function cu(t,...e){Zu.logLevel<=fe.ERROR&&Zu.error(`Auth (${qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,...e){throw Rg(t,...e)}function Qn(t,...e){return Rg(t,...e)}function MI(t,e,n){const r=Object.assign(Object.assign({},xM()),{[e]:n});return new Bl("auth","Firebase",r).create(e,{appName:t.name})}function ii(t){return MI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DI.create(t,...e)}function re(t,e,...n){if(!t)throw Rg(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cu(e),new Error(e)}function Cr(t,e){t||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TM(){return lw()==="http:"||lw()==="https:"}function lw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TM()||JO()||"connection"in navigator)?navigator.onLine:!0}function SM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=QO()||ZO()}get(){return IM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e){Cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AM=new Wl(3e4,6e4);function Ng(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Go(t,e,n,r,s={}){return VI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Hl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return XO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&zl(t.emulatorConfig.host)&&(u.credentials="include"),jI.fetch()(await LI(t,t.config.apiHost,n,a),u)})}async function VI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bM),e);try{const s=new PM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Fc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Fc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Fc(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw MI(t,d,u);br(t,d)}}catch(s){if(s instanceof kr)throw s;br(t,"network-request-failed",{message:String(s)})}}async function RM(t,e,n,r,s={}){const i=await Go(t,e,n,r,s);return"mfaPendingCredential"in i&&br(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function LI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Pg(t.config,s):`${t.config.apiScheme}://${s}`;return CM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class PM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),AM.get())})}}function Fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function ed(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kM(t,e=!1){const n=mn(t),r=await n.getIdToken(e),s=kg(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Wa(ff(s.auth_time)),issuedAtTime:Wa(ff(s.iat)),expirationTime:Wa(ff(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ff(t){return Number(t)*1e3}function kg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cu("JWT malformed, contained fewer than 3 sections"),null;try{const s=xI(n);return s?JSON.parse(s):(cu("Failed to decode base64 JWT payload"),null)}catch(s){return cu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function cw(t){const e=kg(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&OM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wa(this.lastLoginAt),this.creationTime=Wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t){var e;const n=t.auth,r=await t.getIdToken(),s=await xl(t,ed(n,{idToken:r}));re(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?FI(i.providerUserInfo):[],a=jM(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new jp(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function MM(t){const e=mn(t);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function FI(t){return t.map(e=>{var{providerId:n}=e,r=Ag(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t,e){const n=await VI(t,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await LI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LM(t,e){return Go(t,"POST","/v2/accounts:revokeToken",Ng(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=cw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await VM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new io;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await xl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kM(this,e)}reload(){return MM(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await td(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await xl(this,NM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,u,d;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:k,isAnonymous:D,providerData:j,stsTokenManager:b}=n;re(I&&b,e,"internal-error");const E=io.fromJSON(this.name,b);re(typeof I=="string",e,"internal-error"),Br(m,e.name),Br(h,e.name),re(typeof k=="boolean",e,"internal-error"),re(typeof D=="boolean",e,"internal-error"),Br(y,e.name),Br(w,e.name),Br(x,e.name),Br(S,e.name),Br(_,e.name),Br(v,e.name);const A=new Sn({uid:I,auth:e,email:h,emailVerified:k,displayName:m,isAnonymous:D,photoURL:w,phoneNumber:y,tenantId:x,stsTokenManager:E,createdAt:_,lastLoginAt:v});return j&&Array.isArray(j)&&(A.providerData=j.map(R=>Object.assign({},R))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new io;s.updateFromServerResponse(n);const i=new Sn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await td(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?FI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new io;a.updateFromIdToken(r);const c=new Sn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new jp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;function gr(t){Cr(t instanceof Function,"Expected a class definition");let e=uw.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UI.type="NONE";const dw=UI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t,e,n){return`firebase:${t}:${e}:${n}`}class oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=uu(this.userKey,s.apiKey,i),this.fullPersistenceKey=uu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ed(this.auth,{idToken:e}).catch(()=>{});return n?Sn._fromGetAccountInfoResponse(this.auth,n,e):null}return Sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oo(gr(dw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||gr(dw);const o=uu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let m;if(typeof d=="string"){const h=await ed(e,{idToken:d}).catch(()=>{});if(!h)break;m=await Sn._fromGetAccountInfoResponse(e,h,d)}else m=Sn._fromJSON(e,d);u!==i&&(a=m),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new oo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new oo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($I(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qI(e))return"Blackberry";if(GI(e))return"Webos";if(zI(e))return"Safari";if((e.includes("chrome/")||BI(e))&&!e.includes("edge/"))return"Chrome";if(WI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $I(t=Rt()){return/firefox\//i.test(t)}function zI(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BI(t=Rt()){return/crios\//i.test(t)}function HI(t=Rt()){return/iemobile/i.test(t)}function WI(t=Rt()){return/android/i.test(t)}function qI(t=Rt()){return/blackberry/i.test(t)}function GI(t=Rt()){return/webos/i.test(t)}function Og(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FM(t=Rt()){var e;return Og(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UM(){return eD()&&document.documentMode===10}function KI(t=Rt()){return Og(t)||WI(t)||GI(t)||qI(t)||/windows phone/i.test(t)||HI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t,e=[]){let n;switch(t){case"Browser":n=hw(Rt());break;case"Worker":n=`${hw(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e={}){return Go(t,"GET","/v2/passwordPolicy",Ng(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=6;class HM{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:BM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fw(this),this.idTokenSubscription=new fw(this),this.beforeStateQueue=new $M(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ed(this,{idToken:e}),r=await Sn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(ii(this));const n=e?mn(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zM(this),n=new HM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&EM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dg(t){return mn(t)}class fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=lD(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qM(t){Mg=t}function GM(t){return Mg.loadJS(t)}function KM(){return Mg.gapiScript}function QM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){const n=Cg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(pi(i,e??{}))return s;br(s,"already-initialized")}return n.initialize({options:e})}function XM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JM(t,e,n){const r=Dg(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=YI(e),{host:o,port:a}=ZM(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(pi(u,r.config.emulator)&&pi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,zl(o)?(SI(`${i}//${o}${c}`),bI("Auth",!0)):ej()}function YI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZM(t){const e=YI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:pw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:pw(o)}}}function pw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ej(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t,e){return RM(t,"POST","/v1/accounts:signInWithIdp",Ng(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="http://localhost";class gi extends XI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ag(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new gi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:tj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends JI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends ql{constructor(){super("facebook.com")}static credential(e){return gi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends ql{constructor(){super("github.com")}static credential(e){return gi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends ql{constructor(){super("twitter.com")}static credential(e,n){return gi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Sn._fromIdTokenResponse(e,r,s),o=mw(r);return new No({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=mw(r);return new No({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends kr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new nd(e,n,r,s)}}function ZI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(t,i,e,r):i})}async function nj(t,e,n=!1){const r=await xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return No._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(t,e,n=!1){const{auth:r}=t;if(qn(r.app))return Promise.reject(ii(r));const s="reauthenticate";try{const i=await xl(t,ZI(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=kg(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),No._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&br(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(t,e,n=!1){if(qn(t.app))return Promise.reject(ii(t));const r="signIn",s=await ZI(t,r,e),i=await No._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function ij(t,e,n,r){return mn(t).onIdTokenChanged(e,n,r)}function oj(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=1e3,lj=10;class tS extends eS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);UM()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,lj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tS.type="LOCAL";const cj=tS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS extends eS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nS.type="SESSION";const rS=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await uj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=jg("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const h=m;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function hj(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function fj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mj(){return sS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebaseLocalStorageDb",gj=1,sd="firebaseLocalStorage",oS="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qd(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function yj(){const t=indexedDB.deleteDatabase(iS);return new Gl(t).toPromise()}function Vp(){const t=indexedDB.open(iS,gj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sd,{keyPath:oS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sd)?e(r):(r.close(),await yj(),e(await Vp()))})})}async function gw(t,e,n){const r=Qd(t,!0).put({[oS]:e,value:n});return new Gl(r).toPromise()}async function vj(t,e){const n=Qd(t,!1).get(e),r=await new Gl(n).toPromise();return r===void 0?null:r.value}function yw(t,e){const n=Qd(t,!0).delete(e);return new Gl(n).toPromise()}const wj=800,_j=3;class aS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_j)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(mj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fj(),!this.activeServiceWorker)return;this.sender=new dj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vp();return await gw(e,rd,"1"),await yw(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Qd(s,!1).getAll();return new Gl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aS.type="LOCAL";const xj=aS;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t,e){return e?gr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends XI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Tj(t){return sj(t.auth,new Vg(t),t.bypassAuthState)}function Ij(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),rj(n,new Vg(t),t.bypassAuthState)}async function Sj(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),nj(n,new Vg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tj;case"linkViaPopup":case"linkViaRedirect":return Sj;case"reauthViaPopup":case"reauthViaRedirect":return Ij;default:br(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new Wl(2e3,1e4);class Yi extends lS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Yi.currentPopupAction&&Yi.currentPopupAction.cancel(),Yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bj.get())};e()}}Yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="pendingRedirect",du=new Map;class Aj extends lS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=du.get(this.auth._key());if(!e){try{const r=await Rj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}du.set(this.auth._key(),e)}return this.bypassAuthState||du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rj(t,e){const n=kj(e),r=Nj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Pj(t,e){du.set(t._key(),e)}function Nj(t){return gr(t._redirectPersistence)}function kj(t){return uu(Cj,t.config.apiKey,t.name)}async function Oj(t,e,n=!1){if(qn(t.app))return Promise.reject(ii(t));const r=Dg(t),s=Ej(r,e),o=await new Aj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=10*60*1e3;class Mj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dj&&this.cachedEventUids.clear(),this.cachedEventUids.has(vw(e))}saveEventToCache(e){this.cachedEventUids.add(vw(e)),this.lastProcessedEventTime=Date.now()}}function vw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fj=/^https?/;async function Uj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Vj(t);for(const n of e)try{if($j(n))return}catch{}br(t,"unauthorized-domain")}function $j(t){const e=Mp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Fj.test(n))return!1;if(Lj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Wl(3e4,6e4);function ww(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Bj(t){return new Promise((e,n)=>{var r,s,i;function o(){ww(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ww(),n(Qn(t,"network-request-failed"))},timeout:zj.get()})}if(!((s=(r=Yn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Yn().gapi)===null||i===void 0)&&i.load)o();else{const a=QM("iframefcb");return Yn()[a]=()=>{gapi.load?o():n(Qn(t,"network-request-failed"))},GM(`${KM()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw hu=null,e})}let hu=null;function Hj(t){return hu=hu||Bj(t),hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=new Wl(5e3,15e3),qj="__/auth/iframe",Gj="emulator/auth/iframe",Kj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yj(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pg(e,Gj):`https://${t.config.authDomain}/${qj}`,r={apiKey:e.apiKey,appName:t.name,v:qo},s=Qj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Hl(r).slice(1)}`}async function Xj(t){const e=await Hj(t),n=Yn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:Yj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Qn(t,"network-request-failed"),a=Yn().setTimeout(()=>{i(o)},Wj.get());function c(){Yn().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zj=500,eV=600,tV="_blank",nV="http://localhost";class _w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rV(t,e,n,r=Zj,s=eV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Jj),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Rt().toLowerCase();n&&(a=BI(u)?tV:n),$I(u)&&(e=e||nV,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[y,w])=>`${h}${y}=${w},`,"");if(FM(u)&&a!=="_self")return sV(e||"",a),new _w(null);const m=window.open(e||"",a,d);re(m,t,"popup-blocked");try{m.focus()}catch{}return new _w(m)}function sV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="__/auth/handler",oV="emulator/auth/handler",aV=encodeURIComponent("fac");async function xw(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qo,eventId:s};if(e instanceof JI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof ql){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${aV}=${encodeURIComponent(c)}`:"";return`${lV(t)}?${Hl(a).slice(1)}${u}`}function lV({config:t}){return t.emulator?Pg(t,oV):`https://${t.authDomain}/${iV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="webStorageSupport";class cV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rS,this._completeRedirectFn=Oj,this._overrideRedirectResult=Pj}async _openPopup(e,n,r,s){var i;Cr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await xw(e,n,r,Mp(),s);return rV(e,o,jg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await xw(e,n,r,Mp(),s);return hj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Cr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xj(e),r=new Mj(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pf,{type:pf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[pf];o!==void 0&&n(!!o),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Uj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KI()||zI()||Og()}}const uV=cV;var Ew="@firebase/auth",Tw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fV(t){Po(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QI(t)},u=new WM(r,s,i,c);return XM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Po(new mi("auth-internal",e=>{const n=Dg(e.getProvider("auth").getImmediate());return(r=>new dV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(Ew,Tw,hV(t)),ws(Ew,Tw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=5*60,mV=II("authIdTokenMaxAge")||pV;let Iw=null;const gV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mV)return;const s=n==null?void 0:n.token;Iw!==s&&(Iw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function yV(t=PI()){const e=Cg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YM(t,{popupRedirectResolver:uV,persistence:[xj,cj,rS]}),r=II("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=gV(i.toString());oj(n,o,()=>o(n.currentUser)),ij(n,a=>o(a))}}const s=EI("auth");return s&&JM(n,`http://${s}`),n}function vV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Qn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",vV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fV("Browser");var Sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,uS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,E){function A(){}A.prototype=E.prototype,b.D=E.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(R,N,O){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return E.prototype[N].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,E,A){A||(A=0);var R=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)R[N]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(N=0;16>N;++N)R[N]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=b.g[0],A=b.g[1],N=b.g[2];var O=b.g[3],P=E+(O^A&(N^O))+R[0]+3614090360&4294967295;E=A+(P<<7&4294967295|P>>>25),P=O+(N^E&(A^N))+R[1]+3905402710&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(A^O&(E^A))+R[2]+606105819&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(E^N&(O^E))+R[3]+3250441966&4294967295,A=N+(P<<22&4294967295|P>>>10),P=E+(O^A&(N^O))+R[4]+4118548399&4294967295,E=A+(P<<7&4294967295|P>>>25),P=O+(N^E&(A^N))+R[5]+1200080426&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(A^O&(E^A))+R[6]+2821735955&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(E^N&(O^E))+R[7]+4249261313&4294967295,A=N+(P<<22&4294967295|P>>>10),P=E+(O^A&(N^O))+R[8]+1770035416&4294967295,E=A+(P<<7&4294967295|P>>>25),P=O+(N^E&(A^N))+R[9]+2336552879&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(A^O&(E^A))+R[10]+4294925233&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(E^N&(O^E))+R[11]+2304563134&4294967295,A=N+(P<<22&4294967295|P>>>10),P=E+(O^A&(N^O))+R[12]+1804603682&4294967295,E=A+(P<<7&4294967295|P>>>25),P=O+(N^E&(A^N))+R[13]+4254626195&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(A^O&(E^A))+R[14]+2792965006&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(E^N&(O^E))+R[15]+1236535329&4294967295,A=N+(P<<22&4294967295|P>>>10),P=E+(N^O&(A^N))+R[1]+4129170786&4294967295,E=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(E^A))+R[6]+3225465664&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^A&(O^E))+R[11]+643717713&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^E&(N^O))+R[0]+3921069994&4294967295,A=N+(P<<20&4294967295|P>>>12),P=E+(N^O&(A^N))+R[5]+3593408605&4294967295,E=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(E^A))+R[10]+38016083&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^A&(O^E))+R[15]+3634488961&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^E&(N^O))+R[4]+3889429448&4294967295,A=N+(P<<20&4294967295|P>>>12),P=E+(N^O&(A^N))+R[9]+568446438&4294967295,E=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(E^A))+R[14]+3275163606&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^A&(O^E))+R[3]+4107603335&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^E&(N^O))+R[8]+1163531501&4294967295,A=N+(P<<20&4294967295|P>>>12),P=E+(N^O&(A^N))+R[13]+2850285829&4294967295,E=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(E^A))+R[2]+4243563512&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^A&(O^E))+R[7]+1735328473&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^E&(N^O))+R[12]+2368359562&4294967295,A=N+(P<<20&4294967295|P>>>12),P=E+(A^N^O)+R[5]+4294588738&4294967295,E=A+(P<<4&4294967295|P>>>28),P=O+(E^A^N)+R[8]+2272392833&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^A)+R[11]+1839030562&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^E)+R[14]+4259657740&4294967295,A=N+(P<<23&4294967295|P>>>9),P=E+(A^N^O)+R[1]+2763975236&4294967295,E=A+(P<<4&4294967295|P>>>28),P=O+(E^A^N)+R[4]+1272893353&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^A)+R[7]+4139469664&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^E)+R[10]+3200236656&4294967295,A=N+(P<<23&4294967295|P>>>9),P=E+(A^N^O)+R[13]+681279174&4294967295,E=A+(P<<4&4294967295|P>>>28),P=O+(E^A^N)+R[0]+3936430074&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^A)+R[3]+3572445317&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^E)+R[6]+76029189&4294967295,A=N+(P<<23&4294967295|P>>>9),P=E+(A^N^O)+R[9]+3654602809&4294967295,E=A+(P<<4&4294967295|P>>>28),P=O+(E^A^N)+R[12]+3873151461&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^A)+R[15]+530742520&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^E)+R[2]+3299628645&4294967295,A=N+(P<<23&4294967295|P>>>9),P=E+(N^(A|~O))+R[0]+4096336452&4294967295,E=A+(P<<6&4294967295|P>>>26),P=O+(A^(E|~N))+R[7]+1126891415&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~A))+R[14]+2878612391&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~E))+R[5]+4237533241&4294967295,A=N+(P<<21&4294967295|P>>>11),P=E+(N^(A|~O))+R[12]+1700485571&4294967295,E=A+(P<<6&4294967295|P>>>26),P=O+(A^(E|~N))+R[3]+2399980690&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~A))+R[10]+4293915773&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~E))+R[1]+2240044497&4294967295,A=N+(P<<21&4294967295|P>>>11),P=E+(N^(A|~O))+R[8]+1873313359&4294967295,E=A+(P<<6&4294967295|P>>>26),P=O+(A^(E|~N))+R[15]+4264355552&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~A))+R[6]+2734768916&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~E))+R[13]+1309151649&4294967295,A=N+(P<<21&4294967295|P>>>11),P=E+(N^(A|~O))+R[4]+4149444226&4294967295,E=A+(P<<6&4294967295|P>>>26),P=O+(A^(E|~N))+R[11]+3174756917&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~A))+R[2]+718787259&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~E))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.u=function(b,E){E===void 0&&(E=b.length);for(var A=E-this.blockSize,R=this.B,N=this.h,O=0;O<E;){if(N==0)for(;O<=A;)s(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<E;)if(R[N++]=b.charCodeAt(O++),N==this.blockSize){s(this,R),N=0;break}}else for(;O<E;)if(R[N++]=b[O++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;var A=8*this.o;for(E=b.length-8;E<b.length;++E)b[E]=A&255,A/=256;for(this.u(b),b=Array(16),E=A=0;4>E;++E)for(var R=0;32>R;R+=8)b[A++]=this.g[E]>>>R&255;return b};function i(b,E){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=E(b)}function o(b,E){this.h=E;for(var A=[],R=!0,N=b.length-1;0<=N;N--){var O=b[N]|0;R&&O==E||(A[N]=O,R=!1)}this.g=A}var a={};function c(b){return-128<=b&&128>b?i(b,function(E){return new o([E|0],0>E?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return m;if(0>b)return S(u(-b));for(var E=[],A=1,R=0;b>=A;R++)E[R]=b/A|0,A*=4294967296;return new o(E,0)}function d(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return S(d(b.substring(1),E));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(E,8)),R=m,N=0;N<b.length;N+=8){var O=Math.min(8,b.length-N),P=parseInt(b.substring(N,N+O),E);8>O?(O=u(Math.pow(E,O)),R=R.j(O).add(u(P))):(R=R.j(A),R=R.add(u(P)))}return R}var m=c(0),h=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-S(this).m();for(var b=0,E=1,A=0;A<this.g.length;A++){var R=this.i(A);b+=(0<=R?R:4294967296+R)*E,E*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(w(this))return"0";if(x(this))return"-"+S(this).toString(b);for(var E=u(Math.pow(b,6)),A=this,R="";;){var N=k(A,E).g;A=_(A,N.j(E));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=N,w(A))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function w(b){if(b.h!=0)return!1;for(var E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function x(b){return b.h==-1}t.l=function(b){return b=_(this,b),x(b)?-1:w(b)?0:1};function S(b){for(var E=b.g.length,A=[],R=0;R<E;R++)A[R]=~b.g[R];return new o(A,~b.h).add(h)}t.abs=function(){return x(this)?S(this):this},t.add=function(b){for(var E=Math.max(this.g.length,b.g.length),A=[],R=0,N=0;N<=E;N++){var O=R+(this.i(N)&65535)+(b.i(N)&65535),P=(O>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);R=P>>>16,O&=65535,P&=65535,A[N]=P<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(b,E){return b.add(S(E))}t.j=function(b){if(w(this)||w(b))return m;if(x(this))return x(b)?S(this).j(S(b)):S(S(this).j(b));if(x(b))return S(this.j(S(b)));if(0>this.l(y)&&0>b.l(y))return u(this.m()*b.m());for(var E=this.g.length+b.g.length,A=[],R=0;R<2*E;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<b.g.length;N++){var O=this.i(R)>>>16,P=this.i(R)&65535,q=b.i(N)>>>16,se=b.i(N)&65535;A[2*R+2*N]+=P*se,v(A,2*R+2*N),A[2*R+2*N+1]+=O*se,v(A,2*R+2*N+1),A[2*R+2*N+1]+=P*q,v(A,2*R+2*N+1),A[2*R+2*N+2]+=O*q,v(A,2*R+2*N+2)}for(R=0;R<E;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=E;R<2*E;R++)A[R]=0;return new o(A,0)};function v(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function I(b,E){this.g=b,this.h=E}function k(b,E){if(w(E))throw Error("division by zero");if(w(b))return new I(m,m);if(x(b))return E=k(S(b),E),new I(S(E.g),S(E.h));if(x(E))return E=k(b,S(E)),new I(S(E.g),E.h);if(30<b.g.length){if(x(b)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var A=h,R=E;0>=R.l(b);)A=D(A),R=D(R);var N=j(A,1),O=j(R,1);for(R=j(R,2),A=j(A,2);!w(R);){var P=O.add(R);0>=P.l(b)&&(N=N.add(A),O=P),R=j(R,1),A=j(A,1)}return E=_(b,N.j(E)),new I(N,E)}for(N=m;0<=b.l(E);){for(A=Math.max(1,Math.floor(b.m()/E.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(A),P=O.j(E);x(P)||0<P.l(b);)A-=R,O=u(A),P=O.j(E);w(O)&&(O=h),N=N.add(O),b=_(b,P)}return new I(N,b)}t.A=function(b){return k(this,b).h},t.and=function(b){for(var E=Math.max(this.g.length,b.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)&b.i(R);return new o(A,this.h&b.h)},t.or=function(b){for(var E=Math.max(this.g.length,b.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)|b.i(R);return new o(A,this.h|b.h)},t.xor=function(b){for(var E=Math.max(this.g.length,b.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)^b.i(R);return new o(A,this.h^b.h)};function D(b){for(var E=b.g.length+1,A=[],R=0;R<E;R++)A[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(A,b.h)}function j(b,E){var A=E>>5;E%=32;for(var R=b.g.length-A,N=[],O=0;O<R;O++)N[O]=0<E?b.i(O+A)>>>E|b.i(O+A+1)<<32-E:b.i(O+A);return new o(N,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,_s=o}).apply(typeof Sw<"u"?Sw:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dS,Pa,hS,fu,Lp,fS,pS,mS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,g){return l==Array.prototype||l==Object.prototype||(l[p]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,p){if(p)e:{var g=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var M=l[C];if(!(M in g))break e;g=g[M]}l=l[l.length-1],C=g[l],p=p(C),p!=C&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}function i(l,p){l instanceof String&&(l+="");var g=0,C=!1,M={next:function(){if(!C&&g<l.length){var L=g++;return{value:p(L,l[L]),done:!1}}return C=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function u(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function d(l,p,g){return l.call.apply(l.bind,arguments)}function m(l,p,g){if(!l)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,C),l.apply(p,M)}}return function(){return l.apply(p,arguments)}}function h(l,p,g){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,h.apply(null,arguments)}function y(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function w(l,p){function g(){}g.prototype=p.prototype,l.aa=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(C,M,L){for(var H=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)H[Se-2]=arguments[Se];return p.prototype[M].apply(C,H)}}function x(l){const p=l.length;if(0<p){const g=Array(p);for(let C=0;C<p;C++)g[C]=l[C];return g}return[]}function S(l,p){for(let g=1;g<arguments.length;g++){const C=arguments[g];if(c(C)){const M=l.length||0,L=C.length||0;l.length=M+L;for(let H=0;H<L;H++)l[M+H]=C[H]}else l.push(C)}}class _{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(l){return/^[\s\xa0]*$/.test(l)}function I(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var D=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function j(l,p,g){for(const C in l)p.call(g,l[C],C,l)}function b(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function E(l){const p={};for(const g in l)p[g]=l[g];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,p){let g,C;for(let M=1;M<arguments.length;M++){C=arguments[M];for(g in C)l[g]=C[g];for(let L=0;L<A.length;L++)g=A[L],Object.prototype.hasOwnProperty.call(C,g)&&(l[g]=C[g])}}function N(l){var p=1;l=l.split(":");const g=[];for(;0<p&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function O(l){a.setTimeout(()=>{throw l},0)}function P(){var l=B;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class q{constructor(){this.h=this.g=null}add(p,g){const C=se.get();C.set(p,g),this.h?this.h.next=C:this.g=C,this.h=C}}var se=new _(()=>new Z,l=>l.reset());class Z{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let le,V=!1,B=new q,X=()=>{const l=a.Promise.resolve(void 0);le=()=>{l.then(K)}};var K=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(g){O(g)}var p=se;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}V=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return l}();function Ze(l,p){if(te.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(D){e:{try{k(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ve[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ze.aa.h.call(this)}}w(Ze,te);var ve={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Dn=0;function Mn(l,p,g,C,M){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!C,this.ha=M,this.key=++Dn,this.da=this.fa=!1}function qt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function nr(l){this.src=l,this.g={},this.h=0}nr.prototype.add=function(l,p,g,C,M){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var H=gn(l,p,C,M);return-1<H?(p=l[H],g||(p.fa=!1)):(p=new Mn(p,this.src,L,!!C,M),p.fa=g,l.push(p)),p};function jn(l,p){var g=p.type;if(g in l.g){var C=l.g[g],M=Array.prototype.indexOf.call(C,p,void 0),L;(L=0<=M)&&Array.prototype.splice.call(C,M,1),L&&(qt(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function gn(l,p,g,C){for(var M=0;M<l.length;++M){var L=l[M];if(!L.da&&L.listener==p&&L.capture==!!g&&L.ha==C)return M}return-1}var rr="closure_lm_"+(1e6*Math.random()|0),Or={};function yn(l,p,g,C,M){if(Array.isArray(p)){for(var L=0;L<p.length;L++)yn(l,p[L],g,C,M);return null}return g=na(g),l&&l[gt]?l.K(p,g,u(C)?!!C.capture:!!C,M):Zo(l,p,g,!1,C,M)}function Zo(l,p,g,C,M,L){if(!p)throw Error("Invalid event type");var H=u(M)?!!M.capture:!!M,Se=Dr(l);if(Se||(l[rr]=Se=new nr(l)),g=Se.add(p,g,C,H,L),g.proxy)return g;if(C=ea(),g.proxy=C,C.src=l,C.listener=g,l.addEventListener)Ce||(M=H),M===void 0&&(M=!1),l.addEventListener(p.toString(),C,M);else if(l.attachEvent)l.attachEvent(Zl(p.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ea(){function l(g){return p.call(l.src,l.listener,g)}const p=uh;return l}function Ge(l,p,g,C,M){if(Array.isArray(p))for(var L=0;L<p.length;L++)Ge(l,p[L],g,C,M);else C=u(C)?!!C.capture:!!C,g=na(g),l&&l[gt]?(l=l.i,p=String(p).toString(),p in l.g&&(L=l.g[p],g=gn(L,g,C,M),-1<g&&(qt(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete l.g[p],l.h--)))):l&&(l=Dr(l))&&(p=l.g[p.toString()],l=-1,p&&(l=gn(p,g,C,M)),(g=-1<l?p[l]:null)&&Vn(g))}function Vn(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[gt])jn(p.i,l);else{var g=l.type,C=l.proxy;p.removeEventListener?p.removeEventListener(g,C,l.capture):p.detachEvent?p.detachEvent(Zl(g),C):p.addListener&&p.removeListener&&p.removeListener(C),(g=Dr(p))?(jn(g,l),g.h==0&&(g.src=null,p[rr]=null)):qt(l)}}}function Zl(l){return l in Or?Or[l]:Or[l]="on"+l}function uh(l,p){if(l.da)l=!0;else{p=new Ze(p,this);var g=l.listener,C=l.ha||l.src;l.fa&&Vn(l),l=g.call(C,p)}return l}function Dr(l){return l=l[rr],l instanceof nr?l:null}var ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function na(l){return typeof l=="function"?l:(l[ta]||(l[ta]=function(p){return l.handleEvent(p)}),l[ta])}function Ke(){J.call(this),this.i=new nr(this),this.M=this,this.F=null}w(Ke,J),Ke.prototype[gt]=!0,Ke.prototype.removeEventListener=function(l,p,g,C){Ge(this,l,p,g,C)};function $e(l,p){var g,C=l.F;if(C)for(g=[];C;C=C.F)g.push(C);if(l=l.M,C=p.type||p,typeof p=="string")p=new te(p,l);else if(p instanceof te)p.target=p.target||l;else{var M=p;p=new te(C,l),R(p,M)}if(M=!0,g)for(var L=g.length-1;0<=L;L--){var H=p.g=g[L];M=$s(H,C,!0,p)&&M}if(H=p.g=l,M=$s(H,C,!0,p)&&M,M=$s(H,C,!1,p)&&M,g)for(L=0;L<g.length;L++)H=p.g=g[L],M=$s(H,C,!1,p)&&M}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var g=l.g[p],C=0;C<g.length;C++)qt(g[C]);delete l.g[p],l.h--}}this.F=null},Ke.prototype.K=function(l,p,g,C){return this.i.add(String(l),p,!1,g,C)},Ke.prototype.L=function(l,p,g,C){return this.i.add(String(l),p,!0,g,C)};function $s(l,p,g,C){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,L=0;L<p.length;++L){var H=p[L];if(H&&!H.da&&H.capture==g){var Se=H.listener,ct=H.ha||H.src;H.fa&&jn(l.i,H),M=Se.call(ct,C)!==!1&&M}}return M&&!C.defaultPrevented}function sr(l,p,g){if(typeof l=="function")g&&(l=h(l,g));else if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function ra(l){l.g=sr(()=>{l.g=null,l.i&&(l.i=!1,ra(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class dh extends J{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ra(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(l){J.call(this),this.h=l,this.g={}}w(Mr,J);var sa=[];function ec(l){j(l.g,function(p,g){this.g.hasOwnProperty(g)&&Vn(p)},l),l.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),ec(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zs=a.JSON.stringify,Ln=a.JSON.parse,hh=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ie(){}ie.prototype.h=null;function Ie(l){return l.h||(l.h=l.i())}function Ee(){}var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lt(){te.call(this,"d")}w(Lt,te);function jr(){te.call(this,"c")}w(jr,te);var ir={},gy=null;function tc(){return gy=gy||new Ke}ir.La="serverreachability";function yy(l){te.call(this,ir.La,l)}w(yy,te);function ia(l){const p=tc();$e(p,new yy(p))}ir.STAT_EVENT="statevent";function vy(l,p){te.call(this,ir.STAT_EVENT,l),this.stat=p}w(vy,te);function Pt(l){const p=tc();$e(p,new vy(p,l))}ir.Ma="timingevent";function wy(l,p){te.call(this,ir.Ma,l),this.size=p}w(wy,te);function oa(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function aa(){this.g=!0}aa.prototype.xa=function(){this.g=!1};function Bb(l,p,g,C,M,L){l.info(function(){if(l.g)if(L)for(var H="",Se=L.split("&"),ct=0;ct<Se.length;ct++){var ye=Se[ct].split("=");if(1<ye.length){var vt=ye[0];ye=ye[1];var wt=vt.split("_");H=2<=wt.length&&wt[1]=="type"?H+(vt+"="+ye+"&"):H+(vt+"=redacted&")}}else H=null;else H=L;return"XMLHTTP REQ ("+C+") [attempt "+M+"]: "+p+`
`+g+`
`+H})}function Hb(l,p,g,C,M,L,H){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+M+"]: "+p+`
`+g+`
`+L+" "+H})}function Ai(l,p,g,C){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+qb(l,g)+(C?" "+C:"")})}function Wb(l,p){l.info(function(){return"TIMEOUT: "+p})}aa.prototype.info=function(){};function qb(l,p){if(!l.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var C=g[l];if(!(2>C.length)){var M=C[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var H=1;H<M.length;H++)M[H]=""}}}}return zs(g)}catch{return p}}var nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_y={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fh;function rc(){}w(rc,ie),rc.prototype.g=function(){return new XMLHttpRequest},rc.prototype.i=function(){return{}},fh=new rc;function Vr(l,p,g,C){this.j=l,this.i=p,this.l=g,this.R=C||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xy}function xy(){this.i=null,this.g="",this.h=!1}var Ey={},ph={};function mh(l,p,g){l.L=1,l.v=ac(or(p)),l.m=g,l.P=!0,Ty(l,null)}function Ty(l,p){l.F=Date.now(),sc(l),l.A=or(l.v);var g=l.A,C=l.R;Array.isArray(C)||(C=[String(C)]),Vy(g.i,"t",C),l.C=0,g=l.j.J,l.h=new xy,l.g=tv(l.j,g?p:null,!l.m),0<l.O&&(l.M=new dh(h(l.Y,l,l.g),l.O)),p=l.U,g=l.g,C=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(sa[0]=M.toString()),M=sa);for(var L=0;L<M.length;L++){var H=yn(g,M[L],C||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ia(),Bb(l.i,l.u,l.A,l.l,l.R,l.m)}Vr.prototype.ca=function(l){l=l.target;const p=this.M;p&&ar(l)==3?p.j():this.Y(l)},Vr.prototype.Y=function(l){try{if(l==this.g)e:{const wt=ar(this.g);var p=this.g.Ba();const Ni=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Hy(this.g)))){this.J||wt!=4||p==7||(p==8||0>=Ni?ia(3):ia(2)),gh(this);var g=this.g.Z();this.X=g;t:if(Iy(this)){var C=Hy(this.g);l="";var M=C.length,L=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bs(this),la(this);var H="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,l+=this.h.i.decode(C[p],{stream:!(L&&p==M-1)});C.length=0,this.h.g+=l,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=g==200,Hb(this.i,this.u,this.A,this.l,this.R,wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,ct=this.g;if((Se=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Se)){var ye=Se;break t}}ye=null}if(g=ye)Ai(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yh(this,g);else{this.o=!1,this.s=3,Pt(12),Bs(this),la(this);break e}}if(this.P){g=!0;let vn;for(;!this.J&&this.C<H.length;)if(vn=Gb(this,H),vn==ph){wt==4&&(this.s=4,Pt(14),g=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==Ey){this.s=4,Pt(15),Ai(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}else Ai(this.i,this.l,vn,null),yh(this,vn);if(Iy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||H.length!=0||this.h.h||(this.s=1,Pt(16),g=!1),this.o=this.o&&g,!g)Ai(this.i,this.l,H,"[Invalid Chunked Response]"),Bs(this),la(this);else if(0<H.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Th(vt),vt.M=!0,Pt(11))}}else Ai(this.i,this.l,H,null),yh(this,H);wt==4&&Bs(this),this.o&&!this.J&&(wt==4?Xy(this.j,this):(this.o=!1,sc(this)))}else uC(this.g),g==400&&0<H.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Bs(this),la(this)}}}catch{}finally{}};function Iy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Gb(l,p){var g=l.C,C=p.indexOf(`
`,g);return C==-1?ph:(g=Number(p.substring(g,C)),isNaN(g)?Ey:(C+=1,C+g>p.length?ph:(p=p.slice(C,C+g),l.C=C+g,p)))}Vr.prototype.cancel=function(){this.J=!0,Bs(this)};function sc(l){l.S=Date.now()+l.I,Sy(l,l.I)}function Sy(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=oa(h(l.ba,l),p)}function gh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Vr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Wb(this.i,this.A),this.L!=2&&(ia(),Pt(17)),Bs(this),this.s=2,la(this)):Sy(this,this.S-l)};function la(l){l.j.G==0||l.J||Xy(l.j,l)}function Bs(l){gh(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,ec(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function yh(l,p){try{var g=l.j;if(g.G!=0&&(g.g==l||vh(g.h,l))){if(!l.K&&vh(g.h,l)&&g.G==3){try{var C=g.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var M=C;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)fc(g),dc(g);else break e;Eh(g),Pt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=oa(h(g.Za,g),6e3));if(1>=Ay(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ws(g,11)}else if((l.K||g.g==l)&&fc(g),!v(p))for(M=g.Da.g.parse(p),p=0;p<M.length;p++){let ye=M[p];if(g.T=ye[0],ye=ye[1],g.G==2)if(ye[0]=="c"){g.K=ye[1],g.ia=ye[2];const vt=ye[3];vt!=null&&(g.la=vt,g.j.info("VER="+g.la));const wt=ye[4];wt!=null&&(g.Aa=wt,g.j.info("SVER="+g.Aa));const Ni=ye[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(C=1.5*Ni,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;const vn=l.g;if(vn){const mc=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mc){var L=C.h;L.g||mc.indexOf("spdy")==-1&&mc.indexOf("quic")==-1&&mc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(wh(L,L.h),L.h=null))}if(C.D){const Ih=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ih&&(C.ya=Ih,Ae(C.I,C.D,Ih))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var H=l;if(C.qa=ev(C,C.J?C.ia:null,C.W),H.K){Ry(C.h,H);var Se=H,ct=C.L;ct&&(Se.I=ct),Se.B&&(gh(Se),sc(Se)),C.g=H}else Qy(C);0<g.i.length&&hc(g)}else ye[0]!="stop"&&ye[0]!="close"||Ws(g,7);else g.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Ws(g,7):xh(g):ye[0]!="noop"&&g.l&&g.l.ta(ye),g.v=0)}}ia(4)}catch{}}var Kb=class{constructor(l,p){this.g=l,this.map=p}};function by(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ay(l){return l.h?1:l.g?l.g.size:0}function vh(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function wh(l,p){l.g?l.g.add(p):l.h=p}function Ry(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}by.prototype.cancel=function(){if(this.i=Py(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Py(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.D);return p}return x(l.i)}function Qb(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var p=[],g=l.length,C=0;C<g;C++)p.push(l[C]);return p}p=[],g=0;for(C in l)p[g++]=l[C];return p}function Yb(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var p=[];l=l.length;for(var g=0;g<l;g++)p.push(g);return p}p=[],g=0;for(const C in l)p[g++]=C;return p}}}function Ny(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var g=Yb(l),C=Qb(l),M=C.length,L=0;L<M;L++)p.call(void 0,C[L],g&&g[L],l)}var ky=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xb(l,p){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var C=l[g].indexOf("="),M=null;if(0<=C){var L=l[g].substring(0,C);M=l[g].substring(C+1)}else L=l[g];p(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Hs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Hs){this.h=l.h,ic(this,l.j),this.o=l.o,this.g=l.g,oc(this,l.s),this.l=l.l;var p=l.i,g=new da;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),Oy(this,g),this.m=l.m}else l&&(p=String(l).match(ky))?(this.h=!1,ic(this,p[1]||"",!0),this.o=ca(p[2]||""),this.g=ca(p[3]||"",!0),oc(this,p[4]),this.l=ca(p[5]||"",!0),Oy(this,p[6]||"",!0),this.m=ca(p[7]||"")):(this.h=!1,this.i=new da(null,this.h))}Hs.prototype.toString=function(){var l=[],p=this.j;p&&l.push(ua(p,Dy,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(ua(p,Dy,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ua(g,g.charAt(0)=="/"?eC:Zb,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ua(g,nC)),l.join("")};function or(l){return new Hs(l)}function ic(l,p,g){l.j=g?ca(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function oc(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Oy(l,p,g){p instanceof da?(l.i=p,rC(l.i,l.h)):(g||(p=ua(p,tC)),l.i=new da(p,l.h))}function Ae(l,p,g){l.i.set(p,g)}function ac(l){return Ae(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ca(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ua(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,Jb),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Jb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Dy=/[#\/\?@]/g,Zb=/[#\?:]/g,eC=/[#\?]/g,tC=/[#\?@]/g,nC=/#/g;function da(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Lr(l){l.g||(l.g=new Map,l.h=0,l.i&&Xb(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=da.prototype,t.add=function(l,p){Lr(this),this.i=null,l=Ri(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function My(l,p){Lr(l),p=Ri(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function jy(l,p){return Lr(l),p=Ri(l,p),l.g.has(p)}t.forEach=function(l,p){Lr(this),this.g.forEach(function(g,C){g.forEach(function(M){l.call(p,M,C,this)},this)},this)},t.na=function(){Lr(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let C=0;C<p.length;C++){const M=l[C];for(let L=0;L<M.length;L++)g.push(p[C])}return g},t.V=function(l){Lr(this);let p=[];if(typeof l=="string")jy(this,l)&&(p=p.concat(this.g.get(Ri(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)p=p.concat(l[g])}return p},t.set=function(l,p){return Lr(this),this.i=null,l=Ri(this,l),jy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Vy(l,p,g){My(l,p),0<g.length&&(l.i=null,l.g.set(Ri(l,p),x(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var C=p[g];const L=encodeURIComponent(String(C)),H=this.V(C);for(C=0;C<H.length;C++){var M=L;H[C]!==""&&(M+="="+encodeURIComponent(String(H[C]))),l.push(M)}}return this.i=l.join("&")};function Ri(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function rC(l,p){p&&!l.j&&(Lr(l),l.i=null,l.g.forEach(function(g,C){var M=C.toLowerCase();C!=M&&(My(this,C),Vy(this,M,g))},l)),l.j=p}function sC(l,p){const g=new aa;if(a.Image){const C=new Image;C.onload=y(Fr,g,"TestLoadImage: loaded",!0,p,C),C.onerror=y(Fr,g,"TestLoadImage: error",!1,p,C),C.onabort=y(Fr,g,"TestLoadImage: abort",!1,p,C),C.ontimeout=y(Fr,g,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else p(!1)}function iC(l,p){const g=new aa,C=new AbortController,M=setTimeout(()=>{C.abort(),Fr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:C.signal}).then(L=>{clearTimeout(M),L.ok?Fr(g,"TestPingServer: ok",!0,p):Fr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Fr(g,"TestPingServer: error",!1,p)})}function Fr(l,p,g,C,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),C(g)}catch{}}function oC(){this.g=new hh}function aC(l,p,g){const C=g||"";try{Ny(l,function(M,L){let H=M;u(M)&&(H=zs(M)),p.push(C+L+"="+encodeURIComponent(H))})}catch(M){throw p.push(C+"type="+encodeURIComponent("_badmap")),M}}function lc(l){this.l=l.Ub||null,this.j=l.eb||!1}w(lc,ie),lc.prototype.g=function(){return new cc(this.l,this.j)},lc.prototype.i=function(l){return function(){return l}}({});function cc(l,p){Ke.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(cc,Ke),t=cc.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,fa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ly(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ly(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?ha(this):fa(this),this.readyState==3&&Ly(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ha(this))},t.Qa=function(l){this.g&&(this.response=l,ha(this))},t.ga=function(){this.g&&ha(this)};function ha(l){l.readyState=4,l.l=null,l.j=null,l.v=null,fa(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function fa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Fy(l){let p="";return j(l,function(g,C){p+=C,p+=":",p+=g,p+=`\r
`}),p}function _h(l,p,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=Fy(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ae(l,p,g))}function ze(l){Ke.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ze,Ke);var lC=/^https?$/i,cC=["POST","PUT"];t=ze.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fh.g(),this.v=this.o?Ie(this.o):Ie(fh),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(L){Uy(this,L);return}if(l=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var M in C)g.set(M,C[M]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const L of C.keys())g.set(L,C.get(L));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cC,p,void 0))||C||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of g)this.g.setRequestHeader(L,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{By(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){Uy(this,L)}};function Uy(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,$y(l),uc(l)}function $y(l){l.A||(l.A=!0,$e(l,"complete"),$e(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,$e(this,"complete"),$e(this,"abort"),uc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uc(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zy(this):this.bb())},t.bb=function(){zy(this)};function zy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||ar(l)!=4||l.Z()!=2)){if(l.u&&ar(l)==4)sr(l.Ea,0,l);else if($e(l,"readystatechange"),ar(l)==4){l.h=!1;try{const H=l.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var C;if(C=H===0){var M=String(l.D).match(ky)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),C=!lC.test(M?M.toLowerCase():"")}g=C}if(g)$e(l,"complete"),$e(l,"success");else{l.m=6;try{var L=2<ar(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",$y(l)}}finally{uc(l)}}}}function uc(l,p){if(l.g){By(l);const g=l.g,C=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||$e(l,"ready");try{g.onreadystatechange=C}catch{}}}function By(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function ar(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Ln(p)}};function Hy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function uC(l){const p={};l=(l.g&&2<=ar(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(v(l[C]))continue;var g=N(l[C]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=p[M]||[];p[M]=L,L.push(g)}b(p,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function Wy(l){this.Aa=0,this.i=[],this.j=new aa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,l),this.cb=pa("retryDelaySeedMs",1e4,l),this.Wa=pa("forwardChannelMaxRetries",2,l),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new by(l&&l.concurrentRequestLimit),this.Da=new oC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wy.prototype,t.la=8,t.G=1,t.connect=function(l,p,g,C){Pt(0),this.W=l,this.H=p||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=ev(this,null,this.W),hc(this)};function xh(l){if(qy(l),l.G==3){var p=l.U++,g=or(l.I);if(Ae(g,"SID",l.K),Ae(g,"RID",p),Ae(g,"TYPE","terminate"),ma(l,g),p=new Vr(l,l.j,p),p.L=2,p.v=ac(or(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=tv(p.j,null),p.g.ea(p.v)),p.F=Date.now(),sc(p)}Zy(l)}function dc(l){l.g&&(Th(l),l.g.cancel(),l.g=null)}function qy(l){dc(l),l.u&&(a.clearTimeout(l.u),l.u=null),fc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function hc(l){if(!Cy(l.h)&&!l.s){l.s=!0;var p=l.Ga;le||X(),V||(le(),V=!0),B.add(p,l),l.B=0}}function dC(l,p){return Ay(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=oa(h(l.Ga,l,p),Jy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Vr(this,this.j,l);let L=this.o;if(this.S&&(L?(L=E(L),R(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Ky(this,M,p),g=or(this.I),Ae(g,"RID",l),Ae(g,"CVER",22),this.D&&Ae(g,"X-HTTP-Session-Id",this.D),ma(this,g),L&&(this.O?p="headers="+encodeURIComponent(String(Fy(L)))+"&"+p:this.m&&_h(g,this.m,L)),wh(this.h,M),this.Ua&&Ae(g,"TYPE","init"),this.P?(Ae(g,"$req",p),Ae(g,"SID","null"),M.T=!0,mh(M,g,null)):mh(M,g,p),this.G=2}}else this.G==3&&(l?Gy(this,l):this.i.length==0||Cy(this.h)||Gy(this))};function Gy(l,p){var g;p?g=p.l:g=l.U++;const C=or(l.I);Ae(C,"SID",l.K),Ae(C,"RID",g),Ae(C,"AID",l.T),ma(l,C),l.m&&l.o&&_h(C,l.m,l.o),g=new Vr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Ky(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),wh(l.h,g),mh(g,C,p)}function ma(l,p){l.H&&j(l.H,function(g,C){Ae(p,C,g)}),l.l&&Ny({},function(g,C){Ae(p,C,g)})}function Ky(l,p,g){g=Math.min(l.i.length,g);var C=l.l?h(l.l.Na,l.l,l):null;e:{var M=l.i;let L=-1;for(;;){const H=["count="+g];L==-1?0<g?(L=M[0].g,H.push("ofs="+L)):L=0:H.push("ofs="+L);let Se=!0;for(let ct=0;ct<g;ct++){let ye=M[ct].g;const vt=M[ct].map;if(ye-=L,0>ye)L=Math.max(0,M[ct].g-100),Se=!1;else try{aC(vt,H,"req"+ye+"_")}catch{C&&C(vt)}}if(Se){C=H.join("&");break e}}}return l=l.i.splice(0,g),p.D=l,C}function Qy(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;le||X(),V||(le(),V=!0),B.add(p,l),l.v=0}}function Eh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=oa(h(l.Fa,l),Jy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Yy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=oa(h(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),dc(this),Yy(this))};function Th(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Yy(l){l.g=new Vr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=or(l.qa);Ae(p,"RID","rpc"),Ae(p,"SID",l.K),Ae(p,"AID",l.T),Ae(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ae(p,"TO",l.ja),Ae(p,"TYPE","xmlhttp"),ma(l,p),l.m&&l.o&&_h(p,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=ac(or(p)),g.m=null,g.P=!0,Ty(g,l)}t.Za=function(){this.C!=null&&(this.C=null,dc(this),Eh(this),Pt(19))};function fc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Xy(l,p){var g=null;if(l.g==p){fc(l),Th(l),l.g=null;var C=2}else if(vh(l.h,p))g=p.D,Ry(l.h,p),C=1;else return;if(l.G!=0){if(p.o)if(C==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var M=l.B;C=tc(),$e(C,new wy(C,g)),hc(l)}else Qy(l);else if(M=p.s,M==3||M==0&&0<p.X||!(C==1&&dC(l,p)||C==2&&Eh(l)))switch(g&&0<g.length&&(p=l.h,p.i=p.i.concat(g)),M){case 1:Ws(l,5);break;case 4:Ws(l,10);break;case 3:Ws(l,6);break;default:Ws(l,2)}}}function Jy(l,p){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*p}function Ws(l,p){if(l.j.info("Error code "+p),p==2){var g=h(l.fb,l),C=l.Xa;const M=!C;C=new Hs(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ic(C,"https"),ac(C),M?sC(C.toString(),g):iC(C.toString(),g)}else Pt(2);l.G=0,l.l&&l.l.sa(p),Zy(l),qy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Zy(l){if(l.G=0,l.ka=[],l.l){const p=Py(l.h);(p.length!=0||l.i.length!=0)&&(S(l.ka,p),S(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function ev(l,p,g){var C=g instanceof Hs?or(g):new Hs(g);if(C.g!="")p&&(C.g=p+"."+C.g),oc(C,C.s);else{var M=a.location;C=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var L=new Hs(null);C&&ic(L,C),p&&(L.g=p),M&&oc(L,M),g&&(L.l=g),C=L}return g=l.D,p=l.ya,g&&p&&Ae(C,g,p),Ae(C,"VER",l.la),ma(l,C),C}function tv(l,p,g){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new ze(new lc({eb:g})):new ze(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nv(){}t=nv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pc(){}pc.prototype.g=function(l,p){return new Gt(l,p)};function Gt(l,p){Ke.call(this),this.g=new Wy(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!v(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Pi(this)}w(Gt,Ke),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){xh(this.g)},Gt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=zs(l),l=g);p.i.push(new Kb(p.Ya++,l)),p.G==3&&hc(p)},Gt.prototype.N=function(){this.g.l=null,delete this.j,xh(this.g),delete this.g,Gt.aa.N.call(this)};function rv(l){Lt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}w(rv,Lt);function sv(){jr.call(this),this.status=1}w(sv,jr);function Pi(l){this.g=l}w(Pi,nv),Pi.prototype.ua=function(){$e(this.g,"a")},Pi.prototype.ta=function(l){$e(this.g,new rv(l))},Pi.prototype.sa=function(l){$e(this.g,new sv)},Pi.prototype.ra=function(){$e(this.g,"b")},pc.prototype.createWebChannel=pc.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,mS=function(){return new pc},pS=function(){return tc()},fS=ir,Lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nc.NO_ERROR=0,nc.TIMEOUT=8,nc.HTTP_ERROR=6,fu=nc,_y.COMPLETE="complete",hS=_y,Ee.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Pa=Ee,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,dS=ze}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const bw="@firebase/firestore",Cw="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Sg("@firebase/firestore");function Di(){return yi.logLevel}function G(t,...e){if(yi.logLevel<=fe.DEBUG){const n=e.map(Lg);yi.debug(`Firestore (${Ko}): ${t}`,...n)}}function Ar(t,...e){if(yi.logLevel<=fe.ERROR){const n=e.map(Lg);yi.error(`Firestore (${Ko}): ${t}`,...n)}}function ko(t,...e){if(yi.logLevel<=fe.WARN){const n=e.map(Lg);yi.warn(`Firestore (${Ko}): ${t}`,...n)}}function Lg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gS(t,r,n)}function gS(t,e,n){let r=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ar(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||gS(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class _V{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xV{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new yS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class EV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new EV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Aw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Aw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Aw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=SV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function Fp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return de(r,s);{const i=vS(),o=bV(i.encode(Rw(t,n)),i.encode(Rw(e,n)));return o!==0?o:de(r,s)}}n+=r>65535?2:1}return de(t.length,e.length)}function Rw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function bV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return de(t[n],e[n]);return de(t.length,e.length)}function Oo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=-62135596800,Nw=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Nw);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Pw)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nw}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Pw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new st(0,0))}static max(){return new oe(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="__name__";class $n{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=$n.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return de(e.length,n.length)}static compareSegments(e,n){const r=$n.isNumericId(e),s=$n.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?$n.extractNumericId(e).compare($n.extractNumericId(n)):Fp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class Ne extends $n{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const CV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends $n{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return CV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kw}static keyField(){return new ht([kw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ne.fromString(e))}static fromName(e){return new ee(Ne.fromString(e).popFirst(5))}static empty(){return new ee(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function AV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new ks(s,ee.empty(),e)}function RV(t){return new ks(t.readTime,t.key,El)}class ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ks(oe.min(),ee.empty(),El)}static max(){return new ks(oe.max(),ee.empty(),El)}}function PV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==NV)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function OV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Yd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=-1;function Xd(t){return t==null}function id(t){return t===0&&1/t==-1/0}function DV(t){return typeof t=="number"&&Number.isInteger(t)&&!id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="";function MV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ow(e)),e=jV(t.get(n),e);return Ow(e)}function jV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case _S:n+="";break;default:n+=i}}return n}function Ow(t){return t+_S+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dt.RED,this.left=s??dt.EMPTY,this.right=i??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mw(this.data.getIterator())}getIteratorFrom(e){return new Mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class Mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new bn([])}unionWith(e){let n=new it(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ES("Invalid base64 string: "+i):i}}(e);return new mt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const VV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=VV.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="server_timestamp",IS="__type__",SS="__previous_value__",bS="__local_write_time__";function Ug(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[IS])===null||n===void 0?void 0:n.stringValue)===TS}function Jd(t){const e=t.mapValue.fields[SS];return Ug(e)?Jd(e):e}function Tl(t){const e=Os(t.mapValue.fields[bS].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r,s,i,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const od="(default)";class Il{constructor(e,n){this.projectId=e,this.database=n||od}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof Il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="__type__",AS="__max__",zc={mapValue:{fields:{__type__:{stringValue:AS}}}},RS="__vector__",ad="value";function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ug(t)?4:UV(t)?9007199254740991:FV(t)?10:11:ne(28295,{value:t})}function er(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tl(t).isEqual(Tl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Os(s.timestampValue),a=Os(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ds(s.bytesValue).isEqual(Ds(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return We(s.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(s.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return We(s.integerValue)===We(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=We(s.doubleValue),a=We(i.doubleValue);return o===a?id(o)===id(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Oo(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Dw(o)!==Dw(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!er(o[c],a[c])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Sl(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=Ms(t),r=Ms(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=We(i.integerValue||i.doubleValue),c=We(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return jw(t.timestampValue,e.timestampValue);case 4:return jw(Tl(t),Tl(e));case 5:return Fp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ds(i),c=Ds(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=de(a[u],c[u]);if(d!==0)return d}return de(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=de(We(i.latitude),We(o.latitude));return a!==0?a:de(We(i.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Vw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,u,d;const m=i.fields||{},h=o.fields||{},y=(a=m[ad])===null||a===void 0?void 0:a.arrayValue,w=(c=h[ad])===null||c===void 0?void 0:c.arrayValue,x=de(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:Vw(y,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===zc.mapValue&&o===zc.mapValue)return 0;if(i===zc.mapValue)return 1;if(o===zc.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){const h=Fp(c[m],d[m]);if(h!==0)return h;const y=Do(a[c[m]],u[d[m]]);if(y!==0)return y}return de(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{Pe:n})}}function jw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Os(t),r=Os(e),s=de(n.seconds,r.seconds);return s!==0?s:de(n.nanos,r.nanos)}function Vw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Do(n[s],r[s]);if(i)return i}return de(n.length,r.length)}function Mo(t){return Up(t)}function Up(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Up(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Up(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function pu(t){switch(Ms(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jd(t);return e?16+pu(e):16;case 5:return 2*t.stringValue.length;case 6:return Ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+pu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ii(r.fields,(i,o)=>{s+=i.length+pu(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function Lw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $p(t){return!!t&&"integerValue"in t}function $g(t){return!!t&&"arrayValue"in t}function Fw(t){return!!t&&"nullValue"in t}function Uw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mu(t){return!!t&&"mapValue"in t}function FV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CS])===null||n===void 0?void 0:n.stringValue)===RS}function qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(n)}setAll(e){let n=ht.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=qa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];mu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ii(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new un(qa(this.value))}}function PS(t){const e=[];return Ii(t.fields,(n,r)=>{const s=new ht([n]);if(mu(r)){const i=PS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,oe.min(),oe.min(),oe.min(),un.empty(),0)}static newFoundDocument(e,n,r,s){return new Ct(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new Ct(e,2,n,oe.min(),oe.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,oe.min(),oe.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.position=e,this.inclusive=n}}function $w(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Do(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n="asc"){this.field=e,this.dir=n}}function $V(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{}class Xe extends NS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BV(e,n,r):n==="array-contains"?new qV(e,r):n==="in"?new GV(e,r):n==="not-in"?new KV(e,r):n==="array-contains-any"?new QV(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HV(e,r):new WV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends NS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new On(e,n)}matches(e){return kS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function kS(t){return t.op==="and"}function OS(t){return zV(t)&&kS(t)}function zV(t){for(const e of t.filters)if(e instanceof On)return!1;return!0}function zp(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(OS(t))return t.filters.map(e=>zp(e)).join(",");{const e=t.filters.map(n=>zp(n)).join(",");return`${t.op}(${e})`}}function DS(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&er(r.value,s.value)}(t,e):t instanceof On?function(r,s){return s instanceof On&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&DS(o,s.filters[a]),!0):!1}(t,e):void ne(19439)}function MS(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(MS).join(" ,")+"}"}(t):"Filter"}class BV extends Xe{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class HV extends Xe{constructor(e,n){super(e,"in",n),this.keys=jS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WV extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=jS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class qV extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $g(n)&&Sl(n.arrayValue,this.value)}}class GV extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sl(this.value.arrayValue,n)}}class KV extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sl(this.value.arrayValue,n)}}class QV extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function Bw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new YV(t,e,n,r,s,i,o)}function zg(t){const e=ae(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mo(r)).join(",")),e.Ie=n}return e.Ie}function Bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$V(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zw(t.startAt,e.startAt)&&zw(t.endAt,e.endAt)}function Bp(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function XV(t,e,n,r,s,i,o,a){return new Kl(t,e,n,r,s,i,o,a)}function VS(t){return new Kl(t)}function Hw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LS(t){return t.collectionGroup!==null}function Ga(t){const e=ae(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(ht.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new cd(i,r))}),n.has(ht.keyField().canonicalString())||e.Ee.push(new cd(ht.keyField(),r))}return e.Ee}function Xn(t){const e=ae(t);return e.de||(e.de=JV(e,Ga(t))),e.de}function JV(t,e){if(t.limitType==="F")return Bw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new cd(s.field,i)});const n=t.endAt?new ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ld(t.startAt.position,t.startAt.inclusive):null;return Bw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hp(t,e){const n=t.filters.concat([e]);return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wp(t,e,n){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zd(t,e){return Bg(Xn(t),Xn(e))&&t.limitType===e.limitType}function FS(t){return`${zg(Xn(t))}|lt:${t.limitType}`}function Mi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>MS(s)).join(", ")}]`),Xd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Mo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Mo(s)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function eh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ga(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=$w(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ga(r),s)||r.endAt&&!function(o,a,c){const u=$w(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ga(r),s))}(t,e)}function ZV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function US(t){return(e,n)=>{let r=!1;for(const s of Ga(t)){const i=eL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function eL(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Do(c,u):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return xS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new Fe(ee.comparator);function Rr(){return tL}const $S=new Fe(ee.comparator);function Na(...t){let e=$S;for(const n of t)e=e.insert(n.key,n);return e}function zS(t){let e=$S;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Js(){return Ka()}function BS(){return Ka()}function Ka(){return new Si(t=>t.toString(),(t,e)=>t.isEqual(e))}const nL=new Fe(ee.comparator),rL=new it(ee.comparator);function pe(...t){let e=rL;for(const n of t)e=e.add(n);return e}const sL=new it(de);function iL(){return sL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function HS(t){return{integerValue:""+t}}function oL(t,e){return DV(e)?HS(e):Hg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function aL(t,e,n){return t instanceof ud?function(s,i){const o={fields:{[IS]:{stringValue:TS},[bS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ug(i)&&(i=Jd(i)),i&&(o.fields[SS]=i),{mapValue:o}}(n,e):t instanceof bl?qS(t,e):t instanceof Cl?GS(t,e):function(s,i){const o=WS(s,i),a=Ww(o)+Ww(s.Re);return $p(o)&&$p(s.Re)?HS(a):Hg(s.serializer,a)}(t,e)}function lL(t,e,n){return t instanceof bl?qS(t,e):t instanceof Cl?GS(t,e):n}function WS(t,e){return t instanceof dd?function(r){return $p(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ud extends th{}class bl extends th{constructor(e){super(),this.elements=e}}function qS(t,e){const n=KS(e);for(const r of t.elements)n.some(s=>er(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cl extends th{constructor(e){super(),this.elements=e}}function GS(t,e){let n=KS(e);for(const r of t.elements)n=n.filter(s=>!er(s,r));return{arrayValue:{values:n}}}class dd extends th{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Ww(t){return We(t.integerValue||t.doubleValue)}function KS(t){return $g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof bl&&s instanceof bl||r instanceof Cl&&s instanceof Cl?Oo(r.elements,s.elements,er):r instanceof dd&&s instanceof dd?er(r.Re,s.Re):r instanceof ud&&s instanceof ud}(t.transform,e.transform)}class uL{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nh{}function QS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new XS(t.key,vr.none()):new Ql(t.key,t.data,vr.none());{const n=t.data,r=un.empty();let s=new it(ht.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new bi(t.key,r,new bn(s.toArray()),vr.none())}}function dL(t,e,n){t instanceof Ql?function(s,i,o){const a=s.value.clone(),c=Gw(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bi?function(s,i,o){if(!gu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Gw(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(YS(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qa(t,e,n,r){return t instanceof Ql?function(i,o,a,c){if(!gu(i.precondition,o))return a;const u=i.value.clone(),d=Kw(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof bi?function(i,o,a,c){if(!gu(i.precondition,o))return a;const u=Kw(i.fieldTransforms,c,o),d=o.data;return d.setAll(YS(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return gu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function hL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=WS(r.transform,s||null);i!=null&&(n===null&&(n=un.empty()),n.set(r.field,i))}return n||null}function qw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Oo(r,s,(i,o)=>cL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ql extends nh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bi extends nh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function YS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gw(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,lL(o,a,n[s]))}return r}function Kw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,aL(i,o,e))}return r}class XS extends nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fL extends nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&dL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=QS(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(n,r)=>qw(n,r))&&Oo(this.baseMutations,e.baseMutations,(n,r)=>qw(n,r))}}class Wg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return nL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Wg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,me;function yL(t){switch(t){case $.OK:return ne(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function JS(t){if(t===void 0)return Ar("GRPC error has no .code"),$.UNKNOWN;switch(t){case Qe.OK:return $.OK;case Qe.CANCELLED:return $.CANCELLED;case Qe.UNKNOWN:return $.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return $.INTERNAL;case Qe.UNAVAILABLE:return $.UNAVAILABLE;case Qe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Qe.NOT_FOUND:return $.NOT_FOUND;case Qe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Qe.ABORTED:return $.ABORTED;case Qe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Qe.DATA_LOSS:return $.DATA_LOSS;default:return ne(39323,{code:t})}}(me=Qe||(Qe={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=new _s([4294967295,4294967295],0);function Qw(t){const e=vS().encode(t),n=new uS;return n.update(e),new Uint8Array(n.digest())}function Yw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new _s([n,r],0),new _s([s,i],0)]}class qg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(r<0)throw new ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=_s.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(_s.fromNumber(r)));return s.compare(vL)===1&&(s=new _s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Qw(e),[r,s]=Yw(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new qg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Qw(e),[r,s]=Yw(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rh(oe.min(),s,new Fe(de),Rr(),pe())}}class Yl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class ZS{constructor(e,n){this.targetId=e,this.Ce=n}}class eb{constructor(e,n,r=mt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Xw{constructor(){this.Fe=0,this.Me=Jw(),this.xe=mt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),n=pe(),r=pe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new Yl(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Jw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class wL{constructor(e){this.ze=e,this.je=new Map,this.He=Rr(),this.Je=Bc(),this.Ye=Bc(),this.Ze=new Fe(de)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Bp(i))if(r===0){const o=new ee(i.path);this.tt(n,o,Ct.newNoDocument(o,oe.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),c=a?this.lt(a,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ds(r).toUint8Array()}catch(c){if(c instanceof ES)return ko("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new qg(o,s,i)}catch(c){return ko(c instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Bp(a.target)){const c=new ee(a.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Ct.newNoDocument(c,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=pe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new rh(e,n,this.Ze,this.He,r);return this.He=Rr(),this.Je=Bc(),this.Ye=Bc(),this.Ze=new Fe(de),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Xw,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new it(de),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new it(de),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Xw),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new Fe(ee.comparator)}function Jw(){return new Fe(ee.comparator)}const _L={asc:"ASCENDING",desc:"DESCENDING"},xL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EL={and:"AND",or:"OR"};class TL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qp(t,e){return t.useProto3Json||Xd(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IL(t,e){return hd(t,e.toTimestamp())}function Jn(t){return xe(!!t,49232),oe.fromTimestamp(function(n){const r=Os(n);return new st(r.seconds,r.nanos)}(t))}function Gg(t,e){return Gp(t,e).canonicalString()}function Gp(t,e){const n=function(s){return new Ne(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nb(t){const e=Ne.fromString(t);return xe(ab(e),10190,{key:e.toString()}),e}function Kp(t,e){return Gg(t.databaseId,e.path)}function mf(t,e){const n=nb(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(sb(n))}function rb(t,e){return Gg(t.databaseId,e)}function SL(t){const e=nb(t);return e.length===4?Ne.emptyPath():sb(e)}function Qp(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sb(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zw(t,e,n){return{name:Kp(t,e),fields:n.value.mapValue.fields}}function bL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(xe(d===void 0||typeof d=="string",58123),mt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:JS(u.code);return new Y(d,u.message||"")}(o);n=new eb(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mf(t,r.document.name),i=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):oe.min(),a=new un({mapValue:{fields:r.document.fields}}),c=Ct.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new yu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mf(t,r.document),i=r.readTime?Jn(r.readTime):oe.min(),o=Ct.newNoDocument(s,i),a=r.removedTargetIds||[];n=new yu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mf(t,r.document),i=r.removedTargetIds||[];n=new yu([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new gL(s,i),a=r.targetId;n=new ZS(a,o)}}return n}function CL(t,e){let n;if(e instanceof Ql)n={update:Zw(t,e.key,e.value)};else if(e instanceof XS)n={delete:Kp(t,e.key)};else if(e instanceof bi)n={update:Zw(t,e.key,e.data),updateMask:jL(e.fieldMask)};else{if(!(e instanceof fL))return ne(16599,{ft:e.type});n={verify:Kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ud)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:IL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function AL(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Jn(s.updateTime):Jn(i);return o.isEqual(oe.min())&&(o=Jn(i)),new uL(o,s.transformResults||[])}(n,e))):[]}function RL(t,e){return{documents:[rb(t,e.path)]}}function PL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rb(t,s);const i=function(u){if(u.length!==0)return ob(On.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:ji(h.field),direction:OL(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function NL(t){let e=SL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(m){const h=ib(m);return h instanceof On&&OS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(h=>function(w){return new cd(Vi(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(m){let h;return h=typeof m=="object"?m.value:m,Xd(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(m){const h=!!m.before,y=m.values||[];return new ld(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const h=!m.before,y=m.values||[];return new ld(y,h)}(n.endAt)),XV(e,s,o,i,a,"F",c,u)}function kL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ib(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vi(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vi(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vi(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vi(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Vi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>ib(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function OL(t){return _L[t]}function DL(t){return xL[t]}function ML(t){return EL[t]}function ji(t){return{fieldPath:t.canonicalString()}}function Vi(t){return ht.fromServerFormat(t.fieldPath)}function ob(t){return t instanceof Xe?function(n){if(n.op==="=="){if(Uw(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NAN"}};if(Fw(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uw(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NAN"}};if(Fw(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ji(n.field),op:DL(n.op),value:n.value}}}(t):t instanceof On?function(n){const r=n.getFilters().map(s=>ob(s));return r.length===1?r[0]:{compositeFilter:{op:ML(n.op),filters:r}}}(t):ne(54877,{filter:t})}function jL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ab(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=mt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.wt=e}}function LL(t){const e=NL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.Cn=new UL}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(ks.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class UL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new it(Ne.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new it(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lb=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(lb,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new jo(0)}static lr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="LruGarbageCollector",$L=1048576;function n_([t,e],[n,r]){const s=de(t,n);return s===0?de(e,r):s}class zL{constructor(e){this.Er=e,this.buffer=new it(n_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();n_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(t_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?G(t_,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.mr(3e5)})}}class HL{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Yd.le);const r=new zL(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(e_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),Di()<=fe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function WL(t,e){return new HL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.changes=new Si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Qa(r.mutation,s,bn.empty(),st.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=Js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Na();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Rr();const o=Ka(),a=function(){return Ka()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof bi)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Qa(d.mutation,u,d.mutation.getFieldMask(),st.now())):o.set(u.key,bn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var m;return a.set(u,new GL(d,(m=o.get(u))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ka();let s=new Fe((o,a)=>o-a),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||bn.empty();d=a.applyToLocalView(u,d),r.set(c,d);const m=(s.get(a.batchId)||pe()).add(c);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,m=BS();d.forEach(h=>{if(!i.has(h)){const y=QS(n.get(h),r.get(h));y!==null&&m.set(h,y),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(Js());let a=El,c=i;return o.next(u=>F.forEach(u,(d,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,pe())).next(d=>({batchId:a,changes:zS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=Na();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Na();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,c=>{const u=function(m,h){return new Kl(h,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((m,h)=>{o=o.insert(m,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ct.newInvalidDocument(d)))});let a=Na();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Qa(d.mutation,u,bn.empty(),st.now()),eh(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Jn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:LL(s.bundledQuery),readTime:Jn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this.overlays=new Fe(ee.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Js();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=Js(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Fe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Js(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Js(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return F.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mL(n,r));let i=this.Qr.get(n);i===void 0&&(i=pe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.$r=new it(ot.Ur),this.Kr=new it(ot.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new ot(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new ot(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ee(new Ne([])),r=new ot(n,e),s=new ot(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ee(new Ne([])),r=new ot(n,e),s=new ot(n,e+1);let i=pe();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ot(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ee.comparator(e.key,n.key)||de(e.Zr,n.Zr)}static Wr(e,n){return de(e.Zr,n.Zr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new it(ot.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new ot(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Fg:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),s=new ot(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(de);return n.forEach(s=>{const i=new ot(s,0),o=new ot(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new ot(new ee(i),0);let a=new it(de);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,s=>{const i=new ot(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new ot(n,0),s=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.ii=e,this.docs=function(){return new Fe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ct.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Rr();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||PV(RV(d),r)<=0||(s.has(d.key)||eh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new e3(this)}getSize(e){return F.resolve(this.size)}}class e3 extends qL{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.persistence=e,this.oi=new Si(n=>zg(n),Bg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this._i=0,this.ai=new Kg,this.targetCount=0,this.ui=jo.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new jo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){this.ci={},this.overlays={},this.li=new Yd(0),this.hi=!1,this.hi=!0,this.Pi=new XL,this.referenceDelegate=e(this),this.Ti=new t3(this),this.indexManager=new FL,this.remoteDocumentCache=function(s){return new ZL(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new VL(n),this.Ei=new QL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new JL(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new n3(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class n3 extends kV{constructor(e){super(),this.currentSequenceNumber=e}}class Qg{constructor(e){this.persistence=e,this.Vi=new Kg,this.mi=null}static fi(e){return new Qg(e)}get gi(){if(this.mi)return this.mi;throw ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const s=ee.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.yi=new Si(r=>MV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=WL(this,n)}static fi(e,n){return new fd(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pu(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Yg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return tD()?8:OV(Rt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new r3;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Di()<=fe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Mi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(Di()<=fe.DEBUG&&G("QueryEngine","Query:",Mi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Di()<=fe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Mi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):F.resolve())}ws(e,n){if(Hw(n))return F.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Wp(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,a);return this.Cs(n,u,o,c.readTime)?this.ws(e,Wp(n,null,"F")):this.Fs(e,u,n,c)}))})))}Ss(e,n,r,s){return Hw(n)||s.isEqual(oe.min())?F.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(Di()<=fe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mi(n)),this.Fs(e,o,n,AV(s,El)).next(a=>a))})}vs(e,n){let r=new it(US(e));return n.forEach((s,i)=>{eh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return Di()<=fe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Mi(n)),this.ys.getDocumentsMatchingQuery(e,n,ks.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="LocalStore",i3=3e8;class o3{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Fe(de),this.Os=new Si(i=>zg(i),Bg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KL(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function a3(t,e,n,r){return new o3(t,e,n,r)}async function ub(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=pe();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function l3(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const m=u.batch,h=m.keys();let y=F.resolve();return h.forEach(w=>{y=y.next(()=>d.getEntry(c,w)).next(x=>{const S=u.docVersions.get(w);xe(S!==null,48541),x.version.compareTo(S)<0&&(m.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function db(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function c3(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,m)=>{const h=s.get(m);if(!h)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,m).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,m)));let y=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(mt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(m,y),function(x,S,_){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=i3?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,y,d)&&a.push(n.Ti.updateTargetData(i,y))});let c=Rr(),u=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(u3(i,o,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(oe.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(m=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.xs=s,i))}function u3(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Rr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):G(Xg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{qs:o,Qs:s}})}function d3(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Fg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function h3(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new as(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Yp(t,e,n){const r=ae(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Yo(o))throw o;G(Xg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function r_(t,e,n){const r=ae(t);let s=oe.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const m=ae(c),h=m.Os.get(d);return h!==void 0?F.resolve(m.xs.get(h)):m.Ti.getTargetData(u,d)}(r,o,Xn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:pe())).next(a=>(f3(r,ZV(e),a),{documents:a,$s:i})))}function f3(t,e,n){let r=t.Ns.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class s_{constructor(){this.activeTargetIds=iL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p3{constructor(){this.xo=new s_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new s_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="ConnectivityMonitor";class o_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G(i_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){G(i_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function Xp(){return Hc===null?Hc=function(){return 268435456+Math.round(2147483648*Math.random())}():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="RestConnection",g3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class y3{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===od?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=Xp(),a=this.jo(e,n.toUriEncodedString());G(gf,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:u}=new URL(a),d=zl(u);return this.Jo(e,a,c,r,d).then(m=>(G(gf,`Received RPC '${e}' ${o}: `,m),m),m=>{throw ko(gf,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=g3[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class w3 extends y3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Xp();return new Promise((a,c)=>{const u=new dS;u.setWithCredentials(!0),u.listenOnce(hS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case fu.NO_ERROR:const m=u.getResponseJson();G(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case fu.TIMEOUT:G(Tt,`RPC '${e}' ${o} timed out`),c(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case fu.HTTP_ERROR:const h=u.getStatus();if(G(Tt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const x=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(w.status);c(new Y(x,w.message))}else c(new Y($.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Y($.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(Tt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(Tt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Xp(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mS(),a=pS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");G(Tt,`Creating RPC '${e}' stream ${s}: ${d}`,c);const m=o.createWebChannel(d,c);let h=!1,y=!1;const w=new v3({Zo:S=>{y?G(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(h||(G(Tt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),h=!0),G(Tt,`RPC '${e}' stream ${s} sending:`,S),m.send(S))},Xo:()=>m.close()}),x=(S,_,v)=>{S.listen(_,I=>{try{v(I)}catch(k){setTimeout(()=>{throw k},0)}})};return x(m,Pa.EventType.OPEN,()=>{y||(G(Tt,`RPC '${e}' stream ${s} transport opened.`),w.__())}),x(m,Pa.EventType.CLOSE,()=>{y||(y=!0,G(Tt,`RPC '${e}' stream ${s} transport closed`),w.u_())}),x(m,Pa.EventType.ERROR,S=>{y||(y=!0,ko(Tt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),w.u_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),x(m,Pa.EventType.MESSAGE,S=>{var _;if(!y){const v=S.data[0];xe(!!v,16349);const I=v,k=(I==null?void 0:I.error)||((_=I[0])===null||_===void 0?void 0:_.error);if(k){G(Tt,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let j=function(A){const R=Qe[A];if(R!==void 0)return JS(R)}(D),b=k.message;j===void 0&&(j=$.INTERNAL,b="Unknown error status: "+D+" with message "+k.message),y=!0,w.u_(new Y(j,b)),m.close()}else G(Tt,`RPC '${e}' stream ${s} received:`,v),w.c_(v)}}),x(a,fS.STAT_EVENT,S=>{S.stat===Lp.PROXY?G(Tt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Lp.NOPROXY&&G(Tt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return new TL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="PersistentStream";class fb{constructor(e,n,r,s,i,o,a,c){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new hb(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return G(a_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(G(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _3 extends fb{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=bL(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?Jn(o.readTime):oe.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Qp(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Bp(c)?{documents:RL(i,c)}:{query:PL(i,c).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=tb(i,o.resumeToken);const u=qp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=hd(i,o.snapshotVersion.toTimestamp());const u=qp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=kL(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Qp(this.serializer),n.removeTarget=e,this.L_(n)}}class x3 extends fb{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=AL(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Qp(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CL(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{}class T3 extends E3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,Gp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Gp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class I3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ar(n),this.oa=!1):G("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="RemoteStore";class S3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Ci(this)&&(G(vi,"Restarting streams for network reachability change."),await async function(c){const u=ae(c);u.Ta.add(4),await Xl(u),u.da.set("Unknown"),u.Ta.delete(4),await ih(u)}(this))})}),this.da=new I3(r,s)}}async function ih(t){if(Ci(t))for(const e of t.Ia)await e(!0)}async function Xl(t){for(const e of t.Ia)await e(!1)}function pb(t,e){const n=ae(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),ty(n)?ey(n):Xo(n).M_()&&Zg(n,e))}function Jg(t,e){const n=ae(t),r=Xo(n);n.Pa.delete(e),r.M_()&&mb(n,e),n.Pa.size===0&&(r.M_()?r.N_():Ci(n)&&n.da.set("Unknown"))}function Zg(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).H_(e)}function mb(t,e){t.Aa.Ke(e),Xo(t).J_(e)}function ey(t){t.Aa=new wL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.da._a()}function ty(t){return Ci(t)&&!Xo(t).F_()&&t.Pa.size>0}function Ci(t){return ae(t).Ta.size===0}function gb(t){t.Aa=void 0}async function b3(t){t.da.set("Online")}async function C3(t){t.Pa.forEach((e,n)=>{Zg(t,e)})}async function A3(t,e){gb(t),ty(t)?(t.da.ca(e),ey(t)):t.da.set("Unknown")}async function R3(t,e,n){if(t.da.set("Online"),e instanceof eb&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){G(vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pd(t,r)}else if(e instanceof yu?t.Aa.Xe(e):e instanceof ZS?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(oe.min()))try{const r=await db(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Pa.get(u);d&&i.Pa.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=i.Pa.get(c);if(!d)return;i.Pa.set(c,d.withResumeToken(mt.EMPTY_BYTE_STRING,d.snapshotVersion)),mb(i,c);const m=new as(d.target,c,u,d.sequenceNumber);Zg(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(vi,"Failed to raise snapshot:",r),await pd(t,r)}}async function pd(t,e,n){if(!Yo(e))throw e;t.Ta.add(1),await Xl(t),t.da.set("Offline"),n||(n=()=>db(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(vi,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await ih(t)})}function yb(t,e){return e().catch(n=>pd(t,n,e))}async function oh(t){const e=ae(t),n=js(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Fg;for(;P3(e);)try{const s=await d3(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,N3(e,s)}catch(s){await pd(e,s)}vb(e)&&wb(e)}function P3(t){return Ci(t)&&t.ha.length<10}function N3(t,e){t.ha.push(e);const n=js(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function vb(t){return Ci(t)&&!js(t).F_()&&t.ha.length>0}function wb(t){js(t).start()}async function k3(t){js(t).ta()}async function O3(t){const e=js(t);for(const n of t.ha)e.Z_(n.mutations)}async function D3(t,e,n){const r=t.ha.shift(),s=Wg.from(r,e,n);await yb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await oh(t)}async function M3(t,e){e&&js(t).Y_&&await async function(r,s){if(function(o){return yL(o)&&o!==$.ABORTED}(s.code)){const i=r.ha.shift();js(r).O_(),await yb(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await oh(r)}}(t,e),vb(t)&&wb(t)}async function l_(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G(vi,"RemoteStore received new credentials");const r=Ci(n);n.Ta.add(3),await Xl(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await ih(n)}async function j3(t,e){const n=ae(t);e?(n.Ta.delete(2),await ih(n)):e||(n.Ta.add(2),await Xl(n),n.da.set("Unknown"))}function Xo(t){return t.Ra||(t.Ra=function(n,r,s){const i=ae(n);return i.ra(),new _3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:b3.bind(null,t),n_:C3.bind(null,t),i_:A3.bind(null,t),j_:R3.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),ty(t)?ey(t):t.da.set("Unknown")):(await t.Ra.stop(),gb(t))})),t.Ra}function js(t){return t.Va||(t.Va=function(n,r,s){const i=ae(n);return i.ra(),new x3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:k3.bind(null,t),i_:M3.bind(null,t),X_:O3.bind(null,t),ea:D3.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await oh(t)):(await t.Va.stop(),t.ha.length>0&&(G(vi,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ny(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),Yo(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Na(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.ma=new Fe(ee.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ne(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vo(e,n,lo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class L3{constructor(){this.queries=u_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=u_(),i.forEach((o,a)=>{for(const c of a.ya)c.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function u_(){return new Si(t=>FS(t),Zd)}async function F3(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new V3,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ry(o,`Initialization of query '${Mi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&sy(n)}async function U3(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $3(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&sy(n)}function z3(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function sy(t){t.ba.forEach(e=>{e.next()})}var Jp,d_;(d_=Jp||(Jp={})).Ca="default",d_.Cache="cache";class B3{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.key=e}}class xb{constructor(e){this.key=e}}class H3{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=pe(),this.mutatedKeys=pe(),this.Ha=US(e),this.Ja=new lo(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new c_,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,m)=>{const h=s.get(d),y=eh(this.query,m)?m:null,w=!!h&&this.mutatedKeys.has(h.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;h&&y?h.data.isEqual(y.data)?w!==x&&(r.track({type:3,doc:y}),S=!0):this.eu(h,y)||(r.track({type:2,doc:y}),S=!0,(c&&this.Ha(y,c)>0||u&&this.Ha(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),S=!0):h&&!y&&(r.track({type:1,doc:h}),S=!0,(c||u)&&(a=!0)),S&&(y?(o=o.add(y),i=x?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,m)=>function(y,w){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Vt:S})}};return x(y)-x(w)}(d.type,m.type)||this.Ha(d.doc,m.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],c=this.ja.size===0&&this.current&&!s?1:0,u=c!==this.za;return this.za=c,o.length!==0||u?{snapshot:new Vo(this.query,e.Ja,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new c_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=pe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new xb(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new _b(r))}),n}su(e){this.Ga=e.$s,this.ja=pe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Vo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const iy="SyncEngine";class W3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class q3{constructor(e){this.key=e,this._u=!1}}class G3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Si(a=>FS(a),Zd),this.cu=new Map,this.lu=new Set,this.hu=new Fe(ee.comparator),this.Pu=new Map,this.Tu=new Kg,this.Iu={},this.Eu=new Map,this.du=jo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function K3(t,e,n=!0){const r=Cb(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await Eb(r,e,n,!0),s}async function Q3(t,e){const n=Cb(t);await Eb(n,e,!0,!1)}async function Eb(t,e,n,r){const s=await h3(t.localStore,Xn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Y3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&pb(t.remoteStore,s),a}async function Y3(t,e,n,r,s){t.Ru=(m,h,y)=>async function(x,S,_,v){let I=S.view.Za(_);I.Cs&&(I=await r_(x.localStore,S.query,!1).then(({documents:b})=>S.view.Za(b,I)));const k=v&&v.targetChanges.get(S.targetId),D=v&&v.targetMismatches.get(S.targetId)!=null,j=S.view.applyChanges(I,x.isPrimaryClient,k,D);return f_(x,S.targetId,j.ru),j.snapshot}(t,m,h,y);const i=await r_(t.localStore,e,!0),o=new H3(e,i.$s),a=o.Za(i.documents),c=Yl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);f_(t,n,u.ru);const d=new W3(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function X3(t,e,n){const r=ae(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!Zd(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jg(r.remoteStore,s.targetId),Zp(r,s.targetId)}).catch(Qo)):(Zp(r,s.targetId),await Yp(r.localStore,s.targetId,!0))}async function J3(t,e){const n=ae(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jg(n.remoteStore,r.targetId))}async function Z3(t,e,n){const r=o6(t);try{const s=await function(o,a){const c=ae(o),u=st.now(),d=a.reduce((y,w)=>y.add(w.key),pe());let m,h;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Rr(),x=pe();return c.Bs.getEntries(y,d).next(S=>{w=S,w.forEach((_,v)=>{v.isValidDocument()||(x=x.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,w)).next(S=>{m=S;const _=[];for(const v of a){const I=hL(v,m.get(v.key).overlayedDocument);I!=null&&_.push(new bi(v.key,I,PS(I.value.mapValue),vr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,_,a)}).next(S=>{h=S;const _=S.applyToLocalDocumentSet(m,x);return c.documentOverlayCache.saveOverlays(y,S.batchId,_)})}).then(()=>({batchId:h.batchId,changes:zS(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Iu[o.currentUser.toKey()];u||(u=new Fe(de)),u=u.insert(a,c),o.Iu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Jl(r,s.changes),await oh(r.remoteStore)}catch(s){const i=ry(s,"Failed to persist write");n.reject(i)}}async function Tb(t,e){const n=ae(t);try{const r=await c3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?xe(o._u,14607):s.removedDocuments.size>0&&(xe(o._u,42227),o._u=!1))}),await Jl(n,r,e)}catch(r){await Qo(r)}}function h_(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ae(o);c.onlineState=a;let u=!1;c.queries.forEach((d,m)=>{for(const h of m.ya)h.Da(a)&&(u=!0)}),u&&sy(c)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e6(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new Fe(ee.comparator);o=o.insert(i,Ct.newNoDocument(i,oe.min()));const a=pe().add(i),c=new rh(oe.min(),new Map,new Fe(de),o,a);await Tb(r,c),r.hu=r.hu.remove(i),r.Pu.delete(e),oy(r)}else await Yp(r.localStore,e,!1).then(()=>Zp(r,e,n)).catch(Qo)}async function t6(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await l3(n.localStore,e);Sb(n,r,null),Ib(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(n,s)}catch(s){await Qo(s)}}async function n6(t,e,n){const r=ae(t);try{const s=await function(o,a){const c=ae(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(xe(m!==null,37113),d=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);Sb(r,e,n),Ib(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jl(r,s)}catch(s){await Qo(s)}}function Ib(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function Sb(t,e,n){const r=ae(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Zp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||bb(t,r)})}function bb(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Jg(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),oy(t))}function f_(t,e,n){for(const r of n)r instanceof _b?(t.Tu.addReference(r.key,e),r6(t,r)):r instanceof xb?(G(iy,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||bb(t,r.key)):ne(19791,{mu:r})}function r6(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(G(iy,"New document in limbo: "+n),t.lu.add(r),oy(t))}function oy(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ee(Ne.fromString(e)),r=t.du.next();t.Pu.set(r,new q3(n)),t.hu=t.hu.insert(n,r),pb(t.remoteStore,new as(Xn(VS(n.path)),r,"TargetPurposeLimboResolution",Yd.le))}}async function Jl(t,e,n){const r=ae(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,c)=>{o.push(r.Ru(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){s.push(u);const m=Yg.Rs(c.targetId,u);i.push(m)}}))}),await Promise.all(o),r.au.j_(s),await async function(c,u){const d=ae(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(u,h=>F.forEach(h.ds,y=>d.persistence.referenceDelegate.addReference(m,h.targetId,y)).next(()=>F.forEach(h.As,y=>d.persistence.referenceDelegate.removeReference(m,h.targetId,y)))))}catch(m){if(!Yo(m))throw m;G(Xg,"Failed to update sequence numbers: "+m)}for(const m of u){const h=m.targetId;if(!m.fromCache){const y=d.xs.get(h),w=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(w);d.xs=d.xs.insert(h,x)}}}(r.localStore,i))}async function s6(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G(iy,"User change. New user:",e.toKey());const r=await ub(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(c=>{c.reject(new Y($.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jl(n,r.ks)}}function i6(t,e){const n=ae(t),r=n.Pu.get(e);if(r&&r._u)return pe().add(r.key);{let s=pe();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function Cb(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e6.bind(null,e),e.au.j_=$3.bind(null,e.eventManager),e.au.Vu=z3.bind(null,e.eventManager),e}function o6(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n6.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return a3(this.persistence,new s3,e.initialUser,this.serializer)}yu(e){return new cb(Qg.fi,this.serializer)}pu(e){return new p3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class a6 extends md{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){xe(this.persistence.referenceDelegate instanceof fd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BL(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new cb(r=>fd.fi(r,n),this.serializer)}}class em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s6.bind(null,this.syncEngine),await j3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L3}()}createDatastore(e){const n=sh(e.databaseInfo.databaseId),r=function(i){return new w3(i)}(e.databaseInfo);return function(i,o,a,c){return new T3(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new S3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>h_(this.syncEngine,n,0),function(){return o_.C()?new o_:new m3}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,d){const m=new G3(s,i,o,a,c,u);return d&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);G(vi,"RemoteStore shutting down."),i.Ta.add(5),await Xl(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}em.provider={build:()=>new em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class c6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=wS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Vs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Vs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ry(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vf(t,e){t.asyncQueue.verifyOperationInProgress(),G(Vs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ub(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function p_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await u6(t);G(Vs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>l_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>l_(e.remoteStore,s)),t._onlineComponents=e}async function u6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Vs,"Using user provided OfflineComponentProvider");try{await vf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await vf(t,new md)}}else G(Vs,"Using default OfflineComponentProvider"),await vf(t,new a6(void 0));return t._offlineComponents}async function Ab(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Vs,"Using user provided OnlineComponentProvider"),await p_(t,t._uninitializedComponentsProvider._online)):(G(Vs,"Using default OnlineComponentProvider"),await p_(t,new em))),t._onlineComponents}function d6(t){return Ab(t).then(e=>e.syncEngine)}async function h6(t){const e=await Ab(t),n=e.eventManager;return n.onListen=K3.bind(null,e.syncEngine),n.onUnlisten=X3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=J3.bind(null,e.syncEngine),n}function f6(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const d=new l6({next:h=>{d.Cu(),o.enqueueAndForget(()=>U3(i,m)),h.fromCache&&c.source==="server"?u.reject(new Y($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),m=new B3(a,d,{includeMetadataChanges:!0,La:!0});return F3(i,m)}(await h6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p6(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function g_(t){if(!ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function y_(t){if(ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ah(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function Al(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firestore.googleapis.com",v_=!0;class w_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nb,this.ssl=v_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:v_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$L)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wV;switch(r.type){case"firstParty":return new TV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=m_.get(n);r&&(G("ComponentProvider","Removing Datastore"),m_.delete(n),r.terminate())}(this),Promise.resolve()}}function m6(t,e,n,r={}){var s;t=Al(t,lh);const i=zl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(SI(`https://${c}`),bI("Firestore",!0)),o.host!==Nb&&o.host!==c&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!pi(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=St.MOCK_USER;else{d=qO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new St(h)}t._authCredentials=new _V(new yS(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Es extends Jo{constructor(e,n,r){super(e,n,VS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new ee(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function tm(t,e,...n){if(t=mn(t),Pb("collection","path",e),t instanceof lh){const r=Ne.fromString(e,...n);return y_(r),new Es(t,null,r)}{if(!(t instanceof nn||t instanceof Es))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return y_(r),new Es(t.firestore,null,r)}}function __(t,e,...n){if(t=mn(t),arguments.length===1&&(e=wS.newId()),Pb("doc","path",e),t instanceof lh){const r=Ne.fromString(e,...n);return g_(r),new nn(t,null,new ee(r))}{if(!(t instanceof nn||t instanceof Es))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return g_(r),new nn(t.firestore,t instanceof Es?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="AsyncQueue";class E_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new hb(this,"async_queue_retry"),this.ec=()=>{const r=yf();r&&G(x_,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=yf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new xs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Yo(e))throw e;G(x_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Ar("INTERNAL UNHANDLED ERROR: ",T_(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=ny.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&ne(47125,{_c:T_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function T_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ay extends lh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new E_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E_(e),this._firestoreClient=void 0,await e}}}function g6(t,e){const n=typeof t=="object"?t:PI(),r=typeof t=="string"?t:od,s=Cg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=HO("firestore");i&&m6(s,...i)}return s}function kb(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y6(t),t._firestoreClient}function y6(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,u,d){return new LV(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Rb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new c6(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(mt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lo(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=/^__.*__$/;class w6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}function Db(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{hc:t})}}class dy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return gd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Db(this.hc)&&v6.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class _6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sh(e)}gc(e,n,r,s=!1){return new dy({hc:e,methodName:n,fc:r,path:ht.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mb(t){const e=t._freezeSettings(),n=sh(t._databaseId);return new _6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x6(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);Lb("Data must be an object, but it was:",o,r);const a=jb(r,o);let c,u;if(i.merge)c=new bn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const h=T6(e,m,n);if(!o.contains(h))throw new Y($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);S6(d,h)||d.push(h)}c=new bn(d),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new w6(new un(a),c,u)}function E6(t,e,n,r=!1){return hy(n,t.gc(r?4:3,e))}function hy(t,e){if(Vb(t=mn(t)))return Lb("Unsupported field value:",e,t),jb(t,e);if(t instanceof Ob)return function(r,s){if(!Db(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=hy(a,s.Rc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=st.fromDate(r);return{timestampValue:hd(s.serializer,i)}}if(r instanceof st){const i=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(s.serializer,i)}}if(r instanceof cy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lo)return{bytesValue:tb(s.serializer,r._byteString)};if(r instanceof nn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Gg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof uy)return function(o,a){return{mapValue:{fields:{[CS]:{stringValue:RS},[ad]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return Hg(a.serializer,u)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${ah(r)}`)}(t,e)}function jb(t,e){const n={};return xS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(t,(r,s)=>{const i=hy(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Vb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof cy||t instanceof Lo||t instanceof nn||t instanceof Ob||t instanceof uy)}function Lb(t,e,n){if(!Vb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ah(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function T6(t,e,n){if((e=mn(e))instanceof ly)return e._internalPath;if(typeof e=="string")return Fb(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const I6=new RegExp("[~\\*/\\[\\]]");function Fb(t,e,n){if(e.search(I6)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ly(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Y($.INVALID_ARGUMENT,a+t+c)}function S6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b6 extends Ub{data(){return super.data()}}function fy(t,e){return typeof e=="string"?Fb(t,e):e instanceof ly?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class A6 extends py{}function nm(t,e,...n){let r=[];e instanceof py&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof my).length,a=i.filter(c=>c instanceof ch).length;if(o>1||o>0&&a>0)throw new Y($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ch extends A6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ch(e,n,r)}_apply(e){const n=this._parse(e);return $b(e._query,n),new Jo(e.firestore,e.converter,Hp(e._query,n))}_parse(e){const n=Mb(e.firestore);return function(i,o,a,c,u,d,m){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){S_(m,d);const w=[];for(const x of m)w.push(I_(c,i,x));h={arrayValue:{values:w}}}else h=I_(c,i,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||S_(m,d),h=E6(a,o,m,d==="in"||d==="not-in");return Xe.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rm(t,e,n){const r=e,s=fy("where",t);return ch._create(s,r,n)}class my extends py{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new my(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:On.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)$b(o,c),o=Hp(o,c)}(e._query,n),new Jo(e.firestore,e.converter,Hp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function I_(t,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new Y($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LS(e)&&n.indexOf("/")!==-1)throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!ee.isDocumentKey(r))throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lw(t,new ee(r))}if(n instanceof nn)return Lw(t,n._key);throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function S_(t,e){if(!Array.isArray(t)||t.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $b(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class R6{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ii(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[ad].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>We(o.doubleValue));return new uy(i)}convertGeoPoint(e){return new cy(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const n=Os(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);xe(ab(r),9688,{name:e});const s=new Il(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||Ar(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class N6 extends Ub{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vu extends N6{data(e={}){return super.data(e)}}class k6{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Wc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vu(this._firestore,this._userDataWriter,r.key,r,new Wc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new vu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Wc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new vu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Wc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:O6(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}class D6 extends R6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function sm(t){t=Al(t,Jo);const e=Al(t.firestore,ay),n=kb(e),r=new D6(e);return C6(t._query),f6(n,t._query).then(s=>new k6(e,r,t,s))}function b_(t,e,n){t=Al(t,nn);const r=Al(t.firestore,ay),s=P6(t.converter,e,n);return M6(r,[x6(Mb(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,vr.none())])}function M6(t,e){return function(r,s){const i=new xs;return r.asyncQueue.enqueueAndForget(async()=>Z3(await d6(r),s,i)),i.promise}(kb(t),e)}(function(e,n=!0){(function(s){Ko=s})(qo),Po(new mi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ay(new xV(r.getProvider("auth-internal")),new IV(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ws(bw,Cw,e),ws(bw,Cw,"esm2017")})();const j6={apiKey:"AIzaSyBjQwNUZFoXmRHqIZ1cEHy00zg2Bi66AoA",authDomain:"super-shop-8c46a.firebaseapp.com",projectId:"super-shop-8c46a",storageBucket:"super-shop-8c46a.appspot.com",messagingSenderId:"219933718119",appId:"1:219933718119:web:ede8046f4a117a8c1046c2"},zb=RI(j6);yV(zb);const Oa=g6(zb),V6=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,a]=T.useState(""),[c,u]=T.useState(""),[d,m]=T.useState(""),[h,y]=T.useState(!1),w=Ll(),{login:x}=vg(),S=b=>/^[A-Za-z]+$/.test(b),_=b=>/^[A-Za-z._%+-]+@[A-Za-z.-]+\.[A-Za-z]{2,}$/.test(b),v=b=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(b),I=()=>{const b=Math.floor(1e5+Math.random()*9e5).toString();return m(b),b},k=()=>{navigator.clipboard.writeText(d),et.success("تم نسخ الرمز إلى الحافظة")},D=async b=>{if(b.preventDefault(),!t||!n||!s||!o){et.error("يرجى ملء جميع الحقول");return}if(!S(t)){et.error("الاسم يجب أن يحتوي فقط على حروف إنجليزية بدون فوارز أو مسافات");return}if(!_(n)){et.error("البريد الإلكتروني غير صالح. يجب أن لا يحتوي على أرقام");return}if(!v(s)){et.error("كلمة المرور يجب أن تكون على الأقل 8 أحرف وتحتوي على حروف وأرقام");return}if(s!==o){et.error("كلمتا المرور غير متطابقتين");return}try{const E=tm(Oa,"users"),A=nm(E,rm("email","==",n));if(!(await sm(A)).empty){et.error("هذا البريد الإلكتروني مسجل مسبقاً");return}const N=Math.floor(1e9+Math.random()*9e9).toString(),O=I();await b_(__(Oa,"users",N),{id:N,name:t,email:n,password:s,verificationCode:O,isVerified:!1,createdAt:new Date}),y(!0)}catch(E){console.error("حدث خطأ أثناء التسجيل:",E),et.error("حدث خطأ، يرجى المحاولة لاحقًا")}},j=async()=>{try{const b=tm(Oa,"users"),E=nm(b,rm("email","==",n)),A=await sm(E);if(A.empty){et.error("حدث خطأ، يرجى المحاولة مرة أخرى");return}const N=A.docs[0].data();N.verificationCode===c?(await b_(__(Oa,"users",N.id),{...N,isVerified:!0},{merge:!0}),x({name:N.name,id:N.id}),et.success("تم التحقق بنجاح!"),w("/")):et.error("رمز التحقق غير صحيح")}catch(b){console.error("حدث خطأ أثناء التحقق:",b),et.error("حدث خطأ، يرجى المحاولة لاحقًا")}};return h?f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ps,{}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:"تأكيد البريد الإلكتروني"}),f.jsxs("p",{className:"text-center mb-6",children:["أدخل رمز التحقق الذي تم إرساله إلى ",n]}),f.jsxs("div",{className:"relative mb-6",children:[f.jsx(tt,{htmlFor:"verification-code",children:"رمز التحقق"}),f.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:f.jsx(Jt,{id:"verification-code",type:"text",value:c,onChange:b=>u(b.target.value),required:!0,className:"pl-10"})})]}),f.jsx(Mt,{onClick:j,className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:"تأكيد"}),f.jsxs("div",{className:"mt-4 text-center text-gray-600",children:[f.jsxs("p",{children:["رمز التحقق: ",f.jsx("strong",{children:d})]}),f.jsxs(Mt,{onClick:k,variant:"ghost",className:"flex items-center space-x-2 mt-2",children:[f.jsx(DN,{className:"h-4 w-4"}),f.jsx("span",{children:"نسخ الرمز"})]})]})]})}),f.jsx(Ns,{})]}):f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ps,{}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:"تسجيل حساب جديد"}),f.jsxs("form",{className:"space-y-6",onSubmit:D,children:[f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"name",children:"الاسم"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(jN,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Jt,{id:"name",type:"text",value:t,onChange:b=>e(b.target.value),required:!0,className:"pl-10"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"email",children:"البريد الإلكتروني"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(LE,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Jt,{id:"email",type:"email",value:n,onChange:b=>r(b.target.value),required:!0,className:"pl-10"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"password",children:"كلمة المرور"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(VE,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Jt,{id:"password",type:"password",value:s,onChange:b=>i(b.target.value),required:!0,className:"pl-10"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"confirm-password",children:"تأكيد كلمة المرور"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(kN,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Jt,{id:"confirm-password",type:"password",value:o,onChange:b=>a(b.target.value),required:!0,className:"pl-10"})]})]}),f.jsx(Mt,{type:"submit",className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:"تسجيل"})]}),f.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["هل لديك حساب بالفعل؟ ",f.jsx(Me,{to:"/login",className:"text-blue-500",children:"سجل دخولك"})]})]})}),f.jsx(Ns,{})]})},L6=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),s=Ll(),{login:i}=vg(),o=u=>/^[A-Za-z._%+-]+@[A-Za-z.-]+\.[A-Za-z]{2,}$/.test(u),a=u=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(u),c=async u=>{if(u.preventDefault(),!t||!n){et.error("يرجى ملء جميع الحقول");return}if(!o(t)){et.error("البريد الإلكتروني غير صالح. يجب أن لا يحتوي على أرقام");return}if(!a(n)){et.error("كلمة المرور يجب أن تكون على الأقل 8 أحرف وتحتوي على حروف وأرقام");return}try{const d=tm(Oa,"users"),m=nm(d,rm("email","==",t)),h=await sm(m);if(h.empty){et.error("البريد الإلكتروني أو كلمة المرور غير صحيحة");return}const y=h.docs[0].data();if(y.password!==n){et.error("كلمة المرور غير صحيحة");return}if(!y.isVerified){et.error("حسابك غير مفعّل. يرجى التحقق من بريدك الإلكتروني");return}console.log("Logging in with user:",{name:y.name,id:y.id}),i({name:y.name,id:y.id});const w=localStorage.getItem("user");console.log("User stored in localStorage:",w),s("/")}catch(d){console.error("حدث خطأ أثناء التسجيل:",d),et.error("حدث خطأ، يرجى المحاولة لاحقًا")}};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ps,{}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:"تسجيل الدخول"}),f.jsxs("form",{className:"space-y-6",onSubmit:c,children:[f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"email",children:"البريد الإلكتروني"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(LE,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Jt,{id:"email",type:"email",value:t,onChange:u=>e(u.target.value),required:!0,className:"pl-10"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"password",children:"كلمة المرور"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(VE,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Jt,{id:"password",type:"password",value:n,onChange:u=>r(u.target.value),required:!0,className:"pl-10"})]})]}),f.jsx(Mt,{type:"submit",className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:"دخول"})]}),f.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["ليس لديك حساب؟ ",f.jsx(Me,{to:"/signup",className:"text-blue-500",children:"أنشئ حساب جديد"})]})]})}),f.jsx(Ns,{})]})},F6=new H4,U6=()=>f.jsx(K4,{children:f.jsx(q4,{client:F6,children:f.jsxs(x4,{children:[f.jsx(vk,{}),f.jsx(Gk,{}),f.jsxs(SP,{children:[f.jsx(cr,{path:"/",element:f.jsx(Y4,{})}),f.jsx(cr,{path:"/services",element:f.jsx(yO,{})}),f.jsx(cr,{path:"/payment",element:f.jsx(kO,{})}),f.jsx(cr,{path:"/about-us",element:f.jsx(DO,{})}),f.jsx(cr,{path:"/order-tracking",element:f.jsx(MO,{})}),f.jsx(cr,{path:"/signup",element:f.jsx(V6,{})}),f.jsx(cr,{path:"/login",element:f.jsx(L6,{})}),f.jsx(cr,{path:"*",element:f.jsx(OO,{})})]})]})})});wf.createRoot(document.getElementById("root")).render(f.jsx(kP,{children:f.jsx(U6,{})}));

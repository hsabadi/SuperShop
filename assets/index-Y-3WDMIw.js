var Uy=t=>{throw TypeError(t)};var Xh=(t,e,n)=>e.has(t)||Uy("Cannot "+n);var U=(t,e,n)=>(Xh(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?Uy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ue=(t,e,n,r)=>(Xh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(Xh(t,e,"access private method"),n);var kc=(t,e,n,r)=>({set _(s){ue(t,e,s,n)},get _(){return U(t,e,r)}});function dC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ew(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bw={exports:{}},Od={},Tw={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),hC=Symbol.for("react.portal"),fC=Symbol.for("react.fragment"),pC=Symbol.for("react.strict_mode"),mC=Symbol.for("react.profiler"),gC=Symbol.for("react.provider"),yC=Symbol.for("react.context"),vC=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),wC=Symbol.for("react.memo"),_C=Symbol.for("react.lazy"),$y=Symbol.iterator;function EC(t){return t===null||typeof t!="object"?null:(t=$y&&t[$y]||t["@@iterator"],typeof t=="function"?t:null)}var Iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sw=Object.assign,Cw={};function Qo(t,e,n){this.props=t,this.context=e,this.refs=Cw,this.updater=n||Iw}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Aw(){}Aw.prototype=Qo.prototype;function Dm(t,e,n){this.props=t,this.context=e,this.refs=Cw,this.updater=n||Iw}var jm=Dm.prototype=new Aw;jm.constructor=Dm;Sw(jm,Qo.prototype);jm.isPureReactComponent=!0;var zy=Array.isArray,Rw=Object.prototype.hasOwnProperty,Mm={current:null},Pw={key:!0,ref:!0,__self:!0,__source:!0};function Nw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Rw.call(e,r)&&!Pw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ql,type:t,key:i,ref:o,props:s,_owner:Mm.current}}function bC(t,e){return{$$typeof:ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function TC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var By=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TC(""+t.key):e.toString(36)}function au(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ql:case hC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jh(o,0):r,zy(s)?(n="",t!=null&&(n=t.replace(By,"$&/")+"/"),au(s,e,n,"",function(u){return u})):s!=null&&(Lm(s)&&(s=bC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(By,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",zy(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Jh(i,a);o+=au(i,e,n,l,s)}else if(l=EC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Jh(i,a++),o+=au(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oc(t,e,n){if(t==null)return t;var r=[],s=0;return au(t,r,"","",function(i){return e.call(n,i,s++)}),r}function IC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},lu={transition:null},SC={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:lu,ReactCurrentOwner:Mm};function kw(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Oc,forEach:function(t,e,n){Oc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oc(t,function(){e++}),e},toArray:function(t){return Oc(t,function(e){return e})||[]},only:function(t){if(!Lm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Qo;he.Fragment=fC;he.Profiler=mC;he.PureComponent=Dm;he.StrictMode=pC;he.Suspense=xC;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SC;he.act=kw;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Mm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Rw.call(e,l)&&!Pw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ql,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:yC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gC,_context:t},t.Consumer=t};he.createElement=Nw;he.createFactory=function(t){var e=Nw.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:vC,render:t}};he.isValidElement=Lm;he.lazy=function(t){return{$$typeof:_C,_payload:{_status:-1,_result:t},_init:IC}};he.memo=function(t,e){return{$$typeof:wC,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=lu.transition;lu.transition={};try{t()}finally{lu.transition=e}};he.unstable_act=kw;he.useCallback=function(t,e){return Ft.current.useCallback(t,e)};he.useContext=function(t){return Ft.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};he.useEffect=function(t,e){return Ft.current.useEffect(t,e)};he.useId=function(){return Ft.current.useId()};he.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Ft.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};he.useRef=function(t){return Ft.current.useRef(t)};he.useState=function(t){return Ft.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Ft.current.useTransition()};he.version="18.3.1";Tw.exports=he;var I=Tw.exports;const W=Ew(I),Ow=dC({__proto__:null,default:W},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC=I,AC=Symbol.for("react.element"),RC=Symbol.for("react.fragment"),PC=Object.prototype.hasOwnProperty,NC=CC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kC={key:!0,ref:!0,__self:!0,__source:!0};function Dw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)PC.call(e,r)&&!kC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:AC,type:t,key:i,ref:o,props:s,_owner:NC.current}}Od.Fragment=RC;Od.jsx=Dw;Od.jsxs=Dw;bw.exports=Od;var h=bw.exports,qf={},jw={exports:{}},dn={},Mw={exports:{}},Lw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var X=L.length;L.push(B);e:for(;0<X;){var K=X-1>>>1,J=L[K];if(0<s(J,B))L[K]=B,L[X]=J,X=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],X=L.pop();if(X!==B){L[0]=X;e:for(var K=0,J=L.length,te=J>>>1;K<te;){var Ae=2*(K+1)-1,et=L[Ae],ve=Ae+1,yt=L[ve];if(0>s(et,X))ve<J&&0>s(yt,et)?(L[K]=yt,L[ve]=X,K=ve):(L[K]=et,L[Ae]=X,K=Ae);else if(ve<J&&0>s(yt,X))L[K]=yt,L[ve]=X,K=ve;else break e}}return B}function s(L,B){var X=L.sortIndex-B.sortIndex;return X!==0?X:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,f=3,v=!1,_=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function P(L){if(x=!1,b(L),!_)if(n(l)!==null)_=!0,Z(D);else{var B=n(u);B!==null&&le(P,B.startTime-L)}}function D(L,B){_=!1,x&&(x=!1,w(T),T=-1),v=!0;var X=f;try{for(b(B),p=n(l);p!==null&&(!(p.expirationTime>B)||L&&!k());){var K=p.callback;if(typeof K=="function"){p.callback=null,f=p.priorityLevel;var J=K(p.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(l)&&r(l),b(B)}else r(l);p=n(l)}if(p!==null)var te=!0;else{var Ae=n(u);Ae!==null&&le(P,Ae.startTime-B),te=!1}return te}finally{p=null,f=X,v=!1}}var j=!1,C=null,T=-1,A=5,R=-1;function k(){return!(t.unstable_now()-R<A)}function O(){if(C!==null){var L=t.unstable_now();R=L;var B=!0;try{B=C(!0,L)}finally{B?N():(j=!1,C=null)}}else j=!1}var N;if(typeof y=="function")N=function(){y(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,se=q.port2;q.port1.onmessage=O,N=function(){se.postMessage(null)}}else N=function(){E(O,0)};function Z(L){C=L,j||(j=!0,N())}function le(L,B){T=E(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,Z(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var X=f;f=B;try{return L()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=f;f=L;try{return B()}finally{f=X}},t.unstable_scheduleCallback=function(L,B,X){var K=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,L={id:d++,callback:B,priorityLevel:L,startTime:X,expirationTime:J,sortIndex:-1},X>K?(L.sortIndex=X,e(u,L),n(l)===null&&L===n(u)&&(x?(w(T),T=-1):x=!0,le(P,X-K))):(L.sortIndex=J,e(l,L),_||v||(_=!0,Z(D))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var B=f;return function(){var X=f;f=B;try{return L.apply(this,arguments)}finally{f=X}}}})(Lw);Mw.exports=Lw;var OC=Mw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC=I,un=OC;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vw=new Set,al={};function Ci(t,e){Po(t,e),Po(t+"Capture",e)}function Po(t,e){for(al[t]=e,t=0;t<e.length;t++)Vw.add(e[t])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=Object.prototype.hasOwnProperty,jC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hy={},Wy={};function MC(t){return Gf.call(Wy,t)?!0:Gf.call(Hy,t)?!1:jC.test(t)?Wy[t]=!0:(Hy[t]=!0,!1)}function LC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VC(t,e,n,r){if(e===null||typeof e>"u"||LC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vm=/[\-:]([a-z])/g;function Fm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vm,Fm);mt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vm,Fm);mt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vm,Fm);mt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function Um(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VC(e,n,s,r)&&(n=null),r||s===null?MC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lr=DC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dc=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),$m=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),Fw=Symbol.for("react.provider"),Uw=Symbol.for("react.context"),zm=Symbol.for("react.forward_ref"),Qf=Symbol.for("react.suspense"),Yf=Symbol.for("react.suspense_list"),Bm=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),$w=Symbol.for("react.offscreen"),qy=Symbol.iterator;function Ca(t){return t===null||typeof t!="object"?null:(t=qy&&t[qy]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Zh;function La(t){if(Zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||""}return`
`+Zh+t}var ef=!1;function tf(t,e){if(!t||ef)return"";ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?La(t):""}function FC(t){switch(t.tag){case 5:return La(t.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return t=tf(t.type,!1),t;case 11:return t=tf(t.type.render,!1),t;case 1:return t=tf(t.type,!0),t;default:return""}}function Xf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qi:return"Fragment";case Ki:return"Portal";case Kf:return"Profiler";case $m:return"StrictMode";case Qf:return"Suspense";case Yf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Uw:return(t.displayName||"Context")+".Consumer";case Fw:return(t._context.displayName||"Context")+".Provider";case zm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bm:return e=t.displayName||null,e!==null?e:Xf(t.type)||"Memo";case Jr:e=t._payload,t=t._init;try{return Xf(t(e))}catch{}}return null}function UC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xf(e);case 8:return e===$m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $C(t){var e=zw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jc(t){t._valueTracker||(t._valueTracker=$C(t))}function Bw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Du(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jf(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ps(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hw(t,e){e=e.checked,e!=null&&Um(t,"checked",e,!1)}function Zf(t,e){Hw(t,e);var n=Ps(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ep(t,e.type,n):e.hasOwnProperty("defaultValue")&&ep(t,e.type,Ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ky(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ep(t,e,n){(e!=="number"||Du(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function ao(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ps(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function tp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Va(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ps(n)}}function Ww(t,e){var n=Ps(e.value),r=Ps(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function np(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mc,Gw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mc=Mc||document.createElement("div"),Mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ll(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zC=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(t){zC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wa[e]=Wa[t]})});function Kw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wa.hasOwnProperty(t)&&Wa[t]?(""+e).trim():e+"px"}function Qw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Kw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var BC=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rp(t,e){if(e){if(BC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function sp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=null;function Hm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var op=null,lo=null,co=null;function Xy(t){if(t=Ql(t)){if(typeof op!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Vd(e),op(t.stateNode,t.type,e))}}function Yw(t){lo?co?co.push(t):co=[t]:lo=t}function Xw(){if(lo){var t=lo,e=co;if(co=lo=null,Xy(t),e)for(t=0;t<e.length;t++)Xy(e[t])}}function Jw(t,e){return t(e)}function Zw(){}var nf=!1;function e_(t,e,n){if(nf)return t(e,n);nf=!0;try{return Jw(t,e,n)}finally{nf=!1,(lo!==null||co!==null)&&(Zw(),Xw())}}function cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Vd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var ap=!1;if(Ir)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){ap=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{ap=!1}function HC(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var qa=!1,ju=null,Mu=!1,lp=null,WC={onError:function(t){qa=!0,ju=t}};function qC(t,e,n,r,s,i,o,a,l){qa=!1,ju=null,HC.apply(WC,arguments)}function GC(t,e,n,r,s,i,o,a,l){if(qC.apply(this,arguments),qa){if(qa){var u=ju;qa=!1,ju=null}else throw Error(z(198));Mu||(Mu=!0,lp=u)}}function Ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function t_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jy(t){if(Ai(t)!==t)throw Error(z(188))}function KC(t){var e=t.alternate;if(!e){if(e=Ai(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Jy(s),t;if(i===r)return Jy(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function n_(t){return t=KC(t),t!==null?r_(t):null}function r_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=r_(t);if(e!==null)return e;t=t.sibling}return null}var s_=un.unstable_scheduleCallback,Zy=un.unstable_cancelCallback,QC=un.unstable_shouldYield,YC=un.unstable_requestPaint,Ge=un.unstable_now,XC=un.unstable_getCurrentPriorityLevel,Wm=un.unstable_ImmediatePriority,i_=un.unstable_UserBlockingPriority,Lu=un.unstable_NormalPriority,JC=un.unstable_LowPriority,o_=un.unstable_IdlePriority,Dd=null,Zn=null;function ZC(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Dd,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:nA,eA=Math.log,tA=Math.LN2;function nA(t){return t>>>=0,t===0?32:31-(eA(t)/tA|0)|0}var Lc=64,Vc=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Fa(a):(i&=o,i!==0&&(r=Fa(i)))}else o=n&~s,o!==0?r=Fa(o):i!==0&&(r=Fa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),s=1<<n,r|=t[n],e&=~s;return r}function rA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-On(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=rA(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function cp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a_(){var t=Lc;return Lc<<=1,!(Lc&4194240)&&(Lc=64),t}function rf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function iA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-On(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function qm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var be=0;function l_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var c_,Gm,u_,d_,h_,up=!1,Fc=[],ms=null,gs=null,ys=null,ul=new Map,dl=new Map,es=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ev(t,e){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(e.pointerId)}}function Ra(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ql(e),e!==null&&Gm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function aA(t,e,n,r,s){switch(e){case"focusin":return ms=Ra(ms,t,e,n,r,s),!0;case"dragenter":return gs=Ra(gs,t,e,n,r,s),!0;case"mouseover":return ys=Ra(ys,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ul.set(i,Ra(ul.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,dl.set(i,Ra(dl.get(i)||null,t,e,n,r,s)),!0}return!1}function f_(t){var e=si(t.target);if(e!==null){var n=Ai(e);if(n!==null){if(e=n.tag,e===13){if(e=t_(n),e!==null){t.blockedOn=e,h_(t.priority,function(){u_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ip=r,n.target.dispatchEvent(r),ip=null}else return e=Ql(n),e!==null&&Gm(e),t.blockedOn=n,!1;e.shift()}return!0}function tv(t,e,n){cu(t)&&n.delete(e)}function lA(){up=!1,ms!==null&&cu(ms)&&(ms=null),gs!==null&&cu(gs)&&(gs=null),ys!==null&&cu(ys)&&(ys=null),ul.forEach(tv),dl.forEach(tv)}function Pa(t,e){t.blockedOn===e&&(t.blockedOn=null,up||(up=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,lA)))}function hl(t){function e(s){return Pa(s,t)}if(0<Fc.length){Pa(Fc[0],t);for(var n=1;n<Fc.length;n++){var r=Fc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ms!==null&&Pa(ms,t),gs!==null&&Pa(gs,t),ys!==null&&Pa(ys,t),ul.forEach(e),dl.forEach(e),n=0;n<es.length;n++)r=es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)f_(n),n.blockedOn===null&&es.shift()}var uo=Lr.ReactCurrentBatchConfig,Fu=!0;function cA(t,e,n,r){var s=be,i=uo.transition;uo.transition=null;try{be=1,Km(t,e,n,r)}finally{be=s,uo.transition=i}}function uA(t,e,n,r){var s=be,i=uo.transition;uo.transition=null;try{be=4,Km(t,e,n,r)}finally{be=s,uo.transition=i}}function Km(t,e,n,r){if(Fu){var s=dp(t,e,n,r);if(s===null)pf(t,e,r,Uu,n),ev(t,r);else if(aA(s,t,e,n,r))r.stopPropagation();else if(ev(t,r),e&4&&-1<oA.indexOf(t)){for(;s!==null;){var i=Ql(s);if(i!==null&&c_(i),i=dp(t,e,n,r),i===null&&pf(t,e,r,Uu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pf(t,e,r,null,n)}}var Uu=null;function dp(t,e,n,r){if(Uu=null,t=Hm(r),t=si(t),t!==null)if(e=Ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=t_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uu=t,null}function p_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XC()){case Wm:return 1;case i_:return 4;case Lu:case JC:return 16;case o_:return 536870912;default:return 16}default:return 16}}var ds=null,Qm=null,uu=null;function m_(){if(uu)return uu;var t,e=Qm,n=e.length,r,s="value"in ds?ds.value:ds.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return uu=s.slice(t,1<r?1-r:void 0)}function du(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uc(){return!0}function nv(){return!1}function hn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Uc:nv,this.isPropagationStopped=nv,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),e}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ym=hn(Yo),Kl=Fe({},Yo,{view:0,detail:0}),dA=hn(Kl),sf,of,Na,jd=Fe({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Na&&(Na&&t.type==="mousemove"?(sf=t.screenX-Na.screenX,of=t.screenY-Na.screenY):of=sf=0,Na=t),sf)},movementY:function(t){return"movementY"in t?t.movementY:of}}),rv=hn(jd),hA=Fe({},jd,{dataTransfer:0}),fA=hn(hA),pA=Fe({},Kl,{relatedTarget:0}),af=hn(pA),mA=Fe({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),gA=hn(mA),yA=Fe({},Yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vA=hn(yA),xA=Fe({},Yo,{data:0}),sv=hn(xA),wA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_A={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EA[t])?!!e[t]:!1}function Xm(){return bA}var TA=Fe({},Kl,{key:function(t){if(t.key){var e=wA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=du(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_A[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xm,charCode:function(t){return t.type==="keypress"?du(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?du(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IA=hn(TA),SA=Fe({},jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iv=hn(SA),CA=Fe({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xm}),AA=hn(CA),RA=Fe({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),PA=hn(RA),NA=Fe({},jd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kA=hn(NA),OA=[9,13,27,32],Jm=Ir&&"CompositionEvent"in window,Ga=null;Ir&&"documentMode"in document&&(Ga=document.documentMode);var DA=Ir&&"TextEvent"in window&&!Ga,g_=Ir&&(!Jm||Ga&&8<Ga&&11>=Ga),ov=" ",av=!1;function y_(t,e){switch(t){case"keyup":return OA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function jA(t,e){switch(t){case"compositionend":return v_(e);case"keypress":return e.which!==32?null:(av=!0,ov);case"textInput":return t=e.data,t===ov&&av?null:t;default:return null}}function MA(t,e){if(Yi)return t==="compositionend"||!Jm&&y_(t,e)?(t=m_(),uu=Qm=ds=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g_&&e.locale!=="ko"?null:e.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LA[t.type]:e==="textarea"}function x_(t,e,n,r){Yw(r),e=$u(e,"onChange"),0<e.length&&(n=new Ym("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ka=null,fl=null;function VA(t){P_(t,0)}function Md(t){var e=Zi(t);if(Bw(e))return t}function FA(t,e){if(t==="change")return e}var w_=!1;if(Ir){var lf;if(Ir){var cf="oninput"in document;if(!cf){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),cf=typeof cv.oninput=="function"}lf=cf}else lf=!1;w_=lf&&(!document.documentMode||9<document.documentMode)}function uv(){Ka&&(Ka.detachEvent("onpropertychange",__),fl=Ka=null)}function __(t){if(t.propertyName==="value"&&Md(fl)){var e=[];x_(e,fl,t,Hm(t)),e_(VA,e)}}function UA(t,e,n){t==="focusin"?(uv(),Ka=e,fl=n,Ka.attachEvent("onpropertychange",__)):t==="focusout"&&uv()}function $A(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Md(fl)}function zA(t,e){if(t==="click")return Md(e)}function BA(t,e){if(t==="input"||t==="change")return Md(e)}function HA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:HA;function pl(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gf.call(e,s)||!jn(t[s],e[s]))return!1}return!0}function dv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hv(t,e){var n=dv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dv(n)}}function E_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function b_(){for(var t=window,e=Du();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Du(t.document)}return e}function Zm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WA(t){var e=b_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&E_(n.ownerDocument.documentElement,n)){if(r!==null&&Zm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=hv(n,i);var o=hv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qA=Ir&&"documentMode"in document&&11>=document.documentMode,Xi=null,hp=null,Qa=null,fp=!1;function fv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fp||Xi==null||Xi!==Du(r)||(r=Xi,"selectionStart"in r&&Zm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qa&&pl(Qa,r)||(Qa=r,r=$u(hp,"onSelect"),0<r.length&&(e=new Ym("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xi)))}function $c(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:$c("Animation","AnimationEnd"),animationiteration:$c("Animation","AnimationIteration"),animationstart:$c("Animation","AnimationStart"),transitionend:$c("Transition","TransitionEnd")},uf={},T_={};Ir&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function Ld(t){if(uf[t])return uf[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T_)return uf[t]=e[n];return t}var I_=Ld("animationend"),S_=Ld("animationiteration"),C_=Ld("animationstart"),A_=Ld("transitionend"),R_=new Map,pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(t,e){R_.set(t,e),Ci(e,[t])}for(var df=0;df<pv.length;df++){var hf=pv[df],GA=hf.toLowerCase(),KA=hf[0].toUpperCase()+hf.slice(1);Bs(GA,"on"+KA)}Bs(I_,"onAnimationEnd");Bs(S_,"onAnimationIteration");Bs(C_,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(A_,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function mv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GC(r,e,void 0,t),t.currentTarget=null}function P_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;mv(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;mv(s,a,u),i=l}}}if(Mu)throw t=lp,Mu=!1,lp=null,t}function Ne(t,e){var n=e[vp];n===void 0&&(n=e[vp]=new Set);var r=t+"__bubble";n.has(r)||(N_(e,t,2,!1),n.add(r))}function ff(t,e,n){var r=0;e&&(r|=4),N_(n,t,r,e)}var zc="_reactListening"+Math.random().toString(36).slice(2);function ml(t){if(!t[zc]){t[zc]=!0,Vw.forEach(function(n){n!=="selectionchange"&&(QA.has(n)||ff(n,!1,t),ff(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zc]||(e[zc]=!0,ff("selectionchange",!1,e))}}function N_(t,e,n,r){switch(p_(e)){case 1:var s=cA;break;case 4:s=uA;break;default:s=Km}n=s.bind(null,e,n,t),s=void 0,!ap||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function pf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=si(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}e_(function(){var u=i,d=Hm(n),p=[];e:{var f=R_.get(t);if(f!==void 0){var v=Ym,_=t;switch(t){case"keypress":if(du(n)===0)break e;case"keydown":case"keyup":v=IA;break;case"focusin":_="focus",v=af;break;case"focusout":_="blur",v=af;break;case"beforeblur":case"afterblur":v=af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=fA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=AA;break;case I_:case S_:case C_:v=gA;break;case A_:v=PA;break;case"scroll":v=dA;break;case"wheel":v=kA;break;case"copy":case"cut":case"paste":v=vA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=iv}var x=(e&4)!==0,E=!x&&t==="scroll",w=x?f!==null?f+"Capture":null:f;x=[];for(var y=u,b;y!==null;){b=y;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,w!==null&&(P=cl(y,w),P!=null&&x.push(gl(y,P,b)))),E)break;y=y.return}0<x.length&&(f=new v(f,_,null,n,d),p.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==ip&&(_=n.relatedTarget||n.fromElement)&&(si(_)||_[Sr]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=u,_=_?si(_):null,_!==null&&(E=Ai(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=u),v!==_)){if(x=rv,P="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=iv,P="onPointerLeave",w="onPointerEnter",y="pointer"),E=v==null?f:Zi(v),b=_==null?f:Zi(_),f=new x(P,y+"leave",v,n,d),f.target=E,f.relatedTarget=b,P=null,si(d)===u&&(x=new x(w,y+"enter",_,n,d),x.target=b,x.relatedTarget=E,P=x),E=P,v&&_)t:{for(x=v,w=_,y=0,b=x;b;b=Ui(b))y++;for(b=0,P=w;P;P=Ui(P))b++;for(;0<y-b;)x=Ui(x),y--;for(;0<b-y;)w=Ui(w),b--;for(;y--;){if(x===w||w!==null&&x===w.alternate)break t;x=Ui(x),w=Ui(w)}x=null}else x=null;v!==null&&gv(p,f,v,x,!1),_!==null&&E!==null&&gv(p,E,_,x,!0)}}e:{if(f=u?Zi(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var D=FA;else if(lv(f))if(w_)D=BA;else{D=$A;var j=UA}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=zA);if(D&&(D=D(t,u))){x_(p,D,n,d);break e}j&&j(t,f,u),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&ep(f,"number",f.value)}switch(j=u?Zi(u):window,t){case"focusin":(lv(j)||j.contentEditable==="true")&&(Xi=j,hp=u,Qa=null);break;case"focusout":Qa=hp=Xi=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,fv(p,n,d);break;case"selectionchange":if(qA)break;case"keydown":case"keyup":fv(p,n,d)}var C;if(Jm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Yi?y_(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(g_&&n.locale!=="ko"&&(Yi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Yi&&(C=m_()):(ds=d,Qm="value"in ds?ds.value:ds.textContent,Yi=!0)),j=$u(u,T),0<j.length&&(T=new sv(T,t,null,n,d),p.push({event:T,listeners:j}),C?T.data=C:(C=v_(n),C!==null&&(T.data=C)))),(C=DA?jA(t,n):MA(t,n))&&(u=$u(u,"onBeforeInput"),0<u.length&&(d=new sv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=C))}P_(p,e)})}function gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $u(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=cl(t,n),i!=null&&r.unshift(gl(t,i,s)),i=cl(t,e),i!=null&&r.push(gl(t,i,s))),t=t.return}return r}function Ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=cl(n,i),l!=null&&o.unshift(gl(n,l,a))):s||(l=cl(n,i),l!=null&&o.push(gl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function yv(t){return(typeof t=="string"?t:""+t).replace(YA,`
`).replace(XA,"")}function Bc(t,e,n){if(e=yv(e),yv(t)!==e&&n)throw Error(z(425))}function zu(){}var pp=null,mp=null;function gp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,ZA=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(t){return vv.resolve(null).then(t).catch(eR)}:yp;function eR(t){setTimeout(function(){throw t})}function mf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),hl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);hl(e)}function vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Xo,yl="__reactProps$"+Xo,Sr="__reactContainer$"+Xo,vp="__reactEvents$"+Xo,tR="__reactListeners$"+Xo,nR="__reactHandles$"+Xo;function si(t){var e=t[Jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[Jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xv(t);t!==null;){if(n=t[Jn])return n;t=xv(t)}return e}t=n,n=t.parentNode}return null}function Ql(t){return t=t[Jn]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Vd(t){return t[yl]||null}var xp=[],eo=-1;function Hs(t){return{current:t}}function De(t){0>eo||(t.current=xp[eo],xp[eo]=null,eo--)}function Ce(t,e){eo++,xp[eo]=t.current,t.current=e}var Ns={},Pt=Hs(Ns),qt=Hs(!1),mi=Ns;function No(t,e){var n=t.type.contextTypes;if(!n)return Ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(t){return t=t.childContextTypes,t!=null}function Bu(){De(qt),De(Pt)}function wv(t,e,n){if(Pt.current!==Ns)throw Error(z(168));Ce(Pt,e),Ce(qt,n)}function k_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,UC(t)||"Unknown",s));return Fe({},n,r)}function Hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ns,mi=Pt.current,Ce(Pt,t),Ce(qt,qt.current),!0}function _v(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=k_(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,De(qt),De(Pt),Ce(Pt,t)):De(qt),Ce(qt,n)}var yr=null,Fd=!1,gf=!1;function O_(t){yr===null?yr=[t]:yr.push(t)}function rR(t){Fd=!0,O_(t)}function Ws(){if(!gf&&yr!==null){gf=!0;var t=0,e=be;try{var n=yr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,Fd=!1}catch(s){throw yr!==null&&(yr=yr.slice(t+1)),s_(Wm,Ws),s}finally{be=e,gf=!1}}return null}var to=[],no=0,Wu=null,qu=0,pn=[],mn=0,gi=null,vr=1,xr="";function ti(t,e){to[no++]=qu,to[no++]=Wu,Wu=t,qu=e}function D_(t,e,n){pn[mn++]=vr,pn[mn++]=xr,pn[mn++]=gi,gi=t;var r=vr;t=xr;var s=32-On(r)-1;r&=~(1<<s),n+=1;var i=32-On(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,vr=1<<32-On(e)+s|n<<s|r,xr=i+t}else vr=1<<i|n<<s|r,xr=t}function eg(t){t.return!==null&&(ti(t,1),D_(t,1,0))}function tg(t){for(;t===Wu;)Wu=to[--no],to[no]=null,qu=to[--no],to[no]=null;for(;t===gi;)gi=pn[--mn],pn[mn]=null,xr=pn[--mn],pn[mn]=null,vr=pn[--mn],pn[mn]=null}var ln=null,sn=null,Me=!1,Rn=null;function j_(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ev(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,sn=vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:vr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,sn=null,!0):!1;default:return!1}}function wp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _p(t){if(Me){var e=sn;if(e){var n=e;if(!Ev(t,e)){if(wp(t))throw Error(z(418));e=vs(n.nextSibling);var r=ln;e&&Ev(t,e)?j_(r,n):(t.flags=t.flags&-4097|2,Me=!1,ln=t)}}else{if(wp(t))throw Error(z(418));t.flags=t.flags&-4097|2,Me=!1,ln=t}}}function bv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function Hc(t){if(t!==ln)return!1;if(!Me)return bv(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gp(t.type,t.memoizedProps)),e&&(e=sn)){if(wp(t))throw M_(),Error(z(418));for(;e;)j_(t,e),e=vs(e.nextSibling)}if(bv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=ln?vs(t.stateNode.nextSibling):null;return!0}function M_(){for(var t=sn;t;)t=vs(t.nextSibling)}function ko(){sn=ln=null,Me=!1}function ng(t){Rn===null?Rn=[t]:Rn.push(t)}var sR=Lr.ReactCurrentBatchConfig;function ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Wc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tv(t){var e=t._init;return e(t._payload)}function L_(t){function e(w,y){if(t){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Es(w,y),w.index=0,w.sibling=null,w}function i(w,y,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,b,P){return y===null||y.tag!==6?(y=bf(b,w.mode,P),y.return=w,y):(y=s(y,b),y.return=w,y)}function l(w,y,b,P){var D=b.type;return D===Qi?d(w,y,b.props.children,P,b.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Jr&&Tv(D)===y.type)?(P=s(y,b.props),P.ref=ka(w,y,b),P.return=w,P):(P=vu(b.type,b.key,b.props,null,w.mode,P),P.ref=ka(w,y,b),P.return=w,P)}function u(w,y,b,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Tf(b,w.mode,P),y.return=w,y):(y=s(y,b.children||[]),y.return=w,y)}function d(w,y,b,P,D){return y===null||y.tag!==7?(y=fi(b,w.mode,P,D),y.return=w,y):(y=s(y,b),y.return=w,y)}function p(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=bf(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dc:return b=vu(y.type,y.key,y.props,null,w.mode,b),b.ref=ka(w,null,y),b.return=w,b;case Ki:return y=Tf(y,w.mode,b),y.return=w,y;case Jr:var P=y._init;return p(w,P(y._payload),b)}if(Va(y)||Ca(y))return y=fi(y,w.mode,b,null),y.return=w,y;Wc(w,y)}return null}function f(w,y,b,P){var D=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(w,y,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Dc:return b.key===D?l(w,y,b,P):null;case Ki:return b.key===D?u(w,y,b,P):null;case Jr:return D=b._init,f(w,y,D(b._payload),P)}if(Va(b)||Ca(b))return D!==null?null:d(w,y,b,P,null);Wc(w,b)}return null}function v(w,y,b,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(b)||null,a(y,w,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Dc:return w=w.get(P.key===null?b:P.key)||null,l(y,w,P,D);case Ki:return w=w.get(P.key===null?b:P.key)||null,u(y,w,P,D);case Jr:var j=P._init;return v(w,y,b,j(P._payload),D)}if(Va(P)||Ca(P))return w=w.get(b)||null,d(y,w,P,D,null);Wc(y,P)}return null}function _(w,y,b,P){for(var D=null,j=null,C=y,T=y=0,A=null;C!==null&&T<b.length;T++){C.index>T?(A=C,C=null):A=C.sibling;var R=f(w,C,b[T],P);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(w,C),y=i(R,y,T),j===null?D=R:j.sibling=R,j=R,C=A}if(T===b.length)return n(w,C),Me&&ti(w,T),D;if(C===null){for(;T<b.length;T++)C=p(w,b[T],P),C!==null&&(y=i(C,y,T),j===null?D=C:j.sibling=C,j=C);return Me&&ti(w,T),D}for(C=r(w,C);T<b.length;T++)A=v(C,w,T,b[T],P),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),y=i(A,y,T),j===null?D=A:j.sibling=A,j=A);return t&&C.forEach(function(k){return e(w,k)}),Me&&ti(w,T),D}function x(w,y,b,P){var D=Ca(b);if(typeof D!="function")throw Error(z(150));if(b=D.call(b),b==null)throw Error(z(151));for(var j=D=null,C=y,T=y=0,A=null,R=b.next();C!==null&&!R.done;T++,R=b.next()){C.index>T?(A=C,C=null):A=C.sibling;var k=f(w,C,R.value,P);if(k===null){C===null&&(C=A);break}t&&C&&k.alternate===null&&e(w,C),y=i(k,y,T),j===null?D=k:j.sibling=k,j=k,C=A}if(R.done)return n(w,C),Me&&ti(w,T),D;if(C===null){for(;!R.done;T++,R=b.next())R=p(w,R.value,P),R!==null&&(y=i(R,y,T),j===null?D=R:j.sibling=R,j=R);return Me&&ti(w,T),D}for(C=r(w,C);!R.done;T++,R=b.next())R=v(C,w,T,R.value,P),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),y=i(R,y,T),j===null?D=R:j.sibling=R,j=R);return t&&C.forEach(function(O){return e(w,O)}),Me&&ti(w,T),D}function E(w,y,b,P){if(typeof b=="object"&&b!==null&&b.type===Qi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Dc:e:{for(var D=b.key,j=y;j!==null;){if(j.key===D){if(D=b.type,D===Qi){if(j.tag===7){n(w,j.sibling),y=s(j,b.props.children),y.return=w,w=y;break e}}else if(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Jr&&Tv(D)===j.type){n(w,j.sibling),y=s(j,b.props),y.ref=ka(w,j,b),y.return=w,w=y;break e}n(w,j);break}else e(w,j);j=j.sibling}b.type===Qi?(y=fi(b.props.children,w.mode,P,b.key),y.return=w,w=y):(P=vu(b.type,b.key,b.props,null,w.mode,P),P.ref=ka(w,y,b),P.return=w,w=P)}return o(w);case Ki:e:{for(j=b.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(w,y.sibling),y=s(y,b.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Tf(b,w.mode,P),y.return=w,w=y}return o(w);case Jr:return j=b._init,E(w,y,j(b._payload),P)}if(Va(b))return _(w,y,b,P);if(Ca(b))return x(w,y,b,P);Wc(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,b),y.return=w,w=y):(n(w,y),y=bf(b,w.mode,P),y.return=w,w=y),o(w)):n(w,y)}return E}var Oo=L_(!0),V_=L_(!1),Gu=Hs(null),Ku=null,ro=null,rg=null;function sg(){rg=ro=Ku=null}function ig(t){var e=Gu.current;De(Gu),t._currentValue=e}function Ep(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ho(t,e){Ku=t,rg=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(rg!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(Ku===null)throw Error(z(308));ro=t,Ku.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var ii=null;function og(t){ii===null?ii=[t]:ii.push(t)}function F_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,og(e)):(n.next=s.next,s.next=n),e.interleaved=n,Cr(t,r)}function Cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zr=!1;function ag(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Cr(t,n)}return s=r.interleaved,s===null?(e.next=e,og(r)):(e.next=s.next,s.next=e),r.interleaved=e,Cr(t,n)}function hu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qm(t,n)}}function Iv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qu(t,e,n,r){var s=t.updateQueue;Zr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(f=e,v=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){p=_.call(v,p,f);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,f=typeof _=="function"?_.call(v,p,f):_,f==null)break e;p=Fe({},p,f);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=p):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vi|=o,t.lanes=o,t.memoizedState=p}}function Sv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Yl={},er=Hs(Yl),vl=Hs(Yl),xl=Hs(Yl);function oi(t){if(t===Yl)throw Error(z(174));return t}function lg(t,e){switch(Ce(xl,e),Ce(vl,t),Ce(er,Yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:np(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=np(e,t)}De(er),Ce(er,e)}function Do(){De(er),De(vl),De(xl)}function $_(t){oi(xl.current);var e=oi(er.current),n=np(e,t.type);e!==n&&(Ce(vl,t),Ce(er,n))}function cg(t){vl.current===t&&(De(er),De(vl))}var Le=Hs(0);function Yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yf=[];function ug(){for(var t=0;t<yf.length;t++)yf[t]._workInProgressVersionPrimary=null;yf.length=0}var fu=Lr.ReactCurrentDispatcher,vf=Lr.ReactCurrentBatchConfig,yi=0,Ve=null,tt=null,at=null,Xu=!1,Ya=!1,wl=0,iR=0;function Et(){throw Error(z(321))}function dg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function hg(t,e,n,r,s,i){if(yi=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fu.current=t===null||t.memoizedState===null?cR:uR,t=n(r,s),Ya){i=0;do{if(Ya=!1,wl=0,25<=i)throw Error(z(301));i+=1,at=tt=null,e.updateQueue=null,fu.current=dR,t=n(r,s)}while(Ya)}if(fu.current=Ju,e=tt!==null&&tt.next!==null,yi=0,at=tt=Ve=null,Xu=!1,e)throw Error(z(300));return t}function fg(){var t=wl!==0;return wl=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ve.memoizedState=at=t:at=at.next=t,at}function wn(){if(tt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=at===null?Ve.memoizedState:at.next;if(e!==null)at=e,tt=t;else{if(t===null)throw Error(z(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},at===null?Ve.memoizedState=at=t:at=at.next=t}return at}function _l(t,e){return typeof e=="function"?e(t):e}function xf(t){var e=wn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((yi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Ve.lanes|=d,vi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,jn(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,vi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wf(t){var e=wn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jn(i,e.memoizedState)||(Wt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function z_(){}function B_(t,e){var n=Ve,r=wn(),s=e(),i=!jn(r.memoizedState,s);if(i&&(r.memoizedState=s,Wt=!0),r=r.queue,pg(q_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,El(9,W_.bind(null,n,r,s,e),void 0,null),ct===null)throw Error(z(349));yi&30||H_(n,e,s)}return s}function H_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function W_(t,e,n,r){e.value=n,e.getSnapshot=r,G_(e)&&K_(t)}function q_(t,e,n){return n(function(){G_(e)&&K_(t)})}function G_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function K_(t){var e=Cr(t,1);e!==null&&Dn(e,t,1,-1)}function Cv(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:t},e.queue=t,t=t.dispatch=lR.bind(null,Ve,t),[e.memoizedState,t]}function El(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q_(){return wn().memoizedState}function pu(t,e,n,r){var s=Gn();Ve.flags|=t,s.memoizedState=El(1|e,n,void 0,r===void 0?null:r)}function Ud(t,e,n,r){var s=wn();r=r===void 0?null:r;var i=void 0;if(tt!==null){var o=tt.memoizedState;if(i=o.destroy,r!==null&&dg(r,o.deps)){s.memoizedState=El(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=El(1|e,n,i,r)}function Av(t,e){return pu(8390656,8,t,e)}function pg(t,e){return Ud(2048,8,t,e)}function Y_(t,e){return Ud(4,2,t,e)}function X_(t,e){return Ud(4,4,t,e)}function J_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Z_(t,e,n){return n=n!=null?n.concat([t]):null,Ud(4,4,J_.bind(null,e,t),n)}function mg(){}function eE(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tE(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nE(t,e,n){return yi&21?(jn(n,e)||(n=a_(),Ve.lanes|=n,vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function oR(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=vf.transition;vf.transition={};try{t(!1),e()}finally{be=n,vf.transition=r}}function rE(){return wn().memoizedState}function aR(t,e,n){var r=_s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sE(t))iE(e,n);else if(n=F_(t,e,n,r),n!==null){var s=Vt();Dn(n,t,r,s),oE(n,e,r)}}function lR(t,e,n){var r=_s(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sE(t))iE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jn(a,o)){var l=e.interleaved;l===null?(s.next=s,og(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=F_(t,e,s,r),n!==null&&(s=Vt(),Dn(n,t,r,s),oE(n,e,r))}}function sE(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function iE(t,e){Ya=Xu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qm(t,n)}}var Ju={readContext:xn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},cR={readContext:xn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:Av,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pu(4194308,4,J_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pu(4194308,4,t,e)},useInsertionEffect:function(t,e){return pu(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aR.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:Cv,useDebugValue:mg,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=Cv(!1),e=t[0];return t=oR.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=Gn();if(Me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ct===null)throw Error(z(349));yi&30||H_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Av(q_.bind(null,r,i,t),[t]),r.flags|=2048,El(9,W_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gn(),e=ct.identifierPrefix;if(Me){var n=xr,r=vr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uR={readContext:xn,useCallback:eE,useContext:xn,useEffect:pg,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:tE,useReducer:xf,useRef:Q_,useState:function(){return xf(_l)},useDebugValue:mg,useDeferredValue:function(t){var e=wn();return nE(e,tt.memoizedState,t)},useTransition:function(){var t=xf(_l)[0],e=wn().memoizedState;return[t,e]},useMutableSource:z_,useSyncExternalStore:B_,useId:rE,unstable_isNewReconciler:!1},dR={readContext:xn,useCallback:eE,useContext:xn,useEffect:pg,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:tE,useReducer:wf,useRef:Q_,useState:function(){return wf(_l)},useDebugValue:mg,useDeferredValue:function(t){var e=wn();return tt===null?e.memoizedState=t:nE(e,tt.memoizedState,t)},useTransition:function(){var t=wf(_l)[0],e=wn().memoizedState;return[t,e]},useMutableSource:z_,useSyncExternalStore:B_,useId:rE,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $d={isMounted:function(t){return(t=t._reactInternals)?Ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),s=_s(t),i=br(r,s);i.payload=e,n!=null&&(i.callback=n),e=xs(t,i,s),e!==null&&(Dn(e,t,s,r),hu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),s=_s(t),i=br(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=xs(t,i,s),e!==null&&(Dn(e,t,s,r),hu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=_s(t),s=br(n,r);s.tag=2,e!=null&&(s.callback=e),e=xs(t,s,r),e!==null&&(Dn(e,t,r,n),hu(e,t,r))}};function Rv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!pl(n,r)||!pl(s,i):!0}function aE(t,e,n){var r=!1,s=Ns,i=e.contextType;return typeof i=="object"&&i!==null?i=xn(i):(s=Gt(e)?mi:Pt.current,r=e.contextTypes,i=(r=r!=null)?No(t,s):Ns),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$d,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Pv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$d.enqueueReplaceState(e,e.state,null)}function Tp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ag(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xn(i):(i=Gt(e)?mi:Pt.current,s.context=No(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(bp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$d.enqueueReplaceState(s,s.state,null),Qu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,e){try{var n="",r=e;do n+=FC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ip(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hR=typeof WeakMap=="function"?WeakMap:Map;function lE(t,e,n){n=br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ed||(ed=!0,jp=r),Ip(t,e)},n}function cE(t,e,n){n=br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ip(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ip(t,e),typeof r!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Nv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=SR.bind(null,t,e,n),e.then(t,t))}function kv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ov(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=br(-1,1),e.tag=2,xs(n,e,1))),n.lanes|=1),t)}var fR=Lr.ReactCurrentOwner,Wt=!1;function jt(t,e,n,r){e.child=t===null?V_(e,null,n,r):Oo(e,t.child,n,r)}function Dv(t,e,n,r,s){n=n.render;var i=e.ref;return ho(e,s),r=hg(t,e,n,r,i,s),n=fg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ar(t,e,s)):(Me&&n&&eg(e),e.flags|=1,jt(t,e,r,s),e.child)}function jv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!bg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,uE(t,e,i,r,s)):(t=vu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pl,n(o,r)&&t.ref===e.ref)return Ar(t,e,s)}return e.flags|=1,t=Es(i,r),t.ref=e.ref,t.return=e,e.child=t}function uE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(pl(i,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,Ar(t,e,s)}return Sp(t,e,n,r,s)}function dE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(io,nn),nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(io,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(io,nn),nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(io,nn),nn|=r;return jt(t,e,s,n),e.child}function hE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sp(t,e,n,r,s){var i=Gt(n)?mi:Pt.current;return i=No(e,i),ho(e,s),n=hg(t,e,n,r,i,s),r=fg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ar(t,e,s)):(Me&&r&&eg(e),e.flags|=1,jt(t,e,n,s),e.child)}function Mv(t,e,n,r,s){if(Gt(n)){var i=!0;Hu(e)}else i=!1;if(ho(e,s),e.stateNode===null)mu(t,e),aE(e,n,r),Tp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xn(u):(u=Gt(n)?mi:Pt.current,u=No(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Pv(e,o,r,u),Zr=!1;var f=e.memoizedState;o.state=f,Qu(e,r,o,s),l=e.memoizedState,a!==r||f!==l||qt.current||Zr?(typeof d=="function"&&(bp(e,n,d,r),l=e.memoizedState),(a=Zr||Rv(e,n,a,r,f,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,U_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:In(e.type,a),o.props=u,p=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xn(l):(l=Gt(n)?mi:Pt.current,l=No(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&Pv(e,o,r,l),Zr=!1,f=e.memoizedState,o.state=f,Qu(e,r,o,s);var _=e.memoizedState;a!==p||f!==_||qt.current||Zr?(typeof v=="function"&&(bp(e,n,v,r),_=e.memoizedState),(u=Zr||Rv(e,n,u,r,f,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Cp(t,e,n,r,i,s)}function Cp(t,e,n,r,s,i){hE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&_v(e,n,!1),Ar(t,e,i);r=e.stateNode,fR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oo(e,t.child,null,i),e.child=Oo(e,null,a,i)):jt(t,e,a,i),e.memoizedState=r.state,s&&_v(e,n,!0),e.child}function fE(t){var e=t.stateNode;e.pendingContext?wv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wv(t,e.context,!1),lg(t,e.containerInfo)}function Lv(t,e,n,r,s){return ko(),ng(s),e.flags|=256,jt(t,e,n,r),e.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function pE(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Le,s&1),t===null)return _p(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hd(o,r,0,null),t=fi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Rp(n),e.memoizedState=Ap,t):gg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return pR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Es(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Es(a,i):(i=fi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ap,r}return i=t.child,t=i.sibling,r=Es(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gg(t,e){return e=Hd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qc(t,e,n,r){return r!==null&&ng(r),Oo(e,t.child,null,n),t=gg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_f(Error(z(422))),qc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Hd({mode:"visible",children:r.children},s,0,null),i=fi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oo(e,t.child,null,o),e.child.memoizedState=Rp(o),e.memoizedState=Ap,i);if(!(e.mode&1))return qc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=_f(i,r,void 0),qc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wt||a){if(r=ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Cr(t,s),Dn(r,t,s,-1))}return Eg(),r=_f(Error(z(421))),qc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=CR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,sn=vs(s.nextSibling),ln=e,Me=!0,Rn=null,t!==null&&(pn[mn++]=vr,pn[mn++]=xr,pn[mn++]=gi,vr=t.id,xr=t.overflow,gi=e),e=gg(e,r.children),e.flags|=4096,e)}function Vv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ep(t.return,e,n)}function Ef(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function mE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(jt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vv(t,n,e);else if(t.tag===19)Vv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ef(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ef(e,!0,n,null,i);break;case"together":Ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Es(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Es(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mR(t,e,n){switch(e.tag){case 3:fE(e),ko();break;case 5:$_(e);break;case 1:Gt(e.type)&&Hu(e);break;case 4:lg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Gu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?pE(t,e,n):(Ce(Le,Le.current&1),t=Ar(t,e,n),t!==null?t.sibling:null);Ce(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,dE(t,e,n)}return Ar(t,e,n)}var gE,Pp,yE,vE;gE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pp=function(){};yE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,oi(er.current);var i=null;switch(n){case"input":s=Jf(t,s),r=Jf(t,r),i=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":s=tp(t,s),r=tp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zu)}rp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(al.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(al.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};vE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oa(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gR(t,e,n){var r=e.pendingProps;switch(tg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Gt(e.type)&&Bu(),bt(e),null;case 3:return r=e.stateNode,Do(),De(qt),De(Pt),ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(Vp(Rn),Rn=null))),Pp(t,e),bt(e),null;case 5:cg(e);var s=oi(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)yE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return bt(e),null}if(t=oi(er.current),Hc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jn]=e,r[yl]=i,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(s=0;s<Ua.length;s++)Ne(Ua[s],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Gy(r,i),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",r);break;case"textarea":Qy(r,i),Ne("invalid",r)}rp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Bc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Bc(r.textContent,a,t),s=["children",""+a]):al.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":jc(r),Ky(r,i,!0);break;case"textarea":jc(r),Yy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Jn]=e,t[yl]=r,gE(t,e,!1,!1),e.stateNode=t;e:{switch(o=sp(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),s=r;break;case"iframe":case"object":case"embed":Ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ua.length;s++)Ne(Ua[s],t);s=r;break;case"source":Ne("error",t),s=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),s=r;break;case"details":Ne("toggle",t),s=r;break;case"input":Gy(t,r),s=Jf(t,r),Ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Qy(t,r),s=tp(t,r),Ne("invalid",t);break;default:s=r}rp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Qw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ll(t,l):typeof l=="number"&&ll(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(al.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ne("scroll",t):l!=null&&Um(t,i,l,o))}switch(n){case"input":jc(t),Ky(t,r,!1);break;case"textarea":jc(t),Yy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ps(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ao(t,!!r.multiple,i,!1):r.defaultValue!=null&&ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)vE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=oi(xl.current),oi(er.current),Hc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jn]=e,(i=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:Bc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=e,e.stateNode=r}return bt(e),null;case 13:if(De(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&sn!==null&&e.mode&1&&!(e.flags&128))M_(),ko(),e.flags|=98560,i=!1;else if(i=Hc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Jn]=e}else ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),i=!1}else Rn!==null&&(Vp(Rn),Rn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?nt===0&&(nt=3):Eg())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return Do(),Pp(t,e),t===null&&ml(e.stateNode.containerInfo),bt(e),null;case 10:return ig(e.type._context),bt(e),null;case 17:return Gt(e.type)&&Bu(),bt(e),null;case 19:if(De(Le),i=e.memoizedState,i===null)return bt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Oa(i,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yu(t),o!==null){for(e.flags|=128,Oa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Mo&&(e.flags|=128,r=!0,Oa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Me)return bt(e),null}else 2*Ge()-i.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,r=!0,Oa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Le.current,Ce(Le,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return _g(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function yR(t,e){switch(tg(e),e.tag){case 1:return Gt(e.type)&&Bu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(),De(qt),De(Pt),ug(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cg(e),null;case 13:if(De(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Le),null;case 4:return Do(),null;case 10:return ig(e.type._context),null;case 22:case 23:return _g(),null;case 24:return null;default:return null}}var Gc=!1,Ct=!1,vR=typeof WeakSet=="function"?WeakSet:Set,Q=null;function so(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Np(t,e,n){try{n()}catch(r){We(t,e,r)}}var Fv=!1;function xR(t,e){if(pp=Fu,t=b_(),Zm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,f=null;t:for(;;){for(var v;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)f=p,p=v;for(;;){if(p===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(v=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mp={focusedElem:t,selectionRange:n},Fu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,E=_.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:In(e.type,x),E);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){We(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return _=Fv,Fv=!1,_}function Xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Np(e,n,i)}s=s.next}while(s!==r)}}function zd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xE(t){var e=t.alternate;e!==null&&(t.alternate=null,xE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jn],delete e[yl],delete e[vp],delete e[tR],delete e[nR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wE(t){return t.tag===5||t.tag===3||t.tag===4}function Uv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zu));else if(r!==4&&(t=t.child,t!==null))for(Op(t,e,n),t=t.sibling;t!==null;)Op(t,e,n),t=t.sibling}function Dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dp(t,e,n),t=t.sibling;t!==null;)Dp(t,e,n),t=t.sibling}var dt=null,An=!1;function qr(t,e,n){for(n=n.child;n!==null;)_E(t,e,n),n=n.sibling}function _E(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Dd,n)}catch{}switch(n.tag){case 5:Ct||so(n,e);case 6:var r=dt,s=An;dt=null,qr(t,e,n),dt=r,An=s,dt!==null&&(An?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(An?(t=dt,n=n.stateNode,t.nodeType===8?mf(t.parentNode,n):t.nodeType===1&&mf(t,n),hl(t)):mf(dt,n.stateNode));break;case 4:r=dt,s=An,dt=n.stateNode.containerInfo,An=!0,qr(t,e,n),dt=r,An=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Np(n,e,o),s=s.next}while(s!==r)}qr(t,e,n);break;case 1:if(!Ct&&(so(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}qr(t,e,n);break;case 21:qr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,qr(t,e,n),Ct=r):qr(t,e,n);break;default:qr(t,e,n)}}function $v(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vR),e.forEach(function(r){var s=AR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,An=!1;break e;case 3:dt=a.stateNode.containerInfo,An=!0;break e;case 4:dt=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(dt===null)throw Error(z(160));_E(i,o,s),dt=null,An=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){We(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EE(e,t),e=e.sibling}function EE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Wn(t),r&4){try{Xa(3,t,t.return),zd(3,t)}catch(x){We(t,t.return,x)}try{Xa(5,t,t.return)}catch(x){We(t,t.return,x)}}break;case 1:Tn(e,t),Wn(t),r&512&&n!==null&&so(n,n.return);break;case 5:if(Tn(e,t),Wn(t),r&512&&n!==null&&so(n,n.return),t.flags&32){var s=t.stateNode;try{ll(s,"")}catch(x){We(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Hw(s,i),sp(a,o);var u=sp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?Qw(s,p):d==="dangerouslySetInnerHTML"?Gw(s,p):d==="children"?ll(s,p):Um(s,d,p,u)}switch(a){case"input":Zf(s,i);break;case"textarea":Ww(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ao(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?ao(s,!!i.multiple,i.defaultValue,!0):ao(s,!!i.multiple,i.multiple?[]:"",!1))}s[yl]=i}catch(x){We(t,t.return,x)}}break;case 6:if(Tn(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){We(t,t.return,x)}}break;case 3:if(Tn(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(e.containerInfo)}catch(x){We(t,t.return,x)}break;case 4:Tn(e,t),Wn(t);break;case 13:Tn(e,t),Wn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xg=Ge())),r&4&&$v(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(u=Ct)||d,Tn(e,t),Ct=u):Tn(e,t),Wn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(p=Q=d;Q!==null;){switch(f=Q,v=f.child,f.tag){case 0:case 11:case 14:case 15:Xa(4,f,f.return);break;case 1:so(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){We(r,n,x)}}break;case 5:so(f,f.return);break;case 22:if(f.memoizedState!==null){Bv(p);continue}}v!==null?(v.return=f,Q=v):Bv(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Kw("display",o))}catch(x){We(t,t.return,x)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){We(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Tn(e,t),Wn(t),r&4&&$v(t);break;case 21:break;default:Tn(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wE(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ll(s,""),r.flags&=-33);var i=Uv(t);Dp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Uv(t);Op(t,a,o);break;default:throw Error(z(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wR(t,e,n){Q=t,bE(t)}function bE(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=Gc;var u=Ct;if(Gc=o,(Ct=l)&&!u)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Hv(s):l!==null?(l.return=o,Q=l):Hv(s);for(;i!==null;)Q=i,bE(i),i=i.sibling;Q=s,Gc=a,Ct=u}zv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):zv(t)}}function zv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||zd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Sv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&hl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ct||e.flags&512&&kp(e)}catch(f){We(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Bv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Hv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zd(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){We(e,s,l)}}var i=e.return;try{kp(e)}catch(l){We(e,i,l)}break;case 5:var o=e.return;try{kp(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var _R=Math.ceil,Zu=Lr.ReactCurrentDispatcher,yg=Lr.ReactCurrentOwner,yn=Lr.ReactCurrentBatchConfig,ge=0,ct=null,Xe=null,pt=0,nn=0,io=Hs(0),nt=0,bl=null,vi=0,Bd=0,vg=0,Ja=null,Bt=null,xg=0,Mo=1/0,gr=null,ed=!1,jp=null,ws=null,Kc=!1,hs=null,td=0,Za=0,Mp=null,gu=-1,yu=0;function Vt(){return ge&6?Ge():gu!==-1?gu:gu=Ge()}function _s(t){return t.mode&1?ge&2&&pt!==0?pt&-pt:sR.transition!==null?(yu===0&&(yu=a_()),yu):(t=be,t!==0||(t=window.event,t=t===void 0?16:p_(t.type)),t):1}function Dn(t,e,n,r){if(50<Za)throw Za=0,Mp=null,Error(z(185));Gl(t,n,r),(!(ge&2)||t!==ct)&&(t===ct&&(!(ge&2)&&(Bd|=n),nt===4&&ts(t,pt)),Kt(t,r),n===1&&ge===0&&!(e.mode&1)&&(Mo=Ge()+500,Fd&&Ws()))}function Kt(t,e){var n=t.callbackNode;sA(t,e);var r=Vu(t,t===ct?pt:0);if(r===0)n!==null&&Zy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zy(n),e===1)t.tag===0?rR(Wv.bind(null,t)):O_(Wv.bind(null,t)),ZA(function(){!(ge&6)&&Ws()}),n=null;else{switch(l_(r)){case 1:n=Wm;break;case 4:n=i_;break;case 16:n=Lu;break;case 536870912:n=o_;break;default:n=Lu}n=NE(n,TE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TE(t,e){if(gu=-1,yu=0,ge&6)throw Error(z(327));var n=t.callbackNode;if(fo()&&t.callbackNode!==n)return null;var r=Vu(t,t===ct?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nd(t,r);else{e=r;var s=ge;ge|=2;var i=SE();(ct!==t||pt!==e)&&(gr=null,Mo=Ge()+500,hi(t,e));do try{TR();break}catch(a){IE(t,a)}while(!0);sg(),Zu.current=i,ge=s,Xe!==null?e=0:(ct=null,pt=0,e=nt)}if(e!==0){if(e===2&&(s=cp(t),s!==0&&(r=s,e=Lp(t,s))),e===1)throw n=bl,hi(t,0),ts(t,r),Kt(t,Ge()),n;if(e===6)ts(t,r);else{if(s=t.current.alternate,!(r&30)&&!ER(s)&&(e=nd(t,r),e===2&&(i=cp(t),i!==0&&(r=i,e=Lp(t,i))),e===1))throw n=bl,hi(t,0),ts(t,r),Kt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:ni(t,Bt,gr);break;case 3:if(ts(t,r),(r&130023424)===r&&(e=xg+500-Ge(),10<e)){if(Vu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=yp(ni.bind(null,t,Bt,gr),e);break}ni(t,Bt,gr);break;case 4:if(ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-On(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_R(r/1960))-r,10<r){t.timeoutHandle=yp(ni.bind(null,t,Bt,gr),r);break}ni(t,Bt,gr);break;case 5:ni(t,Bt,gr);break;default:throw Error(z(329))}}}return Kt(t,Ge()),t.callbackNode===n?TE.bind(null,t):null}function Lp(t,e){var n=Ja;return t.current.memoizedState.isDehydrated&&(hi(t,e).flags|=256),t=nd(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&Vp(e)),t}function Vp(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function ER(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ts(t,e){for(e&=~vg,e&=~Bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function Wv(t){if(ge&6)throw Error(z(327));fo();var e=Vu(t,0);if(!(e&1))return Kt(t,Ge()),null;var n=nd(t,e);if(t.tag!==0&&n===2){var r=cp(t);r!==0&&(e=r,n=Lp(t,r))}if(n===1)throw n=bl,hi(t,0),ts(t,e),Kt(t,Ge()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,Bt,gr),Kt(t,Ge()),null}function wg(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Mo=Ge()+500,Fd&&Ws())}}function xi(t){hs!==null&&hs.tag===0&&!(ge&6)&&fo();var e=ge;ge|=1;var n=yn.transition,r=be;try{if(yn.transition=null,be=1,t)return t()}finally{be=r,yn.transition=n,ge=e,!(ge&6)&&Ws()}}function _g(){nn=io.current,De(io)}function hi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JA(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(tg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bu();break;case 3:Do(),De(qt),De(Pt),ug();break;case 5:cg(r);break;case 4:Do();break;case 13:De(Le);break;case 19:De(Le);break;case 10:ig(r.type._context);break;case 22:case 23:_g()}n=n.return}if(ct=t,Xe=t=Es(t.current,null),pt=nn=e,nt=0,bl=null,vg=Bd=vi=0,Bt=Ja=null,ii!==null){for(e=0;e<ii.length;e++)if(n=ii[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ii=null}return t}function IE(t,e){do{var n=Xe;try{if(sg(),fu.current=Ju,Xu){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xu=!1}if(yi=0,at=tt=Ve=null,Ya=!1,wl=0,yg.current=null,n===null||n.return===null){nt=1,bl=e,Xe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=kv(o);if(v!==null){v.flags&=-257,Ov(v,o,a,i,e),v.mode&1&&Nv(i,u,e),e=v,l=u;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){Nv(i,u,e),Eg();break e}l=Error(z(426))}}else if(Me&&a.mode&1){var E=kv(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ov(E,o,a,i,e),ng(jo(l,a));break e}}i=l=jo(l,a),nt!==4&&(nt=2),Ja===null?Ja=[i]:Ja.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=lE(i,l,e);Iv(i,w);break e;case 1:a=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ws===null||!ws.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=cE(i,a,e);Iv(i,P);break e}}i=i.return}while(i!==null)}AE(n)}catch(D){e=D,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function SE(){var t=Zu.current;return Zu.current=Ju,t===null?Ju:t}function Eg(){(nt===0||nt===3||nt===2)&&(nt=4),ct===null||!(vi&268435455)&&!(Bd&268435455)||ts(ct,pt)}function nd(t,e){var n=ge;ge|=2;var r=SE();(ct!==t||pt!==e)&&(gr=null,hi(t,e));do try{bR();break}catch(s){IE(t,s)}while(!0);if(sg(),ge=n,Zu.current=r,Xe!==null)throw Error(z(261));return ct=null,pt=0,nt}function bR(){for(;Xe!==null;)CE(Xe)}function TR(){for(;Xe!==null&&!QC();)CE(Xe)}function CE(t){var e=PE(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?AE(t):Xe=e,yg.current=null}function AE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yR(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Xe=null;return}}else if(n=gR(n,e,nn),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);nt===0&&(nt=5)}function ni(t,e,n){var r=be,s=yn.transition;try{yn.transition=null,be=1,IR(t,e,n,r)}finally{yn.transition=s,be=r}return null}function IR(t,e,n,r){do fo();while(hs!==null);if(ge&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(iA(t,i),t===ct&&(Xe=ct=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kc||(Kc=!0,NE(Lu,function(){return fo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=yn.transition,yn.transition=null;var o=be;be=1;var a=ge;ge|=4,yg.current=null,xR(t,n),EE(n,t),WA(mp),Fu=!!pp,mp=pp=null,t.current=n,wR(n),YC(),ge=a,be=o,yn.transition=i}else t.current=n;if(Kc&&(Kc=!1,hs=t,td=s),i=t.pendingLanes,i===0&&(ws=null),ZC(n.stateNode),Kt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ed)throw ed=!1,t=jp,jp=null,t;return td&1&&t.tag!==0&&fo(),i=t.pendingLanes,i&1?t===Mp?Za++:(Za=0,Mp=t):Za=0,Ws(),null}function fo(){if(hs!==null){var t=l_(td),e=yn.transition,n=be;try{if(yn.transition=null,be=16>t?16:t,hs===null)var r=!1;else{if(t=hs,hs=null,td=0,ge&6)throw Error(z(331));var s=ge;for(ge|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Xa(8,d,i)}var p=d.child;if(p!==null)p.return=d,Q=p;else for(;Q!==null;){d=Q;var f=d.sibling,v=d.return;if(xE(d),d===u){Q=null;break}if(f!==null){f.return=v,Q=f;break}Q=v}}}var _=i.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xa(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Q=w;break e}Q=i.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Q=b;else e:for(o=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zd(9,a)}}catch(D){We(a,a.return,D)}if(a===o){Q=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Q=P;break e}Q=a.return}}if(ge=s,Ws(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Dd,t)}catch{}r=!0}return r}finally{be=n,yn.transition=e}}return!1}function qv(t,e,n){e=jo(n,e),e=lE(t,e,1),t=xs(t,e,1),e=Vt(),t!==null&&(Gl(t,1,e),Kt(t,e))}function We(t,e,n){if(t.tag===3)qv(t,t,n);else for(;e!==null;){if(e.tag===3){qv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))){t=jo(n,t),t=cE(e,t,1),e=xs(e,t,1),t=Vt(),e!==null&&(Gl(e,1,t),Kt(e,t));break}}e=e.return}}function SR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(pt&n)===n&&(nt===4||nt===3&&(pt&130023424)===pt&&500>Ge()-xg?hi(t,0):vg|=n),Kt(t,e)}function RE(t,e){e===0&&(t.mode&1?(e=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):e=1);var n=Vt();t=Cr(t,e),t!==null&&(Gl(t,e,n),Kt(t,n))}function CR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RE(t,n)}function AR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),RE(t,n)}var PE;PE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,mR(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Me&&e.flags&1048576&&D_(e,qu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mu(t,e),t=e.pendingProps;var s=No(e,Pt.current);ho(e,n),s=hg(null,e,r,t,s,n);var i=fg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(i=!0,Hu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ag(e),s.updater=$d,e.stateNode=s,s._reactInternals=e,Tp(e,r,t,n),e=Cp(null,e,r,!0,i,n)):(e.tag=0,Me&&i&&eg(e),jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=PR(r),t=In(r,t),s){case 0:e=Sp(null,e,r,t,n);break e;case 1:e=Mv(null,e,r,t,n);break e;case 11:e=Dv(null,e,r,t,n);break e;case 14:e=jv(null,e,r,In(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),Sp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),Mv(t,e,r,s,n);case 3:e:{if(fE(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,U_(t,e),Qu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=jo(Error(z(423)),e),e=Lv(t,e,r,n,s);break e}else if(r!==s){s=jo(Error(z(424)),e),e=Lv(t,e,r,n,s);break e}else for(sn=vs(e.stateNode.containerInfo.firstChild),ln=e,Me=!0,Rn=null,n=V_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===s){e=Ar(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return $_(e),t===null&&_p(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,gp(r,s)?o=null:i!==null&&gp(r,i)&&(e.flags|=32),hE(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&_p(e),null;case 13:return pE(t,e,n);case 4:return lg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oo(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),Dv(t,e,r,s,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(Gu,r._currentValue),r._currentValue=o,i!==null)if(jn(i.value,o)){if(i.children===s.children&&!qt.current){e=Ar(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=br(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ep(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ep(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ho(e,n),s=xn(s),r=r(s),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,s=In(r,e.pendingProps),s=In(r.type,s),jv(t,e,r,s,n);case 15:return uE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),mu(t,e),e.tag=1,Gt(r)?(t=!0,Hu(e)):t=!1,ho(e,n),aE(e,r,s),Tp(e,r,s,n),Cp(null,e,r,!0,t,n);case 19:return mE(t,e,n);case 22:return dE(t,e,n)}throw Error(z(156,e.tag))};function NE(t,e){return s_(t,e)}function RR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new RR(t,e,n,r)}function bg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PR(t){if(typeof t=="function")return bg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zm)return 11;if(t===Bm)return 14}return 2}function Es(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")bg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qi:return fi(n.children,s,i,e);case $m:o=8,s|=8;break;case Kf:return t=gn(12,n,e,s|2),t.elementType=Kf,t.lanes=i,t;case Qf:return t=gn(13,n,e,s),t.elementType=Qf,t.lanes=i,t;case Yf:return t=gn(19,n,e,s),t.elementType=Yf,t.lanes=i,t;case $w:return Hd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fw:o=10;break e;case Uw:o=9;break e;case zm:o=11;break e;case Bm:o=14;break e;case Jr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=gn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fi(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function Hd(t,e,n,r){return t=gn(22,t,r,e),t.elementType=$w,t.lanes=n,t.stateNode={isHidden:!1},t}function bf(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function Tf(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Tg(t,e,n,r,s,i,o,a,l){return t=new NR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=gn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ag(i),t}function kR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kE(t){if(!t)return Ns;t=t._reactInternals;e:{if(Ai(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Gt(n))return k_(t,n,e)}return e}function OE(t,e,n,r,s,i,o,a,l){return t=Tg(n,r,!0,t,s,i,o,a,l),t.context=kE(null),n=t.current,r=Vt(),s=_s(n),i=br(r,s),i.callback=e??null,xs(n,i,s),t.current.lanes=s,Gl(t,s,r),Kt(t,r),t}function Wd(t,e,n,r){var s=e.current,i=Vt(),o=_s(s);return n=kE(n),e.context===null?e.context=n:e.pendingContext=n,e=br(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xs(s,e,o),t!==null&&(Dn(t,s,o,i),hu(t,s,o)),o}function rd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ig(t,e){Gv(t,e),(t=t.alternate)&&Gv(t,e)}function OR(){return null}var DE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sg(t){this._internalRoot=t}qd.prototype.render=Sg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Wd(t,e,null,null)};qd.prototype.unmount=Sg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xi(function(){Wd(null,t,null,null)}),e[Sr]=null}};function qd(t){this._internalRoot=t}qd.prototype.unstable_scheduleHydration=function(t){if(t){var e=d_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<es.length&&e!==0&&e<es[n].priority;n++);es.splice(n,0,t),n===0&&f_(t)}};function Cg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kv(){}function DR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=rd(o);i.call(u)}}var o=OE(e,r,t,0,null,!1,!1,"",Kv);return t._reactRootContainer=o,t[Sr]=o.current,ml(t.nodeType===8?t.parentNode:t),xi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=rd(l);a.call(u)}}var l=Tg(t,0,!1,null,null,!1,!1,"",Kv);return t._reactRootContainer=l,t[Sr]=l.current,ml(t.nodeType===8?t.parentNode:t),xi(function(){Wd(e,l,n,r)}),l}function Kd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=rd(o);a.call(l)}}Wd(e,o,t,s)}else o=DR(n,e,t,s,r);return rd(o)}c_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fa(e.pendingLanes);n!==0&&(qm(e,n|1),Kt(e,Ge()),!(ge&6)&&(Mo=Ge()+500,Ws()))}break;case 13:xi(function(){var r=Cr(t,1);if(r!==null){var s=Vt();Dn(r,t,1,s)}}),Ig(t,1)}};Gm=function(t){if(t.tag===13){var e=Cr(t,134217728);if(e!==null){var n=Vt();Dn(e,t,134217728,n)}Ig(t,134217728)}};u_=function(t){if(t.tag===13){var e=_s(t),n=Cr(t,e);if(n!==null){var r=Vt();Dn(n,t,e,r)}Ig(t,e)}};d_=function(){return be};h_=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};op=function(t,e,n){switch(e){case"input":if(Zf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Vd(r);if(!s)throw Error(z(90));Bw(r),Zf(r,s)}}}break;case"textarea":Ww(t,n);break;case"select":e=n.value,e!=null&&ao(t,!!n.multiple,e,!1)}};Jw=wg;Zw=xi;var jR={usingClientEntryPoint:!1,Events:[Ql,Zi,Vd,Yw,Xw,wg]},Da={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MR={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=n_(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||OR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Dd=Qc.inject(MR),Zn=Qc}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jR;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cg(e))throw Error(z(200));return kR(t,e,null,n)};dn.createRoot=function(t,e){if(!Cg(t))throw Error(z(299));var n=!1,r="",s=DE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Tg(t,1,!1,null,null,n,!1,r,s),t[Sr]=e.current,ml(t.nodeType===8?t.parentNode:t),new Sg(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=n_(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return xi(t)};dn.hydrate=function(t,e,n){if(!Gd(e))throw Error(z(200));return Kd(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!Cg(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=DE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=OE(e,null,t,1,n??null,s,!1,i,o),t[Sr]=e.current,ml(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new qd(e)};dn.render=function(t,e,n){if(!Gd(e))throw Error(z(200));return Kd(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Gd(t))throw Error(z(40));return t._reactRootContainer?(xi(function(){Kd(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1};dn.unstable_batchedUpdates=wg;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Kd(t,e,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function jE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jE)}catch(t){console.error(t)}}jE(),jw.exports=dn;var Xl=jw.exports;const ME=Ew(Xl);var Qv=Xl;qf.createRoot=Qv.createRoot,qf.hydrateRoot=Qv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}var fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fs||(fs={}));const Yv="popstate";function LR(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Ri(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Fp("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:sd(i))}function r(s,i){Ag(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return FR(e,n,r,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ag(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VR(){return Math.random().toString(36).substr(2,8)}function Xv(t,e){return{usr:t.state,key:t.key,idx:e}}function Fp(t,e,n,r){return n===void 0&&(n=null),Tl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ri(e):e,{state:n,key:e&&e.key||r||VR()})}function sd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=fs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Tl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=fs.Pop;let E=d(),w=E==null?null:E-u;u=E,l&&l({action:a,location:x.location,delta:w})}function f(E,w){a=fs.Push;let y=Fp(x.location,E,w);n&&n(y,E),u=d()+1;let b=Xv(y,u),P=x.createHref(y);try{o.pushState(b,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(P)}i&&l&&l({action:a,location:x.location,delta:1})}function v(E,w){a=fs.Replace;let y=Fp(x.location,E,w);n&&n(y,E),u=d();let b=Xv(y,u),P=x.createHref(y);o.replaceState(b,"",P),i&&l&&l({action:a,location:x.location,delta:0})}function _(E){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:sd(E);return y=y.replace(/ $/,"%20"),Ze(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let x={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Yv,p),l=E,()=>{s.removeEventListener(Yv,p),l=null}},createHref(E){return e(s,E)},createURL:_,encodeLocation(E){let w=_(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:v,go(E){return o.go(E)}};return x}var Jv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Jv||(Jv={}));function UR(t,e,n){return n===void 0&&(n="/"),$R(t,e,n,!1)}function $R(t,e,n,r){let s=typeof e=="string"?Ri(e):e,i=Rg(s.pathname||"/",n);if(i==null)return null;let o=LE(t);zR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=ZR(i);a=XR(o[l],u,r)}return a}function LE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bs([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LE(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:QR(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of VE(i.path))s(i,o,l)}),e}function VE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=VE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function zR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BR=/^:[\w-]+$/,HR=3,WR=2,qR=1,GR=10,KR=-2,Zv=t=>t==="*";function QR(t,e){let n=t.split("/"),r=n.length;return n.some(Zv)&&(r+=KR),e&&(r+=WR),n.filter(s=>!Zv(s)).reduce((s,i)=>s+(BR.test(i)?HR:i===""?qR:GR),r)}function YR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function XR(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=ex({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=ex({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:bs([i,p.pathname]),pathnameBase:rP(bs([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=bs([i,p.pathnameBase]))}return o}function ex(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let x=a[p]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const _=a[p];return v&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function JR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ag(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ZR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ag(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ri(t):t;return{pathname:n?n.startsWith("/")?n:tP(n,e):e,search:sP(r),hash:iP(s)}}function tP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function If(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function FE(t,e){let n=nP(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function UE(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ri(t):(s=Tl({},t),Ze(!s.pathname||!s.pathname.includes("?"),If("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),If("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),If("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let l=eP(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const bs=t=>t.join("/").replace(/\/\/+/g,"/"),rP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $E=["post","put","patch","delete"];new Set($E);const aP=["get",...$E];new Set(aP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Il.apply(this,arguments)}const Pg=I.createContext(null),lP=I.createContext(null),Pi=I.createContext(null),Qd=I.createContext(null),Ni=I.createContext({outlet:null,matches:[],isDataRoute:!1}),zE=I.createContext(null);function cP(t,e){let{relative:n}=e===void 0?{}:e;Jl()||Ze(!1);let{basename:r,navigator:s}=I.useContext(Pi),{hash:i,pathname:o,search:a}=HE(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:bs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Jl(){return I.useContext(Qd)!=null}function Jo(){return Jl()||Ze(!1),I.useContext(Qd).location}function BE(t){I.useContext(Pi).static||I.useLayoutEffect(t)}function Zo(){let{isDataRoute:t}=I.useContext(Ni);return t?EP():uP()}function uP(){Jl()||Ze(!1);let t=I.useContext(Pg),{basename:e,future:n,navigator:r}=I.useContext(Pi),{matches:s}=I.useContext(Ni),{pathname:i}=Jo(),o=JSON.stringify(FE(s,n.v7_relativeSplatPath)),a=I.useRef(!1);return BE(()=>{a.current=!0}),I.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=UE(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:bs([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,i,t])}function HE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(Pi),{matches:s}=I.useContext(Ni),{pathname:i}=Jo(),o=JSON.stringify(FE(s,r.v7_relativeSplatPath));return I.useMemo(()=>UE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function dP(t,e){return hP(t,e)}function hP(t,e,n,r){Jl()||Ze(!1);let{navigator:s}=I.useContext(Pi),{matches:i}=I.useContext(Ni),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Jo(),d;if(e){var p;let E=typeof e=="string"?Ri(e):e;l==="/"||(p=E.pathname)!=null&&p.startsWith(l)||Ze(!1),d=E}else d=u;let f=d.pathname||"/",v=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=UR(t,{pathname:v}),x=yP(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:bs([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:bs([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&x?I.createElement(Qd.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fs.Pop}},x):x}function fP(){let t=_P(),e=oP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,null)}const pP=I.createElement(fP,null);class mP extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(Ni.Provider,{value:this.props.routeContext},I.createElement(zE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gP(t){let{routeContext:e,match:n,children:r}=t,s=I.useContext(Pg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Ni.Provider,{value:e},r)}function yP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:f,errors:v}=n,_=p.route.loader&&f[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,f)=>{let v,_=!1,x=null,E=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||pP,l&&(u<0&&f===0?(_=!0,E=null):u===f&&(_=!0,E=p.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),y=()=>{let b;return v?b=x:_?b=E:p.route.Component?b=I.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=d,I.createElement(gP,{match:p,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?I.createElement(mP,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var WE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WE||{}),id=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(id||{});function vP(t){let e=I.useContext(Pg);return e||Ze(!1),e}function xP(t){let e=I.useContext(lP);return e||Ze(!1),e}function wP(t){let e=I.useContext(Ni);return e||Ze(!1),e}function qE(t){let e=wP(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function _P(){var t;let e=I.useContext(zE),n=xP(id.UseRouteError),r=qE(id.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function EP(){let{router:t}=vP(WE.UseNavigateStable),e=qE(id.UseNavigateStable),n=I.useRef(!1);return BE(()=>{n.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Il({fromRouteId:e},i)))},[t,e])}function qn(t){Ze(!1)}function bP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=fs.Pop,navigator:i,static:o=!1,future:a}=t;Jl()&&Ze(!1);let l=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:i,static:o,future:Il({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ri(r));let{pathname:d="/",search:p="",hash:f="",state:v=null,key:_="default"}=r,x=I.useMemo(()=>{let E=Rg(d,l);return E==null?null:{location:{pathname:E,search:p,hash:f,state:v,key:_},navigationType:s}},[l,d,p,f,v,_,s]);return x==null?null:I.createElement(Pi.Provider,{value:u},I.createElement(Qd.Provider,{children:n,value:x}))}function TP(t){let{children:e,location:n}=t;return dP(Up(e),n)}new Promise(()=>{});function Up(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,s)=>{if(!I.isValidElement(r))return;let i=[...e,s];if(r.type===I.Fragment){n.push.apply(n,Up(r.props.children,i));return}r.type!==qn&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Up(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}function IP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function SP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CP(t,e){return t.button===0&&(!e||e==="_self")&&!SP(t)}const AP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RP="6";try{window.__reactRouterVersion=RP}catch{}const PP="startTransition",tx=Ow[PP];function NP(t){let{basename:e,children:n,future:r,window:s}=t,i=I.useRef();i.current==null&&(i.current=LR({window:s,v5Compat:!0}));let o=i.current,[a,l]=I.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=I.useCallback(p=>{u&&tx?tx(()=>l(p)):l(p)},[l,u]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.createElement(bP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const kP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=I.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:p}=e,f=IP(e,AP),{basename:v}=I.useContext(Pi),_,x=!1;if(typeof u=="string"&&OP.test(u)&&(_=u,kP))try{let b=new URL(window.location.href),P=u.startsWith("//")?new URL(b.protocol+u):new URL(u),D=Rg(P.pathname,v);P.origin===b.origin&&D!=null?u=D+P.search+P.hash:x=!0}catch{}let E=cP(u,{relative:s}),w=DP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:p});function y(b){r&&r(b),b.defaultPrevented||w(b)}return I.createElement("a",$p({},f,{href:_||E,onClick:x||i?r:y,ref:n,target:l}))});var nx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nx||(nx={}));var rx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rx||(rx={}));function DP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Zo(),u=Jo(),d=HE(t,{relative:o});return I.useCallback(p=>{if(CP(p,n)){p.preventDefault();let f=r!==void 0?r:sd(u)===sd(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}const jP=1,MP=1e6;let Sf=0;function LP(){return Sf=(Sf+1)%Number.MAX_SAFE_INTEGER,Sf.toString()}const Cf=new Map,sx=t=>{if(Cf.has(t))return;const e=setTimeout(()=>{Cf.delete(t),el({type:"REMOVE_TOAST",toastId:t})},MP);Cf.set(t,e)},VP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,jP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?sx(n):t.toasts.forEach(r=>{sx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},xu=[];let wu={toasts:[]};function el(t){wu=VP(wu,t),xu.forEach(e=>{e(wu)})}function FP({...t}){const e=LP(),n=s=>el({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>el({type:"DISMISS_TOAST",toastId:e});return el({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function GE(){const[t,e]=I.useState(wu);return I.useEffect(()=>(xu.push(e),()=>{const n=xu.indexOf(e);n>-1&&xu.splice(n,1)}),[t]),{...t,toast:FP,dismiss:n=>el({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function UP(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function KE(...t){return e=>t.forEach(n=>UP(n,e))}function Yt(...t){return I.useCallback(KE(...t),t)}function $P(t,e=[]){let n=[];function r(i,o){const a=I.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:v,..._}=p,x=(f==null?void 0:f[t][l])||a,E=I.useMemo(()=>_,Object.values(_));return h.jsx(x.Provider,{value:E,children:v})}function d(p,f){const v=(f==null?void 0:f[t][l])||a,_=I.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,zP(s,...e)]}function zP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Sl=I.forwardRef((t,e)=>{const{children:n,...r}=t,s=I.Children.toArray(n),i=s.find(BP);if(i){const o=i.props.children,a=s.map(l=>l===i?I.Children.count(o)>1?I.Children.only(null):I.isValidElement(o)?o.props.children:null:l);return h.jsx(zp,{...r,ref:e,children:I.isValidElement(o)?I.cloneElement(o,void 0,a):null})}return h.jsx(zp,{...r,ref:e,children:n})});Sl.displayName="Slot";var zp=I.forwardRef((t,e)=>{const{children:n,...r}=t;if(I.isValidElement(n)){const s=WP(n);return I.cloneElement(n,{...HP(r,n.props),ref:e?KE(e,s):s})}return I.Children.count(n)>1?I.Children.only(null):null});zp.displayName="SlotClone";var QE=({children:t})=>h.jsx(h.Fragment,{children:t});function BP(t){return I.isValidElement(t)&&t.type===QE}function HP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function WP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function YE(t){const e=t+"CollectionProvider",[n,r]=$P(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:_,children:x}=v,E=W.useRef(null),w=W.useRef(new Map).current;return h.jsx(s,{scope:_,itemMap:w,collectionRef:E,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=W.forwardRef((v,_)=>{const{scope:x,children:E}=v,w=i(a,x),y=Yt(_,w.collectionRef);return h.jsx(Sl,{ref:y,children:E})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=W.forwardRef((v,_)=>{const{scope:x,children:E,...w}=v,y=W.useRef(null),b=Yt(_,y),P=i(u,x);return W.useEffect(()=>(P.itemMap.set(y,{ref:y,...w}),()=>void P.itemMap.delete(y))),h.jsx(Sl,{[d]:"",ref:b,children:E})});p.displayName=u;function f(v){const _=i(t+"CollectionConsumer",v);return W.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const w=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((P,D)=>w.indexOf(P.ref.current)-w.indexOf(D.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},f,r]}function Zl(t,e=[]){let n=[];function r(i,o){const a=I.createContext(o),l=n.length;n=[...n,o];const u=p=>{var w;const{scope:f,children:v,..._}=p,x=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,E=I.useMemo(()=>_,Object.values(_));return h.jsx(x.Provider,{value:E,children:v})};u.displayName=i+"Provider";function d(p,f){var x;const v=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,_=I.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,qP(s,...e)]}function qP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var GP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],je=GP.reduce((t,e)=>{const n=I.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Sl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function XE(t,e){t&&Xl.flushSync(()=>t.dispatchEvent(e))}function Mn(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function KP(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t);I.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var QP="DismissableLayer",Bp="dismissableLayer.update",YP="dismissableLayer.pointerDownOutside",XP="dismissableLayer.focusOutside",ix,JE=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ng=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=I.useContext(JE),[d,p]=I.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=I.useState({}),_=Yt(e,C=>p(C)),x=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(E),y=d?x.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,P=y>=w,D=ZP(C=>{const T=C.target,A=[...u.branches].some(R=>R.contains(T));!P||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),j=eN(C=>{const T=C.target;[...u.branches].some(R=>R.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return KP(C=>{y===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),I.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ix=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ox(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ix)}},[d,f,n,u]),I.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ox())},[d,u]),I.useEffect(()=>{const C=()=>v({});return document.addEventListener(Bp,C),()=>document.removeEventListener(Bp,C)},[]),h.jsx(je.div,{...l,ref:_,style:{pointerEvents:b?P?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,j.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,D.onPointerDownCapture)})});Ng.displayName=QP;var JP="DismissableLayerBranch",ZE=I.forwardRef((t,e)=>{const n=I.useContext(JE),r=I.useRef(null),s=Yt(e,r);return I.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(je.div,{...t,ref:s})});ZE.displayName=JP;function ZP(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t),r=I.useRef(!1),s=I.useRef(()=>{});return I.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){eb(YP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function eN(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t),r=I.useRef(!1);return I.useEffect(()=>{const s=i=>{i.target&&!r.current&&eb(XP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ox(){const t=new CustomEvent(Bp);document.dispatchEvent(t)}function eb(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?XE(s,i):s.dispatchEvent(i)}var tN=Ng,nN=ZE,ks=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},rN="Portal",tb=I.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=I.useState(!1);ks(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ME.createPortal(h.jsx(je.div,{...r,ref:e}),o):null});tb.displayName=rN;function sN(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var ec=t=>{const{present:e,children:n}=t,r=iN(e),s=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),i=Yt(r.ref,oN(s));return typeof n=="function"||r.isPresent?I.cloneElement(s,{ref:i}):null};ec.displayName="Presence";function iN(t){const[e,n]=I.useState(),r=I.useRef({}),s=I.useRef(t),i=I.useRef("none"),o=t?"mounted":"unmounted",[a,l]=sN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const u=Yc(r.current);i.current=a==="mounted"?u:"none"},[a]),ks(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,v=Yc(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ks(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=v=>{const x=Yc(r.current).includes(v.animationName);if(v.target===e&&x&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=v=>{v.target===e&&(i.current=Yc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Yc(t){return(t==null?void 0:t.animationName)||"none"}function oN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Yd({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=aN({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Mn(n),l=I.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,l]}function aN({defaultProp:t,onChange:e}){const n=I.useState(t),[r]=n,s=I.useRef(r),i=Mn(e);return I.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var lN="VisuallyHidden",Xd=I.forwardRef((t,e)=>h.jsx(je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Xd.displayName=lN;var cN=Xd,kg="ToastProvider",[Og,uN,dN]=YE("Toast"),[nb,lM]=Zl("Toast",[dN]),[hN,Jd]=nb(kg),rb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=I.useState(null),[u,d]=I.useState(0),p=I.useRef(!1),f=I.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${kg}\`. Expected non-empty \`string\`.`),h.jsx(Og.Provider,{scope:e,children:h.jsx(hN,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:I.useCallback(()=>d(v=>v+1),[]),onToastRemove:I.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};rb.displayName=kg;var sb="ToastViewport",fN=["F8"],Hp="toast.viewportPause",Wp="toast.viewportResume",ib=I.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=fN,label:s="Notifications ({hotkey})",...i}=t,o=Jd(sb,n),a=uN(n),l=I.useRef(null),u=I.useRef(null),d=I.useRef(null),p=I.useRef(null),f=Yt(e,p,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;I.useEffect(()=>{const E=w=>{var b;r.length!==0&&r.every(P=>w[P]||w.code===P)&&((b=p.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),I.useEffect(()=>{const E=l.current,w=p.current;if(_&&E&&w){const y=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(Hp);w.dispatchEvent(j),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(Wp);w.dispatchEvent(j),o.isClosePausedRef.current=!1}},P=j=>{!E.contains(j.relatedTarget)&&b()},D=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",y),E.addEventListener("focusout",P),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",P),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[_,o.isClosePausedRef]);const x=I.useCallback(({tabbingDirection:E})=>{const y=a().map(b=>{const P=b.ref.current,D=[P,...SN(P)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return I.useEffect(()=>{const E=p.current;if(E){const w=y=>{var D,j,C;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const T=document.activeElement,A=y.shiftKey;if(y.target===E&&A){(D=u.current)==null||D.focus();return}const O=x({tabbingDirection:A?"backwards":"forwards"}),N=O.findIndex(q=>q===T);Af(O.slice(N+1))?y.preventDefault():A?(j=u.current)==null||j.focus():(C=d.current)==null||C.focus()}};return E.addEventListener("keydown",w),()=>E.removeEventListener("keydown",w)}},[a,x]),h.jsxs(nN,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&h.jsx(qp,{ref:u,onFocusFromOutsideViewport:()=>{const E=x({tabbingDirection:"forwards"});Af(E)}}),h.jsx(Og.Slot,{scope:n,children:h.jsx(je.ol,{tabIndex:-1,...i,ref:f})}),_&&h.jsx(qp,{ref:d,onFocusFromOutsideViewport:()=>{const E=x({tabbingDirection:"backwards"});Af(E)}})]})});ib.displayName=sb;var ob="ToastFocusProxy",qp=I.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Jd(ob,n);return h.jsx(Xd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});qp.displayName=ob;var Zd="Toast",pN="toast.swipeStart",mN="toast.swipeMove",gN="toast.swipeCancel",yN="toast.swipeEnd",ab=I.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Yd({prop:r,defaultProp:s,onChange:i});return h.jsx(ec,{present:n||a,children:h.jsx(wN,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Mn(t.onPause),onResume:Mn(t.onResume),onSwipeStart:xe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:xe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});ab.displayName=Zd;var[vN,xN]=nb(Zd,{onClose(){}}),wN=I.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:v,..._}=t,x=Jd(Zd,n),[E,w]=I.useState(null),y=Yt(e,q=>w(q)),b=I.useRef(null),P=I.useRef(null),D=s||x.duration,j=I.useRef(0),C=I.useRef(D),T=I.useRef(0),{onToastAdd:A,onToastRemove:R}=x,k=Mn(()=>{var se;(E==null?void 0:E.contains(document.activeElement))&&((se=x.viewport)==null||se.focus()),o()}),O=I.useCallback(q=>{!q||q===1/0||(window.clearTimeout(T.current),j.current=new Date().getTime(),T.current=window.setTimeout(k,q))},[k]);I.useEffect(()=>{const q=x.viewport;if(q){const se=()=>{O(C.current),u==null||u()},Z=()=>{const le=new Date().getTime()-j.current;C.current=C.current-le,window.clearTimeout(T.current),l==null||l()};return q.addEventListener(Hp,Z),q.addEventListener(Wp,se),()=>{q.removeEventListener(Hp,Z),q.removeEventListener(Wp,se)}}},[x.viewport,D,l,u,O]),I.useEffect(()=>{i&&!x.isClosePausedRef.current&&O(D)},[i,D,x.isClosePausedRef,O]),I.useEffect(()=>(A(),()=>R()),[A,R]);const N=I.useMemo(()=>E?pb(E):null,[E]);return x.viewport?h.jsxs(h.Fragment,{children:[N&&h.jsx(_N,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),h.jsx(vN,{scope:n,onClose:k,children:Xl.createPortal(h.jsx(Og.ItemSlot,{scope:n,children:h.jsx(tN,{asChild:!0,onEscapeKeyDown:xe(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,..._,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:xe(t.onPointerDown,q=>{q.button===0&&(b.current={x:q.clientX,y:q.clientY})}),onPointerMove:xe(t.onPointerMove,q=>{if(!b.current)return;const se=q.clientX-b.current.x,Z=q.clientY-b.current.y,le=!!P.current,L=["left","right"].includes(x.swipeDirection),B=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,X=L?B(0,se):0,K=L?0:B(0,Z),J=q.pointerType==="touch"?10:2,te={x:X,y:K},Ae={originalEvent:q,delta:te};le?(P.current=te,Xc(mN,p,Ae,{discrete:!1})):ax(te,x.swipeDirection,J)?(P.current=te,Xc(pN,d,Ae,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(se)>J||Math.abs(Z)>J)&&(b.current=null)}),onPointerUp:xe(t.onPointerUp,q=>{const se=P.current,Z=q.target;if(Z.hasPointerCapture(q.pointerId)&&Z.releasePointerCapture(q.pointerId),P.current=null,b.current=null,se){const le=q.currentTarget,L={originalEvent:q,delta:se};ax(se,x.swipeDirection,x.swipeThreshold)?Xc(yN,v,L,{discrete:!0}):Xc(gN,f,L,{discrete:!0}),le.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),_N=t=>{const{__scopeToast:e,children:n,...r}=t,s=Jd(Zd,e),[i,o]=I.useState(!1),[a,l]=I.useState(!1);return TN(()=>o(!0)),I.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:h.jsx(tb,{asChild:!0,children:h.jsx(Xd,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},EN="ToastTitle",lb=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(je.div,{...r,ref:e})});lb.displayName=EN;var bN="ToastDescription",cb=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(je.div,{...r,ref:e})});cb.displayName=bN;var ub="ToastAction",db=I.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(fb,{altText:n,asChild:!0,children:h.jsx(Dg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ub}\`. Expected non-empty \`string\`.`),null)});db.displayName=ub;var hb="ToastClose",Dg=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=xN(hb,n);return h.jsx(fb,{asChild:!0,children:h.jsx(je.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,s.onClose)})})});Dg.displayName=hb;var fb=I.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function pb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),IN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...pb(r))}}),e}function Xc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?XE(s,i):s.dispatchEvent(i)}var ax=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function TN(t=()=>{}){const e=Mn(t);ks(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function IN(t){return t.nodeType===t.ELEMENT_NODE}function SN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Af(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var CN=rb,mb=ib,gb=ab,yb=lb,vb=cb,xb=db,wb=Dg;function _b(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=_b(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Eb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=_b(t))&&(r&&(r+=" "),r+=e);return r}const lx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cx=Eb,jg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return cx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=i==null?void 0:i[u];if(d===null)return null;const f=lx(d)||lx(p);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[p,f]=d;return f===void 0||(u[p]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:f,...v}=d;return Object.entries(v).every(_=>{let[x,E]=_;return Array.isArray(E)?E.includes({...i,...a}[x]):{...i,...a}[x]===E})?[...u,p,f]:u},[]);return cx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>I.createElement("svg",{ref:l,...RN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:bb("lucide",s),...a},[...o.map(([u,d])=>I.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(t,e)=>{const n=I.forwardRef(({className:r,...s},i)=>I.createElement(PN,{ref:i,iconNode:e,className:bb(`lucide-${AN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=Xt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=Xt("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Xt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Xt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Xt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Xt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Xt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Xt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Xt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Xt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Xt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Xt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mg="-",LN=t=>{const e=FN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Mg);return a[0]===""&&a.length!==1&&a.shift(),Cb(a,e)||VN(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Cb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Cb(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Mg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},hx=/^\[(.+)\]$/,VN=t=>{if(hx.test(t)){const e=hx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},FN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return $N(Object.entries(t.classGroups),n).forEach(([i,o])=>{Qp(o,r,i,e)}),r},Qp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:fx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(UN(s)){Qp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Qp(o,fx(e,i),n,r)})})},fx=(t,e)=>{let n=t;return e.split(Mg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UN=t=>t.isThemeGetter,$N=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,zN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Ab="!",BN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,p;for(let E=0;E<a.length;E++){let w=a[E];if(u===0){if(w===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(w==="/"){p=E;continue}}w==="["?u++:w==="]"&&u--}const f=l.length===0?a:a.substring(d),v=f.startsWith(Ab),_=v?f.substring(1):f,x=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},HN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},WN=t=>({cache:zN(t.cacheSize),parseClassName:BN(t),...LN(t)}),qN=/\s+/,GN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(qN);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:v}=n(u);let _=!!v,x=r(_?f.substring(0,v):f);if(!x){if(!_){a=u+(a.length>0?" "+a:a);continue}if(x=r(f),!x){a=u+(a.length>0?" "+a:a);continue}_=!1}const E=HN(d).join(":"),w=p?E+Ab:E,y=w+x;if(i.includes(y))continue;i.push(y);const b=s(x,_);for(let P=0;P<b.length;++P){const D=b[P];i.push(w+D)}a=u+(a.length>0?" "+a:a)}return a};function KN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Rb(e))&&(r&&(r+=" "),r+=n);return r}const Rb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Rb(t[r]))&&(n&&(n+=" "),n+=e);return n};function QN(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,p)=>p(d),t());return n=WN(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=GN(l,n);return s(l,d),d}return function(){return i(KN.apply(null,arguments))}}const Pe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Pb=/^\[(?:([a-z-]+):)?(.+)\]$/i,YN=/^\d+\/\d+$/,XN=new Set(["px","full","screen"]),JN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,t4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=t=>po(t)||XN.has(t)||YN.test(t),Gr=t=>ea(t,"length",u4),po=t=>!!t&&!Number.isNaN(Number(t)),Pf=t=>ea(t,"number",po),ja=t=>!!t&&Number.isInteger(Number(t)),r4=t=>t.endsWith("%")&&po(t.slice(0,-1)),ce=t=>Pb.test(t),Kr=t=>JN.test(t),s4=new Set(["length","size","percentage"]),i4=t=>ea(t,s4,Nb),o4=t=>ea(t,"position",Nb),a4=new Set(["image","url"]),l4=t=>ea(t,a4,h4),c4=t=>ea(t,"",d4),Ma=()=>!0,ea=(t,e,n)=>{const r=Pb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},u4=t=>ZN.test(t)&&!e4.test(t),Nb=()=>!1,d4=t=>t4.test(t),h4=t=>n4.test(t),f4=()=>{const t=Pe("colors"),e=Pe("spacing"),n=Pe("blur"),r=Pe("brightness"),s=Pe("borderColor"),i=Pe("borderRadius"),o=Pe("borderSpacing"),a=Pe("borderWidth"),l=Pe("contrast"),u=Pe("grayscale"),d=Pe("hueRotate"),p=Pe("invert"),f=Pe("gap"),v=Pe("gradientColorStops"),_=Pe("gradientColorStopPositions"),x=Pe("inset"),E=Pe("margin"),w=Pe("opacity"),y=Pe("padding"),b=Pe("saturate"),P=Pe("scale"),D=Pe("sepia"),j=Pe("skew"),C=Pe("space"),T=Pe("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ce,e],O=()=>[ce,e],N=()=>["",pr,Gr],q=()=>["auto",po,ce],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ce],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[po,ce];return{cacheSize:500,separator:":",theme:{colors:[Ma],spacing:[pr,Gr],blur:["none","",Kr,ce],brightness:K(),borderColor:[t],borderRadius:["none","","full",Kr,ce],borderSpacing:O(),borderWidth:N(),contrast:K(),grayscale:B(),hueRotate:K(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[r4,Gr],inset:k(),margin:k(),opacity:K(),padding:O(),saturate:K(),scale:K(),sepia:B(),skew:K(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Kr]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ja,ce]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",ja,ce]}],"grid-cols":[{"grid-cols":[Ma]}],"col-start-end":[{col:["auto",{span:["full",ja,ce]},ce]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Ma]}],"row-start-end":[{row:["auto",{span:[ja,ce]},ce]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Kr]},Kr]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Kr,Gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pf]}],"font-family":[{font:[Ma]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",po,Pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,Gr]}],"underline-offset":[{"underline-offset":["auto",pr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),o4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",i4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},l4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[pr,ce]}],"outline-w":[{outline:[pr,Gr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[pr,Gr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Kr,c4]}],"shadow-color":[{shadow:[Ma]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Kr,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[ja,ce]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pr,Gr,Pf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},p4=QN(f4);function $e(...t){return p4(Eb(t))}const m4=CN,kb=I.forwardRef(({className:t,...e},n)=>h.jsx(mb,{ref:n,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));kb.displayName=mb.displayName;const g4=jg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ob=I.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(gb,{ref:r,className:$e(g4({variant:e}),t),...n}));Ob.displayName=gb.displayName;const y4=I.forwardRef(({className:t,...e},n)=>h.jsx(xb,{ref:n,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));y4.displayName=xb.displayName;const Db=I.forwardRef(({className:t,...e},n)=>h.jsx(wb,{ref:n,className:$e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(Sb,{className:"h-4 w-4"})}));Db.displayName=wb.displayName;const jb=I.forwardRef(({className:t,...e},n)=>h.jsx(yb,{ref:n,className:$e("text-sm font-semibold",t),...e}));jb.displayName=yb.displayName;const Mb=I.forwardRef(({className:t,...e},n)=>h.jsx(vb,{ref:n,className:$e("text-sm opacity-90",t),...e}));Mb.displayName=vb.displayName;function v4(){const{toasts:t}=GE();return h.jsxs(m4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(Ob,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(jb,{children:n}),r&&h.jsx(Mb,{children:r})]}),s,h.jsx(Db,{})]},e)}),h.jsx(kb,{})]})}var px=["light","dark"],x4="(prefers-color-scheme: dark)",w4=I.createContext(void 0),_4={setTheme:t=>{},themes:[]},E4=()=>{var t;return(t=I.useContext(w4))!=null?t:_4};I.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?px.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(_,x=!1,E=!0)=>{let w=o?o[_]:_,y=x?_+"|| ''":`'${w}'`,b="";return s&&E&&!x&&px.includes(_)&&(b+=`d.style.colorScheme = '${_}';`),n==="class"?x||w?b+=`c.add(${y})`:b+="null":w&&(b+=`d[s](n,${y})`),b},v=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${x4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return I.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:v}})});var b4=t=>{switch(t){case"success":return S4;case"info":return A4;case"warning":return C4;case"error":return R4;default:return null}},T4=Array(12).fill(0),I4=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},T4.map((e,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),S4=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C4=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),A4=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),R4=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),P4=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Yp=1,N4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Yp++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(O4(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Yp++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},tn=new N4,k4=(t,e)=>{let n=(e==null?void 0:e.id)||Yp++;return tn.addToast({title:t,...e,id:n}),n},O4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",D4=k4,j4=()=>tn.toasts,Se=Object.assign(D4,{success:tn.success,info:tn.info,warning:tn.warning,error:tn.error,custom:tn.custom,message:tn.message,promise:tn.promise,dismiss:tn.dismiss,loading:tn.loading},{getHistory:j4});function M4(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}M4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jc(t){return t.label!==void 0}var L4=3,V4="32px",F4=4e3,U4=356,$4=14,z4=20,B4=200;function H4(...t){return t.filter(Boolean).join(" ")}var W4=t=>{var e,n,r,s,i,o,a,l,u,d;let{invert:p,toast:f,unstyled:v,interacting:_,setHeights:x,visibleToasts:E,heights:w,index:y,toasts:b,expanded:P,removeToast:D,defaultRichColors:j,closeButton:C,style:T,cancelButtonStyle:A,actionButtonStyle:R,className:k="",descriptionClassName:O="",duration:N,position:q,gap:se,loadingIcon:Z,expandByDefault:le,classNames:L,icons:B,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:K,cn:J}=t,[te,Ae]=W.useState(!1),[et,ve]=W.useState(!1),[yt,Un]=W.useState(!1),[$n,Jt]=W.useState(!1),[lr,zn]=W.useState(0),[_n,cr]=W.useState(0),Fr=W.useRef(null),En=W.useRef(null),ua=y===0,da=y+1<=E,Ke=f.type,Bn=f.dismissible!==!1,mc=f.className||"",Mh=f.descriptionClassName||"",Ur=W.useMemo(()=>w.findIndex(ie=>ie.toastId===f.id)||0,[w,f.id]),ha=W.useMemo(()=>{var ie;return(ie=f.closeButton)!=null?ie:C},[f.closeButton,C]),fa=W.useMemo(()=>f.duration||N||F4,[f.duration,N]),Qe=W.useRef(0),ze=W.useRef(0),Ys=W.useRef(0),ur=W.useRef(null),[pa,Lh]=q.split("-"),$r=W.useMemo(()=>w.reduce((ie,Te,Ee)=>Ee>=Ur?ie:ie+Te.height,0),[w,Ur]),ma=P4(),gc=f.invert||p,Xs=Ke==="loading";ze.current=W.useMemo(()=>Ur*se+$r,[Ur,$r]),W.useEffect(()=>{Ae(!0)},[]),W.useLayoutEffect(()=>{if(!te)return;let ie=En.current,Te=ie.style.height;ie.style.height="auto";let Ee=ie.getBoundingClientRect().height;ie.style.height=Te,cr(Ee),x(vt=>vt.find($t=>$t.toastId===f.id)?vt.map($t=>$t.toastId===f.id?{...$t,height:Ee}:$t):[{toastId:f.id,height:Ee,position:f.position},...vt])},[te,f.title,f.description,x,f.id]);let Hn=W.useCallback(()=>{ve(!0),zn(ze.current),x(ie=>ie.filter(Te=>Te.toastId!==f.id)),setTimeout(()=>{D(f)},B4)},[f,D,x,ze]);W.useEffect(()=>{if(f.promise&&Ke==="loading"||f.duration===1/0||f.type==="loading")return;let ie,Te=fa;return P||_||K&&ma?(()=>{if(Ys.current<Qe.current){let Ee=new Date().getTime()-Qe.current;Te=Te-Ee}Ys.current=new Date().getTime()})():Te!==1/0&&(Qe.current=new Date().getTime(),ie=setTimeout(()=>{var Ee;(Ee=f.onAutoClose)==null||Ee.call(f,f),Hn()},Te)),()=>clearTimeout(ie)},[P,_,le,f,fa,Hn,f.promise,Ke,K,ma]),W.useEffect(()=>{let ie=En.current;if(ie){let Te=ie.getBoundingClientRect().height;return cr(Te),x(Ee=>[{toastId:f.id,height:Te,position:f.position},...Ee]),()=>x(Ee=>Ee.filter(vt=>vt.toastId!==f.id))}},[x,f.id]),W.useEffect(()=>{f.delete&&Hn()},[Hn,f.delete]);function Vh(){return B!=null&&B.loading?W.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},B.loading):Z?W.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},Z):W.createElement(I4,{visible:Ke==="loading"})}return W.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:En,className:J(k,mc,L==null?void 0:L.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Ke],(n=f==null?void 0:f.classNames)==null?void 0:n[Ke]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:j,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":te,"data-promise":!!f.promise,"data-removed":et,"data-visible":da,"data-y-position":pa,"data-x-position":Lh,"data-index":y,"data-front":ua,"data-swiping":yt,"data-dismissible":Bn,"data-type":Ke,"data-invert":gc,"data-swipe-out":$n,"data-expanded":!!(P||le&&te),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${et?lr:ze.current}px`,"--initial-height":le?"auto":`${_n}px`,...T,...f.style},onPointerDown:ie=>{Xs||!Bn||(Fr.current=new Date,zn(ze.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(Un(!0),ur.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Te,Ee,vt;if($n||!Bn)return;ur.current=null;let $t=Number(((ie=En.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),zr=new Date().getTime()-((Te=Fr.current)==null?void 0:Te.getTime()),dr=Math.abs($t)/zr;if(Math.abs($t)>=z4||dr>.11){zn(ze.current),(Ee=f.onDismiss)==null||Ee.call(f,f),Hn(),Jt(!0);return}(vt=En.current)==null||vt.style.setProperty("--swipe-amount","0px"),Un(!1)},onPointerMove:ie=>{var Te;if(!ur.current||!Bn)return;let Ee=ie.clientY-ur.current.y,vt=ie.clientX-ur.current.x,$t=(pa==="top"?Math.min:Math.max)(0,Ee),zr=ie.pointerType==="touch"?10:2;Math.abs($t)>zr?(Te=En.current)==null||Te.style.setProperty("--swipe-amount",`${Ee}px`):Math.abs(vt)>zr&&(ur.current=null)}},ha&&!f.jsx?W.createElement("button",{"aria-label":X,"data-disabled":Xs,"data-close-button":!0,onClick:Xs||!Bn?()=>{}:()=>{var ie;Hn(),(ie=f.onDismiss)==null||ie.call(f,f)},className:J(L==null?void 0:L.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||W.isValidElement(f.title)?f.jsx||f.title:W.createElement(W.Fragment,null,Ke||f.icon||f.promise?W.createElement("div",{"data-icon":"",className:J(L==null?void 0:L.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Vh():null,f.type!=="loading"?f.icon||(B==null?void 0:B[Ke])||b4(Ke):null):null,W.createElement("div",{"data-content":"",className:J(L==null?void 0:L.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:J(L==null?void 0:L.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?W.createElement("div",{"data-description":"",className:J(O,Mh,L==null?void 0:L.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),W.isValidElement(f.cancel)?f.cancel:f.cancel&&Jc(f.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:ie=>{var Te,Ee;Jc(f.cancel)&&Bn&&((Ee=(Te=f.cancel).onClick)==null||Ee.call(Te,ie),Hn())},className:J(L==null?void 0:L.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,W.isValidElement(f.action)?f.action:f.action&&Jc(f.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:ie=>{var Te,Ee;Jc(f.action)&&(ie.defaultPrevented||((Ee=(Te=f.action).onClick)==null||Ee.call(Te,ie),Hn()))},className:J(L==null?void 0:L.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function mx(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var q4=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:p,visibleToasts:f=L4,toastOptions:v,dir:_=mx(),gap:x=$4,loadingIcon:E,icons:w,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:b,cn:P=H4}=t,[D,j]=W.useState([]),C=W.useMemo(()=>Array.from(new Set([n].concat(D.filter(K=>K.position).map(K=>K.position)))),[D,n]),[T,A]=W.useState([]),[R,k]=W.useState(!1),[O,N]=W.useState(!1),[q,se]=W.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=W.useRef(null),le=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=W.useRef(null),B=W.useRef(!1),X=W.useCallback(K=>{var J;(J=D.find(te=>te.id===K.id))!=null&&J.delete||tn.dismiss(K.id),j(te=>te.filter(({id:Ae})=>Ae!==K.id))},[D]);return W.useEffect(()=>tn.subscribe(K=>{if(K.dismiss){j(J=>J.map(te=>te.id===K.id?{...te,delete:!0}:te));return}setTimeout(()=>{ME.flushSync(()=>{j(J=>{let te=J.findIndex(Ae=>Ae.id===K.id);return te!==-1?[...J.slice(0,te),{...J[te],...K},...J.slice(te+1)]:[K,...J]})})})}),[]),W.useEffect(()=>{if(l!=="system"){se(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{se(K?"dark":"light")})},[l]),W.useEffect(()=>{D.length<=1&&k(!1)},[D]),W.useEffect(()=>{let K=J=>{var te,Ae;r.every(et=>J[et]||J.code===et)&&(k(!0),(te=Z.current)==null||te.focus()),J.code==="Escape"&&(document.activeElement===Z.current||(Ae=Z.current)!=null&&Ae.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),W.useEffect(()=>{if(Z.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[Z.current]),D.length?W.createElement("section",{"aria-label":`${y} ${le}`,tabIndex:-1},C.map((K,J)=>{var te;let[Ae,et]=K.split("-");return W.createElement("ol",{key:K,dir:_==="auto"?mx():_,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Ae,"data-x-position":et,style:{"--front-toast-height":`${((te=T[0])==null?void 0:te.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||V4,"--width":`${U4}px`,"--gap":`${x}px`,...p},onBlur:ve=>{B.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=ve.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{O||k(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},D.filter(ve=>!ve.position&&J===0||ve.position===K).map((ve,yt)=>{var Un,$n;return W.createElement(W4,{key:ve.id,icons:w,index:yt,toast:ve,defaultRichColors:u,duration:(Un=v==null?void 0:v.duration)!=null?Un:d,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:e,visibleToasts:f,closeButton:($n=v==null?void 0:v.closeButton)!=null?$n:i,interacting:O,position:K,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:X,toasts:D.filter(Jt=>Jt.position==ve.position),heights:T.filter(Jt=>Jt.position==ve.position),setHeights:A,expandByDefault:s,gap:x,loadingIcon:E,expanded:R,pauseWhenPageIsHidden:b,cn:P})}))})):null};const G4=({...t})=>{const{theme:e="system"}=E4();return h.jsx(q4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var K4=Ow.useId||(()=>{}),Q4=0;function Lb(t){const[e,n]=I.useState(K4());return ks(()=>{t||n(r=>r??String(Q4++))},[t]),t||(e?`radix-${e}`:"")}const Y4=["top","right","bottom","left"],Os=Math.min,rn=Math.max,od=Math.round,Zc=Math.floor,Ds=t=>({x:t,y:t}),X4={left:"right",right:"left",bottom:"top",top:"bottom"},J4={start:"end",end:"start"};function Xp(t,e,n){return rn(t,Os(e,n))}function Rr(t,e){return typeof t=="function"?t(e):t}function Pr(t){return t.split("-")[0]}function ta(t){return t.split("-")[1]}function Lg(t){return t==="x"?"y":"x"}function Vg(t){return t==="y"?"height":"width"}function js(t){return["top","bottom"].includes(Pr(t))?"y":"x"}function Fg(t){return Lg(js(t))}function Z4(t,e,n){n===void 0&&(n=!1);const r=ta(t),s=Fg(t),i=Vg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ad(o)),[o,ad(o)]}function ek(t){const e=ad(t);return[Jp(t),e,Jp(e)]}function Jp(t){return t.replace(/start|end/g,e=>J4[e])}function tk(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function nk(t,e,n,r){const s=ta(t);let i=tk(Pr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Jp)))),i}function ad(t){return t.replace(/left|right|bottom|top/g,e=>X4[e])}function rk(t){return{top:0,right:0,bottom:0,left:0,...t}}function Vb(t){return typeof t!="number"?rk(t):{top:t,right:t,bottom:t,left:t}}function ld(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function gx(t,e,n){let{reference:r,floating:s}=t;const i=js(e),o=Fg(e),a=Vg(o),l=Pr(e),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-s.width,y:p};break;default:v={x:r.x,y:r.y}}switch(ta(e)){case"start":v[o]-=f*(n&&u?-1:1);break;case"end":v[o]+=f*(n&&u?-1:1);break}return v}const sk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=gx(u,r,l),f=r,v={},_=0;for(let x=0;x<a.length;x++){const{name:E,fn:w}=a[x],{x:y,y:b,data:P,reset:D}=await w({x:d,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});d=y??d,p=b??p,v={...v,[E]:{...v[E],...P}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:p}=gx(u,f,l)),x=-1)}return{x:d,y:p,placement:f,strategy:s,middlewareData:v}};async function Cl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:v=0}=Rr(e,t),_=Vb(v),E=a[f?p==="floating"?"reference":"floating":p],w=ld(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=ld(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(w.top-D.top+_.top)/P.y,bottom:(D.bottom-w.bottom+_.bottom)/P.y,left:(w.left-D.left+_.left)/P.x,right:(D.right-w.right+_.right)/P.x}}const ik=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Rr(t,e)||{};if(u==null)return{};const p=Vb(d),f={x:n,y:r},v=Fg(s),_=Vg(v),x=await o.getDimensions(u),E=v==="y",w=E?"top":"left",y=E?"bottom":"right",b=E?"clientHeight":"clientWidth",P=i.reference[_]+i.reference[v]-f[v]-i.floating[_],D=f[v]-i.reference[v],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=j?j[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=a.floating[b]||i.floating[_]);const T=P/2-D/2,A=C/2-x[_]/2-1,R=Os(p[w],A),k=Os(p[y],A),O=R,N=C-x[_]-k,q=C/2-x[_]/2+T,se=Xp(O,q,N),Z=!l.arrow&&ta(s)!=null&&q!==se&&i.reference[_]/2-(q<O?R:k)-x[_]/2<0,le=Z?q<O?q-O:q-N:0;return{[v]:f[v]+le,data:{[v]:se,centerOffset:q-se-le,...Z&&{alignmentOffset:le}},reset:Z}}}),ok=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:x=!0,...E}=Rr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Pr(s),y=js(a),b=Pr(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=f||(b||!x?[ad(a)]:ek(a)),j=_!=="none";!f&&j&&D.push(...nk(a,x,_,P));const C=[a,...D],T=await Cl(e,E),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[w]),p){const q=Z4(s,o,P);A.push(T[q[0]],T[q[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(q=>q<=0)){var k,O;const q=(((k=i.flip)==null?void 0:k.index)||0)+1,se=C[q];if(se)return{data:{index:q,overflows:R},reset:{placement:se}};let Z=(O=R.filter(le=>le.overflows[0]<=0).sort((le,L)=>le.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!Z)switch(v){case"bestFit":{var N;const le=(N=R.filter(L=>{if(j){const B=js(L.placement);return B===y||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,X)=>B+X,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:N[0];le&&(Z=le);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function yx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vx(t){return Y4.some(e=>t[e]>=0)}const ak=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Rr(t,e);switch(r){case"referenceHidden":{const i=await Cl(e,{...s,elementContext:"reference"}),o=yx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vx(o)}}}case"escaped":{const i=await Cl(e,{...s,altBoundary:!0}),o=yx(i,n.floating);return{data:{escapedOffsets:o,escaped:vx(o)}}}default:return{}}}}};async function lk(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Pr(n),a=ta(n),l=js(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,p=Rr(e,t);let{mainAxis:f,crossAxis:v,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof _=="number"&&(v=a==="end"?_*-1:_),l?{x:v*d,y:f*u}:{x:f*u,y:v*d}}const ck=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await lk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},uk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:w,y}=E;return{x:w,y}}},...l}=Rr(t,e),u={x:n,y:r},d=await Cl(e,l),p=js(Pr(s)),f=Lg(p);let v=u[f],_=u[p];if(i){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=v+d[E],b=v-d[w];v=Xp(y,v,b)}if(o){const E=p==="y"?"top":"left",w=p==="y"?"bottom":"right",y=_+d[E],b=_-d[w];_=Xp(y,_,b)}const x=a.fn({...e,[f]:v,[p]:_});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[f]:i,[p]:o}}}}}},dk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Rr(t,e),d={x:n,y:r},p=js(s),f=Lg(p);let v=d[f],_=d[p];const x=Rr(a,e),E=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const b=f==="y"?"height":"width",P=i.reference[f]-i.floating[b]+E.mainAxis,D=i.reference[f]+i.reference[b]-E.mainAxis;v<P?v=P:v>D&&(v=D)}if(u){var w,y;const b=f==="y"?"width":"height",P=["top","left"].includes(Pr(s)),D=i.reference[p]-i.floating[b]+(P&&((w=o.offset)==null?void 0:w[p])||0)+(P?0:E.crossAxis),j=i.reference[p]+i.reference[b]+(P?0:((y=o.offset)==null?void 0:y[p])||0)-(P?E.crossAxis:0);_<D?_=D:_>j&&(_=j)}return{[f]:v,[p]:_}}}},hk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Rr(t,e),d=await Cl(e,u),p=Pr(s),f=ta(s),v=js(s)==="y",{width:_,height:x}=i.floating;let E,w;p==="top"||p==="bottom"?(E=p,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,E=f==="end"?"top":"bottom");const y=x-d.top-d.bottom,b=_-d.left-d.right,P=Os(x-d[E],y),D=Os(_-d[w],b),j=!e.middlewareData.shift;let C=P,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),j&&!f){const R=rn(d.left,0),k=rn(d.right,0),O=rn(d.top,0),N=rn(d.bottom,0);v?T=_-2*(R!==0||k!==0?R+k:rn(d.left,d.right)):C=x-2*(O!==0||N!==0?O+N:rn(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:C});const A=await o.getDimensions(a.floating);return _!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function eh(){return typeof window<"u"}function na(t){return Fb(t)?(t.nodeName||"").toLowerCase():"#document"}function cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ar(t){var e;return(e=(Fb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Fb(t){return eh()?t instanceof Node||t instanceof cn(t).Node:!1}function Ln(t){return eh()?t instanceof Element||t instanceof cn(t).Element:!1}function ir(t){return eh()?t instanceof HTMLElement||t instanceof cn(t).HTMLElement:!1}function xx(t){return!eh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cn(t).ShadowRoot}function tc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Vn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function fk(t){return["table","td","th"].includes(na(t))}function th(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Ug(t){const e=$g(),n=Ln(t)?Vn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function pk(t){let e=Ms(t);for(;ir(e)&&!Lo(e);){if(Ug(e))return e;if(th(e))return null;e=Ms(e)}return null}function $g(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lo(t){return["html","body","#document"].includes(na(t))}function Vn(t){return cn(t).getComputedStyle(t)}function nh(t){return Ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ms(t){if(na(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xx(t)&&t.host||ar(t);return xx(e)?e.host:e}function Ub(t){const e=Ms(t);return Lo(e)?t.ownerDocument?t.ownerDocument.body:t.body:ir(e)&&tc(e)?e:Ub(e)}function Al(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Ub(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=cn(s);if(i){const a=Zp(o);return e.concat(o,o.visualViewport||[],tc(s)?s:[],a&&n?Al(a):[])}return e.concat(s,Al(s,[],n))}function Zp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $b(t){const e=Vn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ir(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=od(n)!==i||od(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function zg(t){return Ln(t)?t:t.contextElement}function mo(t){const e=zg(t);if(!ir(e))return Ds(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=$b(e);let o=(i?od(n.width):n.width)/r,a=(i?od(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const mk=Ds(0);function zb(t){const e=cn(t);return!$g()||!e.visualViewport?mk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cn(t)?!1:e}function wi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=zg(t);let o=Ds(1);e&&(r?Ln(r)&&(o=mo(r)):o=mo(t));const a=gk(i,n,r)?zb(i):Ds(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const f=cn(i),v=r&&Ln(r)?cn(r):r;let _=f,x=Zp(_);for(;x&&r&&v!==_;){const E=mo(x),w=x.getBoundingClientRect(),y=Vn(x),b=w.left+(x.clientLeft+parseFloat(y.paddingLeft))*E.x,P=w.top+(x.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,u*=E.y,d*=E.x,p*=E.y,l+=b,u+=P,_=cn(x),x=Zp(_)}}return ld({width:d,height:p,x:l,y:u})}function yk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ar(r),a=e?th(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Ds(1);const d=Ds(0),p=ir(r);if((p||!p&&!i)&&((na(r)!=="body"||tc(o))&&(l=nh(r)),ir(r))){const f=wi(r);u=mo(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function vk(t){return Array.from(t.getClientRects())}function em(t,e){const n=nh(t).scrollLeft;return e?e.left+n:wi(ar(t)).left+n}function xk(t){const e=ar(t),n=nh(t),r=t.ownerDocument.body,s=rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+em(t);const a=-n.scrollTop;return Vn(r).direction==="rtl"&&(o+=rn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function wk(t,e){const n=cn(t),r=ar(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=$g();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function _k(t,e){const n=wi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ir(t)?mo(t):Ds(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function wx(t,e,n){let r;if(e==="viewport")r=wk(t,n);else if(e==="document")r=xk(ar(t));else if(Ln(e))r=_k(e,n);else{const s=zb(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return ld(r)}function Bb(t,e){const n=Ms(t);return n===e||!Ln(n)||Lo(n)?!1:Vn(n).position==="fixed"||Bb(n,e)}function Ek(t,e){const n=e.get(t);if(n)return n;let r=Al(t,[],!1).filter(a=>Ln(a)&&na(a)!=="body"),s=null;const i=Vn(t).position==="fixed";let o=i?Ms(t):t;for(;Ln(o)&&!Lo(o);){const a=Vn(o),l=Ug(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||tc(o)&&!l&&Bb(t,o))?r=r.filter(d=>d!==o):s=a,o=Ms(o)}return e.set(t,r),r}function bk(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?th(e)?[]:Ek(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const p=wx(e,d,s);return u.top=rn(p.top,u.top),u.right=Os(p.right,u.right),u.bottom=Os(p.bottom,u.bottom),u.left=rn(p.left,u.left),u},wx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Tk(t){const{width:e,height:n}=$b(t);return{width:e,height:n}}function Ik(t,e,n){const r=ir(e),s=ar(e),i=n==="fixed",o=wi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ds(0);if(r||!r&&!i)if((na(e)!=="body"||tc(s))&&(a=nh(e)),r){const v=wi(e,!0,i,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else s&&(l.x=em(s));let u=0,d=0;if(s&&!r&&!i){const v=s.getBoundingClientRect();d=v.top+a.scrollTop,u=v.left+a.scrollLeft-em(s,v)}const p=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-d;return{x:p,y:f,width:o.width,height:o.height}}function Nf(t){return Vn(t).position==="static"}function _x(t,e){if(!ir(t)||Vn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ar(t)===n&&(n=n.ownerDocument.body),n}function Hb(t,e){const n=cn(t);if(th(t))return n;if(!ir(t)){let s=Ms(t);for(;s&&!Lo(s);){if(Ln(s)&&!Nf(s))return s;s=Ms(s)}return n}let r=_x(t,e);for(;r&&fk(r)&&Nf(r);)r=_x(r,e);return r&&Lo(r)&&Nf(r)&&!Ug(r)?n:r||pk(t)||n}const Sk=async function(t){const e=this.getOffsetParent||Hb,n=this.getDimensions,r=await n(t.floating);return{reference:Ik(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ck(t){return Vn(t).direction==="rtl"}const Ak={convertOffsetParentRelativeRectToViewportRelativeRect:yk,getDocumentElement:ar,getClippingRect:bk,getOffsetParent:Hb,getElementRects:Sk,getClientRects:vk,getDimensions:Tk,getScale:mo,isElement:Ln,isRTL:Ck};function Rk(t,e){let n=null,r;const s=ar(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const v=Zc(d),_=Zc(s.clientWidth-(u+p)),x=Zc(s.clientHeight-(d+f)),E=Zc(u),y={rootMargin:-v+"px "+-_+"px "+-x+"px "+-E+"px",threshold:rn(0,Os(1,l))||1};let b=!0;function P(D){const j=D[0].intersectionRatio;if(j!==l){if(!b)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(P,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,y)}n.observe(t)}return o(!0),i}function Pk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=zg(t),d=s||i?[...u?Al(u):[],...Al(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=u&&a?Rk(u,n):null;let f=-1,v=null;o&&(v=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(e)})),n()}),u&&!l&&v.observe(u),v.observe(e));let _,x=l?wi(t):null;l&&E();function E(){const w=wi(t);x&&(w.x!==x.x||w.y!==x.y||w.width!==x.width||w.height!==x.height)&&n(),x=w,_=requestAnimationFrame(E)}return n(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),p==null||p(),(w=v)==null||w.disconnect(),v=null,l&&cancelAnimationFrame(_)}}const Nk=ck,kk=uk,Ok=ok,Dk=hk,jk=ak,Ex=ik,Mk=dk,Lk=(t,e,n)=>{const r=new Map,s={platform:Ak,...n},i={...s.platform,_c:r};return sk(t,e,{...s,platform:i})};var _u=typeof document<"u"?I.useLayoutEffect:I.useEffect;function cd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!cd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!cd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Wb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bx(t,e){const n=Wb(t);return Math.round(e*n)/n}function kf(t){const e=I.useRef(t);return _u(()=>{e.current=t}),e}function Vk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,p]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,v]=I.useState(r);cd(f,r)||v(r);const[_,x]=I.useState(null),[E,w]=I.useState(null),y=I.useCallback(L=>{L!==j.current&&(j.current=L,x(L))},[]),b=I.useCallback(L=>{L!==C.current&&(C.current=L,w(L))},[]),P=i||_,D=o||E,j=I.useRef(null),C=I.useRef(null),T=I.useRef(d),A=l!=null,R=kf(l),k=kf(s),O=kf(u),N=I.useCallback(()=>{if(!j.current||!C.current)return;const L={placement:e,strategy:n,middleware:f};k.current&&(L.platform=k.current),Lk(j.current,C.current,L).then(B=>{const X={...B,isPositioned:O.current!==!1};q.current&&!cd(T.current,X)&&(T.current=X,Xl.flushSync(()=>{p(X)}))})},[f,e,n,k,O]);_u(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[u]);const q=I.useRef(!1);_u(()=>(q.current=!0,()=>{q.current=!1}),[]),_u(()=>{if(P&&(j.current=P),D&&(C.current=D),P&&D){if(R.current)return R.current(P,D,N);N()}},[P,D,N,R,A]);const se=I.useMemo(()=>({reference:j,floating:C,setReference:y,setFloating:b}),[y,b]),Z=I.useMemo(()=>({reference:P,floating:D}),[P,D]),le=I.useMemo(()=>{const L={position:n,left:0,top:0};if(!Z.floating)return L;const B=bx(Z.floating,d.x),X=bx(Z.floating,d.y);return a?{...L,transform:"translate("+B+"px, "+X+"px)",...Wb(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:X}},[n,a,Z.floating,d.x,d.y]);return I.useMemo(()=>({...d,update:N,refs:se,elements:Z,floatingStyles:le}),[d,N,se,Z,le])}const Fk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Ex({element:r.current,padding:s}).fn(n):{}:r?Ex({element:r,padding:s}).fn(n):{}}}},Uk=(t,e)=>({...Nk(t),options:[t,e]}),$k=(t,e)=>({...kk(t),options:[t,e]}),zk=(t,e)=>({...Mk(t),options:[t,e]}),Bk=(t,e)=>({...Ok(t),options:[t,e]}),Hk=(t,e)=>({...Dk(t),options:[t,e]}),Wk=(t,e)=>({...jk(t),options:[t,e]}),qk=(t,e)=>({...Fk(t),options:[t,e]});var Gk="Arrow",qb=I.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(je.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});qb.displayName=Gk;var Kk=qb;function Qk(t,e=[]){let n=[];function r(i,o){const a=I.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:v,..._}=p,x=(f==null?void 0:f[t][l])||a,E=I.useMemo(()=>_,Object.values(_));return h.jsx(x.Provider,{value:E,children:v})}function d(p,f){const v=(f==null?void 0:f[t][l])||a,_=I.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Yk(s,...e)]}function Yk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Gb(t){const[e,n]=I.useState(void 0);return ks(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Kb="Popper",[Qb,Yb]=Qk(Kb),[uM,Xb]=Qb(Kb),Jb="PopperAnchor",Zb=I.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Xb(Jb,n),o=I.useRef(null),a=Yt(e,o);return I.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(je.div,{...s,ref:a})});Zb.displayName=Jb;var Bg="PopperContent",[Xk,Jk]=Qb(Bg),eT=I.forwardRef((t,e)=>{var yt,Un,$n,Jt,lr,zn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:v="optimized",onPlaced:_,...x}=t,E=Xb(Bg,n),[w,y]=I.useState(null),b=Yt(e,_n=>y(_n)),[P,D]=I.useState(null),j=Gb(P),C=(j==null?void 0:j.width)??0,T=(j==null?void 0:j.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,N={padding:R,boundary:k.filter(e6),altBoundary:O},{refs:q,floatingStyles:se,placement:Z,isPositioned:le,middlewareData:L}=Vk({strategy:"fixed",placement:A,whileElementsMounted:(..._n)=>Pk(..._n,{animationFrame:v==="always"}),elements:{reference:E.anchor},middleware:[Uk({mainAxis:s+T,alignmentAxis:o}),l&&$k({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?zk():void 0,...N}),l&&Bk({...N}),Hk({...N,apply:({elements:_n,rects:cr,availableWidth:Fr,availableHeight:En})=>{const{width:ua,height:da}=cr.reference,Ke=_n.floating.style;Ke.setProperty("--radix-popper-available-width",`${Fr}px`),Ke.setProperty("--radix-popper-available-height",`${En}px`),Ke.setProperty("--radix-popper-anchor-width",`${ua}px`),Ke.setProperty("--radix-popper-anchor-height",`${da}px`)}}),P&&qk({element:P,padding:a}),t6({arrowWidth:C,arrowHeight:T}),f&&Wk({strategy:"referenceHidden",...N})]}),[B,X]=rT(Z),K=Mn(_);ks(()=>{le&&(K==null||K())},[le,K]);const J=(yt=L.arrow)==null?void 0:yt.x,te=(Un=L.arrow)==null?void 0:Un.y,Ae=(($n=L.arrow)==null?void 0:$n.centerOffset)!==0,[et,ve]=I.useState();return ks(()=>{w&&ve(window.getComputedStyle(w).zIndex)},[w]),h.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:le?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[(Jt=L.transformOrigin)==null?void 0:Jt.x,(lr=L.transformOrigin)==null?void 0:lr.y].join(" "),...((zn=L.hide)==null?void 0:zn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(Xk,{scope:n,placedSide:B,onArrowChange:D,arrowX:J,arrowY:te,shouldHideArrow:Ae,children:h.jsx(je.div,{"data-side":B,"data-align":X,...x,ref:b,style:{...x.style,animation:le?void 0:"none"}})})})});eT.displayName=Bg;var tT="PopperArrow",Zk={top:"bottom",right:"left",bottom:"top",left:"right"},nT=I.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Jk(tT,r),o=Zk[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(Kk,{...s,ref:n,style:{...s.style,display:"block"}})})});nT.displayName=tT;function e6(t){return t!==null}var t6=t=>({name:"transformOrigin",options:t,fn(e){var E,w,y;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=rT(n),p={start:"0%",center:"50%",end:"100%"}[d],f=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,v=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let _="",x="";return u==="bottom"?(_=o?p:`${f}px`,x=`${-l}px`):u==="top"?(_=o?p:`${f}px`,x=`${r.floating.height+l}px`):u==="right"?(_=`${-l}px`,x=o?p:`${v}px`):u==="left"&&(_=`${r.floating.width+l}px`,x=o?p:`${v}px`),{data:{x:_,y:x}}}});function rT(t){const[e,n="center"]=t.split("-");return[e,n]}var n6=Zb,r6=eT,s6=nT,[rh,dM]=Zl("Tooltip",[Yb]),Hg=Yb(),sT="TooltipProvider",i6=700,Tx="tooltip.open",[o6,iT]=rh(sT),oT=t=>{const{__scopeTooltip:e,delayDuration:n=i6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=I.useState(!0),l=I.useRef(!1),u=I.useRef(0);return I.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),h.jsx(o6,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:I.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:I.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:I.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};oT.displayName=sT;var aT="Tooltip",[hM,sh]=rh(aT),tm="TooltipTrigger",a6=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=sh(tm,n),i=iT(tm,n),o=Hg(n),a=I.useRef(null),l=Yt(e,a,s.onTriggerChange),u=I.useRef(!1),d=I.useRef(!1),p=I.useCallback(()=>u.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),h.jsx(n6,{asChild:!0,...o,children:h.jsx(je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:xe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:xe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:xe(t.onBlur,s.onClose),onClick:xe(t.onClick,s.onClose)})})});a6.displayName=tm;var l6="TooltipPortal",[fM,c6]=rh(l6,{forceMount:void 0}),Vo="TooltipContent",lT=I.forwardRef((t,e)=>{const n=c6(Vo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=sh(Vo,t.__scopeTooltip);return h.jsx(ec,{present:r||o.open,children:o.disableHoverableContent?h.jsx(cT,{side:s,...i,ref:e}):h.jsx(u6,{side:s,...i,ref:e})})}),u6=I.forwardRef((t,e)=>{const n=sh(Vo,t.__scopeTooltip),r=iT(Vo,t.__scopeTooltip),s=I.useRef(null),i=Yt(e,s),[o,a]=I.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,f=I.useCallback(()=>{a(null),p(!1)},[p]),v=I.useCallback((_,x)=>{const E=_.currentTarget,w={x:_.clientX,y:_.clientY},y=p6(w,E.getBoundingClientRect()),b=m6(w,y),P=g6(x.getBoundingClientRect()),D=v6([...b,...P]);a(D),p(!0)},[p]);return I.useEffect(()=>()=>f(),[f]),I.useEffect(()=>{if(l&&d){const _=E=>v(E,d),x=E=>v(E,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",x)}}},[l,d,v,f]),I.useEffect(()=>{if(o){const _=x=>{const E=x.target,w={x:x.clientX,y:x.clientY},y=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),b=!y6(w,o);y?f():b&&(f(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,u,f]),h.jsx(cT,{...t,ref:i})}),[d6,h6]=rh(aT,{isInside:!1}),cT=I.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=sh(Vo,n),u=Hg(n),{onClose:d}=l;return I.useEffect(()=>(document.addEventListener(Tx,d),()=>document.removeEventListener(Tx,d)),[d]),I.useEffect(()=>{if(l.trigger){const p=f=>{const v=f.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),h.jsx(Ng,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:h.jsxs(r6,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(QE,{children:r}),h.jsx(d6,{scope:n,isInside:!0,children:h.jsx(cN,{id:l.contentId,role:"tooltip",children:s||r})})]})})});lT.displayName=Vo;var uT="TooltipArrow",f6=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Hg(n);return h6(uT,n).isInside?null:h.jsx(s6,{...s,...r,ref:e})});f6.displayName=uT;function p6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function m6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function g6(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function y6(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function v6(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),x6(e)}function x6(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var w6=oT,dT=lT;const _6=w6,E6=I.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(dT,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));E6.displayName=dT.displayName;var ih=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oh=typeof window>"u"||"Deno"in globalThis;function Sn(){}function b6(t,e){return typeof t=="function"?t(e):t}function T6(t){return typeof t=="number"&&t>=0&&t!==1/0}function I6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ix(t,e){return typeof t=="function"?t(e):t}function S6(t,e){return typeof t=="function"?t(e):t}function Sx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Wg(o,e.options))return!1}else if(!Pl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Cx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Rl(e.options.mutationKey)!==Rl(i))return!1}else if(!Pl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Wg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Rl)(t)}function Rl(t){return JSON.stringify(t,(e,n)=>nm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Pl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Pl(t[n],e[n])):!1}function hT(t,e){if(t===e)return t;const n=Ax(t)&&Ax(e);if(n||nm(t)&&nm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=hT(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Ax(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nm(t){if(!Rx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Rx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Rx(t){return Object.prototype.toString.call(t)==="[object Object]"}function C6(t){return new Promise(e=>{setTimeout(e,t)})}function A6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?hT(t,e):e}function R6(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function P6(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var qg=Symbol();function fT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===qg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var li,os,_o,pw,N6=(pw=class extends ih{constructor(){super();we(this,li);we(this,os);we(this,_o);ue(this,_o,e=>{if(!oh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,os)||this.setEventListener(U(this,_o))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,os))==null||e.call(this),ue(this,os,void 0))}setEventListener(e){var n;ue(this,_o,e),(n=U(this,os))==null||n.call(this),ue(this,os,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,li)!==e&&(ue(this,li,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,li)=="boolean"?U(this,li):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},li=new WeakMap,os=new WeakMap,_o=new WeakMap,pw),pT=new N6,Eo,as,bo,mw,k6=(mw=class extends ih{constructor(){super();we(this,Eo,!0);we(this,as);we(this,bo);ue(this,bo,e=>{if(!oh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,as)||this.setEventListener(U(this,bo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,as))==null||e.call(this),ue(this,as,void 0))}setEventListener(e){var n;ue(this,bo,e),(n=U(this,as))==null||n.call(this),ue(this,as,e(this.setOnline.bind(this)))}setOnline(e){U(this,Eo)!==e&&(ue(this,Eo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Eo)}},Eo=new WeakMap,as=new WeakMap,bo=new WeakMap,mw),ud=new k6;function O6(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function D6(t){return Math.min(1e3*2**t,3e4)}function mT(t){return(t??"online")==="online"?ud.isOnline():!0}var gT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Of(t){return t instanceof gT}function yT(t){let e=!1,n=0,r=!1,s;const i=O6(),o=x=>{var E;r||(f(new gT(x)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>pT.isFocused()&&(t.networkMode==="always"||ud.isOnline())&&t.canRun(),d=()=>mT(t.networkMode)&&t.canRun(),p=x=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,x),s==null||s(),i.resolve(x))},f=x=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,x),s==null||s(),i.reject(x))},v=()=>new Promise(x=>{var E;s=w=>{(r||u())&&x(w)},(E=t.onPause)==null||E.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),_=()=>{if(r)return;let x;const E=n===0?t.initialPromise:void 0;try{x=E??t.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(p).catch(w=>{var j;if(r)return;const y=t.retry??(oh?0:3),b=t.retryDelay??D6,P=typeof b=="function"?b(n,w):b,D=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,w);if(e||!D){f(w);return}n++,(j=t.onFail)==null||j.call(t,n,w),C6(P).then(()=>u()?void 0:v()).then(()=>{e?f(w):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():v().then(_),i)}}function j6(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Mt=j6(),ci,gw,vT=(gw=class{constructor(){we(this,ci)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T6(this.gcTime)&&ue(this,ci,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oh?1/0:5*60*1e3))}clearGcTimeout(){U(this,ci)&&(clearTimeout(U(this,ci)),ue(this,ci,void 0))}},ci=new WeakMap,gw),To,Io,fn,It,Hl,ui,Cn,mr,yw,M6=(yw=class extends vT{constructor(n){super();we(this,Cn);we(this,To);we(this,Io);we(this,fn);we(this,It);we(this,Hl);we(this,ui);ue(this,ui,!1),ue(this,Hl,n.defaultOptions),this.setOptions(n.options),this.observers=[],ue(this,fn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ue(this,To,V6(this.options)),this.state=n.state??U(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,It))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Hl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,fn).remove(this)}setData(n,r){const s=A6(this.state.data,n,this.options);return _t(this,Cn,mr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){_t(this,Cn,mr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,It))==null?void 0:s.promise;return(i=U(this,It))==null||i.cancel(n),r?r.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,To))}isActive(){return this.observers.some(n=>S6(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!I6(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,It))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,It))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,fn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,It)&&(U(this,ui)?U(this,It).cancel({revert:!0}):U(this,It).cancelRetry()),this.scheduleGc()),U(this,fn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,Cn,mr).call(this,{type:"invalidate"})}fetch(n,r){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,It))return U(this,It).continueRetry(),U(this,It).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(v=>v.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ue(this,ui,!0),s.signal)})},o=()=>{const f=fT(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return i(v),ue(this,ui,!1),this.options.persister?this.options.persister(f,v,this):f(v)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),ue(this,Io,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&_t(this,Cn,mr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=f=>{var v,_,x,E;Of(f)&&f.silent||_t(this,Cn,mr).call(this,{type:"error",error:f}),Of(f)||((_=(v=U(this,fn).config).onError)==null||_.call(v,f,this),(E=(x=U(this,fn).config).onSettled)==null||E.call(x,this.state.data,f,this)),this.scheduleGc()};return ue(this,It,yT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var v,_,x,E;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(_=(v=U(this,fn).config).onSuccess)==null||_.call(v,f,this),(E=(x=U(this,fn).config).onSettled)==null||E.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,v)=>{_t(this,Cn,mr).call(this,{type:"failed",failureCount:f,error:v})},onPause:()=>{_t(this,Cn,mr).call(this,{type:"pause"})},onContinue:()=>{_t(this,Cn,mr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,It).start()}},To=new WeakMap,Io=new WeakMap,fn=new WeakMap,It=new WeakMap,Hl=new WeakMap,ui=new WeakMap,Cn=new WeakSet,mr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...L6(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Of(i)&&i.revert&&U(this,Io)?{...U(this,Io),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Mt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,fn).notify({query:this,type:"updated",action:n})})},yw);function L6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function V6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qn,vw,F6=(vw=class extends ih{constructor(e={}){super();we(this,Qn);this.config=e,ue(this,Qn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Wg(s,n);let o=this.get(i);return o||(o=new M6({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Qn).has(e.queryHash)||(U(this,Qn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Qn).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Qn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Qn).get(e)}getAll(){return[...U(this,Qn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Sx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Sx(e,r)):n}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qn=new WeakMap,vw),Yn,Dt,di,Xn,Xr,xw,U6=(xw=class extends vT{constructor(n){super();we(this,Xn);we(this,Yn);we(this,Dt);we(this,di);this.mutationId=n.mutationId,ue(this,Dt,n.mutationCache),ue(this,Yn,[]),this.state=n.state||$6(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Yn).includes(n)||(U(this,Yn).push(n),this.clearGcTimeout(),U(this,Dt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ue(this,Yn,U(this,Yn).filter(r=>r!==n)),this.scheduleGc(),U(this,Dt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Yn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Dt).remove(this))}continue(){var n;return((n=U(this,di))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,p,f,v,_,x,E,w,y,b,P,D,j,C,T;ue(this,di,yT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{_t(this,Xn,Xr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{_t(this,Xn,Xr).call(this,{type:"pause"})},onContinue:()=>{_t(this,Xn,Xr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Dt).canRun(this)}));const r=this.state.status==="pending",s=!U(this,di).canStart();try{if(!r){_t(this,Xn,Xr).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=U(this,Dt).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&_t(this,Xn,Xr).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const A=await U(this,di).start();return await((d=(u=U(this,Dt).config).onSuccess)==null?void 0:d.call(u,A,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,A,n,this.state.context)),await((_=(v=U(this,Dt).config).onSettled)==null?void 0:_.call(v,A,null,this.state.variables,this.state.context,this)),await((E=(x=this.options).onSettled)==null?void 0:E.call(x,A,null,n,this.state.context)),_t(this,Xn,Xr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(w=U(this,Dt).config).onError)==null?void 0:y.call(w,A,n,this.state.context,this)),await((P=(b=this.options).onError)==null?void 0:P.call(b,A,n,this.state.context)),await((j=(D=U(this,Dt).config).onSettled)==null?void 0:j.call(D,void 0,A,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,A,n,this.state.context)),A}finally{_t(this,Xn,Xr).call(this,{type:"error",error:A})}}finally{U(this,Dt).runNext(this)}}},Yn=new WeakMap,Dt=new WeakMap,di=new WeakMap,Xn=new WeakSet,Xr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mt.batch(()=>{U(this,Yn).forEach(s=>{s.onMutationUpdate(n)}),U(this,Dt).notify({mutation:this,type:"updated",action:n})})},xw);function $6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var en,Wl,ww,z6=(ww=class extends ih{constructor(e={}){super();we(this,en);we(this,Wl);this.config=e,ue(this,en,new Map),ue(this,Wl,Date.now())}build(e,n,r){const s=new U6({mutationCache:this,mutationId:++kc(this,Wl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=eu(e),r=U(this,en).get(n)??[];r.push(e),U(this,en).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=eu(e);if(U(this,en).has(n)){const s=(r=U(this,en).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?U(this,en).delete(n):U(this,en).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,en).get(eu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,en).get(eu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,en).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Cx(n,r))}findAll(e={}){return this.getAll().filter(n=>Cx(e,n))}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Mt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Sn))))}},en=new WeakMap,Wl=new WeakMap,ww);function eu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Px(t){return{onFetch:(e,n)=>{var d,p,f,v,_;const r=e.options,s=(f=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let x=!1;const E=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},w=fT(e.options,e.fetchOptions),y=async(b,P,D)=>{if(x)return Promise.reject();if(P==null&&b.pages.length)return Promise.resolve(b);const j={queryKey:e.queryKey,pageParam:P,direction:D?"backward":"forward",meta:e.options.meta};E(j);const C=await w(j),{maxPages:T}=e.options,A=D?P6:R6;return{pages:A(b.pages,C,T),pageParams:A(b.pageParams,P,T)}};if(s&&i.length){const b=s==="backward",P=b?B6:Nx,D={pages:i,pageParams:o},j=P(r,D);a=await y(D,j,b)}else{const b=t??i.length;do{const P=l===0?o[0]??r.initialPageParam:Nx(r,a);if(l>0&&P==null)break;a=await y(a,P),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var x,E;return(E=(x=e.options).persister)==null?void 0:E.call(x,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Nx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function B6(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var He,ls,cs,So,Co,us,Ao,Ro,_w,H6=(_w=class{constructor(t={}){we(this,He);we(this,ls);we(this,cs);we(this,So);we(this,Co);we(this,us);we(this,Ao);we(this,Ro);ue(this,He,t.queryCache||new F6),ue(this,ls,t.mutationCache||new z6),ue(this,cs,t.defaultOptions||{}),ue(this,So,new Map),ue(this,Co,new Map),ue(this,us,0)}mount(){kc(this,us)._++,U(this,us)===1&&(ue(this,Ao,pT.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,He).onFocus())})),ue(this,Ro,ud.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,He).onOnline())})))}unmount(){var t,e;kc(this,us)._--,U(this,us)===0&&((t=U(this,Ao))==null||t.call(this),ue(this,Ao,void 0),(e=U(this,Ro))==null||e.call(this),ue(this,Ro,void 0))}isFetching(t){return U(this,He).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,ls).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,He).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,He).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Ix(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,He).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,He).get(r.queryHash),i=s==null?void 0:s.state.data,o=b6(e,i);if(o!==void 0)return U(this,He).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Mt.batch(()=>U(this,He).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,He).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,He);Mt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,He),r={type:"active",...t};return Mt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Mt.batch(()=>U(this,He).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Sn).catch(Sn)}invalidateQueries(t={},e={}){return Mt.batch(()=>{if(U(this,He).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Mt.batch(()=>U(this,He).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Sn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Sn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,He).build(this,e);return n.isStaleByTime(Ix(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sn).catch(Sn)}fetchInfiniteQuery(t){return t.behavior=Px(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sn).catch(Sn)}ensureInfiniteQueryData(t){return t.behavior=Px(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ud.isOnline()?U(this,ls).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,He)}getMutationCache(){return U(this,ls)}getDefaultOptions(){return U(this,cs)}setDefaultOptions(t){ue(this,cs,t)}setQueryDefaults(t,e){U(this,So).set(Rl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,So).values()];let n={};return e.forEach(r=>{Pl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,Co).set(Rl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Co).values()];let n={};return e.forEach(r=>{Pl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,cs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Wg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===qg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,cs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,He).clear(),U(this,ls).clear()}},He=new WeakMap,ls=new WeakMap,cs=new WeakMap,So=new WeakMap,Co=new WeakMap,us=new WeakMap,Ao=new WeakMap,Ro=new WeakMap,_w),W6=I.createContext(void 0),q6=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(W6.Provider,{value:t,children:e}));const G6=jg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),lt=I.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Sl:"button";return h.jsx(o,{className:$e(G6({variant:e,size:n,className:t})),ref:i,...s})});lt.displayName="Button";const K6=()=>{};var kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Q6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},wT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(f=64)),r.push(n[d],n[p],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new Y6;const f=i<<2|a>>4;if(r.push(f),u!==64){const v=a<<4&240|u>>2;if(r.push(v),p!==64){const _=u<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Y6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X6=function(t){const e=xT(t);return wT.encodeByteArray(e,!0)},dd=function(t){return X6(t).replace(/\./g,"")},_T=function(t){try{return wT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=()=>J6().__FIREBASE_DEFAULTS__,e3=()=>{if(typeof process>"u"||typeof kx>"u")return;const t=kx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_T(t[1]);return e&&JSON.parse(e)},ah=()=>{try{return K6()||Z6()||e3()||t3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ET=t=>{var e,n;return(n=(e=ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},n3=t=>{const e=ET(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bT=()=>{var t;return(t=ah())===null||t===void 0?void 0:t.config},TT=t=>{var e;return(e=ah())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){return t.endsWith(".cloudworkstations.dev")}async function IT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dd(JSON.stringify(n)),dd(JSON.stringify(o)),""].join(".")}const tl={};function i3(){const t={prod:[],emulator:[]};for(const e of Object.keys(tl))tl[e]?t.emulator.push(e):t.prod.push(e);return t}function o3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ox=!1;function ST(t,e){if(typeof window>"u"||typeof document>"u"||!nc(window.location.host)||tl[t]===e||tl[t]||Ox)return;tl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=i3().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,v){f.setAttribute("width","24"),f.setAttribute("id",v),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Ox=!0,o()},f}function d(f,v){f.setAttribute("id",v),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=o3(r),v=n("text"),_=document.getElementById(v)||document.createElement("span"),x=n("learnmore"),E=document.getElementById(x)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const b=f.element;a(b),d(E,x);const P=u();l(y,w),b.append(y,_,E,P),document.body.appendChild(b)}i?(_.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function l3(){var t;const e=(t=ah())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h3(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f3(){return!l3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p3(){try{return typeof indexedDB=="object"}catch{return!1}}function m3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=g3,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?y3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Vr(s,a,r)}}function y3(t,e){return t.replace(v3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const v3=/\{\$([^}]+)}/g;function x3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _i(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Dx(i)&&Dx(o)){if(!_i(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Dx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function w3(t,e){const n=new _3(t,e);return n.subscribe.bind(n)}class _3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Df),s.error===void 0&&(s.error=Df),s.complete===void 0&&(s.complete=Df);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class Ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new r3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I3(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T3(t){return t===ri?void 0:t}function I3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const C3={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},A3=fe.INFO,R3={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},P3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=R3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gg{constructor(e){this.name=e,this._logLevel=A3,this._logHandler=P3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const N3=(t,e)=>e.some(n=>t instanceof n);let jx,Mx;function k3(){return jx||(jx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O3(){return Mx||(Mx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,rm=new WeakMap,AT=new WeakMap,jf=new WeakMap,Kg=new WeakMap;function D3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ts(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,t)}).catch(()=>{}),Kg.set(e,t),e}function j3(t){if(rm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});rm.set(t,e)}let sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function M3(t){sm=t(sm)}function L3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mf(this),e,...n);return AT.set(r,e.sort?e.sort():[e]),Ts(r)}:O3().includes(t)?function(...e){return t.apply(Mf(this),e),Ts(CT.get(this))}:function(...e){return Ts(t.apply(Mf(this),e))}}function V3(t){return typeof t=="function"?L3(t):(t instanceof IDBTransaction&&j3(t),N3(t,k3())?new Proxy(t,sm):t)}function Ts(t){if(t instanceof IDBRequest)return D3(t);if(jf.has(t))return jf.get(t);const e=V3(t);return e!==t&&(jf.set(t,e),Kg.set(e,t)),e}const Mf=t=>Kg.get(t);function F3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ts(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ts(o.result),l.oldVersion,l.newVersion,Ts(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const U3=["get","getKey","getAll","getAllKeys","count"],$3=["put","add","delete","clear"],Lf=new Map;function Lx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=$3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||U3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Lf.set(e,i),i}M3(t=>({...t,get:(e,n,r)=>Lx(e,n)||t.get(e,n,r),has:(e,n)=>!!Lx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const im="@firebase/app",Vx="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new Gg("@firebase/app"),H3="@firebase/app-compat",W3="@firebase/analytics-compat",q3="@firebase/analytics",G3="@firebase/app-check-compat",K3="@firebase/app-check",Q3="@firebase/auth",Y3="@firebase/auth-compat",X3="@firebase/database",J3="@firebase/data-connect",Z3="@firebase/database-compat",e5="@firebase/functions",t5="@firebase/functions-compat",n5="@firebase/installations",r5="@firebase/installations-compat",s5="@firebase/messaging",i5="@firebase/messaging-compat",o5="@firebase/performance",a5="@firebase/performance-compat",l5="@firebase/remote-config",c5="@firebase/remote-config-compat",u5="@firebase/storage",d5="@firebase/storage-compat",h5="@firebase/firestore",f5="@firebase/ai",p5="@firebase/firestore-compat",m5="firebase",g5="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="[DEFAULT]",y5={[im]:"fire-core",[H3]:"fire-core-compat",[q3]:"fire-analytics",[W3]:"fire-analytics-compat",[K3]:"fire-app-check",[G3]:"fire-app-check-compat",[Q3]:"fire-auth",[Y3]:"fire-auth-compat",[X3]:"fire-rtdb",[J3]:"fire-data-connect",[Z3]:"fire-rtdb-compat",[e5]:"fire-fn",[t5]:"fire-fn-compat",[n5]:"fire-iid",[r5]:"fire-iid-compat",[s5]:"fire-fcm",[i5]:"fire-fcm-compat",[o5]:"fire-perf",[a5]:"fire-perf-compat",[l5]:"fire-rc",[c5]:"fire-rc-compat",[u5]:"fire-gcs",[d5]:"fire-gcs-compat",[h5]:"fire-fst",[p5]:"fire-fst-compat",[f5]:"fire-vertex","fire-js":"fire-js",[m5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Map,v5=new Map,am=new Map;function Fx(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(am.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,t);for(const n of hd.values())Fx(n,t);for(const n of v5.values())Fx(n,t);return!0}function Qg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new rc("app","Firebase",x5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=g5;function RT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:om,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Is.create("bad-app-name",{appName:String(s)});if(n||(n=bT()),!n)throw Is.create("no-options");const i=hd.get(s);if(i){if(_i(n,i.options)&&_i(r,i.config))return i;throw Is.create("duplicate-app",{appName:s})}const o=new S3(s);for(const l of am.values())o.addComponent(l);const a=new w5(n,r,o);return hd.set(s,a),a}function PT(t=om){const e=hd.get(t);if(!e&&t===om&&bT())return RT();if(!e)throw Is.create("no-app",{appName:t});return e}function Ss(t,e,n){var r;let s=(r=y5[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(a.join(" "));return}Fo(new Ei(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="firebase-heartbeat-database",E5=1,Nl="firebase-heartbeat-store";let Vf=null;function NT(){return Vf||(Vf=F3(_5,E5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Is.create("idb-open",{originalErrorMessage:t.message})})),Vf}async function b5(t){try{const n=(await NT()).transaction(Nl),r=await n.objectStore(Nl).get(kT(t));return await n.done,r}catch(e){if(e instanceof Vr)Nr.warn(e.message);else{const n=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(n.message)}}}async function Ux(t,e){try{const r=(await NT()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(e,kT(t)),await r.done}catch(n){if(n instanceof Vr)Nr.warn(n.message);else{const r=Is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(r.message)}}}function kT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=1024,I5=30;class S5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$x();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>I5){const o=R5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$x(),{heartbeatsToSend:r,unsentEntries:s}=C5(this._heartbeatsCache.heartbeats),i=dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Nr.warn(n),""}}}function $x(){return new Date().toISOString().substring(0,10)}function C5(t,e=T5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),zx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class A5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p3()?m3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ux(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ux(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zx(t){return dd(JSON.stringify({version:2,heartbeats:t})).length}function R5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t){Fo(new Ei("platform-logger",e=>new z3(e),"PRIVATE")),Fo(new Ei("heartbeat",e=>new S5(e),"PRIVATE")),Ss(im,Vx,t),Ss(im,Vx,"esm2017"),Ss("fire-js","")}P5("");var Bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,OT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function A(){}A.prototype=T.prototype,C.D=T.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(R,k,O){for(var N=Array(arguments.length-2),q=2;q<arguments.length;q++)N[q-2]=arguments[q];return T.prototype[k].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,A){A||(A=0);var R=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)R[k]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(k=0;16>k;++k)R[k]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=C.g[0],A=C.g[1],k=C.g[2];var O=C.g[3],N=T+(O^A&(k^O))+R[0]+3614090360&4294967295;T=A+(N<<7&4294967295|N>>>25),N=O+(k^T&(A^k))+R[1]+3905402710&4294967295,O=T+(N<<12&4294967295|N>>>20),N=k+(A^O&(T^A))+R[2]+606105819&4294967295,k=O+(N<<17&4294967295|N>>>15),N=A+(T^k&(O^T))+R[3]+3250441966&4294967295,A=k+(N<<22&4294967295|N>>>10),N=T+(O^A&(k^O))+R[4]+4118548399&4294967295,T=A+(N<<7&4294967295|N>>>25),N=O+(k^T&(A^k))+R[5]+1200080426&4294967295,O=T+(N<<12&4294967295|N>>>20),N=k+(A^O&(T^A))+R[6]+2821735955&4294967295,k=O+(N<<17&4294967295|N>>>15),N=A+(T^k&(O^T))+R[7]+4249261313&4294967295,A=k+(N<<22&4294967295|N>>>10),N=T+(O^A&(k^O))+R[8]+1770035416&4294967295,T=A+(N<<7&4294967295|N>>>25),N=O+(k^T&(A^k))+R[9]+2336552879&4294967295,O=T+(N<<12&4294967295|N>>>20),N=k+(A^O&(T^A))+R[10]+4294925233&4294967295,k=O+(N<<17&4294967295|N>>>15),N=A+(T^k&(O^T))+R[11]+2304563134&4294967295,A=k+(N<<22&4294967295|N>>>10),N=T+(O^A&(k^O))+R[12]+1804603682&4294967295,T=A+(N<<7&4294967295|N>>>25),N=O+(k^T&(A^k))+R[13]+4254626195&4294967295,O=T+(N<<12&4294967295|N>>>20),N=k+(A^O&(T^A))+R[14]+2792965006&4294967295,k=O+(N<<17&4294967295|N>>>15),N=A+(T^k&(O^T))+R[15]+1236535329&4294967295,A=k+(N<<22&4294967295|N>>>10),N=T+(k^O&(A^k))+R[1]+4129170786&4294967295,T=A+(N<<5&4294967295|N>>>27),N=O+(A^k&(T^A))+R[6]+3225465664&4294967295,O=T+(N<<9&4294967295|N>>>23),N=k+(T^A&(O^T))+R[11]+643717713&4294967295,k=O+(N<<14&4294967295|N>>>18),N=A+(O^T&(k^O))+R[0]+3921069994&4294967295,A=k+(N<<20&4294967295|N>>>12),N=T+(k^O&(A^k))+R[5]+3593408605&4294967295,T=A+(N<<5&4294967295|N>>>27),N=O+(A^k&(T^A))+R[10]+38016083&4294967295,O=T+(N<<9&4294967295|N>>>23),N=k+(T^A&(O^T))+R[15]+3634488961&4294967295,k=O+(N<<14&4294967295|N>>>18),N=A+(O^T&(k^O))+R[4]+3889429448&4294967295,A=k+(N<<20&4294967295|N>>>12),N=T+(k^O&(A^k))+R[9]+568446438&4294967295,T=A+(N<<5&4294967295|N>>>27),N=O+(A^k&(T^A))+R[14]+3275163606&4294967295,O=T+(N<<9&4294967295|N>>>23),N=k+(T^A&(O^T))+R[3]+4107603335&4294967295,k=O+(N<<14&4294967295|N>>>18),N=A+(O^T&(k^O))+R[8]+1163531501&4294967295,A=k+(N<<20&4294967295|N>>>12),N=T+(k^O&(A^k))+R[13]+2850285829&4294967295,T=A+(N<<5&4294967295|N>>>27),N=O+(A^k&(T^A))+R[2]+4243563512&4294967295,O=T+(N<<9&4294967295|N>>>23),N=k+(T^A&(O^T))+R[7]+1735328473&4294967295,k=O+(N<<14&4294967295|N>>>18),N=A+(O^T&(k^O))+R[12]+2368359562&4294967295,A=k+(N<<20&4294967295|N>>>12),N=T+(A^k^O)+R[5]+4294588738&4294967295,T=A+(N<<4&4294967295|N>>>28),N=O+(T^A^k)+R[8]+2272392833&4294967295,O=T+(N<<11&4294967295|N>>>21),N=k+(O^T^A)+R[11]+1839030562&4294967295,k=O+(N<<16&4294967295|N>>>16),N=A+(k^O^T)+R[14]+4259657740&4294967295,A=k+(N<<23&4294967295|N>>>9),N=T+(A^k^O)+R[1]+2763975236&4294967295,T=A+(N<<4&4294967295|N>>>28),N=O+(T^A^k)+R[4]+1272893353&4294967295,O=T+(N<<11&4294967295|N>>>21),N=k+(O^T^A)+R[7]+4139469664&4294967295,k=O+(N<<16&4294967295|N>>>16),N=A+(k^O^T)+R[10]+3200236656&4294967295,A=k+(N<<23&4294967295|N>>>9),N=T+(A^k^O)+R[13]+681279174&4294967295,T=A+(N<<4&4294967295|N>>>28),N=O+(T^A^k)+R[0]+3936430074&4294967295,O=T+(N<<11&4294967295|N>>>21),N=k+(O^T^A)+R[3]+3572445317&4294967295,k=O+(N<<16&4294967295|N>>>16),N=A+(k^O^T)+R[6]+76029189&4294967295,A=k+(N<<23&4294967295|N>>>9),N=T+(A^k^O)+R[9]+3654602809&4294967295,T=A+(N<<4&4294967295|N>>>28),N=O+(T^A^k)+R[12]+3873151461&4294967295,O=T+(N<<11&4294967295|N>>>21),N=k+(O^T^A)+R[15]+530742520&4294967295,k=O+(N<<16&4294967295|N>>>16),N=A+(k^O^T)+R[2]+3299628645&4294967295,A=k+(N<<23&4294967295|N>>>9),N=T+(k^(A|~O))+R[0]+4096336452&4294967295,T=A+(N<<6&4294967295|N>>>26),N=O+(A^(T|~k))+R[7]+1126891415&4294967295,O=T+(N<<10&4294967295|N>>>22),N=k+(T^(O|~A))+R[14]+2878612391&4294967295,k=O+(N<<15&4294967295|N>>>17),N=A+(O^(k|~T))+R[5]+4237533241&4294967295,A=k+(N<<21&4294967295|N>>>11),N=T+(k^(A|~O))+R[12]+1700485571&4294967295,T=A+(N<<6&4294967295|N>>>26),N=O+(A^(T|~k))+R[3]+2399980690&4294967295,O=T+(N<<10&4294967295|N>>>22),N=k+(T^(O|~A))+R[10]+4293915773&4294967295,k=O+(N<<15&4294967295|N>>>17),N=A+(O^(k|~T))+R[1]+2240044497&4294967295,A=k+(N<<21&4294967295|N>>>11),N=T+(k^(A|~O))+R[8]+1873313359&4294967295,T=A+(N<<6&4294967295|N>>>26),N=O+(A^(T|~k))+R[15]+4264355552&4294967295,O=T+(N<<10&4294967295|N>>>22),N=k+(T^(O|~A))+R[6]+2734768916&4294967295,k=O+(N<<15&4294967295|N>>>17),N=A+(O^(k|~T))+R[13]+1309151649&4294967295,A=k+(N<<21&4294967295|N>>>11),N=T+(k^(A|~O))+R[4]+4149444226&4294967295,T=A+(N<<6&4294967295|N>>>26),N=O+(A^(T|~k))+R[11]+3174756917&4294967295,O=T+(N<<10&4294967295|N>>>22),N=k+(T^(O|~A))+R[2]+718787259&4294967295,k=O+(N<<15&4294967295|N>>>17),N=A+(O^(k|~T))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var A=T-this.blockSize,R=this.B,k=this.h,O=0;O<T;){if(k==0)for(;O<=A;)s(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<T;)if(R[k++]=C.charCodeAt(O++),k==this.blockSize){s(this,R),k=0;break}}else for(;O<T;)if(R[k++]=C[O++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var A=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=A&255,A/=256;for(this.u(C),C=Array(16),T=A=0;4>T;++T)for(var R=0;32>R;R+=8)C[A++]=this.g[T]>>>R&255;return C};function i(C,T){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=T(C)}function o(C,T){this.h=T;for(var A=[],R=!0,k=C.length-1;0<=k;k--){var O=C[k]|0;R&&O==T||(A[k]=O,R=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return E(u(-C));for(var T=[],A=1,R=0;C>=A;R++)T[R]=C/A|0,A*=4294967296;return new o(T,0)}function d(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return E(d(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(T,8)),R=p,k=0;k<C.length;k+=8){var O=Math.min(8,C.length-k),N=parseInt(C.substring(k,k+O),T);8>O?(O=u(Math.pow(T,O)),R=R.j(O).add(u(N))):(R=R.j(A),R=R.add(u(N)))}return R}var p=l(0),f=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-E(this).m();for(var C=0,T=1,A=0;A<this.g.length;A++){var R=this.i(A);C+=(0<=R?R:4294967296+R)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(x(this))return"-"+E(this).toString(C);for(var T=u(Math.pow(C,6)),A=this,R="";;){var k=P(A,T).g;A=w(A,k.j(T));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=k,_(A))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=w(this,C),x(C)?-1:_(C)?0:1};function E(C){for(var T=C.g.length,A=[],R=0;R<T;R++)A[R]=~C.g[R];return new o(A,~C.h).add(f)}t.abs=function(){return x(this)?E(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0,k=0;k<=T;k++){var O=R+(this.i(k)&65535)+(C.i(k)&65535),N=(O>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);R=N>>>16,O&=65535,N&=65535,A[k]=N<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(C,T){return C.add(E(T))}t.j=function(C){if(_(this)||_(C))return p;if(x(this))return x(C)?E(this).j(E(C)):E(E(this).j(C));if(x(C))return E(this.j(E(C)));if(0>this.l(v)&&0>C.l(v))return u(this.m()*C.m());for(var T=this.g.length+C.g.length,A=[],R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<C.g.length;k++){var O=this.i(R)>>>16,N=this.i(R)&65535,q=C.i(k)>>>16,se=C.i(k)&65535;A[2*R+2*k]+=N*se,y(A,2*R+2*k),A[2*R+2*k+1]+=O*se,y(A,2*R+2*k+1),A[2*R+2*k+1]+=N*q,y(A,2*R+2*k+1),A[2*R+2*k+2]+=O*q,y(A,2*R+2*k+2)}for(R=0;R<T;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=T;R<2*T;R++)A[R]=0;return new o(A,0)};function y(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function b(C,T){this.g=C,this.h=T}function P(C,T){if(_(T))throw Error("division by zero");if(_(C))return new b(p,p);if(x(C))return T=P(E(C),T),new b(E(T.g),E(T.h));if(x(T))return T=P(C,E(T)),new b(E(T.g),T.h);if(30<C.g.length){if(x(C)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var A=f,R=T;0>=R.l(C);)A=D(A),R=D(R);var k=j(A,1),O=j(R,1);for(R=j(R,2),A=j(A,2);!_(R);){var N=O.add(R);0>=N.l(C)&&(k=k.add(A),O=N),R=j(R,1),A=j(A,1)}return T=w(C,k.j(T)),new b(k,T)}for(k=p;0<=C.l(T);){for(A=Math.max(1,Math.floor(C.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(A),N=O.j(T);x(N)||0<N.l(C);)A-=R,O=u(A),N=O.j(T);_(O)&&(O=f),k=k.add(O),C=w(C,N)}return new b(k,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)&C.i(R);return new o(A,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)|C.i(R);return new o(A,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)^C.i(R);return new o(A,this.h^C.h)};function D(C){for(var T=C.g.length+1,A=[],R=0;R<T;R++)A[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(A,C.h)}function j(C,T){var A=T>>5;T%=32;for(var R=C.g.length-A,k=[],O=0;O<R;O++)k[O]=0<T?C.i(O+A)>>>T|C.i(O+A+1)<<32-T:C.i(O+A);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Cs=o}).apply(typeof Bx<"u"?Bx:typeof self<"u"?self:typeof window<"u"?window:{});var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DT,$a,jT,Eu,lm,MT,LT,VT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,g){return c==Array.prototype||c==Object.prototype||(c[m]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof tu=="object"&&tu];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var g=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var M=c[S];if(!(M in g))break e;g=g[M]}c=c[c.length-1],S=g[c],m=m(S),m!=S&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var g=0,S=!1,M={next:function(){if(!S&&g<c.length){var V=g++;return{value:m(V,c[V]),done:!1}}return S=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,g){return c.call.apply(c.bind,arguments)}function p(c,m,g){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,S),c.apply(m,M)}}return function(){return c.apply(m,arguments)}}function f(c,m,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,f.apply(null,arguments)}function v(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function _(c,m){function g(){}g.prototype=m.prototype,c.aa=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(S,M,V){for(var H=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)H[Ie-2]=arguments[Ie];return m.prototype[M].apply(S,H)}}function x(c){const m=c.length;if(0<m){const g=Array(m);for(let S=0;S<m;S++)g[S]=c[S];return g}return[]}function E(c,m){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const M=c.length||0,V=S.length||0;c.length=M+V;for(let H=0;H<V;H++)c[M+H]=S[H]}else c.push(S)}}class w{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(c){return/^[\s\xa0]*$/.test(c)}function b(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function j(c,m,g){for(const S in c)m.call(g,c[S],S,c)}function C(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function T(c){const m={};for(const g in c)m[g]=c[g];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,m){let g,S;for(let M=1;M<arguments.length;M++){S=arguments[M];for(g in S)c[g]=S[g];for(let V=0;V<A.length;V++)g=A[V],Object.prototype.hasOwnProperty.call(S,g)&&(c[g]=S[g])}}function k(c){var m=1;c=c.split(":");const g=[];for(;0<m&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function O(c){a.setTimeout(()=>{throw c},0)}function N(){var c=B;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class q{constructor(){this.h=this.g=null}add(m,g){const S=se.get();S.set(m,g),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new w(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let le,L=!1,B=new q,X=()=>{const c=a.Promise.resolve(void 0);le=()=>{c.then(K)}};var K=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(g){O(g)}var m=se;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}L=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return c}();function et(c,m){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(D){e:{try{P(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&et.aa.h.call(this)}}_(et,te);var ve={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Un=0;function $n(c,m,g,S,M){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!S,this.ha=M,this.key=++Un,this.da=this.fa=!1}function Jt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function lr(c){this.src=c,this.g={},this.h=0}lr.prototype.add=function(c,m,g,S,M){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var H=_n(c,m,S,M);return-1<H?(m=c[H],g||(m.fa=!1)):(m=new $n(m,this.src,V,!!S,M),m.fa=g,c.push(m)),m};function zn(c,m){var g=m.type;if(g in c.g){var S=c.g[g],M=Array.prototype.indexOf.call(S,m,void 0),V;(V=0<=M)&&Array.prototype.splice.call(S,M,1),V&&(Jt(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function _n(c,m,g,S){for(var M=0;M<c.length;++M){var V=c[M];if(!V.da&&V.listener==m&&V.capture==!!g&&V.ha==S)return M}return-1}var cr="closure_lm_"+(1e6*Math.random()|0),Fr={};function En(c,m,g,S,M){if(Array.isArray(m)){for(var V=0;V<m.length;V++)En(c,m[V],g,S,M);return null}return g=fa(g),c&&c[yt]?c.K(m,g,u(S)?!!S.capture:!!S,M):ua(c,m,g,!1,S,M)}function ua(c,m,g,S,M,V){if(!m)throw Error("Invalid event type");var H=u(M)?!!M.capture:!!M,Ie=Ur(c);if(Ie||(c[cr]=Ie=new lr(c)),g=Ie.add(m,g,S,H,V),g.proxy)return g;if(S=da(),g.proxy=S,S.src=c,S.listener=g,c.addEventListener)Ae||(M=H),M===void 0&&(M=!1),c.addEventListener(m.toString(),S,M);else if(c.attachEvent)c.attachEvent(mc(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function da(){function c(g){return m.call(c.src,c.listener,g)}const m=Mh;return c}function Ke(c,m,g,S,M){if(Array.isArray(m))for(var V=0;V<m.length;V++)Ke(c,m[V],g,S,M);else S=u(S)?!!S.capture:!!S,g=fa(g),c&&c[yt]?(c=c.i,m=String(m).toString(),m in c.g&&(V=c.g[m],g=_n(V,g,S,M),-1<g&&(Jt(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete c.g[m],c.h--)))):c&&(c=Ur(c))&&(m=c.g[m.toString()],c=-1,m&&(c=_n(m,g,S,M)),(g=-1<c?m[c]:null)&&Bn(g))}function Bn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[yt])zn(m.i,c);else{var g=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(g,S,c.capture):m.detachEvent?m.detachEvent(mc(g),S):m.addListener&&m.removeListener&&m.removeListener(S),(g=Ur(m))?(zn(g,c),g.h==0&&(g.src=null,m[cr]=null)):Jt(c)}}}function mc(c){return c in Fr?Fr[c]:Fr[c]="on"+c}function Mh(c,m){if(c.da)c=!0;else{m=new et(m,this);var g=c.listener,S=c.ha||c.src;c.fa&&Bn(c),c=g.call(S,m)}return c}function Ur(c){return c=c[cr],c instanceof lr?c:null}var ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function fa(c){return typeof c=="function"?c:(c[ha]||(c[ha]=function(m){return c.handleEvent(m)}),c[ha])}function Qe(){J.call(this),this.i=new lr(this),this.M=this,this.F=null}_(Qe,J),Qe.prototype[yt]=!0,Qe.prototype.removeEventListener=function(c,m,g,S){Ke(this,c,m,g,S)};function ze(c,m){var g,S=c.F;if(S)for(g=[];S;S=S.F)g.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new te(m,c);else if(m instanceof te)m.target=m.target||c;else{var M=m;m=new te(S,c),R(m,M)}if(M=!0,g)for(var V=g.length-1;0<=V;V--){var H=m.g=g[V];M=Ys(H,S,!0,m)&&M}if(H=m.g=c,M=Ys(H,S,!0,m)&&M,M=Ys(H,S,!1,m)&&M,g)for(V=0;V<g.length;V++)H=m.g=g[V],M=Ys(H,S,!1,m)&&M}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var g=c.g[m],S=0;S<g.length;S++)Jt(g[S]);delete c.g[m],c.h--}}this.F=null},Qe.prototype.K=function(c,m,g,S){return this.i.add(String(c),m,!1,g,S)},Qe.prototype.L=function(c,m,g,S){return this.i.add(String(c),m,!0,g,S)};function Ys(c,m,g,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,V=0;V<m.length;++V){var H=m[V];if(H&&!H.da&&H.capture==g){var Ie=H.listener,ut=H.ha||H.src;H.fa&&zn(c.i,H),M=Ie.call(ut,S)!==!1&&M}}return M&&!S.defaultPrevented}function ur(c,m,g){if(typeof c=="function")g&&(c=f(c,g));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function pa(c){c.g=ur(()=>{c.g=null,c.i&&(c.i=!1,pa(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Lh extends J{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:pa(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(c){J.call(this),this.h=c,this.g={}}_($r,J);var ma=[];function gc(c){j(c.g,function(m,g){this.g.hasOwnProperty(g)&&Bn(m)},c),c.g={}}$r.prototype.N=function(){$r.aa.N.call(this),gc(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=a.JSON.stringify,Hn=a.JSON.parse,Vh=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ie(){}ie.prototype.h=null;function Te(c){return c.h||(c.h=c.i())}function Ee(){}var vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $t(){te.call(this,"d")}_($t,te);function zr(){te.call(this,"c")}_(zr,te);var dr={},X0=null;function yc(){return X0=X0||new Qe}dr.La="serverreachability";function J0(c){te.call(this,dr.La,c)}_(J0,te);function ga(c){const m=yc();ze(m,new J0(m))}dr.STAT_EVENT="statevent";function Z0(c,m){te.call(this,dr.STAT_EVENT,c),this.stat=m}_(Z0,te);function Ot(c){const m=yc();ze(m,new Z0(m,c))}dr.Ma="timingevent";function ey(c,m){te.call(this,dr.Ma,c),this.size=m}_(ey,te);function ya(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function zS(c,m,g,S,M,V){c.info(function(){if(c.g)if(V)for(var H="",Ie=V.split("&"),ut=0;ut<Ie.length;ut++){var ye=Ie[ut].split("=");if(1<ye.length){var xt=ye[0];ye=ye[1];var wt=xt.split("_");H=2<=wt.length&&wt[1]=="type"?H+(xt+"="+ye+"&"):H+(xt+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+S+") [attempt "+M+"]: "+m+`
`+g+`
`+H})}function BS(c,m,g,S,M,V,H){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+M+"]: "+m+`
`+g+`
`+V+" "+H})}function Mi(c,m,g,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+WS(c,g)+(S?" "+S:"")})}function HS(c,m){c.info(function(){return"TIMEOUT: "+m})}va.prototype.info=function(){};function WS(c,m){if(!c.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var S=g[c];if(!(2>S.length)){var M=S[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<M.length;H++)M[H]=""}}}}return Xs(g)}catch{return m}}var vc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ty={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fh;function xc(){}_(xc,ie),xc.prototype.g=function(){return new XMLHttpRequest},xc.prototype.i=function(){return{}},Fh=new xc;function Br(c,m,g,S){this.j=c,this.i=m,this.l=g,this.R=S||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ny}function ny(){this.i=null,this.g="",this.h=!1}var ry={},Uh={};function $h(c,m,g){c.L=1,c.v=bc(hr(m)),c.m=g,c.P=!0,sy(c,null)}function sy(c,m){c.F=Date.now(),wc(c),c.A=hr(c.v);var g=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),vy(g.i,"t",S),c.C=0,g=c.j.J,c.h=new ny,c.g=My(c.j,g?m:null,!c.m),0<c.O&&(c.M=new Lh(f(c.Y,c,c.g),c.O)),m=c.U,g=c.g,S=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(ma[0]=M.toString()),M=ma);for(var V=0;V<M.length;V++){var H=En(g,M[V],S||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),ga(),zS(c.i,c.u,c.A,c.l,c.R,c.m)}Br.prototype.ca=function(c){c=c.target;const m=this.M;m&&fr(c)==3?m.j():this.Y(c)},Br.prototype.Y=function(c){try{if(c==this.g)e:{const wt=fr(this.g);var m=this.g.Ba();const Fi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Iy(this.g)))){this.J||wt!=4||m==7||(m==8||0>=Fi?ga(3):ga(2)),zh(this);var g=this.g.Z();this.X=g;t:if(iy(this)){var S=Iy(this.g);c="";var M=S.length,V=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Js(this),xa(this);var H="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!(V&&m==M-1)});S.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=g==200,BS(this.i,this.u,this.A,this.l,this.R,wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,ut=this.g;if((Ie=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ie)){var ye=Ie;break t}}ye=null}if(g=ye)Mi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bh(this,g);else{this.o=!1,this.s=3,Ot(12),Js(this),xa(this);break e}}if(this.P){g=!0;let bn;for(;!this.J&&this.C<H.length;)if(bn=qS(this,H),bn==Uh){wt==4&&(this.s=4,Ot(14),g=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==ry){this.s=4,Ot(15),Mi(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}else Mi(this.i,this.l,bn,null),Bh(this,bn);if(iy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||H.length!=0||this.h.h||(this.s=1,Ot(16),g=!1),this.o=this.o&&g,!g)Mi(this.i,this.l,H,"[Invalid Chunked Response]"),Js(this),xa(this);else if(0<H.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Qh(xt),xt.M=!0,Ot(11))}}else Mi(this.i,this.l,H,null),Bh(this,H);wt==4&&Js(this),this.o&&!this.J&&(wt==4?ky(this.j,this):(this.o=!1,wc(this)))}else cC(this.g),g==400&&0<H.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Js(this),xa(this)}}}catch{}finally{}};function iy(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qS(c,m){var g=c.C,S=m.indexOf(`
`,g);return S==-1?Uh:(g=Number(m.substring(g,S)),isNaN(g)?ry:(S+=1,S+g>m.length?Uh:(m=m.slice(S,S+g),c.C=S+g,m)))}Br.prototype.cancel=function(){this.J=!0,Js(this)};function wc(c){c.S=Date.now()+c.I,oy(c,c.I)}function oy(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ya(f(c.ba,c),m)}function zh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Br.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(HS(this.i,this.A),this.L!=2&&(ga(),Ot(17)),Js(this),this.s=2,xa(this)):oy(this,this.S-c)};function xa(c){c.j.G==0||c.J||ky(c.j,c)}function Js(c){zh(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,gc(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Bh(c,m){try{var g=c.j;if(g.G!=0&&(g.g==c||Hh(g.h,c))){if(!c.K&&Hh(g.h,c)&&g.G==3){try{var S=g.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var M=S;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Rc(g),Cc(g);else break e;Kh(g),Ot(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=ya(f(g.Za,g),6e3));if(1>=cy(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ei(g,11)}else if((c.K||g.g==c)&&Rc(g),!y(m))for(M=g.Da.g.parse(m),m=0;m<M.length;m++){let ye=M[m];if(g.T=ye[0],ye=ye[1],g.G==2)if(ye[0]=="c"){g.K=ye[1],g.ia=ye[2];const xt=ye[3];xt!=null&&(g.la=xt,g.j.info("VER="+g.la));const wt=ye[4];wt!=null&&(g.Aa=wt,g.j.info("SVER="+g.Aa));const Fi=ye[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(S=1.5*Fi,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const bn=c.g;if(bn){const Nc=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nc){var V=S.h;V.g||Nc.indexOf("spdy")==-1&&Nc.indexOf("quic")==-1&&Nc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Wh(V,V.h),V.h=null))}if(S.D){const Yh=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yh&&(S.ya=Yh,Re(S.I,S.D,Yh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var H=c;if(S.qa=jy(S,S.J?S.ia:null,S.W),H.K){uy(S.h,H);var Ie=H,ut=S.L;ut&&(Ie.I=ut),Ie.B&&(zh(Ie),wc(Ie)),S.g=H}else Py(S);0<g.i.length&&Ac(g)}else ye[0]!="stop"&&ye[0]!="close"||ei(g,7);else g.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?ei(g,7):Gh(g):ye[0]!="noop"&&g.l&&g.l.ta(ye),g.v=0)}}ga(4)}catch{}}var GS=class{constructor(c,m){this.g=c,this.map=m}};function ay(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ly(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cy(c){return c.h?1:c.g?c.g.size:0}function Hh(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Wh(c,m){c.g?c.g.add(m):c.h=m}function uy(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ay.prototype.cancel=function(){if(this.i=dy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dy(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.D);return m}return x(c.i)}function KS(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],g=c.length,S=0;S<g;S++)m.push(c[S]);return m}m=[],g=0;for(S in c)m[g++]=c[S];return m}function QS(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var g=0;g<c;g++)m.push(g);return m}m=[],g=0;for(const S in c)m[g++]=S;return m}}}function hy(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var g=QS(c),S=KS(c),M=S.length,V=0;V<M;V++)m.call(void 0,S[V],g&&g[V],c)}var fy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YS(c,m){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var S=c[g].indexOf("="),M=null;if(0<=S){var V=c[g].substring(0,S);M=c[g].substring(S+1)}else V=c[g];m(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Zs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zs){this.h=c.h,_c(this,c.j),this.o=c.o,this.g=c.g,Ec(this,c.s),this.l=c.l;var m=c.i,g=new Ea;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),py(this,g),this.m=c.m}else c&&(m=String(c).match(fy))?(this.h=!1,_c(this,m[1]||"",!0),this.o=wa(m[2]||""),this.g=wa(m[3]||"",!0),Ec(this,m[4]),this.l=wa(m[5]||"",!0),py(this,m[6]||"",!0),this.m=wa(m[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}Zs.prototype.toString=function(){var c=[],m=this.j;m&&c.push(_a(m,my,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(_a(m,my,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(_a(g,g.charAt(0)=="/"?ZS:JS,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",_a(g,tC)),c.join("")};function hr(c){return new Zs(c)}function _c(c,m,g){c.j=g?wa(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Ec(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function py(c,m,g){m instanceof Ea?(c.i=m,nC(c.i,c.h)):(g||(m=_a(m,eC)),c.i=new Ea(m,c.h))}function Re(c,m,g){c.i.set(m,g)}function bc(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wa(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _a(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,XS),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function XS(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var my=/[#\/\?@]/g,JS=/[#\?:]/g,ZS=/[#\?]/g,eC=/[#\?@]/g,tC=/#/g;function Ea(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Hr(c){c.g||(c.g=new Map,c.h=0,c.i&&YS(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Ea.prototype,t.add=function(c,m){Hr(this),this.i=null,c=Li(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function gy(c,m){Hr(c),m=Li(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function yy(c,m){return Hr(c),m=Li(c,m),c.g.has(m)}t.forEach=function(c,m){Hr(this),this.g.forEach(function(g,S){g.forEach(function(M){c.call(m,M,S,this)},this)},this)},t.na=function(){Hr(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let S=0;S<m.length;S++){const M=c[S];for(let V=0;V<M.length;V++)g.push(m[S])}return g},t.V=function(c){Hr(this);let m=[];if(typeof c=="string")yy(this,c)&&(m=m.concat(this.g.get(Li(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)m=m.concat(c[g])}return m},t.set=function(c,m){return Hr(this),this.i=null,c=Li(this,c),yy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function vy(c,m,g){gy(c,m),0<g.length&&(c.i=null,c.g.set(Li(c,m),x(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var S=m[g];const V=encodeURIComponent(String(S)),H=this.V(S);for(S=0;S<H.length;S++){var M=V;H[S]!==""&&(M+="="+encodeURIComponent(String(H[S]))),c.push(M)}}return this.i=c.join("&")};function Li(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function nC(c,m){m&&!c.j&&(Hr(c),c.i=null,c.g.forEach(function(g,S){var M=S.toLowerCase();S!=M&&(gy(this,S),vy(this,M,g))},c)),c.j=m}function rC(c,m){const g=new va;if(a.Image){const S=new Image;S.onload=v(Wr,g,"TestLoadImage: loaded",!0,m,S),S.onerror=v(Wr,g,"TestLoadImage: error",!1,m,S),S.onabort=v(Wr,g,"TestLoadImage: abort",!1,m,S),S.ontimeout=v(Wr,g,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function sC(c,m){const g=new va,S=new AbortController,M=setTimeout(()=>{S.abort(),Wr(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(V=>{clearTimeout(M),V.ok?Wr(g,"TestPingServer: ok",!0,m):Wr(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),Wr(g,"TestPingServer: error",!1,m)})}function Wr(c,m,g,S,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),S(g)}catch{}}function iC(){this.g=new Vh}function oC(c,m,g){const S=g||"";try{hy(c,function(M,V){let H=M;u(M)&&(H=Xs(M)),m.push(S+V+"="+encodeURIComponent(H))})}catch(M){throw m.push(S+"type="+encodeURIComponent("_badmap")),M}}function Tc(c){this.l=c.Ub||null,this.j=c.eb||!1}_(Tc,ie),Tc.prototype.g=function(){return new Ic(this.l,this.j)},Tc.prototype.i=function(c){return function(){return c}}({});function Ic(c,m){Qe.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ic,Qe),t=Ic.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ta(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xy(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xy(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ba(this):Ta(this),this.readyState==3&&xy(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ba(this))},t.Qa=function(c){this.g&&(this.response=c,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ta(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function Ta(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wy(c){let m="";return j(c,function(g,S){m+=S,m+=":",m+=g,m+=`\r
`}),m}function qh(c,m,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=wy(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Re(c,m,g))}function Be(c){Qe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Be,Qe);var aC=/^https?$/i,lC=["POST","PUT"];t=Be.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fh.g(),this.v=this.o?Te(this.o):Te(Fh),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(V){_y(this,V);return}if(c=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var M in S)g.set(M,S[M]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const V of S.keys())g.set(V,S.get(V));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lC,m,void 0))||S||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of g)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ty(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){_y(this,V)}};function _y(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Ey(c),Sc(c)}function Ey(c){c.A||(c.A=!0,ze(c,"complete"),ze(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ze(this,"complete"),ze(this,"abort"),Sc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sc(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?by(this):this.bb())},t.bb=function(){by(this)};function by(c){if(c.h&&typeof o<"u"&&(!c.v[1]||fr(c)!=4||c.Z()!=2)){if(c.u&&fr(c)==4)ur(c.Ea,0,c);else if(ze(c,"readystatechange"),fr(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var S;if(S=H===0){var M=String(c.D).match(fy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),S=!aC.test(M?M.toLowerCase():"")}g=S}if(g)ze(c,"complete"),ze(c,"success");else{c.m=6;try{var V=2<fr(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",Ey(c)}}finally{Sc(c)}}}}function Sc(c,m){if(c.g){Ty(c);const g=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||ze(c,"ready");try{g.onreadystatechange=S}catch{}}}function Ty(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function fr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Hn(m)}};function Iy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cC(c){const m={};c=(c.g&&2<=fr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(y(c[S]))continue;var g=k(c[S]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=m[M]||[];m[M]=V,V.push(g)}C(m,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function Sy(c){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ay(c&&c.concurrentRequestLimit),this.Da=new iC,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sy.prototype,t.la=8,t.G=1,t.connect=function(c,m,g,S){Ot(0),this.W=c,this.H=m||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=jy(this,null,this.W),Ac(this)};function Gh(c){if(Cy(c),c.G==3){var m=c.U++,g=hr(c.I);if(Re(g,"SID",c.K),Re(g,"RID",m),Re(g,"TYPE","terminate"),Sa(c,g),m=new Br(c,c.j,m),m.L=2,m.v=bc(hr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=My(m.j,null),m.g.ea(m.v)),m.F=Date.now(),wc(m)}Dy(c)}function Cc(c){c.g&&(Qh(c),c.g.cancel(),c.g=null)}function Cy(c){Cc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Rc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ac(c){if(!ly(c.h)&&!c.s){c.s=!0;var m=c.Ga;le||X(),L||(le(),L=!0),B.add(m,c),c.B=0}}function uC(c,m){return cy(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ya(f(c.Ga,c,m),Oy(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new Br(this,this.j,c);let V=this.o;if(this.S&&(V?(V=T(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=Ry(this,M,m),g=hr(this.I),Re(g,"RID",c),Re(g,"CVER",22),this.D&&Re(g,"X-HTTP-Session-Id",this.D),Sa(this,g),V&&(this.O?m="headers="+encodeURIComponent(String(wy(V)))+"&"+m:this.m&&qh(g,this.m,V)),Wh(this.h,M),this.Ua&&Re(g,"TYPE","init"),this.P?(Re(g,"$req",m),Re(g,"SID","null"),M.T=!0,$h(M,g,null)):$h(M,g,m),this.G=2}}else this.G==3&&(c?Ay(this,c):this.i.length==0||ly(this.h)||Ay(this))};function Ay(c,m){var g;m?g=m.l:g=c.U++;const S=hr(c.I);Re(S,"SID",c.K),Re(S,"RID",g),Re(S,"AID",c.T),Sa(c,S),c.m&&c.o&&qh(S,c.m,c.o),g=new Br(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Ry(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Wh(c.h,g),$h(g,S,m)}function Sa(c,m){c.H&&j(c.H,function(g,S){Re(m,S,g)}),c.l&&hy({},function(g,S){Re(m,S,g)})}function Ry(c,m,g){g=Math.min(c.i.length,g);var S=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let V=-1;for(;;){const H=["count="+g];V==-1?0<g?(V=M[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let Ie=!0;for(let ut=0;ut<g;ut++){let ye=M[ut].g;const xt=M[ut].map;if(ye-=V,0>ye)V=Math.max(0,M[ut].g-100),Ie=!1;else try{oC(xt,H,"req"+ye+"_")}catch{S&&S(xt)}}if(Ie){S=H.join("&");break e}}}return c=c.i.splice(0,g),m.D=c,S}function Py(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;le||X(),L||(le(),L=!0),B.add(m,c),c.v=0}}function Kh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ya(f(c.Fa,c),Oy(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Ny(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ya(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Cc(this),Ny(this))};function Qh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ny(c){c.g=new Br(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=hr(c.qa);Re(m,"RID","rpc"),Re(m,"SID",c.K),Re(m,"AID",c.T),Re(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(m,"TO",c.ja),Re(m,"TYPE","xmlhttp"),Sa(c,m),c.m&&c.o&&qh(m,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=bc(hr(m)),g.m=null,g.P=!0,sy(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Cc(this),Kh(this),Ot(19))};function Rc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ky(c,m){var g=null;if(c.g==m){Rc(c),Qh(c),c.g=null;var S=2}else if(Hh(c.h,m))g=m.D,uy(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var M=c.B;S=yc(),ze(S,new ey(S,g)),Ac(c)}else Py(c);else if(M=m.s,M==3||M==0&&0<m.X||!(S==1&&uC(c,m)||S==2&&Kh(c)))switch(g&&0<g.length&&(m=c.h,m.i=m.i.concat(g)),M){case 1:ei(c,5);break;case 4:ei(c,10);break;case 3:ei(c,6);break;default:ei(c,2)}}}function Oy(c,m){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*m}function ei(c,m){if(c.j.info("Error code "+m),m==2){var g=f(c.fb,c),S=c.Xa;const M=!S;S=new Zs(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_c(S,"https"),bc(S),M?rC(S.toString(),g):sC(S.toString(),g)}else Ot(2);c.G=0,c.l&&c.l.sa(m),Dy(c),Cy(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Dy(c){if(c.G=0,c.ka=[],c.l){const m=dy(c.h);(m.length!=0||c.i.length!=0)&&(E(c.ka,m),E(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function jy(c,m,g){var S=g instanceof Zs?hr(g):new Zs(g);if(S.g!="")m&&(S.g=m+"."+S.g),Ec(S,S.s);else{var M=a.location;S=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var V=new Zs(null);S&&_c(V,S),m&&(V.g=m),M&&Ec(V,M),g&&(V.l=g),S=V}return g=c.D,m=c.ya,g&&m&&Re(S,g,m),Re(S,"VER",c.la),Sa(c,S),S}function My(c,m,g){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Be(new Tc({eb:g})):new Be(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ly(){}t=Ly.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pc(){}Pc.prototype.g=function(c,m){return new Zt(c,m)};function Zt(c,m){Qe.call(this),this.g=new Sy(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!y(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Vi(this)}_(Zt,Qe),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Gh(this.g)},Zt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Xs(c),c=g);m.i.push(new GS(m.Ya++,c)),m.G==3&&Ac(m)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Gh(this.g),delete this.g,Zt.aa.N.call(this)};function Vy(c){$t.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}_(Vy,$t);function Fy(){zr.call(this),this.status=1}_(Fy,zr);function Vi(c){this.g=c}_(Vi,Ly),Vi.prototype.ua=function(){ze(this.g,"a")},Vi.prototype.ta=function(c){ze(this.g,new Vy(c))},Vi.prototype.sa=function(c){ze(this.g,new Fy)},Vi.prototype.ra=function(){ze(this.g,"b")},Pc.prototype.createWebChannel=Pc.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,VT=function(){return new Pc},LT=function(){return yc()},MT=dr,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vc.NO_ERROR=0,vc.TIMEOUT=8,vc.HTTP_ERROR=6,Eu=vc,ty.COMPLETE="complete",jT=ty,Ee.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,$a=Ee,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,DT=Be}).apply(typeof tu<"u"?tu:typeof self<"u"?self:typeof window<"u"?window:{});const Hx="@firebase/firestore",Wx="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Gg("@firebase/firestore");function zi(){return bi.logLevel}function G(t,...e){if(bi.logLevel<=fe.DEBUG){const n=e.map(Yg);bi.debug(`Firestore (${sa}): ${t}`,...n)}}function kr(t,...e){if(bi.logLevel<=fe.ERROR){const n=e.map(Yg);bi.error(`Firestore (${sa}): ${t}`,...n)}}function Uo(t,...e){if(bi.logLevel<=fe.WARN){const n=e.map(Yg);bi.warn(`Firestore (${sa}): ${t}`,...n)}}function Yg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,FT(t,r,n)}function FT(t,e,n){let r=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw kr(r),new Error(r)}function _e(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||FT(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class k5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O5{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Tr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new UT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class D5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new D5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=L5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function cm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return de(r,s);{const i=$T(),o=V5(i.encode(Gx(t,n)),i.encode(Gx(e,n)));return o!==0?o:de(r,s)}}n+=r>65535?2:1}return de(t.length,e.length)}function Gx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function V5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return de(t[n],e[n]);return de(t.length,e.length)}function $o(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=-62135596800,Qx=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Qx);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kx)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qx}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Kx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new rt(0,0))}static max(){return new oe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="__name__";class Kn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Kn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return de(e.length,n.length)}static compareSegments(e,n){const r=Kn.isNumericId(e),s=Kn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class Oe extends Kn{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const F5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Kn{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return F5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yx}static keyField(){return new ft([Yx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Oe.fromString(e))}static fromName(e){return new ee(Oe.fromString(e).popFirst(5))}static empty(){return new ee(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function U5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ls(s,ee.empty(),e)}function $5(t){return new Ls(t.readTime,t.key,kl)}class Ls{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ls(oe.min(),ee.empty(),kl)}static max(){return new Ls(oe.max(),ee.empty(),kl)}}function z5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==B5)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function W5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=-1;function ch(t){return t==null}function fd(t){return t===0&&1/t==-1/0}function q5(t){return typeof t=="number"&&Number.isInteger(t)&&!fd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="";function G5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xx(e)),e=K5(t.get(n),e);return Xx(e)}function K5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case BT:n+="";break;default:n+=i}}return n}function Xx(t){return t+BT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nu(this.root,e,this.comparator,!0)}}class nu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ht.RED,this.left=s??ht.EMPTY,this.right=i??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zx(this.data.getIterator())}getIteratorFrom(e){return new Zx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class Zx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new on([])}unionWith(e){let n=new st(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new WT("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const Q5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=Q5.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="server_timestamp",GT="__type__",KT="__previous_value__",QT="__local_write_time__";function Jg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GT])===null||n===void 0?void 0:n.stringValue)===qT}function uh(t){const e=t.mapValue.fields[KT];return Jg(e)?uh(e):e}function Ol(t){const e=Vs(t.mapValue.fields[QT].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const pd="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||pd}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===pd}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="__type__",XT="__max__",ru={mapValue:{fields:{__type__:{stringValue:XT}}}},JT="__vector__",md="value";function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jg(t)?4:J5(t)?9007199254740991:X5(t)?10:11:ne(28295,{value:t})}function or(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ol(t).isEqual(Ol(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Vs(s.timestampValue),a=Vs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Fs(s.bytesValue).isEqual(Fs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return qe(s.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(s.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qe(s.integerValue)===qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=qe(s.doubleValue),a=qe(i.doubleValue);return o===a?fd(o)===fd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Jx(o)!==Jx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!or(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function jl(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function zo(t,e){if(t===e)return 0;const n=Us(t),r=Us(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=qe(i.integerValue||i.doubleValue),l=qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(Ol(t),Ol(e));case 5:return cm(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Fs(i),l=Fs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=de(a[u],l[u]);if(d!==0)return d}return de(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=de(qe(i.latitude),qe(o.latitude));return a!==0?a:de(qe(i.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return t1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const p=i.fields||{},f=o.fields||{},v=(a=p[md])===null||a===void 0?void 0:a.arrayValue,_=(l=f[md])===null||l===void 0?void 0:l.arrayValue,x=de(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:t1(v,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ru.mapValue&&o===ru.mapValue)return 0;if(i===ru.mapValue)return 1;if(o===ru.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const f=cm(l[p],d[p]);if(f!==0)return f;const v=zo(a[l[p]],u[d[p]]);if(v!==0)return v}return de(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{Pe:n})}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Vs(t),r=Vs(e),s=de(n.seconds,r.seconds);return s!==0?s:de(n.nanos,r.nanos)}function t1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=zo(n[s],r[s]);if(i)return i}return de(n.length,r.length)}function Bo(t){return um(t)}function um(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=um(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${um(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function bu(t){switch(Us(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uh(t);return e?16+bu(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+bu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return qs(r.fields,(i,o)=>{s+=i.length+bu(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function n1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dm(t){return!!t&&"integerValue"in t}function Zg(t){return!!t&&"arrayValue"in t}function r1(t){return!!t&&"nullValue"in t}function s1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tu(t){return!!t&&"mapValue"in t}function X5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[YT])===null||n===void 0?void 0:n.stringValue)===JT}function nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function J5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===XT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(n)}setAll(e){let n=ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=nl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Tu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){qs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ht(nl(this.value))}}function ZT(t){const e=[];return qs(t.fields,(n,r)=>{const s=new ft([n]);if(Tu(r)){const i=ZT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,oe.min(),oe.min(),oe.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,oe.min(),oe.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,oe.min(),oe.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n){this.position=e,this.inclusive=n}}function i1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=zo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function o1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Z5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{}class Je extends e2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new t9(e,n,r):n==="array-contains"?new s9(e,r):n==="in"?new i9(e,r):n==="not-in"?new o9(e,r):n==="array-contains-any"?new a9(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new n9(e,r):new r9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends e2{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Fn(e,n)}matches(e){return t2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function t2(t){return t.op==="and"}function n2(t){return e9(t)&&t2(t)}function e9(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function hm(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(n2(t))return t.filters.map(e=>hm(e)).join(",");{const e=t.filters.map(n=>hm(n)).join(",");return`${t.op}(${e})`}}function r2(t,e){return t instanceof Je?function(r,s){return s instanceof Je&&r.op===s.op&&r.field.isEqual(s.field)&&or(r.value,s.value)}(t,e):t instanceof Fn?function(r,s){return s instanceof Fn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&r2(o,s.filters[a]),!0):!1}(t,e):void ne(19439)}function s2(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(s2).join(" ,")+"}"}(t):"Filter"}class t9 extends Je{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class n9 extends Je{constructor(e,n){super(e,"in",n),this.keys=i2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class r9 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=i2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function i2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class s9 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zg(n)&&jl(n.arrayValue,this.value)}}class i9 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class o9 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class a9 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function a1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new l9(t,e,n,r,s,i,o)}function e0(t){const e=ae(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),e.Ie=n}return e.Ie}function t0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!r2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o1(t.startAt,e.startAt)&&o1(t.endAt,e.endAt)}function fm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function c9(t,e,n,r,s,i,o,a){return new ic(t,e,n,r,s,i,o,a)}function dh(t){return new ic(t)}function l1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function o2(t){return t.collectionGroup!==null}function rl(t){const e=ae(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new st(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new yd(i,r))}),n.has(ft.keyField().canonicalString())||e.Ee.push(new yd(ft.keyField(),r))}return e.Ee}function tr(t){const e=ae(t);return e.de||(e.de=u9(e,rl(t))),e.de}function u9(t,e){if(t.limitType==="F")return a1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new yd(s.field,i)});const n=t.endAt?new gd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gd(t.startAt.position,t.startAt.inclusive):null;return a1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pm(t,e){const n=t.filters.concat([e]);return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mm(t,e,n){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return t0(tr(t),tr(e))&&t.limitType===e.limitType}function a2(t){return`${e0(tr(t))}|lt:${t.limitType}`}function Bi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>s2(s)).join(", ")}]`),ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Bo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Bo(s)).join(",")),`Target(${r})`}(tr(t))}; limitType=${t.limitType})`}function fh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of rl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=i1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,rl(r),s)||r.endAt&&!function(o,a,l){const u=i1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,rl(r),s))}(t,e)}function d9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l2(t){return(e,n)=>{let r=!1;for(const s of rl(t)){const i=h9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function h9(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?zo(l,u):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return HT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=new Ue(ee.comparator);function Or(){return f9}const c2=new Ue(ee.comparator);function za(...t){let e=c2;for(const n of t)e=e.insert(n.key,n);return e}function u2(t){let e=c2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ai(){return sl()}function d2(){return sl()}function sl(){return new ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const p9=new Ue(ee.comparator),m9=new st(ee.comparator);function pe(...t){let e=m9;for(const n of t)e=e.add(n);return e}const g9=new st(de);function y9(){return g9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(e)?"-0":e}}function h2(t){return{integerValue:""+t}}function v9(t,e){return q5(e)?h2(e):n0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function x9(t,e,n){return t instanceof Ml?function(s,i){const o={fields:{[GT]:{stringValue:qT},[QT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Jg(i)&&(i=uh(i)),i&&(o.fields[KT]=i),{mapValue:o}}(n,e):t instanceof Ll?p2(t,e):t instanceof Vl?m2(t,e):function(s,i){const o=f2(s,i),a=c1(o)+c1(s.Re);return dm(o)&&dm(s.Re)?h2(a):n0(s.serializer,a)}(t,e)}function w9(t,e,n){return t instanceof Ll?p2(t,e):t instanceof Vl?m2(t,e):n}function f2(t,e){return t instanceof vd?function(r){return dm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ml extends ph{}class Ll extends ph{constructor(e){super(),this.elements=e}}function p2(t,e){const n=g2(e);for(const r of t.elements)n.some(s=>or(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vl extends ph{constructor(e){super(),this.elements=e}}function m2(t,e){let n=g2(e);for(const r of t.elements)n=n.filter(s=>!or(s,r));return{arrayValue:{values:n}}}class vd extends ph{constructor(e,n){super(),this.serializer=e,this.Re=n}}function c1(t){return qe(t.integerValue||t.doubleValue)}function g2(t){return Zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n){this.field=e,this.transform=n}}function E9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ll&&s instanceof Ll||r instanceof Vl&&s instanceof Vl?$o(r.elements,s.elements,or):r instanceof vd&&s instanceof vd?or(r.Re,s.Re):r instanceof Ml&&s instanceof Ml}(t.transform,e.transform)}class b9{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mh{}function y2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new r0(t.key,vn.none()):new oc(t.key,t.data,vn.none());{const n=t.data,r=Ht.empty();let s=new st(ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Gs(t.key,r,new on(s.toArray()),vn.none())}}function T9(t,e,n){t instanceof oc?function(s,i,o){const a=s.value.clone(),l=d1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gs?function(s,i,o){if(!Iu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=d1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(v2(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof oc?function(i,o,a,l){if(!Iu(i.precondition,o))return a;const u=i.value.clone(),d=h1(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gs?function(i,o,a,l){if(!Iu(i.precondition,o))return a;const u=h1(i.fieldTransforms,l,o),d=o.data;return d.setAll(v2(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Iu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function I9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=f2(r.transform,s||null);i!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,i))}return n||null}function u1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$o(r,s,(i,o)=>E9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class oc extends mh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gs extends mh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function v2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d1(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,w9(o,a,n[s]))}return r}function h1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,x9(i,o,e))}return r}class r0 extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S9 extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&T9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=d2();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=y2(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(n,r)=>u1(n,r))&&$o(this.baseMutations,e.baseMutations,(n,r)=>u1(n,r))}}class s0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_e(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return p9}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new s0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,me;function P9(t){switch(t){case $.OK:return ne(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function x2(t){if(t===void 0)return kr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ye.OK:return $.OK;case Ye.CANCELLED:return $.CANCELLED;case Ye.UNKNOWN:return $.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return $.INTERNAL;case Ye.UNAVAILABLE:return $.UNAVAILABLE;case Ye.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ye.NOT_FOUND:return $.NOT_FOUND;case Ye.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ye.ABORTED:return $.ABORTED;case Ye.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ye.DATA_LOSS:return $.DATA_LOSS;default:return ne(39323,{code:t})}}(me=Ye||(Ye={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=new Cs([4294967295,4294967295],0);function f1(t){const e=$T().encode(t),n=new OT;return n.update(e),new Uint8Array(n.digest())}function p1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Cs([n,r],0),new Cs([s,i],0)]}class i0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ba(`Invalid padding: ${n}`);if(r<0)throw new Ba(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ba(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ba(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Cs.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Cs.fromNumber(r)));return s.compare(N9)===1&&(s=new Cs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=f1(e),[r,s]=p1(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new i0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=f1(e),[r,s]=p1(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gh(oe.min(),s,new Ue(de),Or(),pe())}}class ac{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ac(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class w2{constructor(e,n){this.targetId=e,this.Ce=n}}class _2{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class m1{constructor(){this.Fe=0,this.Me=g1(),this.xe=gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),n=pe(),r=pe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new ac(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=g1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,_e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class k9{constructor(e){this.ze=e,this.je=new Map,this.He=Or(),this.Je=su(),this.Ye=su(),this.Ze=new Ue(de)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(fm(i))if(r===0){const o=new ee(i.path);this.tt(n,o,At.newNoDocument(o,oe.min()))}else _e(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Fs(r).toUint8Array()}catch(l){if(l instanceof WT)return Uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new i0(o,s,i)}catch(l){return Uo(l instanceof Ba?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&fm(a.target)){const l=new ee(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,At.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=pe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new gh(e,n,this.Ze,this.He,r);return this.He=Or(),this.Je=su(),this.Ye=su(),this.Ze=new Ue(de),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new m1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new st(de),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new st(de),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new m1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function su(){return new Ue(ee.comparator)}function g1(){return new Ue(ee.comparator)}const O9={asc:"ASCENDING",desc:"DESCENDING"},D9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j9={and:"AND",or:"OR"};class M9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gm(t,e){return t.useProto3Json||ch(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L9(t,e){return xd(t,e.toTimestamp())}function nr(t){return _e(!!t,49232),oe.fromTimestamp(function(n){const r=Vs(n);return new rt(r.seconds,r.nanos)}(t))}function o0(t,e){return ym(t,e).canonicalString()}function ym(t,e){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function b2(t){const e=Oe.fromString(t);return _e(A2(e),10190,{key:e.toString()}),e}function vm(t,e){return o0(t.databaseId,e.path)}function Ff(t,e){const n=b2(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(I2(n))}function T2(t,e){return o0(t.databaseId,e)}function V9(t){const e=b2(t);return e.length===4?Oe.emptyPath():I2(e)}function xm(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I2(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function y1(t,e,n){return{name:vm(t,e),fields:n.value.mapValue.fields}}function F9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(_e(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(_e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:x2(u.code);return new Y(d,u.message||"")}(o);n=new _2(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ff(t,r.document.name),i=nr(r.document.updateTime),o=r.document.createTime?nr(r.document.createTime):oe.min(),a=new Ht({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Su(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ff(t,r.document),i=r.readTime?nr(r.readTime):oe.min(),o=At.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Su([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ff(t,r.document),i=r.removedTargetIds||[];n=new Su([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new R9(s,i),a=r.targetId;n=new w2(a,o)}}return n}function U9(t,e){let n;if(e instanceof oc)n={update:y1(t,e.key,e.value)};else if(e instanceof r0)n={delete:vm(t,e.key)};else if(e instanceof Gs)n={update:y1(t,e.key,e.data),updateMask:Q9(e.fieldMask)};else{if(!(e instanceof S9))return ne(16599,{ft:e.type});n={verify:vm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:L9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function $9(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?nr(s.updateTime):nr(i);return o.isEqual(oe.min())&&(o=nr(i)),new b9(o,s.transformResults||[])}(n,e))):[]}function z9(t,e){return{documents:[T2(t,e.path)]}}function B9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=T2(t,s);const i=function(u){if(u.length!==0)return C2(Fn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Hi(f.field),direction:q9(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function H9(t){let e=V9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_e(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const f=S2(p);return f instanceof Fn&&n2(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(_){return new yd(Wi(_.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,ch(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(p){const f=!!p.before,v=p.values||[];return new gd(v,f)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const f=!p.before,v=p.values||[];return new gd(v,f)}(n.endAt)),c9(e,s,o,i,a,"F",l,u)}function W9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function S2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wi(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wi(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wi(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wi(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Wi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>S2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function q9(t){return O9[t]}function G9(t){return D9[t]}function K9(t){return j9[t]}function Hi(t){return{fieldPath:t.canonicalString()}}function Wi(t){return ft.fromServerFormat(t.fieldPath)}function C2(t){return t instanceof Je?function(n){if(n.op==="=="){if(s1(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NAN"}};if(r1(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s1(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NOT_NAN"}};if(r1(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hi(n.field),op:G9(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(s=>C2(s));return r.length===1?r[0]:{compositeFilter:{op:K9(n.op),filters:r}}}(t):ne(54877,{filter:t})}function Q9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function A2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.wt=e}}function X9(t){const e=H9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(){this.Cn=new Z9}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Ls.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class Z9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new st(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new st(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R2=41943040;class zt{static withCacheSize(e){return new zt(e,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(R2,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ho(0)}static lr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="LruGarbageCollector",eO=1048576;function w1([t,e],[n,r]){const s=de(t,n);return s===0?de(e,r):s}class tO{constructor(e){this.Er=e,this.buffer=new st(w1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();w1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(x1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oa(n)?G(x1,"Ignoring IndexedDB error during garbage collection: ",n):await ia(n)}await this.mr(3e5)})}}class rO{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(lh.le);const r=new tO(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(v1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v1):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),zi()<=fe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function sO(t,e){return new rO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.changes=new ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&il(r.mutation,s,on.empty(),rt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=za();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Or();const o=sl(),a=function(){return sl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Gs)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),il(d.mutation,u,d.mutation.getFieldMask(),rt.now())):o.set(u.key,on.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new oO(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=sl();let s=new Ue((o,a)=>o-a),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||on.empty();d=a.applyToLocalView(u,d),r.set(l,d);const p=(s.get(a.batchId)||pe()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,p=d2();d.forEach(f=>{if(!i.has(f)){const v=y2(n.get(f),r.get(f));v!==null&&p.set(f,v),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):o2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(ai());let a=kl,l=i;return o.next(u=>F.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,pe())).next(d=>({batchId:a,changes:u2(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=za();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=za();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,l=>{const u=function(p,f){return new ic(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,At.newInvalidDocument(d)))});let a=za();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&il(d.mutation,u,on.empty(),rt.now()),fh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nr(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:X9(s.bundledQuery),readTime:nr(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.overlays=new Ue(ee.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ai();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=ai(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=ai(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ai(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return F.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new A9(n,r));let i=this.Qr.get(n);i===void 0&&(i=pe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.$r=new st(it.Ur),this.Kr=new st(it.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new it(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new it(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ee(new Oe([])),r=new it(n,e),s=new it(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ee(new Oe([])),r=new it(n,e),s=new it(n,e+1);let i=pe();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new it(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ee.comparator(e.key,n.key)||de(e.Zr,n.Zr)}static Wr(e,n){return de(e.Zr,n.Zr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new st(it.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new C9(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new it(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Xg:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),s=new it(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(de);return n.forEach(s=>{const i=new it(s,0),o=new it(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new it(new ee(i),0);let a=new st(de);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){_e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,s=>{const i=new it(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new it(n,0),s=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.ii=e,this.docs=function(){return new Ue(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=Or();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Or();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||z5($5(d),r)<=0||(s.has(d.key)||fh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fO(this)}getSize(e){return F.resolve(this.size)}}class fO extends iO{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.persistence=e,this.oi=new ki(n=>e0(n),t0),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this._i=0,this.ai=new a0,this.targetCount=0,this.ui=Ho.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.ci={},this.overlays={},this.li=new lh(0),this.hi=!1,this.hi=!0,this.Pi=new uO,this.referenceDelegate=e(this),this.Ti=new pO(this),this.indexManager=new J9,this.remoteDocumentCache=function(s){return new hO(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Y9(n),this.Ei=new lO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new dO(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new mO(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class mO extends H5{constructor(e){super(),this.currentSequenceNumber=e}}class l0{constructor(e){this.persistence=e,this.Vi=new a0,this.mi=null}static fi(e){return new l0(e)}get gi(){if(this.mi)return this.mi;throw ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const s=ee.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class wd{constructor(e,n){this.persistence=e,this.yi=new ki(r=>G5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=sO(this,n)}static fi(e,n){return new wd(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bu(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new c0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return f3()?8:W5(Nt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new gO;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(zi()<=fe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(zi()<=fe.DEBUG&&G("QueryEngine","Query:",Bi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(zi()<=fe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):F.resolve())}ws(e,n){if(l1(n))return F.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=mm(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,mm(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,s){return l1(n)||s.isEqual(oe.min())?F.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(zi()<=fe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bi(n)),this.Fs(e,o,n,U5(s,kl)).next(a=>a))})}vs(e,n){let r=new st(l2(e));return n.forEach((s,i)=>{fh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return zi()<=fe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Bi(n)),this.ys.getDocumentsMatchingQuery(e,n,Ls.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="LocalStore",vO=3e8;class xO{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Ue(de),this.Os=new ki(i=>e0(i),t0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function wO(t,e,n,r){return new xO(t,e,n,r)}async function N2(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=pe();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function _O(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const p=u.batch,f=p.keys();let v=F.resolve();return f.forEach(_=>{v=v.next(()=>d.getEntry(l,_)).next(x=>{const E=u.docVersions.get(_);_e(E!==null,48541),x.version.compareTo(E)<0&&(p.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function k2(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function EO(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,p)=>{const f=s.get(p);if(!f)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,p)));let v=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(gt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(p,v),function(x,E,w){return x.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=vO?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,v,d)&&a.push(n.Ti.updateTargetData(i,v))});let l=Or(),u=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(bO(i,o,e.documentUpdates).next(d=>{l=d.qs,u=d.Qs})),!r.isEqual(oe.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.xs=s,i))}function bO(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Or();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(u0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function TO(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IO(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function wm(t,e,n){const r=ae(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!oa(o))throw o;G(u0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function _1(t,e,n){const r=ae(t);let s=oe.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const p=ae(l),f=p.Os.get(d);return f!==void 0?F.resolve(p.xs.get(f)):p.Ti.getTargetData(u,d)}(r,o,tr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:pe())).next(a=>(SO(r,d9(e),a),{documents:a,$s:i})))}function SO(t,e,n){let r=t.Ns.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class E1{constructor(){this.activeTargetIds=y9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CO{constructor(){this.xo=new E1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new E1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="ConnectivityMonitor";class T1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G(b1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){G(b1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu=null;function _m(){return iu===null?iu=function(){return 268435456+Math.round(2147483648*Math.random())}():iu++,"0x"+iu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RestConnection",RO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===pd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=_m(),a=this.jo(e,n.toUriEncodedString());G(Uf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:u}=new URL(a),d=nc(u);return this.Jo(e,a,l,r,d).then(p=>(G(Uf,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Uo(Uf,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=RO[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class kO extends PO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=_m();return new Promise((a,l)=>{const u=new DT;u.setWithCredentials(!0),u.listenOnce(jT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Eu.NO_ERROR:const p=u.getResponseJson();G(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Eu.TIMEOUT:G(Tt,`RPC '${e}' ${o} timed out`),l(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case Eu.HTTP_ERROR:const f=u.getStatus();if(G(Tt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v==null?void 0:v.error;if(_&&_.status&&_.message){const x=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(y)>=0?y:$.UNKNOWN}(_.status);l(new Y(x,_.message))}else l(new Y($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y($.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(Tt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(Tt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=_m(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VT(),a=LT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");G(Tt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);let f=!1,v=!1;const _=new NO({Zo:E=>{v?G(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(G(Tt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),G(Tt,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},Xo:()=>p.close()}),x=(E,w,y)=>{E.listen(w,b=>{try{y(b)}catch(P){setTimeout(()=>{throw P},0)}})};return x(p,$a.EventType.OPEN,()=>{v||(G(Tt,`RPC '${e}' stream ${s} transport opened.`),_.__())}),x(p,$a.EventType.CLOSE,()=>{v||(v=!0,G(Tt,`RPC '${e}' stream ${s} transport closed`),_.u_())}),x(p,$a.EventType.ERROR,E=>{v||(v=!0,Uo(Tt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),_.u_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),x(p,$a.EventType.MESSAGE,E=>{var w;if(!v){const y=E.data[0];_e(!!y,16349);const b=y,P=(b==null?void 0:b.error)||((w=b[0])===null||w===void 0?void 0:w.error);if(P){G(Tt,`RPC '${e}' stream ${s} received error:`,P);const D=P.status;let j=function(A){const R=Ye[A];if(R!==void 0)return x2(R)}(D),C=P.message;j===void 0&&(j=$.INTERNAL,C="Unknown error status: "+D+" with message "+P.message),v=!0,_.u_(new Y(j,C)),p.close()}else G(Tt,`RPC '${e}' stream ${s} received:`,y),_.c_(y)}}),x(a,MT.STAT_EVENT,E=>{E.stat===lm.PROXY?G(Tt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===lm.NOPROXY&&G(Tt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}}function $f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){return new M9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="PersistentStream";class D2{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new O2(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return G(I1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(G(I1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OO extends D2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=F9(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?nr(o.readTime):oe.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=xm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=fm(l)?{documents:z9(i,l)}:{query:B9(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=E2(i,o.resumeToken);const u=gm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=xd(i,o.snapshotVersion.toTimestamp());const u=gm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=W9(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=xm(this.serializer),n.removeTarget=e,this.L_(n)}}class DO extends D2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=$9(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=xm(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>U9(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{}class MO extends jO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,ym(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,ym(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class LO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(kr(n),this.oa=!1):G("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="RemoteStore";class VO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Oi(this)&&(G(Ti,"Restarting streams for network reachability change."),await async function(l){const u=ae(l);u.Ta.add(4),await lc(u),u.da.set("Unknown"),u.Ta.delete(4),await vh(u)}(this))})}),this.da=new LO(r,s)}}async function vh(t){if(Oi(t))for(const e of t.Ia)await e(!0)}async function lc(t){for(const e of t.Ia)await e(!1)}function j2(t,e){const n=ae(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),p0(n)?f0(n):aa(n).M_()&&h0(n,e))}function d0(t,e){const n=ae(t),r=aa(n);n.Pa.delete(e),r.M_()&&M2(n,e),n.Pa.size===0&&(r.M_()?r.N_():Oi(n)&&n.da.set("Unknown"))}function h0(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).H_(e)}function M2(t,e){t.Aa.Ke(e),aa(t).J_(e)}function f0(t){t.Aa=new k9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.da._a()}function p0(t){return Oi(t)&&!aa(t).F_()&&t.Pa.size>0}function Oi(t){return ae(t).Ta.size===0}function L2(t){t.Aa=void 0}async function FO(t){t.da.set("Online")}async function UO(t){t.Pa.forEach((e,n)=>{h0(t,e)})}async function $O(t,e){L2(t),p0(t)?(t.da.ca(e),f0(t)):t.da.set("Unknown")}async function zO(t,e,n){if(t.da.set("Online"),e instanceof _2&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){G(Ti,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _d(t,r)}else if(e instanceof Su?t.Aa.Xe(e):e instanceof w2?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(oe.min()))try{const r=await k2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Pa.get(u);d&&i.Pa.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Pa.get(l);if(!d)return;i.Pa.set(l,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),M2(i,l);const p=new ps(d.target,l,u,d.sequenceNumber);h0(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(Ti,"Failed to raise snapshot:",r),await _d(t,r)}}async function _d(t,e,n){if(!oa(e))throw e;t.Ta.add(1),await lc(t),t.da.set("Offline"),n||(n=()=>k2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Ti,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await vh(t)})}function V2(t,e){return e().catch(n=>_d(t,n,e))}async function xh(t){const e=ae(t),n=$s(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Xg;for(;BO(e);)try{const s=await TO(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,HO(e,s)}catch(s){await _d(e,s)}F2(e)&&U2(e)}function BO(t){return Oi(t)&&t.ha.length<10}function HO(t,e){t.ha.push(e);const n=$s(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function F2(t){return Oi(t)&&!$s(t).F_()&&t.ha.length>0}function U2(t){$s(t).start()}async function WO(t){$s(t).ta()}async function qO(t){const e=$s(t);for(const n of t.ha)e.Z_(n.mutations)}async function GO(t,e,n){const r=t.ha.shift(),s=s0.from(r,e,n);await V2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xh(t)}async function KO(t,e){e&&$s(t).Y_&&await async function(r,s){if(function(o){return P9(o)&&o!==$.ABORTED}(s.code)){const i=r.ha.shift();$s(r).O_(),await V2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await xh(r)}}(t,e),F2(t)&&U2(t)}async function S1(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G(Ti,"RemoteStore received new credentials");const r=Oi(n);n.Ta.add(3),await lc(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await vh(n)}async function QO(t,e){const n=ae(t);e?(n.Ta.delete(2),await vh(n)):e||(n.Ta.add(2),await lc(n),n.da.set("Unknown"))}function aa(t){return t.Ra||(t.Ra=function(n,r,s){const i=ae(n);return i.ra(),new OO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:FO.bind(null,t),n_:UO.bind(null,t),i_:$O.bind(null,t),j_:zO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),p0(t)?f0(t):t.da.set("Unknown")):(await t.Ra.stop(),L2(t))})),t.Ra}function $s(t){return t.Va||(t.Va=function(n,r,s){const i=ae(n);return i.ra(),new DO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:WO.bind(null,t),i_:KO.bind(null,t),X_:qO.bind(null,t),ea:GO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await xh(t)):(await t.Va.stop(),t.ha.length>0&&(G(Ti,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new m0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g0(t,e){if(kr("AsyncQueue",`${e}: ${t}`),oa(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=za(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.ma=new Ue(ee.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ne(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wo{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wo(e,n,go.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class XO{constructor(){this.queries=A1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=A1(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function A1(){return new ki(t=>a2(t),hh)}async function y0(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new YO,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=g0(o,`Initialization of query '${Bi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&x0(n)}async function v0(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JO(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&x0(n)}function ZO(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function x0(t){t.ba.forEach(e=>{e.next()})}var Em,R1;(R1=Em||(Em={})).Ca="default",R1.Cache="cache";class w0{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.key=e}}class z2{constructor(e){this.key=e}}class eD{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=pe(),this.mutatedKeys=pe(),this.Ha=l2(e),this.Ja=new go(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new C1,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const f=s.get(d),v=fh(this.query,p)?p:null,_=!!f&&this.mutatedKeys.has(f.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;f&&v?f.data.isEqual(v.data)?_!==x&&(r.track({type:3,doc:v}),E=!0):this.eu(f,v)||(r.track({type:2,doc:v}),E=!0,(l&&this.Ha(v,l)>0||u&&this.Ha(v,u)<0)&&(a=!0)):!f&&v?(r.track({type:0,doc:v}),E=!0):f&&!v&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(v?(o=o.add(v),i=x?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,p)=>function(v,_){const x=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Vt:E})}};return x(v)-x(_)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new Wo(this.query,e.Ja,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new C1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=pe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new z2(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new $2(r))}),n}su(e){this.Ga=e.$s,this.ja=pe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Wo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const _0="SyncEngine";class tD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nD{constructor(e){this.key=e,this._u=!1}}class rD{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new ki(a=>a2(a),hh),this.cu=new Map,this.lu=new Set,this.hu=new Ue(ee.comparator),this.Pu=new Map,this.Tu=new a0,this.Iu={},this.Eu=new Map,this.du=Ho.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function sD(t,e,n=!0){const r=K2(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await B2(r,e,n,!0),s}async function iD(t,e){const n=K2(t);await B2(n,e,!0,!1)}async function B2(t,e,n,r){const s=await IO(t.localStore,tr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await oD(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&j2(t.remoteStore,s),a}async function oD(t,e,n,r,s){t.Ru=(p,f,v)=>async function(x,E,w,y){let b=E.view.Za(w);b.Cs&&(b=await _1(x.localStore,E.query,!1).then(({documents:C})=>E.view.Za(C,b)));const P=y&&y.targetChanges.get(E.targetId),D=y&&y.targetMismatches.get(E.targetId)!=null,j=E.view.applyChanges(b,x.isPrimaryClient,P,D);return N1(x,E.targetId,j.ru),j.snapshot}(t,p,f,v);const i=await _1(t.localStore,e,!0),o=new eD(e,i.$s),a=o.Za(i.documents),l=ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);N1(t,n,u.ru);const d=new tD(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function aD(t,e,n){const r=ae(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!hh(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await wm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&d0(r.remoteStore,s.targetId),bm(r,s.targetId)}).catch(ia)):(bm(r,s.targetId),await wm(r.localStore,s.targetId,!0))}async function lD(t,e){const n=ae(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),d0(n.remoteStore,r.targetId))}async function cD(t,e,n){const r=gD(t);try{const s=await function(o,a){const l=ae(o),u=rt.now(),d=a.reduce((v,_)=>v.add(_.key),pe());let p,f;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let _=Or(),x=pe();return l.Bs.getEntries(v,d).next(E=>{_=E,_.forEach((w,y)=>{y.isValidDocument()||(x=x.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,_)).next(E=>{p=E;const w=[];for(const y of a){const b=I9(y,p.get(y.key).overlayedDocument);b!=null&&w.push(new Gs(y.key,b,ZT(b.value.mapValue),vn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,w,a)}).next(E=>{f=E;const w=E.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(v,E.batchId,w)})}).then(()=>({batchId:f.batchId,changes:u2(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new Ue(de)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,s.batchId,n),await cc(r,s.changes),await xh(r.remoteStore)}catch(s){const i=g0(s,"Failed to persist write");n.reject(i)}}async function H2(t,e){const n=ae(t);try{const r=await EO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?_e(o._u,14607):s.removedDocuments.size>0&&(_e(o._u,42227),o._u=!1))}),await cc(n,r,e)}catch(r){await ia(r)}}function P1(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let u=!1;l.queries.forEach((d,p)=>{for(const f of p.ya)f.Da(a)&&(u=!0)}),u&&x0(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uD(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new Ue(ee.comparator);o=o.insert(i,At.newNoDocument(i,oe.min()));const a=pe().add(i),l=new gh(oe.min(),new Map,new Ue(de),o,a);await H2(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),E0(r)}else await wm(r.localStore,e,!1).then(()=>bm(r,e,n)).catch(ia)}async function dD(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await _O(n.localStore,e);q2(n,r,null),W2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cc(n,s)}catch(s){await ia(s)}}async function hD(t,e,n){const r=ae(t);try{const s=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(_e(p!==null,37113),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);q2(r,e,n),W2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cc(r,s)}catch(s){await ia(s)}}function W2(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function q2(t,e,n){const r=ae(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function bm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||G2(t,r)})}function G2(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(d0(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),E0(t))}function N1(t,e,n){for(const r of n)r instanceof $2?(t.Tu.addReference(r.key,e),fD(t,r)):r instanceof z2?(G(_0,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||G2(t,r.key)):ne(19791,{mu:r})}function fD(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(G(_0,"New document in limbo: "+n),t.lu.add(r),E0(t))}function E0(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ee(Oe.fromString(e)),r=t.du.next();t.Pu.set(r,new nD(n)),t.hu=t.hu.insert(n,r),j2(t.remoteStore,new ps(tr(dh(n.path)),r,"TargetPurposeLimboResolution",lh.le))}}async function cc(t,e,n){const r=ae(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){s.push(u);const p=c0.Rs(l.targetId,u);i.push(p)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,u){const d=ae(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(u,f=>F.forEach(f.ds,v=>d.persistence.referenceDelegate.addReference(p,f.targetId,v)).next(()=>F.forEach(f.As,v=>d.persistence.referenceDelegate.removeReference(p,f.targetId,v)))))}catch(p){if(!oa(p))throw p;G(u0,"Failed to update sequence numbers: "+p)}for(const p of u){const f=p.targetId;if(!p.fromCache){const v=d.xs.get(f),_=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(_);d.xs=d.xs.insert(f,x)}}}(r.localStore,i))}async function pD(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G(_0,"User change. New user:",e.toKey());const r=await N2(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new Y($.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cc(n,r.ks)}}function mD(t,e){const n=ae(t),r=n.Pu.get(e);if(r&&r._u)return pe().add(r.key);{let s=pe();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function K2(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=H2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uD.bind(null,e),e.au.j_=JO.bind(null,e.eventManager),e.au.Vu=ZO.bind(null,e.eventManager),e}function gD(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hD.bind(null,e),e}class Ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return wO(this.persistence,new yO,e.initialUser,this.serializer)}yu(e){return new P2(l0.fi,this.serializer)}pu(e){return new CO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ed.provider={build:()=>new Ed};class yD extends Ed{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){_e(this.persistence.referenceDelegate instanceof wd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nO(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new P2(r=>wd.fi(r,n),this.serializer)}}class Tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pD.bind(null,this.syncEngine),await QO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XO}()}createDatastore(e){const n=yh(e.databaseInfo.databaseId),r=function(i){return new kO(i)}(e.databaseInfo);return function(i,o,a,l){return new MO(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new VO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>P1(this.syncEngine,n,0),function(){return T1.C()?new T1:new AO}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const p=new rD(s,i,o,a,l,u);return d&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);G(Ti,"RemoteStore shutting down."),i.Ta.add(5),await lc(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="FirestoreClient";class vD{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=zT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(zs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(zs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=g0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zf(t,e){t.asyncQueue.verifyOperationInProgress(),G(zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await N2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function k1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xD(t);G(zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>S1(e.remoteStore,s)),t._onlineComponents=e}async function xD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(zs,"Using user provided OfflineComponentProvider");try{await zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await zf(t,new Ed)}}else G(zs,"Using default OfflineComponentProvider"),await zf(t,new yD(void 0));return t._offlineComponents}async function Q2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(zs,"Using user provided OnlineComponentProvider"),await k1(t,t._uninitializedComponentsProvider._online)):(G(zs,"Using default OnlineComponentProvider"),await k1(t,new Tm))),t._onlineComponents}function wD(t){return Q2(t).then(e=>e.syncEngine)}async function bd(t){const e=await Q2(t),n=e.eventManager;return n.onListen=sD.bind(null,e.syncEngine),n.onUnlisten=aD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lD.bind(null,e.syncEngine),n}function _D(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new b0({next:f=>{d.Cu(),o.enqueueAndForget(()=>v0(i,p));const v=f.docs.has(a);!v&&f.fromCache?u.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&l&&l.source==="server"?u.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),p=new w0(dh(a.path),d,{includeMetadataChanges:!0,La:!0});return y0(i,p)}(await bd(t),t.asyncQueue,e,n,r)),r.promise}function ED(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new b0({next:f=>{d.Cu(),o.enqueueAndForget(()=>v0(i,p)),f.fromCache&&l.source==="server"?u.reject(new Y($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),p=new w0(a,d,{includeMetadataChanges:!0,La:!0});return y0(i,p)}(await bd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bD(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function D1(t){if(!ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j1(t){if(ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function Qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="firestore.googleapis.com",M1=!0;class L1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J2,this.ssl=M1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:M1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eO)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _h{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new N5;switch(r.type){case"firstParty":return new j5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=O1.get(n);r&&(G("ComponentProvider","Removing Datastore"),O1.delete(n),r.terminate())}(this),Promise.resolve()}}function TD(t,e,n,r={}){var s;t=Qt(t,_h);const i=nc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(IT(`https://${l}`),ST("Firestore",!0)),o.host!==J2&&o.host!==l&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!_i(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=St.MOCK_USER;else{d=s3(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new St(f)}t._authCredentials=new k5(new UT(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Di(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class As extends Di{constructor(e,n,r){super(e,n,dh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ee(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function pi(t,e,...n){if(t=kt(t),X2("collection","path",e),t instanceof _h){const r=Oe.fromString(e,...n);return j1(r),new As(t,null,r)}{if(!(t instanceof Rt||t instanceof As))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return j1(r),new As(t.firestore,null,r)}}function wr(t,e,...n){if(t=kt(t),arguments.length===1&&(e=zT.newId()),X2("doc","path",e),t instanceof _h){const r=Oe.fromString(e,...n);return D1(r),new Rt(t,null,new ee(r))}{if(!(t instanceof Rt||t instanceof As))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return D1(r),new Rt(t.firestore,t instanceof As?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="AsyncQueue";class F1{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new O2(this,"async_queue_retry"),this.ec=()=>{const r=$f();r&&G(V1,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=$f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=$f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Tr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!oa(e))throw e;G(V1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,kr("INTERNAL UNHANDLED ERROR: ",U1(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=m0.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&ne(47125,{_c:U1(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function U1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Dr extends _h{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new F1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F1(e),this._firestoreClient=void 0,await e}}}function ID(t,e){const n=typeof t=="object"?t:PT(),r=typeof t=="string"?t:pd,s=Qg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=n3("firestore");i&&TD(s,...i)}return s}function Eh(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SD(t),t._firestoreClient}function SD(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new Y5(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Y2(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new vD(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(gt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qo(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=/^__.*__$/;class AD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new oc(e,this.data,n,this.fieldTransforms)}}class Z2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{hc:t})}}class S0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new S0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Td(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(eI(this.hc)&&CD.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class RD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yh(e)}gc(e,n,r,s=!1){return new S0({hc:e,methodName:n,fc:r,path:ft.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(t){const e=t._freezeSettings(),n=yh(t._databaseId);return new RD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tI(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);A0("Data must be an object, but it was:",o,r);const a=nI(r,o);let l,u;if(i.merge)l=new on(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const f=Im(e,p,n);if(!o.contains(f))throw new Y($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);sI(d,f)||d.push(f)}l=new on(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new AD(new Ht(a),l,u)}class Sh extends Th{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sh}}class C0 extends Th{_toFieldTransform(e){return new _9(e.path,new Ml)}isEqual(e){return e instanceof C0}}function PD(t,e,n,r){const s=t.gc(1,e,n);A0("Data must be an object, but it was:",s,r);const i=[],o=Ht.empty();qs(r,(l,u)=>{const d=R0(e,l,n);u=kt(u);const p=s.Ac(d);if(u instanceof Sh)i.push(d);else{const f=uc(u,p);f!=null&&(i.push(d),o.set(d,f))}});const a=new on(i);return new Z2(o,a,s.fieldTransforms)}function ND(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[Im(e,r,n)],l=[s];if(i.length%2!=0)throw new Y($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Im(e,i[f])),l.push(i[f+1]);const u=[],d=Ht.empty();for(let f=a.length-1;f>=0;--f)if(!sI(u,a[f])){const v=a[f];let _=l[f];_=kt(_);const x=o.Ac(v);if(_ instanceof Sh)u.push(v);else{const E=uc(_,x);E!=null&&(u.push(v),d.set(v,E))}}const p=new on(u);return new Z2(d,p,o.fieldTransforms)}function kD(t,e,n,r=!1){return uc(n,t.gc(r?4:3,e))}function uc(t,e){if(rI(t=kt(t)))return A0("Unsupported field value:",e,t),nI(t,e);if(t instanceof Th)return function(r,s){if(!eI(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=uc(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=rt.fromDate(r);return{timestampValue:xd(s.serializer,i)}}if(r instanceof rt){const i=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(s.serializer,i)}}if(r instanceof T0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:E2(s.serializer,r._byteString)};if(r instanceof Rt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:o0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof I0)return function(o,a){return{mapValue:{fields:{[YT]:{stringValue:JT},[md]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return n0(a.serializer,u)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${wh(r)}`)}(t,e)}function nI(t,e){const n={};return HT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(t,(r,s)=>{const i=uc(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function rI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof T0||t instanceof qo||t instanceof Rt||t instanceof Th||t instanceof I0)}function A0(t,e,n){if(!rI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=wh(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function Im(t,e,n){if((e=kt(e))instanceof bh)return e._internalPath;if(typeof e=="string")return R0(t,e);throw Td("Field path arguments must be of type string or ",t,!1,void 0,n)}const OD=new RegExp("[~\\*/\\[\\]]");function R0(t,e,n){if(e.search(OD)>=0)throw Td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bh(...e.split("."))._internalPath}catch{throw Td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Td(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y($.INVALID_ARGUMENT,a+t+l)}function sI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(P0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DD extends iI{data(){return super.data()}}function P0(t,e){return typeof e=="string"?R0(t,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N0{}class jD extends N0{}function Ch(t,e,...n){let r=[];e instanceof N0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof k0).length,a=i.filter(l=>l instanceof Ah).length;if(o>1||o>0&&a>0)throw new Y($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ah extends jD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ah(e,n,r)}_apply(e){const n=this._parse(e);return aI(e._query,n),new Di(e.firestore,e.converter,pm(e._query,n))}_parse(e){const n=Ih(e.firestore);return function(i,o,a,l,u,d,p){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){B1(p,d);const _=[];for(const x of p)_.push(z1(l,i,x));f={arrayValue:{values:_}}}else f=z1(l,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||B1(p,d),f=kD(a,o,p,d==="in"||d==="not-in");return Je.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rh(t,e,n){const r=e,s=P0("where",t);return Ah._create(s,r,n)}class k0 extends N0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new k0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)aI(o,l),o=pm(o,l)}(e._query,n),new Di(e.firestore,e.converter,pm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function z1(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new Y($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o2(e)&&n.indexOf("/")!==-1)throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!ee.isDocumentKey(r))throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n1(t,new ee(r))}if(n instanceof Rt)return n1(t,n._key);throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function B1(t,e){if(!Array.isArray(t)||t.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MD{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[md].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>qe(o.doubleValue));return new I0(i)}convertGeoPoint(e){return new T0(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);_e(A2(r),9688,{name:e});const s=new Dl(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||kr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cI extends iI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(P0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cu extends cI{data(e={}){return super.data(e)}}class uI{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ha(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cu(this._firestore,this._userDataWriter,r.key,r,new Ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Cu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ha(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Cu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ha(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:LD(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){t=Qt(t,Rt);const e=Qt(t.firestore,Dr);return _D(Eh(e),t._key).then(n=>fI(e,t,n))}class O0 extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function yo(t){t=Qt(t,Di);const e=Qt(t.firestore,Dr),n=Eh(e),r=new O0(e);return oI(t._query),ED(n,t._query).then(s=>new uI(e,r,t,s))}function D0(t,e,n){t=Qt(t,Rt);const r=Qt(t.firestore,Dr),s=lI(t.converter,e,n);return Ph(r,[tI(Ih(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,vn.none())])}function hI(t,e,n,...r){t=Qt(t,Rt);const s=Qt(t.firestore,Dr),i=Ih(s);let o;return o=typeof(e=kt(e))=="string"||e instanceof bh?ND(i,"updateDoc",t._key,e,n,r):PD(i,"updateDoc",t._key,e),Ph(s,[o.toMutation(t._key,vn.exists(!0))])}function VD(t){return Ph(Qt(t.firestore,Dr),[new r0(t._key,vn.none())])}function FD(t,e){const n=Qt(t.firestore,Dr),r=wr(t),s=lI(t.converter,e);return Ph(n,[tI(Ih(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,vn.exists(!1))]).then(()=>r)}function UD(t,...e){var n,r,s;t=kt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||$1(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if($1(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let l,u,d;if(t instanceof Rt)u=Qt(t.firestore,Dr),d=dh(t._key.path),l={next:p=>{e[o]&&e[o](fI(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Qt(t,Di);u=Qt(p.firestore,Dr),d=p._query;const f=new O0(u);l={next:v=>{e[o]&&e[o](new uI(u,f,p,v))},error:e[o+1],complete:e[o+2]},oI(t._query)}return function(f,v,_,x){const E=new b0(x),w=new w0(v,E,_);return f.asyncQueue.enqueueAndForget(async()=>y0(await bd(f),w)),()=>{E.Cu(),f.asyncQueue.enqueueAndForget(async()=>v0(await bd(f),w))}}(Eh(u),d,a,l)}function Ph(t,e){return function(r,s){const i=new Tr;return r.asyncQueue.enqueueAndForget(async()=>cD(await wD(r),s,i)),i.promise}(Eh(t),e)}function fI(t,e,n){const r=n.docs.get(e._key),s=new O0(t);return new cI(t,s,e._key,r,new Ha(n.hasPendingWrites,n.fromCache),e.converter)}function $D(){return new C0("serverTimestamp")}(function(e,n=!0){(function(s){sa=s})(ra),Fo(new Ei("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Dr(new O5(r.getProvider("auth-internal")),new M5(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ss(Hx,Wx,e),Ss(Hx,Wx,"esm2017")})();var zD="firebase",BD="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(zD,BD,"app");function j0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function pI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HD=pI,mI=new rc("auth","Firebase",pI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new Gg("@firebase/auth");function WD(t,...e){Id.logLevel<=fe.WARN&&Id.warn(`Auth (${ra}): ${t}`,...e)}function Au(t,...e){Id.logLevel<=fe.ERROR&&Id.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw M0(t,...e)}function rr(t,...e){return M0(t,...e)}function gI(t,e,n){const r=Object.assign(Object.assign({},HD()),{[e]:n});return new rc("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return gI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mI.create(t,...e)}function re(t,e,...n){if(!t)throw M0(e,...n)}function _r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Au(e),new Error(e)}function Mr(t,e){t||_r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qD(){return H1()==="http:"||H1()==="https:"}function H1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qD()||u3()||"connection"in navigator)?navigator.onLine:!0}function KD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=a3()||d3()}get(){return GD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e){Mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XD=new dc(3e4,6e4);function hc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ji(t,e,n,r,s={}){return vI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=sc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return c3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&nc(t.emulatorConfig.host)&&(u.credentials="include"),yI.fetch()(await wI(t,t.config.apiHost,n,a),u)})}async function vI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QD),e);try{const s=new ZD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ou(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ou(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ou(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ou(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gI(t,d,u);jr(t,d)}}catch(s){if(s instanceof Vr)throw s;jr(t,"network-request-failed",{message:String(s)})}}async function xI(t,e,n,r,s={}){const i=await ji(t,e,n,r,s);return"mfaPendingCredential"in i&&jr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function wI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?L0(t.config,s):`${t.config.apiScheme}://${s}`;return YD.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function JD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),XD.get())})}}function ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=rr(t,e,r);return s.customData._tokenResponse=n,s}function W1(t){return t!==void 0&&t.enterprise!==void 0}class e8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function t8(t,e){return ji(t,"GET","/v2/recaptchaConfig",hc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t,e){return ji(t,"POST","/v1/accounts:delete",e)}async function Sd(t,e){return ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r8(t,e=!1){const n=kt(t),r=await n.getIdToken(e),s=V0(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ol(Bf(s.auth_time)),issuedAtTime:ol(Bf(s.iat)),expirationTime:ol(Bf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Bf(t){return Number(t)*1e3}function V0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Au("JWT malformed, contained fewer than 3 sections"),null;try{const s=_T(n);return s?JSON.parse(s):(Au("Failed to decode base64 JWT payload"),null)}catch(s){return Au("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function q1(t){const e=V0(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&s8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function s8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ol(this.lastLoginAt),this.creationTime=ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Fl(t,Sd(n,{idToken:r}));re(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?_I(i.providerUserInfo):[],a=a8(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Cm(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function o8(t){const e=kt(t);await Cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _I(t){return t.map(e=>{var{providerId:n}=e,r=j0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(t,e){const n=await vI(t,{},async()=>{const r=sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await wI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c8(t,e){return ji(t,"POST","/v2/accounts:revokeToken",hc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=q1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await l8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new vo;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=j0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r8(this,e)}reload(){return o8(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await Fl(this,n8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:P,isAnonymous:D,providerData:j,stsTokenManager:C}=n;re(b&&C,e,"internal-error");const T=vo.fromJSON(this.name,C);re(typeof b=="string",e,"internal-error"),Qr(p,e.name),Qr(f,e.name),re(typeof P=="boolean",e,"internal-error"),re(typeof D=="boolean",e,"internal-error"),Qr(v,e.name),Qr(_,e.name),Qr(x,e.name),Qr(E,e.name),Qr(w,e.name),Qr(y,e.name);const A=new Nn({uid:b,auth:e,email:f,emailVerified:P,displayName:p,isAnonymous:D,photoURL:_,phoneNumber:v,tenantId:x,stsTokenManager:T,createdAt:w,lastLoginAt:y});return j&&Array.isArray(j)&&(A.providerData=j.map(R=>Object.assign({},R))),E&&(A._redirectEventId=E),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new vo;s.updateFromServerResponse(n);const i=new Nn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?_I(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new vo;a.updateFromIdToken(r);const l=new Nn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Cm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map;function Er(t){Mr(t instanceof Function,"Expected a class definition");let e=G1.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EI.type="NONE";const K1=EI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t,e,n){return`firebase:${t}:${e}:${n}`}class xo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ru(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ru("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sd(this.auth,{idToken:e}).catch(()=>{});return n?Nn._fromGetAccountInfoResponse(this.auth,n,e):null}return Nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xo(Er(K1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Er(K1);const o=Ru(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let p;if(typeof d=="string"){const f=await Sd(e,{idToken:d}).catch(()=>{});if(!f)break;p=await Nn._fromGetAccountInfoResponse(e,f,d)}else p=Nn._fromJSON(e,d);u!==i&&(a=p),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new xo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new xo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AI(e))return"Blackberry";if(RI(e))return"Webos";if(TI(e))return"Safari";if((e.includes("chrome/")||II(e))&&!e.includes("edge/"))return"Chrome";if(CI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bI(t=Nt()){return/firefox\//i.test(t)}function TI(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function II(t=Nt()){return/crios\//i.test(t)}function SI(t=Nt()){return/iemobile/i.test(t)}function CI(t=Nt()){return/android/i.test(t)}function AI(t=Nt()){return/blackberry/i.test(t)}function RI(t=Nt()){return/webos/i.test(t)}function F0(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u8(t=Nt()){var e;return F0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d8(){return h3()&&document.documentMode===10}function PI(t=Nt()){return F0(t)||CI(t)||RI(t)||AI(t)||/windows phone/i.test(t)||SI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e=[]){let n;switch(t){case"Browser":n=Q1(Nt());break;case"Worker":n=`${Q1(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(t,e={}){return ji(t,"GET","/v2/passwordPolicy",hc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=6;class m8{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:p8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y1(this),this.idTokenSubscription=new Y1(this),this.beforeStateQueue=new h8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sd(this,{idToken:e}),r=await Nn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Rs(this));const n=e?kt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f8(this),n=new m8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await c8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Er(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function la(t){return kt(t)}class Y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=w3(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y8(t){Nh=t}function kI(t){return Nh.loadJS(t)}function v8(){return Nh.recaptchaEnterpriseScript}function x8(){return Nh.gapiScript}function w8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _8{constructor(){this.enterprise=new E8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class E8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const b8="recaptcha-enterprise",OI="NO_RECAPTCHA";class T8{constructor(e){this.type=b8,this.auth=la(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{t8(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new e8(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;W1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(OI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _8().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&W1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=v8();l.length!==0&&(l+=a),kI(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function X1(t,e,n,r=!1,s=!1){const i=new T8(t);let o;if(s)o=OI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function I8(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await X1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await X1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t,e){const n=Qg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(_i(i,e??{}))return s;jr(s,"already-initialized")}return n.initialize({options:e})}function C8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function A8(t,e,n){const r=la(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=DI(e),{host:o,port:a}=R8(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(_i(u,r.config.emulator)&&_i(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,nc(o)?(IT(`${i}//${o}${l}`),ST("Auth",!0)):P8()}function DI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R8(t){const e=DI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:J1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:J1(o)}}}function J1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function P8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,n){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e){return xI(t,"POST","/v1/accounts:signInWithIdp",hc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="http://localhost";class Ii extends jI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=j0(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ii(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:N8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends MI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends fc{constructor(){super("facebook.com")}static credential(e){return Ii._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ii._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends fc{constructor(){super("github.com")}static credential(e){return Ii._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends fc{constructor(){super("twitter.com")}static credential(e,n){return Ii._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k8(t,e){return xI(t,"POST","/v1/accounts:signUp",hc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Nn._fromIdTokenResponse(e,r,s),o=Z1(r);return new Si({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Z1(r);return new Si({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Z1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends Vr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ad.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ad(e,n,r,s)}}function LI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ad._fromErrorAndOperation(t,i,e,r):i})}async function O8(t,e,n=!1){const r=await Fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Si._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(t,e,n=!1){const{auth:r}=t;if(Pn(r.app))return Promise.reject(Rs(r));const s="reauthenticate";try{const i=await Fl(t,LI(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=V0(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Si._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(t,e,n=!1){if(Pn(t.app))return Promise.reject(Rs(t));const r="signIn",s=await LI(t,r,e),i=await Si._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(t){const e=la(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function L8(t,e,n){if(Pn(t.app))return Promise.reject(Rs(t));const r=la(t),o=await I8(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",k8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&M8(t),l}),a=await Si._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function V8(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function F8(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}const Rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=1e3,$8=10;class FI extends VI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);d8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},U8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FI.type="LOCAL";const z8=FI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends VI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UI.type="SESSION";const $I=UI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await B8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=U0("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function W8(t){sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function q8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function K8(){return zI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="firebaseLocalStorageDb",Q8=1,Pd="firebaseLocalStorage",HI="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function Y8(){const t=indexedDB.deleteDatabase(BI);return new pc(t).toPromise()}function Am(){const t=indexedDB.open(BI,Q8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pd,{keyPath:HI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await Y8(),e(await Am()))})})}async function ew(t,e,n){const r=Oh(t,!0).put({[HI]:e,value:n});return new pc(r).toPromise()}async function X8(t,e){const n=Oh(t,!1).get(e),r=await new pc(n).toPromise();return r===void 0?null:r.value}function tw(t,e){const n=Oh(t,!0).delete(e);return new pc(n).toPromise()}const J8=800,Z8=3;class WI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Z8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(K8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q8(),!this.activeServiceWorker)return;this.sender=new H8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await ew(e,Rd,"1"),await tw(e,Rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ew(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>X8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Oh(s,!1).getAll();return new pc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WI.type="LOCAL";const ej=WI;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){return e?Er(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends jI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nj(t){return j8(t.auth,new $0(t),t.bypassAuthState)}function rj(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),D8(n,new $0(t),t.bypassAuthState)}async function sj(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),O8(n,new $0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nj;case"linkViaPopup":case"linkViaRedirect":return sj;case"reauthViaPopup":case"reauthViaRedirect":return rj;default:jr(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new dc(2e3,1e4);class oo extends qI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=U0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ij.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="pendingRedirect",Pu=new Map;class aj extends qI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const r=await lj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lj(t,e){const n=dj(e),r=uj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function cj(t,e){Pu.set(t._key(),e)}function uj(t){return Er(t._redirectPersistence)}function dj(t){return Ru(oj,t.config.apiKey,t.name)}async function hj(t,e,n=!1){if(Pn(t.app))return Promise.reject(Rs(t));const r=la(t),s=tj(r,e),o=await new aj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=10*60*1e3;class pj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fj&&this.cachedEventUids.clear(),this.cachedEventUids.has(nw(e))}saveEventToCache(e){this.cachedEventUids.add(nw(e)),this.lastProcessedEventTime=Date.now()}}function nw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e={}){return ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vj=/^https?/;async function xj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gj(t);for(const n of e)try{if(wj(n))return}catch{}jr(t,"unauthorized-domain")}function wj(t){const e=Sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vj.test(n))return!1;if(yj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new dc(3e4,6e4);function rw(){const t=sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ej(t){return new Promise((e,n)=>{var r,s,i;function o(){rw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rw(),n(rr(t,"network-request-failed"))},timeout:_j.get()})}if(!((s=(r=sr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=sr().gapi)===null||i===void 0)&&i.load)o();else{const a=w8("iframefcb");return sr()[a]=()=>{gapi.load?o():n(rr(t,"network-request-failed"))},kI(`${x8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nu=null,e})}let Nu=null;function bj(t){return Nu=Nu||Ej(t),Nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new dc(5e3,15e3),Ij="__/auth/iframe",Sj="emulator/auth/iframe",Cj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rj(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?L0(e,Sj):`https://${t.config.authDomain}/${Ij}`,r={apiKey:e.apiKey,appName:t.name,v:ra},s=Aj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${sc(r).slice(1)}`}async function Pj(t){const e=await bj(t),n=sr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:Rj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=rr(t,"network-request-failed"),a=sr().setTimeout(()=>{i(o)},Tj.get());function l(){sr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kj=500,Oj=600,Dj="_blank",jj="http://localhost";class sw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mj(t,e,n,r=kj,s=Oj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Nj),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Nt().toLowerCase();n&&(a=II(u)?Dj:n),bI(u)&&(e=e||jj,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[v,_])=>`${f}${v}=${_},`,"");if(u8(u)&&a!=="_self")return Lj(e||"",a),new sw(null);const p=window.open(e||"",a,d);re(p,t,"popup-blocked");try{p.focus()}catch{}return new sw(p)}function Lj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="__/auth/handler",Fj="emulator/auth/handler",Uj=encodeURIComponent("fac");async function iw(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:s};if(e instanceof MI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",x3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof fc){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${Uj}=${encodeURIComponent(l)}`:"";return`${$j(t)}?${sc(a).slice(1)}${u}`}function $j({config:t}){return t.emulator?L0(t,Fj):`https://${t.authDomain}/${Vj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="webStorageSupport";class zj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$I,this._completeRedirectFn=hj,this._overrideRedirectResult=cj}async _openPopup(e,n,r,s){var i;Mr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await iw(e,n,r,Sm(),s);return Mj(e,o,U0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await iw(e,n,r,Sm(),s);return W8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Mr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Pj(e),r=new pj(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hf,{type:Hf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Hf];o!==void 0&&n(!!o),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PI()||TI()||F0()}}const Bj=zj;var ow="@firebase/auth",aw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qj(t){Fo(new Ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NI(t)},u=new g8(r,s,i,l);return C8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new Ei("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new Hj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(ow,aw,Wj(t)),Ss(ow,aw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=5*60,Kj=TT("authIdTokenMaxAge")||Gj;let lw=null;const Qj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Kj)return;const s=n==null?void 0:n.token;lw!==s&&(lw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Yj(t=PT()){const e=Qg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S8(t,{popupRedirectResolver:Bj,persistence:[ej,z8,$I]}),r=TT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Qj(i.toString());F8(n,o,()=>o(n.currentUser)),V8(n,a=>o(a))}}const s=ET("auth");return s&&A8(n,`http://${s}`),n}function Xj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}y8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Xj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qj("Browser");const Jj={apiKey:"AIzaSyBjQwNUZFoXmRHqIZ1cEHy00zg2Bi66AoA",authDomain:"super-shop-8c46a.firebaseapp.com",projectId:"super-shop-8c46a",storageBucket:"super-shop-8c46a.appspot.com",messagingSenderId:"219933718119",appId:"1:219933718119:web:ede8046f4a117a8c1046c2",measurementId:"G-FLXFFC71TT"},KI=RT(Jj),Zj=Yj(KI),Lt=ID(KI),QI=I.createContext(void 0),e7=({children:t})=>{const[e,n]=I.useState(null);I.useEffect(()=>{const l=localStorage.getItem("user");if(l){const u=JSON.parse(l);console.log("AuthContext: User loaded from localStorage:",u),n(u)}},[]),I.useEffect(()=>{if(!(e!=null&&e.id)){console.log("onSnapshot: User ID not available, skipping subscription.");return}const l=String(e.id),u=wr(Lt,"users",l);console.log(`onSnapshot: Attempting to subscribe to user document with ID: ${l}`);const d=UD(u,p=>{if(p.exists()){const f=p.data(),v={...e,...f};n(v),localStorage.setItem("user",JSON.stringify(v)),console.log("onSnapshot: User data updated from Firestore:",v)}else console.log(`onSnapshot: User document with ID ${l} does not exist.`)},p=>{console.error("onSnapshot: Error listening to user document:",p)});return()=>{console.log(`onSnapshot: Unsubscribing from user document with ID: ${l}`),d()}},[e==null?void 0:e.id]);const r=async l=>{if(!l.id)throw new Error("رقم المستخدم (ID) غير موجود");if(!l.email)throw new Error("البريد الإلكتروني للمستخدم غير موجود");const u={name:l.name,id:String(l.id).trim(),email:l.email.toLowerCase().trim(),profilePicture:l.profilePicture||void 0,isAdmin:l.isAdmin||!1,points:l.points||0};console.log("Login: User data received:",l),console.log("Login: User data to store:",u),localStorage.setItem("user",JSON.stringify(u)),n(u)},s=()=>{localStorage.removeItem("user"),n(null)},i=async l=>{if(e)try{const u=wr(Lt,"users",String(e.id));await D0(u,{profilePicture:l,updatedAt:new Date().toISOString()},{merge:!0})}catch(u){console.error("فشل تحديث صورة الملف الشخصي:",u)}},o=async l=>{if(!e||!e.id)throw new Error("يجب تسجيل الدخول أولاً أو معرف المستخدم غير موجود");const u=String(e.id),d=wr(Lt,"users",u);try{await hI(d,{points:l}),n(p=>p&&{...p,points:l})}catch(p){console.error("فشل تحديث النقاط:",p)}},a=async()=>{if(e!=null&&e.id)try{const l=wr(Lt,"users",String(e.id)),u=await dI(l);if(u.exists()){const d=u.data(),p={...e,...d};n(p),localStorage.setItem("user",JSON.stringify(p))}}catch(l){throw console.error("فشل تحديث بيانات المستخدم:",l),l}};return h.jsx(QI.Provider,{value:{user:e,login:r,logout:s,updateProfilePicture:i,updatePoints:o,refreshUserData:a},children:t})},ca=()=>{const t=I.useContext(QI);if(!t)throw new Error("يجب استخدام useAuth داخل AuthProvider");return t},Ks=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(!1),[s,i]=I.useState(!1),[o,a]=I.useState(null),l=I.useRef(null),u=I.useRef(null),{user:d,logout:p}=ca(),f=()=>e(!t),v=()=>r(!n),_=()=>i(!s);I.useEffect(()=>{const w=y=>{l.current&&!l.current.contains(y.target)&&r(!1),u.current&&!u.current.contains(y.target)&&i(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const x=w=>{navigator.clipboard.writeText(w.toString()),Se.success("تم نسخ الأيدي إلى الحافظة")};I.useEffect(()=>{d!=null&&d.profilePicture&&a(d.profilePicture)},[d]),I.useEffect(()=>{const w=localStorage.getItem("user");if(w&&d){const y=JSON.parse(w);y.points!==void 0&&(d.points=y.points)}},[d]);const E=(w=!1)=>h.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg py-4 px-6 text-gray-800 text-sm border border-gray-200 z-50",children:[h.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o?h.jsx("img",{src:o,alt:"Profile",className:"w-12 h-12 rounded-full"}):h.jsx(Rf,{className:"w-12 h-12 text-smm-purple"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold truncate",children:d==null?void 0:d.name}),h.jsxs("div",{className:"flex items-center",children:[h.jsxs("p",{className:"text-xs opacity-80",children:["ID: ",d==null?void 0:d.id]}),h.jsx("button",{onClick:()=>x(d==null?void 0:d.id),className:"ml-2 text-gray-500 hover:text-gray-700",children:h.jsx(dx,{className:"w-4 h-4"})})]})]})]}),h.jsx("hr",{className:"my-2"}),h.jsxs("button",{onClick:p,className:"flex items-center w-full text-red-500 hover:bg-red-50 hover:text-red-700 transition-colors py-2 px-4 rounded-lg text-left",children:[h.jsx(ON,{className:"w-5 h-5 mr-2"}),"تسجيل الخروج"]})]});return h.jsxs("nav",{className:"w-full py-4 bg-white shadow-sm relative z-50",children:[h.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[h.jsx(ke,{to:"/",className:"text-2xl font-bold gradient-text",children:"Super Shop"}),h.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[h.jsx(ke,{to:"/",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"الرئيسية"}),h.jsx(ke,{to:"/services",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"الخدمات"}),h.jsx(ke,{to:"/about-us",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"من نحن"}),h.jsx(ke,{to:"/order-tracking",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"تتبع الطلبات"}),(d==null?void 0:d.isAdmin)&&h.jsx(ke,{to:"/dashboard",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"لوحة التحكم"}),!d&&h.jsx(ke,{to:"/login",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"تسجيل الدخول"}),d&&h.jsxs("div",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-full",children:[h.jsx(ux,{className:"w-5 h-5 text-yellow-500 mr-1"}),h.jsxs("span",{className:"text-sm font-medium",children:[d==null?void 0:d.points," نقاط"]}),h.jsx("button",{className:"ml-2 p-1 rounded-full hover:bg-gray-200 transition-colors",children:h.jsx(jN,{className:"w-4 h-4"})})]}),h.jsx(lt,{asChild:!0,className:"bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:h.jsx(ke,{to:"/services",children:"ابدأ الآن"})}),d&&h.jsxs("div",{className:"relative",ref:l,children:[h.jsx("button",{onClick:v,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 transition",children:o?h.jsx("img",{src:o,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):h.jsx(Rf,{className:"w-8 h-8 text-smm-purple"})}),n&&E()]})]}),h.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[d&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center bg-gray-100 px-2 py-1 rounded-full",children:[h.jsx(ux,{className:"w-4 h-4 text-yellow-500 mr-1"}),h.jsx("span",{className:"text-xs font-medium",children:d==null?void 0:d.points})]}),h.jsxs("div",{className:"relative",ref:u,children:[h.jsx("button",{onClick:_,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 transition",children:o?h.jsx("img",{src:o,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):h.jsx(Rf,{className:"w-8 h-8 text-smm-purple"})}),s&&E(!0)]})]}),h.jsx(lt,{variant:"ghost",size:"icon",onClick:f,children:t?h.jsx(Sb,{}):h.jsx(DN,{})})]})]}),t&&h.jsx("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-white shadow-md z-50 py-4 px-4",children:h.jsxs("div",{className:"flex flex-col space-y-4",children:[h.jsx(ke,{to:"/",onClick:f,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"الرئيسية"}),h.jsx(ke,{to:"/services",onClick:f,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"الخدمات"}),h.jsx(ke,{to:"/about-us",onClick:f,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"من نحن"}),h.jsx(ke,{to:"/order-tracking",onClick:f,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"تتبع الطلبات"}),(d==null?void 0:d.isAdmin)&&h.jsx(ke,{to:"/dashboard",onClick:f,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"لوحة التحكم"}),!d&&h.jsx(ke,{to:"/login",onClick:f,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"تسجيل الدخول"}),h.jsx(lt,{asChild:!0,className:"bg-gradient-smm hover:bg-smm-purple transition-all duration-300 w-full",children:h.jsx(ke,{to:"/services",onClick:f,children:"ابدأ الآن"})}),d&&h.jsxs("div",{className:"bg-smm-purple text-white px-4 py-2 rounded-xl text-sm shadow-lg text-right",children:[h.jsx("div",{className:"font-semibold truncate",children:d.name}),h.jsxs("div",{className:"flex items-center justify-end",children:[h.jsxs("span",{className:"text-xs opacity-80",children:["ID: ",d.id]}),h.jsx("button",{onClick:()=>x(d.id),className:"ml-2 text-white opacity-70 hover:opacity-100",children:h.jsx(dx,{className:"w-4 h-4"})})]})]})]})})]})},t7=()=>h.jsxs("div",{className:"relative overflow-hidden bg-white py-12 md:py-24",children:[h.jsx("div",{className:"absolute -top-10 -right-10 w-72 h-72 bg-smm-yellow opacity-10 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute -bottom-10 -left-10 w-80 h-80 bg-smm-purple opacity-10 rounded-full blur-3xl"}),h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[h.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0",children:[h.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[h.jsx("span",{className:"gradient-text",children:"عزز تواجدك الاجتماعي"})," اليوم"]}),h.jsx("p",{className:"text-gray-600 text-lg md:text-xl mb-8 max-w-2xl",children:"احصل على تفاعل حقيقي لملفاتك الشخصية على وسائل التواصل الاجتماعي. متابعون وإعجابات ومشاهدات عالية الجودة يتم تسليمها بسرعة وأمان."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[h.jsx(lt,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 transition-all text-white font-medium px-8 py-6",children:h.jsx(ke,{to:"/services",children:"تصفح الخدمات"})}),h.jsx(lt,{asChild:!0,variant:"outline",className:"border-smm-purple text-smm-purple hover:bg-smm-purple/5 px-8 py-6",children:h.jsx(ke,{to:"/services",children:"عرض الأسعار"})})]}),h.jsxs("div",{className:"mt-12 flex flex-wrap gap-8",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"50K+"}),h.jsx("span",{className:"text-gray-600",children:"طلبات مكتملة"})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"100%"}),h.jsx("span",{className:"text-gray-600",children:"رضا العملاء"})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"24/7"}),h.jsx("span",{className:"text-gray-600",children:"دعم فني"})]})]})]}),h.jsx("div",{className:"lg:w-1/2 relative",children:h.jsxs("div",{className:"relative w-full h-64 md:h-96 bg-gradient-to-r from-smm-purple to-smm-pink rounded-2xl overflow-hidden shadow-xl animate-float",children:[h.jsx("div",{className:"absolute inset-0 bg-black/10"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("div",{className:"text-white text-center px-6",children:[h.jsx("h3",{className:"text-2xl font-bold mb-2",children:"خدمات مميزة لوسائل التواصل الاجتماعي"}),h.jsx("p",{className:"mb-4",children:"انستغرام، تيك توك، تليجرام، يوتيوب والمزيد"}),h.jsxs("div",{className:"flex justify-center space-x-4",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:h.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full"})}),h.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:h.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full"})}),h.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:h.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-red-500 to-pink-500 rounded-full"})}),h.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:h.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-full"})})]})]})})]})})]})})]}),Qs=()=>h.jsx("footer",{className:"bg-gray-50 pt-12 pb-8",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[h.jsxs("div",{children:[h.jsx(ke,{to:"/",className:"text-2xl font-bold gradient-text mb-4 inline-block",children:"Hson Store"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"خدمات تسويق مميزة على وسائل التواصل الاجتماعي لمساعدتك على تنمية تواجدك وتفاعلك عبر الإنترنت."}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[h.jsx("span",{className:"sr-only",children:"فيسبوك"}),h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),h.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[h.jsx("span",{className:"sr-only",children:"انستغرام"}),h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),h.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[h.jsx("span",{className:"sr-only",children:"تويتر"}),h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),h.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[h.jsx("span",{className:"sr-only",children:"تليجرام"}),h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{d:"M22.05 1.577c-.393-.016-.784.08-1.117.235-.484.186-4.92 1.902-9.41 3.64-2.26.873-4.518 1.746-6.256 2.415-1.737.67-3.045 1.168-3.114 1.192-.46.16-1.082.362-1.61.984-.133.155-.267.354-.335.628s-.038.622.095.895c.265.547.714.773 1.244.976 1.76.564 3.58 1.102 5.087 1.608.556 1.96 1.09 3.927 1.618 5.89.174.394.553.54.944.544l-.002.02s.307.03.606-.042c.3-.07.677-.244 1.02-.565.377-.354 1.4-1.36 1.98-1.928l4.37 3.226.035.02s.38.193.768.193c.39 0 .786-.16 1.022-.53.133-.206.2-.494.2-.798.008-.47-.377-1.027-.377-1.027s-3.95-3.604-6.215-5.68c.61-.61 1.223-1.22 1.83-1.83.442-.44.882-.882 1.32-1.325.87-.874 1.152-1.295 1.288-1.53.13-.233.166-.362.166-.362.009-.13.022-.283.006-.466-.04-.33-.2-.617-.48-.817-.28-.203-.67-.248-.67-.248h-3.478c-.392.013-.792.123-1.115.332-.323.2-.584.46-.79.752l-.178.284s-2.05 2.97-3.55 4.84c-1.596 1.987-2.07 1.77-2.07 1.77l-.024-.04s-.114-.066-.19-.215c-.083-.176-.114-.37-.114-.52 0-.36-.004-4.368-.004-4.368s-.146-.414-.493-.604c-.348-.19-.84-.233-.84-.233l-4.75.03s-.368.023-.605.207-.4.555-.264.847c.143.282.453.509.762.781.308.273 7.924 8.575 16.8 12.224 0 0 .883.353 1.427.392.544.04 1.043-.124 1.43-.358.386-.234.58-.494.656-.8.07-.298.07-.703.07-.703.006-.26-.025-.398-.025-.398z"})})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"روابط سريعة"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx(ke,{to:"/",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الرئيسية"})}),h.jsx("li",{children:h.jsx(ke,{to:"/services",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الخدمات"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"كيف تعمل"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الأسئلة الشائعة"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"اتصل بنا"})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"خدماتنا"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"متابعين انستغرام"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"مشتركين تليجرام"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"إعجابات انستغرام"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"مشاهدات يوتيوب"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"متابعين تيك توك"})})]})]})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-8 flex flex-col md:flex-row justify-between items-center",children:[h.jsxs("p",{className:"text-gray-500 text-sm",children:["© ",new Date().getFullYear()," HSON STORE. جميع الحقوق محفوظة."]}),h.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[h.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"سياسة الخصوصية"}),h.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"شروط الخدمة"}),h.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"سياسة الاسترداد"})]})]})]})}),Go=I.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:$e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Go.displayName="Card";const Ul=I.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:$e("flex flex-col space-y-1.5 p-6",t),...e}));Ul.displayName="CardHeader";const $l=I.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:$e("text-2xl font-semibold leading-none tracking-tight",t),...e}));$l.displayName="CardTitle";const z0=I.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:$e("text-sm text-muted-foreground",t),...e}));z0.displayName="CardDescription";const Ko=I.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:$e("p-6 pt-0",t),...e}));Ko.displayName="CardContent";const Nd=I.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:$e("flex items-center p-6 pt-0",t),...e}));Nd.displayName="CardFooter";const n7=()=>{const t=[{name:"Instagrams",icon:"📸",description:"احصل على متابعين حقيقيين وإعجابات وتعليقات على انستغرام"},{name:"Telegram",icon:"✈️",description:"نمو قناتك على تليجرام مع مشتركين حقيقيين"},{name:"TikTok",icon:"🎵",description:"زيادة مشاهداتك ومتابعيك وتفاعلك على تيك توك"},{name:"YouTube",icon:"🎬",description:"عزز مشاهداتك ومشتركيك ووقت المشاهدة على يوتيوب"}];return h.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[h.jsx(Ks,{}),h.jsxs("main",{className:"flex-grow",children:[h.jsx(t7,{}),h.jsx("section",{className:"py-16 bg-gray-50",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"المنصات التي ندعمها"}),h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"نقدم خدمات عالية الجودة لوسائل التواصل الاجتماعي عبر جميع المنصات الرئيسية لمساعدتك على تنمية تواجدك عبر الإنترنت."})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>h.jsx(Go,{className:"hover:shadow-md transition-shadow",children:h.jsx(Ko,{className:"p-6",children:h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("span",{className:"text-4xl mb-4",children:e.icon}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.name}),h.jsx("p",{className:"text-gray-600",children:e.description})]})})},n))})]})}),h.jsx("section",{className:"py-16",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"كيف تعمل"}),h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"عمليتنا بسيطة وسريعة ومصممة لتحقيق النتائج بسرعة."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"1"}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:"اختر باقة"}),h.jsx("p",{className:"text-gray-600",children:"تصفح مجموعتنا من الخدمات واختر الباقة التي تناسب احتياجاتك."})]}),h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"2"}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:"أكمل الدفع"}),h.jsx("p",{className:"text-gray-600",children:"ادفع بأمان باستخدام طرق الدفع المختلفة لدينا، بما في ذلك رصيد آسيا سيل."})]}),h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"3"}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:"شاهد نموك"}),h.jsx("p",{className:"text-gray-600",children:"استرخ وشاهد بينما نقدم تفاعلاً عالي الجودة لملفاتك الشخصية على وسائل التواصل الاجتماعي."})]})]}),h.jsx("div",{className:"text-center mt-12",children:h.jsx(lt,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 px-8 py-6",children:h.jsx(ke,{to:"/services",children:"ابدأ الآن"})})})]})}),h.jsx("section",{className:"py-16 bg-gradient-smm text-white",children:h.jsxs("div",{className:"container mx-auto px-4 text-center",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"هل أنت مستعد لتعزيز تواجدك الاجتماعي؟"}),h.jsx("p",{className:"text-white/80 max-w-2xl mx-auto mb-8",children:"انضم إلى آلاف العملاء الراضين الذين نجحوا في تنمية تواجدهم على وسائل التواصل الاجتماعي من خلال خدماتنا المتميزة."}),h.jsx(lt,{asChild:!0,className:"bg-white text-smm-purple hover:bg-white/90 px-8 py-6",children:h.jsx(ke,{to:"/services",children:"عرض جميع الخدمات"})})]})})]}),h.jsx(Qs,{})]})},an=I.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));an.displayName="Input";var r7="Label",YI=I.forwardRef((t,e)=>h.jsx(je.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YI.displayName=r7;var XI=YI;const s7=jg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ot=I.forwardRef(({className:t,...e},n)=>h.jsx(XI,{ref:n,className:$e(s7(),t),...e}));ot.displayName=XI.displayName;const i7=({title:t,description:e,price:n,features:r,popular:s=!1,platform:i,icon:o,quantity:a,id:l,minQuantity:u,pointsPerUnit:d})=>{const[p,f]=I.useState(u||a||0),v=Zo();I.useEffect(()=>{f(u||a||0)},[u,a]),console.log("ServiceCard:",{id:l,title:t,minQuantity:u,pointsPerUnit:d,selectedQuantity:p,calculatedPoints:u&&d?Math.ceil(p/u)*d:n});const _=w=>{const y=parseInt(w.target.value,10);if(!isNaN(y)&&u){let b=y;b<u?b=u:(b=Math.round(b/u)*u,b<u&&(b=u)),f(b)}else f(u||0)},x=u&&d?Math.ceil(p/u)*d:n,E=()=>{const w=new URLSearchParams;w.append("service",l),u&&d?(w.append("minQuantity",u.toString()),w.append("pointsPerUnit",d.toString()),w.append("points",(x==null?void 0:x.toString())||"0"),w.append("quantity",p.toString())):(w.append("points",(n==null?void 0:n.toString())||"0"),w.append("quantity",(a==null?void 0:a.toString())||"0")),v(`/payment?${w.toString()}`)};return h.jsxs(Go,{className:`w-full transition-all duration-300 hover:shadow-lg ${s?"border-2 border-smm-pink relative":""}`,children:[s&&h.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-smm-pink text-white text-sm py-1 px-3 rounded-full",children:"الاختيار الأكثر شيوعًا"}),h.jsxs(Ul,{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"bg-gradient-smm w-10 h-10 rounded-full flex items-center justify-center text-white",children:o}),h.jsx("span",{className:"text-sm text-gray-500",children:i})]}),h.jsx($l,{className:"text-xl sm:text-2xl",children:t}),h.jsx(z0,{children:e})]}),h.jsxs(Ko,{children:[h.jsx("div",{className:"mb-6",children:u&&d?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs(ot,{htmlFor:`quantity-${l}`,children:["الكمية (",u,"+)"]}),h.jsx(an,{id:`quantity-${l}`,type:"number",value:p,onChange:_,min:u,step:u})]}),h.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:[x," نقاط"]}),h.jsxs("p",{className:"text-sm text-gray-500",children:["السعر لـ ",p," ",t.toLowerCase()]})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:[n," نقاط"]}),h.jsxs("p",{className:"text-sm text-gray-500",children:["لـ ",a," ",t.toLowerCase()]})]})}),h.jsx("ul",{className:"space-y-2",children:r.map((w,y)=>h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),w]},y))})]}),h.jsx(Nd,{children:h.jsx(lt,{className:`w-full ${s?"bg-gradient-smm":"bg-smm-purple"} hover:opacity-90`,onClick:E,children:"اطلب الآن"})})]})};function o7(t,e=[]){let n=[];function r(i,o){const a=I.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:v,..._}=p,x=(f==null?void 0:f[t][l])||a,E=I.useMemo(()=>_,Object.values(_));return h.jsx(x.Provider,{value:E,children:v})}function d(p,f){const v=(f==null?void 0:f[t][l])||a,_=I.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,a7(s,...e)]}function a7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var l7=I.createContext(void 0);function B0(t){const e=I.useContext(l7);return t||e||"ltr"}var Wf="rovingFocusGroup.onEntryFocus",c7={bubbles:!1,cancelable:!0},Dh="RovingFocusGroup",[Rm,JI,u7]=YE(Dh),[d7,jh]=o7(Dh,[u7]),[h7,f7]=d7(Dh),ZI=I.forwardRef((t,e)=>h.jsx(Rm.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(Rm.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(p7,{...t,ref:e})})}));ZI.displayName=Dh;var p7=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=t,f=I.useRef(null),v=Yt(e,f),_=B0(i),[x=null,E]=Yd({prop:o,defaultProp:a,onChange:l}),[w,y]=I.useState(!1),b=Mn(u),P=JI(n),D=I.useRef(!1),[j,C]=I.useState(0);return I.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Wf,b),()=>T.removeEventListener(Wf,b)},[b]),h.jsx(h7,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:x,onItemFocus:I.useCallback(T=>E(T),[E]),onItemShiftTab:I.useCallback(()=>y(!0),[]),onFocusableItemAdd:I.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:I.useCallback(()=>C(T=>T-1),[]),children:h.jsx(je.div,{tabIndex:w||j===0?-1:0,"data-orientation":r,...p,ref:v,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{D.current=!0}),onFocus:xe(t.onFocus,T=>{const A=!D.current;if(T.target===T.currentTarget&&A&&!w){const R=new CustomEvent(Wf,c7);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=P().filter(Z=>Z.focusable),O=k.find(Z=>Z.active),N=k.find(Z=>Z.id===x),se=[O,N,...k].filter(Boolean).map(Z=>Z.ref.current);nS(se,d)}}D.current=!1}),onBlur:xe(t.onBlur,()=>y(!1))})})}),eS="RovingFocusGroupItem",tS=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Lb(),l=i||a,u=f7(eS,n),d=u.currentTabStopId===l,p=JI(n),{onFocusableItemAdd:f,onFocusableItemRemove:v}=u;return I.useEffect(()=>{if(r)return f(),()=>v()},[r,f,v]),h.jsx(Rm.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:h.jsx(je.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:xe(t.onMouseDown,_=>{r?u.onItemFocus(l):_.preventDefault()}),onFocus:xe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:xe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const x=y7(_,u.orientation,u.dir);if(x!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let w=p().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const y=w.indexOf(_.currentTarget);w=u.loop?v7(w,y+1):w.slice(y+1)}setTimeout(()=>nS(w))}})})})});tS.displayName=eS;var m7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function g7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function y7(t,e,n){const r=g7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return m7[r]}function nS(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function v7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var rS=ZI,sS=tS,H0="Tabs",[x7,yM]=Zl(H0,[jh]),iS=jh(),[w7,W0]=x7(H0),oS=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=B0(a),[p,f]=Yd({prop:r,onChange:s,defaultProp:i});return h.jsx(w7,{scope:n,baseId:Lb(),value:p,onValueChange:f,orientation:o,dir:d,activationMode:l,children:h.jsx(je.div,{dir:d,"data-orientation":o,...u,ref:e})})});oS.displayName=H0;var aS="TabsList",lS=I.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=W0(aS,n),o=iS(n);return h.jsx(rS,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(je.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});lS.displayName=aS;var cS="TabsTrigger",uS=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=W0(cS,n),a=iS(n),l=fS(o.baseId,r),u=pS(o.baseId,r),d=r===o.value;return h.jsx(sS,{asChild:!0,...a,focusable:!s,active:d,children:h.jsx(je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:xe(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:xe(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:xe(t.onFocus,()=>{const p=o.activationMode!=="manual";!d&&!s&&p&&o.onValueChange(r)})})})});uS.displayName=cS;var dS="TabsContent",hS=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=W0(dS,n),l=fS(a.baseId,r),u=pS(a.baseId,r),d=r===a.value,p=I.useRef(d);return I.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),h.jsx(ec,{present:s||d,children:({present:f})=>h.jsx(je.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});hS.displayName=dS;function fS(t,e){return`${t}-trigger-${e}`}function pS(t,e){return`${t}-content-${e}`}var _7=oS,mS=lS,gS=uS,yS=hS;const E7=_7,vS=I.forwardRef(({className:t,...e},n)=>h.jsx(mS,{ref:n,className:$e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));vS.displayName=mS.displayName;const qi=I.forwardRef(({className:t,...e},n)=>h.jsx(gS,{ref:n,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));qi.displayName=gS.displayName;const xS=I.forwardRef(({className:t,...e},n)=>h.jsx(yS,{ref:n,className:$e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));xS.displayName=yS.displayName;const b7=()=>{const[t,e]=I.useState("all"),n=[{id:"insta-followers",title:"رشق انستكرام",description:"متابعون انستغرام عالي الجودة يتفاعلون مع محتواك",features:["لا يتطلب كلمة مرور","ثابت بدون نزول"],popular:!0,platform:"Instagram",icon:"📸",minQuantity:1,pointsPerUnit:1,category:"instagram"},{id:"telegram-followers",title:"رشق متابعين تيليكرام",description:"احصل على متابعين حقيقيين لقناتك التليجرام",features:["متابعون عالي الجودة","نمط نمو طبيعي","ضمان عدم النقص","دعم للقنوات الخاصة"],popular:!0,platform:"Telegram",icon:"✈️",minQuantity:1,pointsPerUnit:1,category:"telegram"},{id:"tiktok-followers-1000",title:"متابعين تيك توك",description:"نمو حسابك على تيك توك مع متابعين عالي الجودة",features:["صورة ملف شخصي وسيرة ذاتية","متابعون مستقرون","لا يتطلب كلمة مرور","نمو آمن وطبيعي"],popular:!1,platform:"TikTok",icon:"🎵",minQuantity:1,pointsPerUnit:1,category:"tiktok"},{id:"tiktok-likes-2000",title:"إعجابات تيك توك",description:"احصل على المزيد من التفاعل مع إعجابات تيك توك",features:["احتفاظ عالٍ","تسليم سريع","يعمل مع جميع الفيديوهات","يزيد الوصول الخوارزمي"],popular:!1,platform:"TikTok",icon:"❤️",minQuantity:1,pointsPerUnit:1,category:"tiktok"},{id:"youtube-views-5000",title:"مشاهدات يوتيوب",description:"عزز أداء فيديوهاتك مع المزيد من المشاهدات",features:["مشاهدات باحتفاظ عالٍ","آمن لـ Ad-sense","استهداف جغرافي","يساعد في التوصيات"],popular:!0,platform:"YouTube",icon:"🎬",minQuantity:1,pointsPerUnit:1,category:"youtube"},{id:"youtube-subscribers-500",title:"مشتركين يوتيوب",description:"نمو قناتك على يوتيوب مع مشتركين عالي الجودة",features:["حسابات تبدو حقيقية","تسليم تدريجي","لا يتطلب كلمة مرور","مشتركون مفعلون للإشعارات"],popular:!1,platform:"YouTube",icon:"👥",minQuantity:1,pointsPerUnit:1,category:"youtube"}],r=t==="all"?n:n.filter(s=>s.category===t);return h.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[h.jsx(Ks,{}),h.jsx("main",{className:"flex-grow py-12",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:"خدماتنا"}),h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"تصفح مجموعتنا من خدمات وسائل التواصل الاجتماعي عالية الجودة لتعزيز تواجدك وتفاعلك عبر الإنترنت."})]}),h.jsxs(E7,{defaultValue:"all",value:t,onValueChange:e,className:"mb-12",children:[h.jsx("div",{className:"flex justify-center",children:h.jsxs(vS,{className:"bg-gray-100",children:[h.jsx(qi,{value:"all",children:"جميع الخدمات"}),h.jsx(qi,{value:"instagram",children:"انستغرام"}),h.jsx(qi,{value:"telegram",children:"تليجرام"}),h.jsx(qi,{value:"tiktok",children:"تيك توك"}),h.jsx(qi,{value:"youtube",children:"يوتيوب"})]})}),h.jsx(xS,{value:t,className:"mt-8",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(s=>h.jsx(i7,{id:s.id,title:s.title,description:s.description,features:s.features,popular:s.popular,platform:s.platform,icon:s.icon,minQuantity:s.minQuantity,pointsPerUnit:s.pointsPerUnit},s.id))})})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 mt-12",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold mb-2",children:"هل تحتاج إلى باقة مخصصة؟"}),h.jsx("p",{className:"text-gray-600",children:"لا تجد ما تبحث عنه؟ اتصل بنا للحصول على حل مخصص يلبي احتياجاتك."})]}),h.jsx("div",{className:"flex justify-center",children:h.jsx("a",{href:"mailto:uusheko@gmail.com",className:"inline-flex items-center justify-center bg-smm-purple hover:bg-smm-purple/90 text-white px-6 py-3 rounded-md font-medium transition-colors",children:"اتصل بنا"})})]})]})}),h.jsx(Qs,{})]})};function T7(t){const e=I.useRef({value:t,previous:t});return I.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var q0="Radio",[I7,wS]=Zl(q0),[S7,C7]=I7(q0),_S=I.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:u,...d}=t,[p,f]=I.useState(null),v=Yt(e,E=>f(E)),_=I.useRef(!1),x=p?u||!!p.closest("form"):!0;return h.jsxs(S7,{scope:n,checked:s,disabled:o,children:[h.jsx(je.button,{type:"button",role:"radio","aria-checked":s,"data-state":TS(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:v,onClick:xe(t.onClick,E=>{s||l==null||l(),x&&(_.current=E.isPropagationStopped(),_.current||E.stopPropagation())})}),x&&h.jsx(A7,{control:p,bubbles:!_.current,name:r,value:a,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});_S.displayName=q0;var ES="RadioIndicator",bS=I.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=C7(ES,n);return h.jsx(ec,{present:r||i.checked,children:h.jsx(je.span,{"data-state":TS(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});bS.displayName=ES;var A7=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=I.useRef(null),o=T7(n),a=Gb(e);return I.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&p){const f=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(f)}},[o,n,r]),h.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function TS(t){return t?"checked":"unchecked"}var R7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G0="RadioGroup",[P7,vM]=Zl(G0,[jh,wS]),IS=jh(),SS=wS(),[N7,k7]=P7(G0),CS=I.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:u,loop:d=!0,onValueChange:p,...f}=t,v=IS(n),_=B0(u),[x,E]=Yd({prop:i,defaultProp:s,onChange:p});return h.jsx(N7,{scope:n,name:r,required:o,disabled:a,value:x,onValueChange:E,children:h.jsx(rS,{asChild:!0,...v,orientation:l,dir:_,loop:d,children:h.jsx(je.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:_,...f,ref:e})})})});CS.displayName=G0;var AS="RadioGroupItem",RS=I.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=k7(AS,n),o=i.disabled||r,a=IS(n),l=SS(n),u=I.useRef(null),d=Yt(e,u),p=i.value===s.value,f=I.useRef(!1);return I.useEffect(()=>{const v=x=>{R7.includes(x.key)&&(f.current=!0)},_=()=>f.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",_)}},[]),h.jsx(sS,{asChild:!0,...a,focusable:!o,active:p,children:h.jsx(_S,{disabled:o,required:i.required,checked:p,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:xe(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:xe(s.onFocus,()=>{var v;f.current&&((v=u.current)==null||v.click())})})})});RS.displayName=AS;var O7="RadioGroupIndicator",PS=I.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=SS(n);return h.jsx(bS,{...s,...r,ref:e})});PS.displayName=O7;var NS=CS,kS=RS,D7=PS;const Pm=I.forwardRef(({className:t,...e},n)=>h.jsx(NS,{className:$e("grid gap-2",t),...e,ref:n}));Pm.displayName=NS.displayName;const ku=I.forwardRef(({className:t,...e},n)=>h.jsx(kS,{ref:n,className:$e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:h.jsx(D7,{className:"flex items-center justify-center",children:h.jsx(kN,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ku.displayName=kS.displayName;var j7="Separator",cw="horizontal",M7=["horizontal","vertical"],OS=I.forwardRef((t,e)=>{const{decorative:n,orientation:r=cw,...s}=t,i=L7(r)?r:cw,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return h.jsx(je.div,{"data-orientation":i,...a,...s,ref:e})});OS.displayName=j7;function L7(t){return M7.includes(t)}var DS=OS;const Ou=I.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>h.jsx(DS,{ref:s,decorative:n,orientation:e,className:$e("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ou.displayName=DS.displayName;const K0=I.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));K0.displayName="Textarea";const V7=()=>{const t=Jo(),e=Zo(),{toast:n}=GE(),{user:r,updatePoints:s}=ca(),[i,o]=I.useState({socialLink:"",paymentMethod:"asiacell",asiacellNumber:"",asiacellSubMethod:"card",asiacellTransferPhoneNumber:"",additionalInfo:""}),[a,l]=I.useState({serviceId:"",points:0,quantity:0}),[u,d]=I.useState(!1),p=a.points;I.useEffect(()=>{const x=new URLSearchParams(t.search),E=x.get("service")||"",w=parseFloat(x.get("points")||"0"),y=parseInt(x.get("quantity")||"0",10);if(!E||w===0){e("/services"),n({title:"خطأ",description:"يرجى اختيار خدمة أولاً",variant:"destructive"});return}l({serviceId:E,points:w,quantity:y}),console.log("Payment Page - Extracted Service Info:",{serviceId:E,points:w,quantity:y})},[t,e,n]);const f=x=>{const{name:E,value:w}=x.target;o(y=>({...y,[E]:w}))},v=x=>{o(E=>({...E,paymentMethod:x}))},_=async x=>{if(x.preventDefault(),d(!0),!i.socialLink){n({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"}),d(!1);return}if((r==null?void 0:r.points)<p){n({title:"خطأ",description:`لا يكفي رصيد النقاط لديك. تحتاج إلى ${p} نقطة وليس لديك سوى ${r==null?void 0:r.points} نقطة`,variant:"destructive"}),d(!1);return}if(i.paymentMethod==="asiacell"){if(i.asiacellSubMethod==="card"&&!i.asiacellNumber){n({title:"خطأ",description:"يرجى إدخال رقم كارت Asiacell",variant:"destructive"}),d(!1);return}if(i.asiacellSubMethod==="transfer"&&!i.asiacellTransferPhoneNumber){n({title:"خطأ",description:"يرجى إدخال رقم هاتفك للتحويل",variant:"destructive"}),d(!1);return}}if((r==null?void 0:r.points)<a.points){n({title:"خطأ",description:"لا يكفي رصيد النقاط لديك",variant:"destructive"}),d(!1);return}try{if(console.log("User data before update:",r),console.log("Service info:",a),console.log("Total points to deduct:",p),!r||!r.id||r.points===void 0)throw new Error("Invalid user data");const E=String(r.id).trim();if(!E||E==="undefined"||E==="null")throw new Error("User ID is not valid");const w=r.points-p;await s(w),console.log(`Points updated successfully! Deducted ${p} points. New balance: ${w}`);const y={userId:r.id,userName:r.name||"غير معروف",userEmail:r.email||"غير معروف",serviceId:a.serviceId,quantity:a.quantity,totalPointsUsed:p,socialLink:i.socialLink,paymentMethod:i.paymentMethod,asiacellNumber:i.asiacellNumber||null,asiacellTransferPhoneNumber:i.asiacellTransferPhoneNumber||null,additionalInfo:i.additionalInfo||null,timestamp:$D(),status:"قيد التنفيذ",rejectionReason:null};await FD(pi(Lt,"orders"),y),console.log("Order submitted to Firestore:",y),n({title:"تم استلام الطلب!",description:`تم خصم ${p} نقطة من رصيدك. سنقوم بمعالجة طلبك قريباً.`}),setTimeout(()=>e("/"),2e3),d(!1)}catch(E){console.error("حدث خطأ أثناء معالجة الطلب:",E),n({title:"خطأ",description:"حدث خطأ أثناء معالجة طلبك، يرجى المحاولة لاحقًا",variant:"destructive"}),d(!1)}};return h.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[h.jsx(Ks,{}),h.jsx("main",{className:"flex-grow py-12",children:h.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[h.jsx("div",{className:"mb-8",children:h.jsx(ke,{to:"/services",className:"inline-flex items-center text-gray-600 hover:text-smm-purple transition-colors text-sm font-medium",children:"← العودة إلى الخدمات"})}),h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"أكمل طلبك"}),h.jsx("p",{className:"text-gray-600 text-lg",children:"املأ التفاصيل الخاصة بك لتقديم طلبك"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(Go,{className:"shadow-lg rounded-lg",children:h.jsxs("form",{onSubmit:_,children:[h.jsxs(Ul,{className:"border-b border-gray-200 pb-4",children:[h.jsx($l,{className:"text-2xl font-semibold text-gray-800",children:"معلوماتك"}),h.jsx(z0,{className:"text-gray-600",children:"سنستخدم هذه المعلومات لمعالجة طلبك"})]}),h.jsxs(Ko,{className:"space-y-6 pt-6",children:[h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs(ot,{htmlFor:"socialLink",className:"text-gray-700 font-medium",children:["رابط وسائل التواصل الاجتماعي",h.jsx("span",{className:"text-sm text-gray-500 ml-1 font-normal",children:"(رابط إلى ملفك الشخصي/منشورك)"})]}),h.jsx(an,{id:"socialLink",name:"socialLink",placeholder:"https://instagram.com/yourusername",value:i.socialLink,onChange:f,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})}),h.jsx(Ou,{className:"my-6"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(ot,{className:"text-gray-700 font-medium",children:"طريقة الدفع"}),h.jsx(Pm,{value:i.paymentMethod,onValueChange:v,className:"flex flex-col space-y-3",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ku,{value:"asiacell",id:"asiacell"}),h.jsx(ot,{htmlFor:"asiacell",className:"cursor-pointer text-gray-600",children:"رصيد Asiacell للجوال"})]})})]}),i.paymentMethod==="asiacell"&&h.jsxs("div",{className:"space-y-4 mt-4 p-4 border border-gray-300 rounded-md bg-gray-50",children:[h.jsx(ot,{className:"text-gray-700 font-medium",children:"اختر طريقة الدفع عبر Asiacell:"}),h.jsxs(Pm,{value:i.asiacellSubMethod,onValueChange:x=>o(E=>({...E,asiacellSubMethod:x})),className:"flex flex-col space-y-3",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ku,{value:"card",id:"asiacell-card"}),h.jsx(ot,{htmlFor:"asiacell-card",className:"cursor-pointer text-gray-600",children:"ارسال رقم كارت الرصيد"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ku,{value:"transfer",id:"asiacell-transfer"}),h.jsx(ot,{htmlFor:"asiacell-transfer",className:"cursor-pointer text-gray-600",children:"التحويل"})]})]}),i.asiacellSubMethod==="card"&&h.jsxs("div",{className:"space-y-2 mt-4",children:[h.jsx(ot,{htmlFor:"asiacellNumber",className:"text-gray-700 font-medium",children:"رقم كارت الرصيد"}),h.jsx(an,{id:"asiacellNumber",name:"asiacellNumber",placeholder:"أدخل رقم كارت الرصيد",value:i.asiacellNumber,onChange:f,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]}),i.asiacellSubMethod==="transfer"&&h.jsxs("div",{className:"space-y-2 mt-4",children:[h.jsx(ot,{htmlFor:"asiacellTransferPhoneNumber",className:"text-gray-700 font-medium",children:"رقم هاتفك الشخصي (للتأكيد)"}),h.jsx(an,{id:"asiacellTransferPhoneNumber",name:"asiacellTransferPhoneNumber",placeholder:"أدخل رقم هاتفك",value:i.asiacellTransferPhoneNumber,onChange:f,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"}),h.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["يرجى تحويل المبلغ المطلوب إلى هذا الرقم:"," ",h.jsx("span",{className:"font-bold text-smm-purple",children:"07704061932"})]}),h.jsx("p",{className:"text-sm text-gray-500",children:"بعد التحويل، أدخل رقم هاتفك أعلاه للتأكيد وسنقوم بمعالجة طلبك."})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ot,{htmlFor:"additionalInfo",className:"text-gray-700 font-medium",children:"معلومات إضافية (اختياري)"}),h.jsx(K0,{id:"additionalInfo",name:"additionalInfo",placeholder:"أي متطلبات أو أسئلة محددة؟",value:i.additionalInfo,onChange:f,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})]}),h.jsx(Nd,{className:"pt-6",children:h.jsx(lt,{type:"submit",className:"w-full bg-gradient-smm hover:opacity-90 text-lg py-3",disabled:u,children:u?"جاري المعالجة...":"إكمال الطلب"})})]})})}),h.jsxs("div",{children:[h.jsxs(Go,{className:"shadow-lg rounded-lg",children:[h.jsx(Ul,{className:"border-b border-gray-200 pb-4",children:h.jsx($l,{className:"text-2xl font-semibold text-gray-800",children:"ملخص الطلب"})}),h.jsx(Ko,{className:"space-y-4 pt-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between text-gray-700",children:[h.jsx("span",{children:"معرف الخدمة:"}),h.jsx("span",{className:"font-medium text-gray-800",children:a.serviceId})]}),a.quantity>0&&h.jsxs("div",{className:"flex justify-between text-gray-700",children:[h.jsx("span",{children:"الكمية:"}),h.jsx("span",{className:"font-medium text-gray-800",children:a.quantity})]}),h.jsx(Ou,{}),h.jsxs("div",{className:"flex justify-between text-gray-700",children:[h.jsx("span",{children:"المجموع الفرعي:"}),h.jsxs("span",{className:"font-medium text-gray-800",children:[p," نقاط"]})]}),h.jsxs("div",{className:"flex justify-between text-gray-700",children:[h.jsx("span",{children:"رسوم المعالجة:"}),h.jsx("span",{className:"font-medium text-gray-800",children:"0 نقاط"})]}),h.jsx(Ou,{}),h.jsxs("div",{className:"flex justify-between font-bold text-gray-800 text-xl",children:[h.jsx("span",{children:"الإجمالي:"}),h.jsxs("span",{children:[p," نقاط"]})]})]})}),h.jsx(Nd,{className:"flex flex-col items-start space-y-4 pt-6",children:h.jsxs("div",{className:"text-sm text-gray-600",children:[h.jsx("p",{className:"font-semibold mb-2 text-gray-700",children:"ملاحظات الطلب:"}),h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"يبدأ التسليم خلال 24 ساعة"}),h.jsx("li",{children:"لا يتطلب كلمة مرور"}),h.jsx("li",{children:"آمن ومضمون 100%"})]})]})})]}),h.jsx("div",{className:"mt-6 p-4 bg-gray-100 rounded-md border border-gray-200",children:h.jsxs("p",{className:"text-sm text-gray-700",children:[h.jsx("span",{className:"font-semibold block mb-1 text-gray-800",children:"هل تحتاج مساعدة؟"}),"إذا كان لديك أي أسئلة أو تحتاج إلى مساعدة، اتصل بفريق الدعم لدينا على"," ",h.jsx("a",{href:"mailto:uusheko@gmail.com",className:"text-smm-purple hover:underline",children:"uusheko@gmail.com"})]})})]})]})]})}),h.jsx(Qs,{})]})},F7=()=>{const t=Jo();return I.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),h.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},U7=()=>h.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[h.jsx(Ks,{}),h.jsxs("main",{className:"flex-grow",children:[h.jsx("section",{className:"py-16 bg-gray-100 text-center",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"عن متجرنا المميز"}),h.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"اكتشف قصتنا، مهمتنا، والأشخاص الشغوفين وراء نجاحنا."})]})}),h.jsx("section",{className:"py-16",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[h.jsxs("div",{className:"md:w-1/2",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"قصتنا"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"تأسس متجرنا المميز في [السنة] بهدف بسيط: توفير [منتجات/خدمات] عالية الجودة لمجتمعنا. ما بدأ كمشروع صغير نما ليصبح اسمًا موثوقًا به، معروفًا بالتزامنا بالتميز ورضا العملاء."}),h.jsx("p",{className:"text-gray-600",children:"على مر السنين، قمنا بتوسيع عروضنا وحققنا إنجازات جديدة، لكن قيمنا الأساسية لا تزال كما هي. نؤمن ببناء علاقات دائمة مع عملائنا وإحداث تأثير إيجابي."})]}),h.jsx("div",{className:"md:w-1/2",children:h.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-500",children:"صورة توضيحية"})})]})})}),h.jsx("section",{className:"py-16 bg-gray-50",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-8",children:[h.jsxs("div",{className:"md:w-1/2",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"مهمتنا"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"مهمتنا هي [بيان مهمتك]. نسعى جاهدين لـ [الجوانب الرئيسية لمهمتك، مثل: تقديم قيمة استثنائية، تعزيز الابتكار، دعم المجتمعات المحلية]."}),h.jsx("p",{className:"text-gray-600",children:"نحن ملتزمون بـ [جانب رئيسي آخر من مهمتك]. كل قرار نتخذه يسترشد بالتزامنا بـ [القيمة الأساسية المتعلقة بالمهمة]."})]}),h.jsx("div",{className:"md:w-1/2",children:h.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-500",children:"صورة توضيحية"})})]})})})]}),h.jsx(Qs,{})]}),$7=()=>{const{user:t}=ca(),[e,n]=I.useState([]),[r,s]=I.useState(!0),[i,o]=I.useState("");I.useEffect(()=>{(async()=>{if(!t||!t.id){s(!1),o("يرجى تسجيل الدخول لعرض طلباتك.");return}try{const u=pi(Lt,"orders"),d=Ch(u,Rh("userId","==",t.id)),f=(await yo(d)).docs.map(v=>({firebaseId:v.id,...v.data()}));n(f)}catch(u){console.error("حدث خطأ أثناء جلب طلبات المستخدم:",u),o("حدث خطأ أثناء جلب طلباتك. يرجى المحاولة لاحقًا.")}finally{s(!1)}})()},[t]);const a=l=>{try{if(l!=null&&l.toDate)return new Date(l.toDate()).toLocaleDateString()}catch{return"N/A"}return"N/A"};return h.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[h.jsx(Ks,{}),h.jsx("main",{className:"flex-grow py-12",children:h.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8",children:"تتبع طلباتك"}),r&&h.jsx("p",{className:"text-center text-gray-600",children:"جاري تحميل الطلبات..."}),i&&h.jsx("p",{className:"text-center text-red-500",children:i}),!r&&!i&&e.length===0&&h.jsx("p",{className:"text-center text-gray-600",children:"لا توجد لديك طلبات حاليًا."}),!r&&!i&&e.length>0&&h.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.map(l=>h.jsxs(Go,{className:"shadow-lg rounded-lg",children:[h.jsx(Ul,{className:"border-b border-gray-200 pb-4",children:h.jsxs($l,{className:"text-xl font-semibold text-gray-800",children:["الطلب #",l.firebaseId.substring(0,8),"..."]})}),h.jsxs(Ko,{className:"space-y-3 pt-6",children:[h.jsxs("div",{className:"flex justify-between text-gray-700",children:[h.jsx("span",{children:"الخدمة:"}),h.jsx("span",{className:"font-medium text-gray-800",children:l.serviceId})]}),h.jsxs("div",{className:"flex justify-between text-gray-700",children:[h.jsx("span",{children:"الكمية:"}),h.jsx("span",{className:"font-medium text-gray-800",children:l.quantity})]}),h.jsxs("div",{className:"flex justify-between text-gray-700",children:[h.jsx("span",{children:"النقاط المستخدمة:"}),h.jsx("span",{className:"font-medium text-gray-800",children:l.totalPointsUsed})]}),h.jsxs("div",{className:"flex justify-between text-gray-700",children:[h.jsx("span",{children:"الرابط الاجتماعي:"}),h.jsx("span",{className:"font-medium text-gray-800 break-all",children:l.socialLink})]}),h.jsxs("div",{className:"flex justify-between text-gray-700",children:[h.jsx("span",{children:"تاريخ الطلب:"}),h.jsx("span",{className:"font-medium text-gray-800",children:a(l.timestamp)})]}),h.jsxs("div",{className:"flex justify-between text-gray-700",children:[h.jsx("span",{children:"الحالة:"}),h.jsx("span",{className:`font-bold ${l.status==="قيد التنفيذ"?"text-yellow-600":l.status==="مقبول"?"text-green-600":"text-red-600"}`,children:l.status})]}),l.rejectionReason&&h.jsxs("div",{className:"text-sm text-red-500 mt-2",children:[h.jsx("span",{className:"font-semibold",children:"سبب الرفض:"})," ",l.rejectionReason]})]})]},l.firebaseId))})]})}),h.jsx(Qs,{})]})},z7={};var Nm=null;function B7(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return z7.randomBytes(t)}catch{}if(!Nm)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Nm(t)}function H7(t){Nm=t}function Q0(t,e){if(t=t||Y0,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(kd(B7(zl),zl)),n.join("")}function jS(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=Y0;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function r(s){kn(function(){try{s(null,Q0(t))}catch(i){s(i)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(s,i){r(function(o,a){if(o){i(o);return}s(a)})})}function MS(t,e){if(typeof e>"u"&&(e=Y0),typeof e=="number"&&(e=Q0(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return km(t,e)}function LS(t,e,n,r){function s(i){typeof t=="string"&&typeof e=="number"?jS(e,function(o,a){km(t,a,i,r)}):typeof t=="string"&&typeof e=="string"?km(t,e,i,r):kn(i.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(i,o){s(function(a,l){if(a){o(a);return}i(l)})})}function VS(t,e){for(var n=t.length^e.length,r=0;r<t.length;++r)n|=t.charCodeAt(r)^e.charCodeAt(r);return n===0}function W7(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:VS(MS(t,e.substring(0,e.length-31)),e)}function q7(t,e,n,r){function s(i){if(typeof t!="string"||typeof e!="string"){kn(i.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){kn(i.bind(this,null,!1));return}LS(t,e.substring(0,29),function(o,a){o?i(o):i(null,VS(a,e))},r)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(i,o){s(function(a,l){if(a){o(a);return}i(l)})})}function G7(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function K7(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function Q7(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return FS(t)>72}var kn=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function FS(t){for(var e=0,n=0,r=0;r<t.length;++r)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320?(++r,e+=4):e+=3;return e}function Y7(t){for(var e=0,n,r,s=new Array(FS(t)),i=0,o=t.length;i<o;++i)n=t.charCodeAt(i),n<128?s[e++]=n:n<2048?(s[e++]=n>>6|192,s[e++]=n&63|128):(n&64512)===55296&&((r=t.charCodeAt(i+1))&64512)===56320?(n=65536+((n&1023)<<10)+(r&1023),++i,s[e++]=n>>18|240,s[e++]=n>>12&63|128,s[e++]=n>>6&63|128,s[e++]=n&63|128):(s[e++]=n>>12|224,s[e++]=n>>6&63|128,s[e++]=n&63|128);return s}var $i="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Yr=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function kd(t,e){var n=0,r=[],s,i;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(s=t[n++]&255,r.push($i[s>>2&63]),s=(s&3)<<4,n>=e){r.push($i[s&63]);break}if(i=t[n++]&255,s|=i>>4&15,r.push($i[s&63]),s=(i&15)<<2,n>=e){r.push($i[s&63]);break}i=t[n++]&255,s|=i>>6&3,r.push($i[s&63]),r.push($i[i&63])}return r.join("")}function US(t,e){var n=0,r=t.length,s=0,i=[],o,a,l,u,d,p;if(e<=0)throw Error("Illegal len: "+e);for(;n<r-1&&s<e&&(p=t.charCodeAt(n++),o=p<Yr.length?Yr[p]:-1,p=t.charCodeAt(n++),a=p<Yr.length?Yr[p]:-1,!(o==-1||a==-1||(d=o<<2>>>0,d|=(a&48)>>4,i.push(String.fromCharCode(d)),++s>=e||n>=r)||(p=t.charCodeAt(n++),l=p<Yr.length?Yr[p]:-1,l==-1)||(d=(a&15)<<4>>>0,d|=(l&60)>>2,i.push(String.fromCharCode(d)),++s>=e||n>=r)));)p=t.charCodeAt(n++),u=p<Yr.length?Yr[p]:-1,d=(l&3)<<6>>>0,d|=u,i.push(String.fromCharCode(d)),++s;var f=[];for(n=0;n<s;n++)f.push(i[n].charCodeAt(0));return f}var zl=16,Y0=10,X7=16,J7=100,uw=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],dw=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],$S=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Bl(t,e,n,r){var s,i=t[e],o=t[e+1];return i^=n[0],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[1],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[2],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[3],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[4],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[5],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[6],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[7],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[8],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[9],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[10],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[11],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[12],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[13],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[14],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[15],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[16],t[e]=o^n[X7+1],t[e+1]=i,t}function Gi(t,e){for(var n=0,r=0;n<4;++n)r=r<<8|t[e]&255,e=(e+1)%t.length;return{key:r,offp:e}}function hw(t,e,n){for(var r=0,s=[0,0],i=e.length,o=n.length,a,l=0;l<i;l++)a=Gi(t,r),r=a.offp,e[l]=e[l]^a.key;for(l=0;l<i;l+=2)s=Bl(s,0,e,n),e[l]=s[0],e[l+1]=s[1];for(l=0;l<o;l+=2)s=Bl(s,0,e,n),n[l]=s[0],n[l+1]=s[1]}function Z7(t,e,n,r){for(var s=0,i=[0,0],o=n.length,a=r.length,l,u=0;u<o;u++)l=Gi(e,s),s=l.offp,n[u]=n[u]^l.key;for(s=0,u=0;u<o;u+=2)l=Gi(t,s),s=l.offp,i[0]^=l.key,l=Gi(t,s),s=l.offp,i[1]^=l.key,i=Bl(i,0,n,r),n[u]=i[0],n[u+1]=i[1];for(u=0;u<a;u+=2)l=Gi(t,s),s=l.offp,i[0]^=l.key,l=Gi(t,s),s=l.offp,i[1]^=l.key,i=Bl(i,0,n,r),r[u]=i[0],r[u+1]=i[1]}function fw(t,e,n,r,s){var i=$S.slice(),o=i.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),r){kn(r.bind(this,a));return}else throw a;if(e.length!==zl)if(a=Error("Illegal salt length: "+e.length+" != "+zl),r){kn(r.bind(this,a));return}else throw a;n=1<<n>>>0;var l,u,d=0,p;typeof Int32Array=="function"?(l=new Int32Array(uw),u=new Int32Array(dw)):(l=uw.slice(),u=dw.slice()),Z7(e,t,l,u);function f(){if(s&&s(d/n),d<n)for(var _=Date.now();d<n&&(d=d+1,hw(t,l,u),hw(e,l,u),!(Date.now()-_>J7)););else{for(d=0;d<64;d++)for(p=0;p<o>>1;p++)Bl(i,p<<1,l,u);var x=[];for(d=0;d<o;d++)x.push((i[d]>>24&255)>>>0),x.push((i[d]>>16&255)>>>0),x.push((i[d]>>8&255)>>>0),x.push((i[d]&255)>>>0);if(r){r(null,x);return}else return x}r&&kn(f)}if(typeof r<"u")f();else for(var v;;)if(typeof(v=f())<"u")return v||[]}function km(t,e,n,r){var s;if(typeof t!="string"||typeof e!="string")if(s=Error("Invalid string / salt: Not a string"),n){kn(n.bind(this,s));return}else throw s;var i,o;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(s=Error("Invalid salt version: "+e.substring(0,2)),n){kn(n.bind(this,s));return}else throw s;if(e.charAt(2)==="$")i="\0",o=3;else{if(i=e.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||e.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+e.substring(2,4)),n){kn(n.bind(this,s));return}else throw s;o=4}if(e.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),n){kn(n.bind(this,s));return}else throw s;var a=parseInt(e.substring(o,o+1),10)*10,l=parseInt(e.substring(o+1,o+2),10),u=a+l,d=e.substring(o+3,o+25);t+=i>="a"?"\0":"";var p=Y7(t),f=US(d,zl);function v(_){var x=[];return x.push("$2"),i>="a"&&x.push(i),x.push("$"),u<10&&x.push("0"),x.push(u.toString()),x.push("$"),x.push(kd(f,f.length)),x.push(kd(_,$S.length*4-1)),x.join("")}if(typeof n>"u")return v(fw(p,f,u));fw(p,f,u,function(_,x){_?n(_,null):n(null,v(x))},r)}function eM(t,e){return kd(t,e)}function tM(t,e){return US(t,e)}const Om={setRandomFallback:H7,genSaltSync:Q0,genSalt:jS,hashSync:MS,hash:LS,compareSync:W7,compare:q7,getRounds:G7,getSalt:K7,truncates:Q7,encodeBase64:eM,decodeBase64:tM},nM=()=>{const[t,e]=I.useState(""),[n,r]=I.useState(""),[s,i]=I.useState(""),[o,a]=I.useState(""),[l,u]=I.useState(!1),[d,p]=I.useState(!1),[f,v]=I.useState(!1),_=Zo(),{login:x}=ca(),E=P=>/^[A-Za-z]+$/.test(P),w=P=>/^[A-Za-z._%+-]+[A-Za-z._%+-]*@[A-Za-z.-]+\.[A-Za-z]{2,}$/.test(P),y=P=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(P),b=async P=>{if(P.preventDefault(),!t||!n||!s||!o){Se.error("يرجى ملء جميع الحقول");return}if(!E(t)){Se.error("الاسم يجب أن يحتوي فقط على حروف إنجليزية بدون فوارز أو مسافات");return}if(!w(n)){Se.error("البريد الإلكتروني غير صالح. يجب أن لا يبدأ برقم");return}if(!y(s)){Se.error("كلمة المرور يجب أن تكون على الأقل 8 أحرف وتحتوي على حروف وأرقام");return}if(s!==o){Se.error("كلمتا المرور غير متطابقتين");return}try{const D=pi(Lt,"users"),j=Ch(D,Rh("email","==",n));if(!(await yo(j)).empty){Se.error("هذا البريد الإلكتروني مسجل مسبقاً");return}const A=(await L8(Zj,n,s)).user,R=await Om.genSalt(10),k=await Om.hash(s,R),O={id:A.uid,name:t,email:n,password:k,isVerified:!0,isAdmin:f,points:0,createdAt:new Date};console.log("Storing user data in Firestore:",O),await D0(wr(Lt,"users",A.uid),O),x({name:t,id:A.uid,email:n,points:0});const N=localStorage.getItem("user");console.log("User stored in localStorage after signup:",N),Se.success("تم التسجيل بنجاح!"),_("/")}catch(D){console.error("حدث خطأ أثناء التسجيل:",D);let j="حدث خطأ، يرجى المحاولة لاحقًا";D.code==="auth/email-already-in-use"?j="هذا البريد الإلكتروني مسجل مسبقاً":D.code==="auth/invalid-email"?j="البريد الإلكتروني غير صالح":D.code==="auth/weak-password"?j="كلمة المرور ضعيفة. يجب أن تكون على الأقل 6 أحرف":D.code==="auth/network-request-failed"?j="فشل الاتصال بالإنترنت. يرجى التحقق من اتصالك":D.code==="permission-denied"&&(j="لا يوجد إذن للقيام بهذه العملية. يرجى التحقق من إعدادات الإذن"),Se.error(j)}};return h.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[h.jsx(Ks,{}),h.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:"تسجيل حساب جديد"}),h.jsxs("form",{className:"space-y-6",onSubmit:b,children:[h.jsxs("div",{className:"relative",children:[h.jsx(ot,{htmlFor:"name",children:"الاسم"}),h.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(MN,{className:"h-5 w-5 text-gray-400"})}),h.jsx(an,{id:"name",type:"text",value:t,onChange:P=>e(P.target.value),required:!0,className:"pl-10"})]})]}),h.jsxs("div",{className:"relative",children:[h.jsx(ot,{htmlFor:"email",children:"البريد الإلكتروني"}),h.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Ib,{className:"h-5 w-5 text-gray-400"})}),h.jsx(an,{id:"email",type:"email",value:n,onChange:P=>r(P.target.value),required:!0,className:"pl-10"})]})]}),h.jsxs("div",{className:"relative",children:[h.jsx(ot,{htmlFor:"password",children:"كلمة المرور"}),h.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Tb,{className:"h-5 w-5 text-gray-400"})}),h.jsx(an,{id:"password",type:l?"text":"password",value:s,onChange:P=>i(P.target.value),required:!0,className:"pl-10 pr-10"}),h.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?h.jsx(Gp,{className:"h-5 w-5 text-gray-400"}):h.jsx(Kp,{className:"h-5 w-5 text-gray-400"})})]})]}),h.jsxs("div",{className:"relative",children:[h.jsx(ot,{htmlFor:"confirm-password",children:"تأكيد كلمة المرور"}),h.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(NN,{className:"h-5 w-5 text-gray-400"})}),h.jsx(an,{id:"confirm-password",type:d?"text":"password",value:o,onChange:P=>a(P.target.value),required:!0,className:"pl-10 pr-10"}),h.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?h.jsx(Gp,{className:"h-5 w-5 text-gray-400"}):h.jsx(Kp,{className:"h-5 w-5 text-gray-400"})})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"admin",type:"checkbox",checked:f,onChange:P=>v(P.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.jsx(ot,{htmlFor:"admin",className:"ml-2 block text-sm text-gray-900",children:"تسجيل كمدير"})]}),h.jsx(lt,{type:"submit",className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:"تسجيل"})]}),h.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["هل لديك حساب بالفعل؟ ",h.jsx(ke,{to:"/login",className:"text-blue-500",children:"سجل دخولك"})]})]})}),h.jsx(Qs,{})]})},rM=()=>{const[t,e]=I.useState(""),[n,r]=I.useState(""),[s,i]=I.useState(!1),o=Zo(),{login:a}=ca(),l=p=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(p),u=p=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(p),d=async p=>{if(p.preventDefault(),!t||!n){Se.error("يرجى ملء جميع الحقول");return}if(!l(t)){Se.error("البريد الإلكتروني غير صالح");return}if(!u(n)){Se.error("كلمة المرور يجب أن تكون على الأقل 8 أحرف وتحتوي على حروف وأرقام");return}try{const f=pi(Lt,"users"),v=Ch(f,Rh("email","==",t)),_=await yo(v);if(_.empty){Se.error("البريد الإلكتروني أو كلمة المرور غير صحيحة");return}const x=_.docs[0].data();if(console.log("User data from Firestore:",x),!x.password){Se.error("كلمة المرور غير موجودة في قاعدة البيانات");return}if(!await Om.compare(n,x.password)){Se.error("كلمة المرور غير صحيحة");return}if(!x.isVerified){Se.error("حسابك غير مفعّل. يرجى التحقق من بريدك الإلكتروني");return}a({name:x.name,id:x.id,email:x.email,profilePicture:x.profilePicture||void 0,isAdmin:x.isAdmin||!1,points:x.points||0}),o("/")}catch(f){console.error("حدث خطأ أثناء التسجيل:",f),Se.error("حدث خطأ، يرجى المحاولة لاحقًا")}};return h.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[h.jsx(Ks,{}),h.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:"تسجيل الدخول"}),h.jsxs("form",{className:"space-y-6",onSubmit:d,children:[h.jsxs("div",{className:"relative",children:[h.jsx(ot,{htmlFor:"email",children:"البريد الإلكتروني"}),h.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Ib,{className:"h-5 w-5 text-gray-400"})}),h.jsx(an,{id:"email",type:"email",value:t,onChange:p=>e(p.target.value),required:!0,className:"pl-10"})]})]}),h.jsxs("div",{className:"relative",children:[h.jsx(ot,{htmlFor:"password",children:"كلمة المرور"}),h.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Tb,{className:"h-5 w-5 text-gray-400"})}),h.jsx(an,{id:"password",type:s?"text":"password",value:n,onChange:p=>r(p.target.value),required:!0,className:"pl-10 pr-10"}),h.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?h.jsx(Gp,{className:"h-5 w-5 text-gray-400"}):h.jsx(Kp,{className:"h-5 w-5 text-gray-400"})})]})]}),h.jsx(lt,{type:"submit",className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:"دخول"})]}),h.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["ليس لديك حساب؟ ",h.jsx(ke,{to:"/signup",className:"text-blue-500",children:"أنشئ حساب جديد"})]})]})}),h.jsx(Qs,{})]})},sM=()=>{const{user:t,updatePoints:e}=ca(),n=Zo(),[r,s]=I.useState([]),[i,o]=I.useState([]),[a,l]=I.useState(""),[u,d]=I.useState({}),[p,f]=I.useState({});if(I.useEffect(()=>{!t||!t.isAdmin?n("/"):(async()=>{try{const b=pi(Lt,"users"),D=(await yo(b)).docs.map(A=>({firebaseId:A.id,...A.data()}));s(D);const j=pi(Lt,"orders"),T=(await yo(j)).docs.map(A=>({firebaseId:A.id,...A.data()}));o(T)}catch(b){console.error("حدث خطأ أثناء جلب البيانات:",b)}})()},[t,n]),!t||!t.isAdmin)return null;const v=async y=>{const b=String(y);if(console.log("Attempting to delete user with id:",b),window.confirm("هل أنت متأكد أنك تريد حذف هذا المستخدم؟"))try{const P=wr(Lt,"users",b);await VD(P),s(D=>D.filter(j=>j.firebaseId!==b)),Se.success("تم حذف المستخدم بنجاح")}catch(P){console.error("فشل الحذف:",P),Se.error("حدث خطأ أثناء حذف المستخدم")}},_=async(y,b)=>{try{const P=wr(Lt,"users",String(y)),D=await dI(P);if(D.exists()){const j=D.data(),C=typeof j.points=="number"?j.points:0,T=Math.max(C+b,0);await D0(P,{points:T},{merge:!0}),t&&t.id===j.id&&e(T),s(A=>A.map(R=>R.firebaseId===y?{...R,points:T}:R)),Se.success(`تم ${b>0?"زيادة":"خصم"} النقاط بنجاح`)}else Se.error("المستخدم غير موجود")}catch(P){console.error("حدث خطأ أثناء تحديث النقاط:",P),Se.error("حدث خطأ، يرجى المحاولة لاحقًا")}},x=async()=>{if(!a){Se.error("يرجى إدخال معرف المستخدم");return}try{const y=pi(Lt,"users"),b=Ch(y,Rh("id","==",parseInt(a,10))),P=await yo(b);if(P.empty)Se.error("المستخدم غير موجود");else{const D=P.docs.map(j=>({firebaseId:j.id,...j.data()}));s(D)}}catch(y){console.error("حدث خطأ أثناء البحث عن المستخدم:",y),Se.error("حدث خطأ، يرجى المحاولة لاحقًا")}},E=async(y,b,P=null)=>{try{const D=wr(Lt,"orders",y);await hI(D,{status:b,rejectionReason:P}),o(j=>j.map(C=>C.firebaseId===y?{...C,status:b,rejectionReason:P}:C)),Se.success(`تم تحديث حالة الطلب إلى: ${b}`)}catch(D){console.error("حدث خطأ أثناء تحديث حالة الطلب:",D),Se.error("حدث خطأ أثناء تحديث حالة الطلب")}},w=y=>{try{if(y!=null&&y.toDate)return new Date(y.toDate()).toLocaleDateString()}catch{return"N/A"}return"N/A"};return h.jsxs("div",{className:"flex flex-col min-h-screen",children:[h.jsx(Ks,{}),h.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100 py-8",children:h.jsxs("div",{className:"max-w-6xl w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8",children:"لوحة التحكم"}),h.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"إدارة المستخدمين"}),h.jsx("div",{className:"mb-4 flex justify-between items-center",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(an,{type:"text",placeholder:"بحث عن المستخدم من خلال المعرف",value:a,onChange:y=>l(y.target.value),className:"mr-2"}),h.jsx(lt,{onClick:x,className:"bg-blue-500 hover:bg-blue-700 text-white",children:"بحث"})]})}),h.jsx("div",{className:"overflow-x-auto mb-12",children:h.jsxs("table",{className:"min-w-full bg-white",children:[h.jsx("thead",{className:"bg-gray-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الاسم"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"المعرف"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"البريد الإلكتروني"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"تاريخ التسجيل"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"النقاط"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الإجراءات"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-right",children:r.map(y=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.name||"بدون اسم"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.id||"بدون معرف"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.email||"بدون بريد"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:w(y.createdAt)}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.points||0}),h.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 flex flex-wrap gap-1",children:[h.jsx(lt,{onClick:()=>v(y.firebaseId),className:"bg-red-500 hover:bg-red-700 text-white",children:"حذف"}),h.jsx(an,{type:"number",placeholder:"نقاط",className:"w-20 mr-2",value:u[y.firebaseId]||"",onChange:b=>d(P=>({...P,[y.firebaseId]:b.target.value}))}),h.jsx(lt,{onClick:()=>{_(y.firebaseId,parseInt(u[y.firebaseId],10)||0)},className:"bg-green-500 hover:bg-green-700 text-white",children:"+ نقاط"}),h.jsx(lt,{onClick:()=>{_(y.firebaseId,-(parseInt(u[y.firebaseId],10)||0))},className:"bg-yellow-500 hover:bg-yellow-700 text-white",children:"- نقاط"})]})]},y.firebaseId))})]})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"إدارة الطلبات"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full bg-white",children:[h.jsx("thead",{className:"bg-gray-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"معرف الطلب"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"معرف المستخدم"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"اسم المستخدم"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"البريد الإلكتروني للمستخدم"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"معرف الخدمة"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الكمية"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"النقاط المستخدمة"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الرابط الاجتماعي"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"طريقة الدفع"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"معلومات إضافية"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"تاريخ الطلب"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الحالة"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"سبب الرفض"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الإجراءات"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-right",children:i.map(y=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.firebaseId}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.userId}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.userName}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.userEmail}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.serviceId}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.quantity}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.totalPointsUsed}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 break-all",children:y.socialLink}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.paymentMethod}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.additionalInfo||"لا يوجد"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:w(y.timestamp)}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.status}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.rejectionReason||"لا يوجد"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 flex flex-col gap-2",children:y.status==="قيد التنفيذ"&&h.jsxs(h.Fragment,{children:[h.jsx(lt,{onClick:()=>E(y.firebaseId,"مقبول"),className:"bg-green-600 hover:bg-green-700 text-white text-xs py-1 px-2",children:"قبول"}),h.jsx(K0,{placeholder:"سبب الرفض (اختياري)",className:"w-full text-xs",value:p[y.firebaseId]||"",onChange:b=>f(P=>({...P,[y.firebaseId]:b.target.value}))}),h.jsx(lt,{onClick:()=>E(y.firebaseId,"مرفوض",p[y.firebaseId]||"لا يوجد سبب"),className:"bg-red-600 hover:bg-red-700 text-white text-xs py-1 px-2",children:"رفض"})]})})]},y.firebaseId))})]})})]})}),h.jsx(Qs,{})]})},iM=new H6,oM=()=>h.jsx(e7,{children:h.jsx(q6,{client:iM,children:h.jsxs(_6,{children:[h.jsx(v4,{}),h.jsx(G4,{}),h.jsxs(TP,{children:[h.jsx(qn,{path:"/",element:h.jsx(n7,{})}),h.jsx(qn,{path:"/services",element:h.jsx(b7,{})}),h.jsx(qn,{path:"/payment",element:h.jsx(V7,{})}),h.jsx(qn,{path:"/about-us",element:h.jsx(U7,{})}),h.jsx(qn,{path:"/order-tracking",element:h.jsx($7,{})}),h.jsx(qn,{path:"/signup",element:h.jsx(nM,{})}),h.jsx(qn,{path:"/login",element:h.jsx(rM,{})}),h.jsx(qn,{path:"/dashboard",element:h.jsx(sM,{})}),h.jsx(qn,{path:"*",element:h.jsx(F7,{})})]})]})})});qf.createRoot(document.getElementById("root")).render(h.jsx(NP,{children:h.jsx(oM,{})}));

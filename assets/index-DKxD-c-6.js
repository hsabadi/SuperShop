var ev=t=>{throw TypeError(t)};var Ih=(t,e,n)=>e.has(t)||ev("Cannot "+n);var U=(t,e,n)=>(Ih(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?ev("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(Ih(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(Ih(t,e,"access private method"),n);var pu=(t,e,n,r)=>({set _(s){ce(t,e,s,n)},get _(){return U(t,e,r)}});function cC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Aw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rw={exports:{}},gd={},Pw={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rl=Symbol.for("react.element"),dC=Symbol.for("react.portal"),hC=Symbol.for("react.fragment"),fC=Symbol.for("react.strict_mode"),pC=Symbol.for("react.profiler"),mC=Symbol.for("react.provider"),gC=Symbol.for("react.context"),yC=Symbol.for("react.forward_ref"),vC=Symbol.for("react.suspense"),_C=Symbol.for("react.memo"),wC=Symbol.for("react.lazy"),tv=Symbol.iterator;function xC(t){return t===null||typeof t!="object"?null:(t=tv&&t[tv]||t["@@iterator"],typeof t=="function"?t:null)}var Nw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kw=Object.assign,Ow={};function Fo(t,e,n){this.props=t,this.context=e,this.refs=Ow,this.updater=n||Nw}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dw(){}Dw.prototype=Fo.prototype;function em(t,e,n){this.props=t,this.context=e,this.refs=Ow,this.updater=n||Nw}var tm=em.prototype=new Dw;tm.constructor=em;kw(tm,Fo.prototype);tm.isPureReactComponent=!0;var nv=Array.isArray,Mw=Object.prototype.hasOwnProperty,nm={current:null},jw={key:!0,ref:!0,__self:!0,__source:!0};function Lw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Mw.call(e,r)&&!jw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Rl,type:t,key:i,ref:o,props:s,_owner:nm.current}}function EC(t,e){return{$$typeof:Rl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rl}function TC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rv=/\/+/g;function Sh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TC(""+t.key):e.toString(36)}function Hu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Rl:case dC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Sh(o,0):r,nv(s)?(n="",t!=null&&(n=t.replace(rv,"$&/")+"/"),Hu(s,e,n,"",function(c){return c})):s!=null&&(rm(s)&&(s=EC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(rv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",nv(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Sh(i,a);o+=Hu(i,e,n,u,s)}else if(u=xC(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Sh(i,a++),o+=Hu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mu(t,e,n){if(t==null)return t;var r=[],s=0;return Hu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function IC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},Wu={transition:null},SC={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Wu,ReactCurrentOwner:nm};function Vw(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:mu,forEach:function(t,e,n){mu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mu(t,function(){e++}),e},toArray:function(t){return mu(t,function(e){return e})||[]},only:function(t){if(!rm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Fo;he.Fragment=hC;he.Profiler=pC;he.PureComponent=em;he.StrictMode=fC;he.Suspense=vC;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SC;he.act=Vw;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=nm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Mw.call(e,u)&&!jw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Rl,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:gC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mC,_context:t},t.Consumer=t};he.createElement=Lw;he.createFactory=function(t){var e=Lw.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:yC,render:t}};he.isValidElement=rm;he.lazy=function(t){return{$$typeof:wC,_payload:{_status:-1,_result:t},_init:IC}};he.memo=function(t,e){return{$$typeof:_C,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Wu.transition;Wu.transition={};try{t()}finally{Wu.transition=e}};he.unstable_act=Vw;he.useCallback=function(t,e){return Dt.current.useCallback(t,e)};he.useContext=function(t){return Dt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Dt.current.useEffect(t,e)};he.useId=function(){return Dt.current.useId()};he.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Dt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};he.useRef=function(t){return Dt.current.useRef(t)};he.useState=function(t){return Dt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Dt.current.useTransition()};he.version="18.3.1";Pw.exports=he;var T=Pw.exports;const W=Aw(T),Fw=cC({__proto__:null,default:W},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC=T,CC=Symbol.for("react.element"),AC=Symbol.for("react.fragment"),RC=Object.prototype.hasOwnProperty,PC=bC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NC={key:!0,ref:!0,__self:!0,__source:!0};function Uw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RC.call(e,r)&&!NC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:CC,type:t,key:i,ref:o,props:s,_owner:PC.current}}gd.Fragment=AC;gd.jsx=Uw;gd.jsxs=Uw;Rw.exports=gd;var p=Rw.exports,vf={},$w={exports:{}},tn={},zw={exports:{}},Bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var X=L.length;L.push(B);e:for(;0<X;){var K=X-1>>>1,J=L[K];if(0<s(J,B))L[K]=B,L[X]=J,X=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],X=L.pop();if(X!==B){L[0]=X;e:for(var K=0,J=L.length,te=J>>>1;K<te;){var Ce=2*(K+1)-1,Ze=L[Ce],ve=Ce+1,mt=L[ve];if(0>s(Ze,X))ve<J&&0>s(mt,Ze)?(L[K]=mt,L[ve]=X,K=ve):(L[K]=Ze,L[Ce]=X,K=Ce);else if(ve<J&&0>s(mt,X))L[K]=mt,L[ve]=X,K=ve;else break e}}return B}function s(L,B){var X=L.sortIndex-B.sortIndex;return X!==0?X:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,m=null,h=3,y=!1,_=!1,x=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=L)r(c),B.sortIndex=B.expirationTime,e(u,B);else break;B=n(c)}}function k(L){if(x=!1,S(L),!_)if(n(u)!==null)_=!0,Z(D);else{var B=n(c);B!==null&&le(k,B.startTime-L)}}function D(L,B){_=!1,x&&(x=!1,w(E),E=-1),y=!0;var X=h;try{for(S(B),m=n(u);m!==null&&(!(m.expirationTime>B)||L&&!N());){var K=m.callback;if(typeof K=="function"){m.callback=null,h=m.priorityLevel;var J=K(m.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?m.callback=J:m===n(u)&&r(u),S(B)}else r(u);m=n(u)}if(m!==null)var te=!0;else{var Ce=n(c);Ce!==null&&le(k,Ce.startTime-B),te=!1}return te}finally{m=null,h=X,y=!1}}var j=!1,C=null,E=-1,A=5,R=-1;function N(){return!(t.unstable_now()-R<A)}function O(){if(C!==null){var L=t.unstable_now();R=L;var B=!0;try{B=C(!0,L)}finally{B?P():(j=!1,C=null)}}else j=!1}var P;if(typeof v=="function")P=function(){v(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,se=q.port2;q.port1.onmessage=O,P=function(){se.postMessage(null)}}else P=function(){I(O,0)};function Z(L){C=L,j||(j=!0,P())}function le(L,B){E=I(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,Z(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var X=h;h=B;try{return L()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=h;h=L;try{return B()}finally{h=X}},t.unstable_scheduleCallback=function(L,B,X){var K=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,L={id:d++,callback:B,priorityLevel:L,startTime:X,expirationTime:J,sortIndex:-1},X>K?(L.sortIndex=X,e(c,L),n(u)===null&&L===n(c)&&(x?(w(E),E=-1):x=!0,le(k,X-K))):(L.sortIndex=J,e(u,L),_||y||(_=!0,Z(D))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var B=h;return function(){var X=h;h=B;try{return L.apply(this,arguments)}finally{h=X}}}})(Bw);zw.exports=Bw;var kC=zw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC=T,en=kC;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hw=new Set,Qa={};function yi(t,e){_o(t,e),_o(t+"Capture",e)}function _o(t,e){for(Qa[t]=e,t=0;t<e.length;t++)Hw.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=Object.prototype.hasOwnProperty,DC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sv={},iv={};function MC(t){return _f.call(iv,t)?!0:_f.call(sv,t)?!1:DC.test(t)?iv[t]=!0:(sv[t]=!0,!1)}function jC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LC(t,e,n,r){if(e===null||typeof e>"u"||jC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var sm=/[\-:]([a-z])/g;function im(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sm,im);ft[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sm,im);ft[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sm,im);ft[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function om(t,e,n,r){var s=ft.hasOwnProperty(e)?ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LC(e,n,s,r)&&(n=null),r||s===null?MC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=OC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),am=Symbol.for("react.strict_mode"),wf=Symbol.for("react.profiler"),Ww=Symbol.for("react.provider"),qw=Symbol.for("react.context"),lm=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),Ef=Symbol.for("react.suspense_list"),um=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),Gw=Symbol.for("react.offscreen"),ov=Symbol.iterator;function ga(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,bh;function ba(t){if(bh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bh=e&&e[1]||""}return`
`+bh+t}var Ch=!1;function Ah(t,e){if(!t||Ch)return"";Ch=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ch=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ba(t):""}function VC(t){switch(t.tag){case 5:return ba(t.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 2:case 15:return t=Ah(t.type,!1),t;case 11:return t=Ah(t.type.render,!1),t;case 1:return t=Ah(t.type,!0),t;default:return""}}function Tf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fi:return"Fragment";case Vi:return"Portal";case wf:return"Profiler";case am:return"StrictMode";case xf:return"Suspense";case Ef:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qw:return(t.displayName||"Context")+".Consumer";case Ww:return(t._context.displayName||"Context")+".Provider";case lm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case um:return e=t.displayName||null,e!==null?e:Tf(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return Tf(t(e))}catch{}}return null}function FC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tf(e);case 8:return e===am?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Es(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UC(t){var e=Kw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yu(t){t._valueTracker||(t._valueTracker=UC(t))}function Qw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function If(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function av(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Es(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yw(t,e){e=e.checked,e!=null&&om(t,"checked",e,!1)}function Sf(t,e){Yw(t,e);var n=Es(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&bf(t,e.type,Es(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bf(t,e,n){(e!=="number"||yc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ca=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Es(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Cf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Ca(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Es(n)}}function Xw(t,e){var n=Es(e.value),r=Es(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Af(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vu,Zw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ya(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$C=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(t){$C.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oa[e]=Oa[t]})});function e1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oa.hasOwnProperty(t)&&Oa[t]?(""+e).trim():e+"px"}function t1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=e1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var zC=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rf(t,e){if(e){if(zC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Pf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=null;function cm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kf=null,Ji=null,Zi=null;function dv(t){if(t=kl(t)){if(typeof kf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=xd(e),kf(t.stateNode,t.type,e))}}function n1(t){Ji?Zi?Zi.push(t):Zi=[t]:Ji=t}function r1(){if(Ji){var t=Ji,e=Zi;if(Zi=Ji=null,dv(t),e)for(t=0;t<e.length;t++)dv(e[t])}}function s1(t,e){return t(e)}function i1(){}var Rh=!1;function o1(t,e,n){if(Rh)return t(e,n);Rh=!0;try{return s1(t,e,n)}finally{Rh=!1,(Ji!==null||Zi!==null)&&(i1(),r1())}}function Xa(t,e){var n=t.stateNode;if(n===null)return null;var r=xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Of=!1;if(_r)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){Of=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{Of=!1}function BC(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Da=!1,vc=null,_c=!1,Df=null,HC={onError:function(t){Da=!0,vc=t}};function WC(t,e,n,r,s,i,o,a,u){Da=!1,vc=null,BC.apply(HC,arguments)}function qC(t,e,n,r,s,i,o,a,u){if(WC.apply(this,arguments),Da){if(Da){var c=vc;Da=!1,vc=null}else throw Error(z(198));_c||(_c=!0,Df=c)}}function vi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function a1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hv(t){if(vi(t)!==t)throw Error(z(188))}function GC(t){var e=t.alternate;if(!e){if(e=vi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hv(s),t;if(i===r)return hv(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function l1(t){return t=GC(t),t!==null?u1(t):null}function u1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u1(t);if(e!==null)return e;t=t.sibling}return null}var c1=en.unstable_scheduleCallback,fv=en.unstable_cancelCallback,KC=en.unstable_shouldYield,QC=en.unstable_requestPaint,qe=en.unstable_now,YC=en.unstable_getCurrentPriorityLevel,dm=en.unstable_ImmediatePriority,d1=en.unstable_UserBlockingPriority,wc=en.unstable_NormalPriority,XC=en.unstable_LowPriority,h1=en.unstable_IdlePriority,yd=null,qn=null;function JC(t){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:tA,ZC=Math.log,eA=Math.LN2;function tA(t){return t>>>=0,t===0?32:31-(ZC(t)/eA|0)|0}var _u=64,wu=4194304;function Aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Aa(a):(i&=o,i!==0&&(r=Aa(i)))}else o=n&~s,o!==0?r=Aa(o):i!==0&&(r=Aa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),s=1<<n,r|=t[n],e&=~s;return r}function nA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-bn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=nA(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Mf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function f1(){var t=_u;return _u<<=1,!(_u&4194240)&&(_u=64),t}function Ph(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function sA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function hm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function p1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var m1,fm,g1,y1,v1,jf=!1,xu=[],as=null,ls=null,us=null,Ja=new Map,Za=new Map,qr=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pv(t,e){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Ja.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(e.pointerId)}}function va(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=kl(e),e!==null&&fm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function oA(t,e,n,r,s){switch(e){case"focusin":return as=va(as,t,e,n,r,s),!0;case"dragenter":return ls=va(ls,t,e,n,r,s),!0;case"mouseover":return us=va(us,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ja.set(i,va(Ja.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Za.set(i,va(Za.get(i)||null,t,e,n,r,s)),!0}return!1}function _1(t){var e=Gs(t.target);if(e!==null){var n=vi(e);if(n!==null){if(e=n.tag,e===13){if(e=a1(n),e!==null){t.blockedOn=e,v1(t.priority,function(){g1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nf=r,n.target.dispatchEvent(r),Nf=null}else return e=kl(n),e!==null&&fm(e),t.blockedOn=n,!1;e.shift()}return!0}function mv(t,e,n){qu(t)&&n.delete(e)}function aA(){jf=!1,as!==null&&qu(as)&&(as=null),ls!==null&&qu(ls)&&(ls=null),us!==null&&qu(us)&&(us=null),Ja.forEach(mv),Za.forEach(mv)}function _a(t,e){t.blockedOn===e&&(t.blockedOn=null,jf||(jf=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,aA)))}function el(t){function e(s){return _a(s,t)}if(0<xu.length){_a(xu[0],t);for(var n=1;n<xu.length;n++){var r=xu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(as!==null&&_a(as,t),ls!==null&&_a(ls,t),us!==null&&_a(us,t),Ja.forEach(e),Za.forEach(e),n=0;n<qr.length;n++)r=qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)_1(n),n.blockedOn===null&&qr.shift()}var eo=Pr.ReactCurrentBatchConfig,Ec=!0;function lA(t,e,n,r){var s=Te,i=eo.transition;eo.transition=null;try{Te=1,pm(t,e,n,r)}finally{Te=s,eo.transition=i}}function uA(t,e,n,r){var s=Te,i=eo.transition;eo.transition=null;try{Te=4,pm(t,e,n,r)}finally{Te=s,eo.transition=i}}function pm(t,e,n,r){if(Ec){var s=Lf(t,e,n,r);if(s===null)Uh(t,e,r,Tc,n),pv(t,r);else if(oA(s,t,e,n,r))r.stopPropagation();else if(pv(t,r),e&4&&-1<iA.indexOf(t)){for(;s!==null;){var i=kl(s);if(i!==null&&m1(i),i=Lf(t,e,n,r),i===null&&Uh(t,e,r,Tc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Uh(t,e,r,null,n)}}var Tc=null;function Lf(t,e,n,r){if(Tc=null,t=cm(r),t=Gs(t),t!==null)if(e=vi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=a1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tc=t,null}function w1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YC()){case dm:return 1;case d1:return 4;case wc:case XC:return 16;case h1:return 536870912;default:return 16}default:return 16}}var rs=null,mm=null,Gu=null;function x1(){if(Gu)return Gu;var t,e=mm,n=e.length,r,s="value"in rs?rs.value:rs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Gu=s.slice(t,1<r?1-r:void 0)}function Ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eu(){return!0}function gv(){return!1}function nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Eu:gv,this.isPropagationStopped=gv,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gm=nn(Uo),Nl=Ve({},Uo,{view:0,detail:0}),cA=nn(Nl),Nh,kh,wa,vd=Ve({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ym,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wa&&(wa&&t.type==="mousemove"?(Nh=t.screenX-wa.screenX,kh=t.screenY-wa.screenY):kh=Nh=0,wa=t),Nh)},movementY:function(t){return"movementY"in t?t.movementY:kh}}),yv=nn(vd),dA=Ve({},vd,{dataTransfer:0}),hA=nn(dA),fA=Ve({},Nl,{relatedTarget:0}),Oh=nn(fA),pA=Ve({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),mA=nn(pA),gA=Ve({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yA=nn(gA),vA=Ve({},Uo,{data:0}),vv=nn(vA),_A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xA[t])?!!e[t]:!1}function ym(){return EA}var TA=Ve({},Nl,{key:function(t){if(t.key){var e=_A[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ym,charCode:function(t){return t.type==="keypress"?Ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IA=nn(TA),SA=Ve({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_v=nn(SA),bA=Ve({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ym}),CA=nn(bA),AA=Ve({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),RA=nn(AA),PA=Ve({},vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NA=nn(PA),kA=[9,13,27,32],vm=_r&&"CompositionEvent"in window,Ma=null;_r&&"documentMode"in document&&(Ma=document.documentMode);var OA=_r&&"TextEvent"in window&&!Ma,E1=_r&&(!vm||Ma&&8<Ma&&11>=Ma),wv=" ",xv=!1;function T1(t,e){switch(t){case"keyup":return kA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function DA(t,e){switch(t){case"compositionend":return I1(e);case"keypress":return e.which!==32?null:(xv=!0,wv);case"textInput":return t=e.data,t===wv&&xv?null:t;default:return null}}function MA(t,e){if(Ui)return t==="compositionend"||!vm&&T1(t,e)?(t=x1(),Gu=mm=rs=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E1&&e.locale!=="ko"?null:e.data;default:return null}}var jA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jA[t.type]:e==="textarea"}function S1(t,e,n,r){n1(r),e=Ic(e,"onChange"),0<e.length&&(n=new gm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ja=null,tl=null;function LA(t){j1(t,0)}function _d(t){var e=Bi(t);if(Qw(e))return t}function VA(t,e){if(t==="change")return e}var b1=!1;if(_r){var Dh;if(_r){var Mh="oninput"in document;if(!Mh){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),Mh=typeof Tv.oninput=="function"}Dh=Mh}else Dh=!1;b1=Dh&&(!document.documentMode||9<document.documentMode)}function Iv(){ja&&(ja.detachEvent("onpropertychange",C1),tl=ja=null)}function C1(t){if(t.propertyName==="value"&&_d(tl)){var e=[];S1(e,tl,t,cm(t)),o1(LA,e)}}function FA(t,e,n){t==="focusin"?(Iv(),ja=e,tl=n,ja.attachEvent("onpropertychange",C1)):t==="focusout"&&Iv()}function UA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _d(tl)}function $A(t,e){if(t==="click")return _d(e)}function zA(t,e){if(t==="input"||t==="change")return _d(e)}function BA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var An=typeof Object.is=="function"?Object.is:BA;function nl(t,e){if(An(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_f.call(e,s)||!An(t[s],e[s]))return!1}return!0}function Sv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bv(t,e){var n=Sv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sv(n)}}function A1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?A1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function R1(){for(var t=window,e=yc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yc(t.document)}return e}function _m(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HA(t){var e=R1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&A1(n.ownerDocument.documentElement,n)){if(r!==null&&_m(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=bv(n,i);var o=bv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WA=_r&&"documentMode"in document&&11>=document.documentMode,$i=null,Vf=null,La=null,Ff=!1;function Cv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ff||$i==null||$i!==yc(r)||(r=$i,"selectionStart"in r&&_m(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&nl(La,r)||(La=r,r=Ic(Vf,"onSelect"),0<r.length&&(e=new gm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function Tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},jh={},P1={};_r&&(P1=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function wd(t){if(jh[t])return jh[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in P1)return jh[t]=e[n];return t}var N1=wd("animationend"),k1=wd("animationiteration"),O1=wd("animationstart"),D1=wd("transitionend"),M1=new Map,Av="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(t,e){M1.set(t,e),yi(e,[t])}for(var Lh=0;Lh<Av.length;Lh++){var Vh=Av[Lh],qA=Vh.toLowerCase(),GA=Vh[0].toUpperCase()+Vh.slice(1);Ms(qA,"on"+GA)}Ms(N1,"onAnimationEnd");Ms(k1,"onAnimationIteration");Ms(O1,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(D1,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Rv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qC(r,e,void 0,t),t.currentTarget=null}function j1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Rv(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Rv(s,a,c),i=u}}}if(_c)throw t=Df,_c=!1,Df=null,t}function Pe(t,e){var n=e[Hf];n===void 0&&(n=e[Hf]=new Set);var r=t+"__bubble";n.has(r)||(L1(e,t,2,!1),n.add(r))}function Fh(t,e,n){var r=0;e&&(r|=4),L1(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function rl(t){if(!t[Iu]){t[Iu]=!0,Hw.forEach(function(n){n!=="selectionchange"&&(KA.has(n)||Fh(n,!1,t),Fh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,Fh("selectionchange",!1,e))}}function L1(t,e,n,r){switch(w1(e)){case 1:var s=lA;break;case 4:s=uA;break;default:s=pm}n=s.bind(null,e,n,t),s=void 0,!Of||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Uh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gs(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}o1(function(){var c=i,d=cm(n),m=[];e:{var h=M1.get(t);if(h!==void 0){var y=gm,_=t;switch(t){case"keypress":if(Ku(n)===0)break e;case"keydown":case"keyup":y=IA;break;case"focusin":_="focus",y=Oh;break;case"focusout":_="blur",y=Oh;break;case"beforeblur":case"afterblur":y=Oh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=hA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=CA;break;case N1:case k1:case O1:y=mA;break;case D1:y=RA;break;case"scroll":y=cA;break;case"wheel":y=NA;break;case"copy":case"cut":case"paste":y=yA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_v}var x=(e&4)!==0,I=!x&&t==="scroll",w=x?h!==null?h+"Capture":null:h;x=[];for(var v=c,S;v!==null;){S=v;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,w!==null&&(k=Xa(v,w),k!=null&&x.push(sl(v,k,S)))),I)break;v=v.return}0<x.length&&(h=new y(h,_,null,n,d),m.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Nf&&(_=n.relatedTarget||n.fromElement)&&(Gs(_)||_[wr]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=c,_=_?Gs(_):null,_!==null&&(I=vi(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=c),y!==_)){if(x=yv,k="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=_v,k="onPointerLeave",w="onPointerEnter",v="pointer"),I=y==null?h:Bi(y),S=_==null?h:Bi(_),h=new x(k,v+"leave",y,n,d),h.target=I,h.relatedTarget=S,k=null,Gs(d)===c&&(x=new x(w,v+"enter",_,n,d),x.target=S,x.relatedTarget=I,k=x),I=k,y&&_)t:{for(x=y,w=_,v=0,S=x;S;S=ki(S))v++;for(S=0,k=w;k;k=ki(k))S++;for(;0<v-S;)x=ki(x),v--;for(;0<S-v;)w=ki(w),S--;for(;v--;){if(x===w||w!==null&&x===w.alternate)break t;x=ki(x),w=ki(w)}x=null}else x=null;y!==null&&Pv(m,h,y,x,!1),_!==null&&I!==null&&Pv(m,I,_,x,!0)}}e:{if(h=c?Bi(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var D=VA;else if(Ev(h))if(b1)D=zA;else{D=UA;var j=FA}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=$A);if(D&&(D=D(t,c))){S1(m,D,n,d);break e}j&&j(t,h,c),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&bf(h,"number",h.value)}switch(j=c?Bi(c):window,t){case"focusin":(Ev(j)||j.contentEditable==="true")&&($i=j,Vf=c,La=null);break;case"focusout":La=Vf=$i=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Cv(m,n,d);break;case"selectionchange":if(WA)break;case"keydown":case"keyup":Cv(m,n,d)}var C;if(vm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ui?T1(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(E1&&n.locale!=="ko"&&(Ui||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ui&&(C=x1()):(rs=d,mm="value"in rs?rs.value:rs.textContent,Ui=!0)),j=Ic(c,E),0<j.length&&(E=new vv(E,t,null,n,d),m.push({event:E,listeners:j}),C?E.data=C:(C=I1(n),C!==null&&(E.data=C)))),(C=OA?DA(t,n):MA(t,n))&&(c=Ic(c,"onBeforeInput"),0<c.length&&(d=new vv("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=C))}j1(m,e)})}function sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ic(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xa(t,n),i!=null&&r.unshift(sl(t,i,s)),i=Xa(t,e),i!=null&&r.push(sl(t,i,s))),t=t.return}return r}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Xa(n,i),u!=null&&o.unshift(sl(n,u,a))):s||(u=Xa(n,i),u!=null&&o.push(sl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QA=/\r\n?/g,YA=/\u0000|\uFFFD/g;function Nv(t){return(typeof t=="string"?t:""+t).replace(QA,`
`).replace(YA,"")}function Su(t,e,n){if(e=Nv(e),Nv(t)!==e&&n)throw Error(z(425))}function Sc(){}var Uf=null,$f=null;function zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bf=typeof setTimeout=="function"?setTimeout:void 0,XA=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(t){return kv.resolve(null).then(t).catch(ZA)}:Bf;function ZA(t){setTimeout(function(){throw t})}function $h(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),el(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);el(e)}function cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ov(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Hn="__reactFiber$"+$o,il="__reactProps$"+$o,wr="__reactContainer$"+$o,Hf="__reactEvents$"+$o,eR="__reactListeners$"+$o,tR="__reactHandles$"+$o;function Gs(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wr]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ov(t);t!==null;){if(n=t[Hn])return n;t=Ov(t)}return e}t=n,n=t.parentNode}return null}function kl(t){return t=t[Hn]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function xd(t){return t[il]||null}var Wf=[],Hi=-1;function js(t){return{current:t}}function ke(t){0>Hi||(t.current=Wf[Hi],Wf[Hi]=null,Hi--)}function be(t,e){Hi++,Wf[Hi]=t.current,t.current=e}var Ts={},Ct=js(Ts),Ut=js(!1),si=Ts;function wo(t,e){var n=t.type.contextTypes;if(!n)return Ts;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $t(t){return t=t.childContextTypes,t!=null}function bc(){ke(Ut),ke(Ct)}function Dv(t,e,n){if(Ct.current!==Ts)throw Error(z(168));be(Ct,e),be(Ut,n)}function V1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,FC(t)||"Unknown",s));return Ve({},n,r)}function Cc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ts,si=Ct.current,be(Ct,t),be(Ut,Ut.current),!0}function Mv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=V1(t,e,si),r.__reactInternalMemoizedMergedChildContext=t,ke(Ut),ke(Ct),be(Ct,t)):ke(Ut),be(Ut,n)}var dr=null,Ed=!1,zh=!1;function F1(t){dr===null?dr=[t]:dr.push(t)}function nR(t){Ed=!0,F1(t)}function Ls(){if(!zh&&dr!==null){zh=!0;var t=0,e=Te;try{var n=dr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Ed=!1}catch(s){throw dr!==null&&(dr=dr.slice(t+1)),c1(dm,Ls),s}finally{Te=e,zh=!1}}return null}var Wi=[],qi=0,Ac=null,Rc=0,sn=[],on=0,ii=null,fr=1,pr="";function Hs(t,e){Wi[qi++]=Rc,Wi[qi++]=Ac,Ac=t,Rc=e}function U1(t,e,n){sn[on++]=fr,sn[on++]=pr,sn[on++]=ii,ii=t;var r=fr;t=pr;var s=32-bn(r)-1;r&=~(1<<s),n+=1;var i=32-bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fr=1<<32-bn(e)+s|n<<s|r,pr=i+t}else fr=1<<i|n<<s|r,pr=t}function wm(t){t.return!==null&&(Hs(t,1),U1(t,1,0))}function xm(t){for(;t===Ac;)Ac=Wi[--qi],Wi[qi]=null,Rc=Wi[--qi],Wi[qi]=null;for(;t===ii;)ii=sn[--on],sn[on]=null,pr=sn[--on],sn[on]=null,fr=sn[--on],sn[on]=null}var Xt=null,Yt=null,Me=!1,Tn=null;function $1(t,e){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ii!==null?{id:fr,overflow:pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Yt=null,!0):!1;default:return!1}}function qf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gf(t){if(Me){var e=Yt;if(e){var n=e;if(!jv(t,e)){if(qf(t))throw Error(z(418));e=cs(n.nextSibling);var r=Xt;e&&jv(t,e)?$1(r,n):(t.flags=t.flags&-4097|2,Me=!1,Xt=t)}}else{if(qf(t))throw Error(z(418));t.flags=t.flags&-4097|2,Me=!1,Xt=t}}}function Lv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function bu(t){if(t!==Xt)return!1;if(!Me)return Lv(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zf(t.type,t.memoizedProps)),e&&(e=Yt)){if(qf(t))throw z1(),Error(z(418));for(;e;)$1(t,e),e=cs(e.nextSibling)}if(Lv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Xt?cs(t.stateNode.nextSibling):null;return!0}function z1(){for(var t=Yt;t;)t=cs(t.nextSibling)}function xo(){Yt=Xt=null,Me=!1}function Em(t){Tn===null?Tn=[t]:Tn.push(t)}var rR=Pr.ReactCurrentBatchConfig;function xa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Cu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vv(t){var e=t._init;return e(t._payload)}function B1(t){function e(w,v){if(t){var S=w.deletions;S===null?(w.deletions=[v],w.flags|=16):S.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=ps(w,v),w.index=0,w.sibling=null,w}function i(w,v,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<v?(w.flags|=2,v):S):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,S,k){return v===null||v.tag!==6?(v=Qh(S,w.mode,k),v.return=w,v):(v=s(v,S),v.return=w,v)}function u(w,v,S,k){var D=S.type;return D===Fi?d(w,v,S.props.children,k,S.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Hr&&Vv(D)===v.type)?(k=s(v,S.props),k.ref=xa(w,v,S),k.return=w,k):(k=tc(S.type,S.key,S.props,null,w.mode,k),k.ref=xa(w,v,S),k.return=w,k)}function c(w,v,S,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Yh(S,w.mode,k),v.return=w,v):(v=s(v,S.children||[]),v.return=w,v)}function d(w,v,S,k,D){return v===null||v.tag!==7?(v=ni(S,w.mode,k,D),v.return=w,v):(v=s(v,S),v.return=w,v)}function m(w,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Qh(""+v,w.mode,S),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gu:return S=tc(v.type,v.key,v.props,null,w.mode,S),S.ref=xa(w,null,v),S.return=w,S;case Vi:return v=Yh(v,w.mode,S),v.return=w,v;case Hr:var k=v._init;return m(w,k(v._payload),S)}if(Ca(v)||ga(v))return v=ni(v,w.mode,S,null),v.return=w,v;Cu(w,v)}return null}function h(w,v,S,k){var D=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(w,v,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gu:return S.key===D?u(w,v,S,k):null;case Vi:return S.key===D?c(w,v,S,k):null;case Hr:return D=S._init,h(w,v,D(S._payload),k)}if(Ca(S)||ga(S))return D!==null?null:d(w,v,S,k,null);Cu(w,S)}return null}function y(w,v,S,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(S)||null,a(v,w,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case gu:return w=w.get(k.key===null?S:k.key)||null,u(v,w,k,D);case Vi:return w=w.get(k.key===null?S:k.key)||null,c(v,w,k,D);case Hr:var j=k._init;return y(w,v,S,j(k._payload),D)}if(Ca(k)||ga(k))return w=w.get(S)||null,d(v,w,k,D,null);Cu(v,k)}return null}function _(w,v,S,k){for(var D=null,j=null,C=v,E=v=0,A=null;C!==null&&E<S.length;E++){C.index>E?(A=C,C=null):A=C.sibling;var R=h(w,C,S[E],k);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(w,C),v=i(R,v,E),j===null?D=R:j.sibling=R,j=R,C=A}if(E===S.length)return n(w,C),Me&&Hs(w,E),D;if(C===null){for(;E<S.length;E++)C=m(w,S[E],k),C!==null&&(v=i(C,v,E),j===null?D=C:j.sibling=C,j=C);return Me&&Hs(w,E),D}for(C=r(w,C);E<S.length;E++)A=y(C,w,E,S[E],k),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?E:A.key),v=i(A,v,E),j===null?D=A:j.sibling=A,j=A);return t&&C.forEach(function(N){return e(w,N)}),Me&&Hs(w,E),D}function x(w,v,S,k){var D=ga(S);if(typeof D!="function")throw Error(z(150));if(S=D.call(S),S==null)throw Error(z(151));for(var j=D=null,C=v,E=v=0,A=null,R=S.next();C!==null&&!R.done;E++,R=S.next()){C.index>E?(A=C,C=null):A=C.sibling;var N=h(w,C,R.value,k);if(N===null){C===null&&(C=A);break}t&&C&&N.alternate===null&&e(w,C),v=i(N,v,E),j===null?D=N:j.sibling=N,j=N,C=A}if(R.done)return n(w,C),Me&&Hs(w,E),D;if(C===null){for(;!R.done;E++,R=S.next())R=m(w,R.value,k),R!==null&&(v=i(R,v,E),j===null?D=R:j.sibling=R,j=R);return Me&&Hs(w,E),D}for(C=r(w,C);!R.done;E++,R=S.next())R=y(C,w,E,R.value,k),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?E:R.key),v=i(R,v,E),j===null?D=R:j.sibling=R,j=R);return t&&C.forEach(function(O){return e(w,O)}),Me&&Hs(w,E),D}function I(w,v,S,k){if(typeof S=="object"&&S!==null&&S.type===Fi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case gu:e:{for(var D=S.key,j=v;j!==null;){if(j.key===D){if(D=S.type,D===Fi){if(j.tag===7){n(w,j.sibling),v=s(j,S.props.children),v.return=w,w=v;break e}}else if(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Hr&&Vv(D)===j.type){n(w,j.sibling),v=s(j,S.props),v.ref=xa(w,j,S),v.return=w,w=v;break e}n(w,j);break}else e(w,j);j=j.sibling}S.type===Fi?(v=ni(S.props.children,w.mode,k,S.key),v.return=w,w=v):(k=tc(S.type,S.key,S.props,null,w.mode,k),k.ref=xa(w,v,S),k.return=w,w=k)}return o(w);case Vi:e:{for(j=S.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(w,v.sibling),v=s(v,S.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Yh(S,w.mode,k),v.return=w,w=v}return o(w);case Hr:return j=S._init,I(w,v,j(S._payload),k)}if(Ca(S))return _(w,v,S,k);if(ga(S))return x(w,v,S,k);Cu(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,S),v.return=w,w=v):(n(w,v),v=Qh(S,w.mode,k),v.return=w,w=v),o(w)):n(w,v)}return I}var Eo=B1(!0),H1=B1(!1),Pc=js(null),Nc=null,Gi=null,Tm=null;function Im(){Tm=Gi=Nc=null}function Sm(t){var e=Pc.current;ke(Pc),t._currentValue=e}function Kf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){Nc=t,Tm=Gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Tm!==t)if(t={context:t,memoizedValue:e,next:null},Gi===null){if(Nc===null)throw Error(z(308));Gi=t,Nc.dependencies={lanes:0,firstContext:t}}else Gi=Gi.next=t;return e}var Ks=null;function bm(t){Ks===null?Ks=[t]:Ks.push(t)}function W1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,bm(e)):(n.next=s.next,s.next=n),e.interleaved=n,xr(t,r)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function Cm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,xr(t,n)}return s=r.interleaved,s===null?(e.next=e,bm(r)):(e.next=s.next,s.next=e),r.interleaved=e,xr(t,n)}function Qu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hm(t,n)}}function Fv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kc(t,e,n,r){var s=t.updateQueue;Wr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var m=s.baseState;o=0,d=c=u=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(h=e,y=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){m=_.call(y,m,h);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,h=typeof _=="function"?_.call(y,m,h):_,h==null)break e;m=Ve({},m,h);break e;case 2:Wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=m):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=m),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ai|=o,t.lanes=o,t.memoizedState=m}}function Uv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Ol={},Gn=js(Ol),ol=js(Ol),al=js(Ol);function Qs(t){if(t===Ol)throw Error(z(174));return t}function Am(t,e){switch(be(al,e),be(ol,t),be(Gn,Ol),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Af(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Af(e,t)}ke(Gn),be(Gn,e)}function To(){ke(Gn),ke(ol),ke(al)}function G1(t){Qs(al.current);var e=Qs(Gn.current),n=Af(e,t.type);e!==n&&(be(ol,t),be(Gn,n))}function Rm(t){ol.current===t&&(ke(Gn),ke(ol))}var je=js(0);function Oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bh=[];function Pm(){for(var t=0;t<Bh.length;t++)Bh[t]._workInProgressVersionPrimary=null;Bh.length=0}var Yu=Pr.ReactCurrentDispatcher,Hh=Pr.ReactCurrentBatchConfig,oi=0,Le=null,et=null,ot=null,Dc=!1,Va=!1,ll=0,sR=0;function wt(){throw Error(z(321))}function Nm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!An(t[n],e[n]))return!1;return!0}function km(t,e,n,r,s,i){if(oi=i,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yu.current=t===null||t.memoizedState===null?lR:uR,t=n(r,s),Va){i=0;do{if(Va=!1,ll=0,25<=i)throw Error(z(301));i+=1,ot=et=null,e.updateQueue=null,Yu.current=cR,t=n(r,s)}while(Va)}if(Yu.current=Mc,e=et!==null&&et.next!==null,oi=0,ot=et=Le=null,Dc=!1,e)throw Error(z(300));return t}function Om(){var t=ll!==0;return ll=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Le.memoizedState=ot=t:ot=ot.next=t,ot}function fn(){if(et===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=ot===null?Le.memoizedState:ot.next;if(e!==null)ot=e,et=t;else{if(t===null)throw Error(z(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ot===null?Le.memoizedState=ot=t:ot=ot.next=t}return ot}function ul(t,e){return typeof e=="function"?e(t):e}function Wh(t){var e=fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((oi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=m,o=r):u=u.next=m,Le.lanes|=d,ai|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,An(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Le.lanes|=i,ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qh(t){var e=fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);An(i,e.memoizedState)||(Ft=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function K1(){}function Q1(t,e){var n=Le,r=fn(),s=e(),i=!An(r.memoizedState,s);if(i&&(r.memoizedState=s,Ft=!0),r=r.queue,Dm(J1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,cl(9,X1.bind(null,n,r,s,e),void 0,null),at===null)throw Error(z(349));oi&30||Y1(n,e,s)}return s}function Y1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function X1(t,e,n,r){e.value=n,e.getSnapshot=r,Z1(e)&&ex(t)}function J1(t,e,n){return n(function(){Z1(e)&&ex(t)})}function Z1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!An(t,n)}catch{return!0}}function ex(t){var e=xr(t,1);e!==null&&Cn(e,t,1,-1)}function $v(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:t},e.queue=t,t=t.dispatch=aR.bind(null,Le,t),[e.memoizedState,t]}function cl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tx(){return fn().memoizedState}function Xu(t,e,n,r){var s=Fn();Le.flags|=t,s.memoizedState=cl(1|e,n,void 0,r===void 0?null:r)}function Td(t,e,n,r){var s=fn();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&Nm(r,o.deps)){s.memoizedState=cl(e,n,i,r);return}}Le.flags|=t,s.memoizedState=cl(1|e,n,i,r)}function zv(t,e){return Xu(8390656,8,t,e)}function Dm(t,e){return Td(2048,8,t,e)}function nx(t,e){return Td(4,2,t,e)}function rx(t,e){return Td(4,4,t,e)}function sx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ix(t,e,n){return n=n!=null?n.concat([t]):null,Td(4,4,sx.bind(null,e,t),n)}function Mm(){}function ox(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ax(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lx(t,e,n){return oi&21?(An(n,e)||(n=f1(),Le.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function iR(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Hh.transition;Hh.transition={};try{t(!1),e()}finally{Te=n,Hh.transition=r}}function ux(){return fn().memoizedState}function oR(t,e,n){var r=fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cx(t))dx(e,n);else if(n=W1(t,e,n,r),n!==null){var s=Ot();Cn(n,t,r,s),hx(n,e,r)}}function aR(t,e,n){var r=fs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cx(t))dx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,An(a,o)){var u=e.interleaved;u===null?(s.next=s,bm(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=W1(t,e,s,r),n!==null&&(s=Ot(),Cn(n,t,r,s),hx(n,e,r))}}function cx(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function dx(t,e){Va=Dc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hm(t,n)}}var Mc={readContext:hn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},lR={readContext:hn,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:zv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xu(4194308,4,sx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xu(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oR.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:$v,useDebugValue:Mm,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=$v(!1),e=t[0];return t=iR.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,s=Fn();if(Me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),at===null)throw Error(z(349));oi&30||Y1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,zv(J1.bind(null,r,i,t),[t]),r.flags|=2048,cl(9,X1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Fn(),e=at.identifierPrefix;if(Me){var n=pr,r=fr;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uR={readContext:hn,useCallback:ox,useContext:hn,useEffect:Dm,useImperativeHandle:ix,useInsertionEffect:nx,useLayoutEffect:rx,useMemo:ax,useReducer:Wh,useRef:tx,useState:function(){return Wh(ul)},useDebugValue:Mm,useDeferredValue:function(t){var e=fn();return lx(e,et.memoizedState,t)},useTransition:function(){var t=Wh(ul)[0],e=fn().memoizedState;return[t,e]},useMutableSource:K1,useSyncExternalStore:Q1,useId:ux,unstable_isNewReconciler:!1},cR={readContext:hn,useCallback:ox,useContext:hn,useEffect:Dm,useImperativeHandle:ix,useInsertionEffect:nx,useLayoutEffect:rx,useMemo:ax,useReducer:qh,useRef:tx,useState:function(){return qh(ul)},useDebugValue:Mm,useDeferredValue:function(t){var e=fn();return et===null?e.memoizedState=t:lx(e,et.memoizedState,t)},useTransition:function(){var t=qh(ul)[0],e=fn().memoizedState;return[t,e]},useMutableSource:K1,useSyncExternalStore:Q1,useId:ux,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Id={isMounted:function(t){return(t=t._reactInternals)?vi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=fs(t),i=yr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ds(t,i,s),e!==null&&(Cn(e,t,s,r),Qu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=fs(t),i=yr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ds(t,i,s),e!==null&&(Cn(e,t,s,r),Qu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=fs(t),s=yr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ds(t,s,r),e!==null&&(Cn(e,t,r,n),Qu(e,t,r))}};function Bv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!nl(n,r)||!nl(s,i):!0}function fx(t,e,n){var r=!1,s=Ts,i=e.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=$t(e)?si:Ct.current,r=e.contextTypes,i=(r=r!=null)?wo(t,s):Ts),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Hv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Id.enqueueReplaceState(e,e.state,null)}function Yf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Cm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=$t(e)?si:Ct.current,s.context=wo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Id.enqueueReplaceState(s,s.state,null),kc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=VC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dR=typeof WeakMap=="function"?WeakMap:Map;function px(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lc||(Lc=!0,ap=r),Xf(t,e)},n}function mx(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xf(t,e),typeof r!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=SR.bind(null,t,e,n),e.then(t,t))}function qv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,ds(n,e,1))),n.lanes|=1),t)}var hR=Pr.ReactCurrentOwner,Ft=!1;function Nt(t,e,n,r){e.child=t===null?H1(e,null,n,r):Eo(e,t.child,n,r)}function Kv(t,e,n,r,s){n=n.render;var i=e.ref;return to(e,s),r=km(t,e,n,r,i,s),n=Om(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Er(t,e,s)):(Me&&n&&wm(e),e.flags|=1,Nt(t,e,r,s),e.child)}function Qv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Bm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,gx(t,e,i,r,s)):(t=tc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:nl,n(o,r)&&t.ref===e.ref)return Er(t,e,s)}return e.flags|=1,t=ps(i,r),t.ref=e.ref,t.return=e,e.child=t}function gx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(nl(i,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,Er(t,e,s)}return Jf(t,e,n,r,s)}function yx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Qi,Kt),Kt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(Qi,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,be(Qi,Kt),Kt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,be(Qi,Kt),Kt|=r;return Nt(t,e,s,n),e.child}function vx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jf(t,e,n,r,s){var i=$t(n)?si:Ct.current;return i=wo(e,i),to(e,s),n=km(t,e,n,r,i,s),r=Om(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Er(t,e,s)):(Me&&r&&wm(e),e.flags|=1,Nt(t,e,n,s),e.child)}function Yv(t,e,n,r,s){if($t(n)){var i=!0;Cc(e)}else i=!1;if(to(e,s),e.stateNode===null)Ju(t,e),fx(e,n,r),Yf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=$t(n)?si:Ct.current,c=wo(e,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Hv(e,o,r,c),Wr=!1;var h=e.memoizedState;o.state=h,kc(e,r,o,s),u=e.memoizedState,a!==r||h!==u||Ut.current||Wr?(typeof d=="function"&&(Qf(e,n,d,r),u=e.memoizedState),(a=Wr||Bv(e,n,a,r,h,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,q1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_n(e.type,a),o.props=c,m=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=hn(u):(u=$t(n)?si:Ct.current,u=wo(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||h!==u)&&Hv(e,o,r,u),Wr=!1,h=e.memoizedState,o.state=h,kc(e,r,o,s);var _=e.memoizedState;a!==m||h!==_||Ut.current||Wr?(typeof y=="function"&&(Qf(e,n,y,r),_=e.memoizedState),(c=Wr||Bv(e,n,c,r,h,_,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Zf(t,e,n,r,i,s)}function Zf(t,e,n,r,s,i){vx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Mv(e,n,!1),Er(t,e,i);r=e.stateNode,hR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Eo(e,t.child,null,i),e.child=Eo(e,null,a,i)):Nt(t,e,a,i),e.memoizedState=r.state,s&&Mv(e,n,!0),e.child}function _x(t){var e=t.stateNode;e.pendingContext?Dv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dv(t,e.context,!1),Am(t,e.containerInfo)}function Xv(t,e,n,r,s){return xo(),Em(s),e.flags|=256,Nt(t,e,n,r),e.child}var ep={dehydrated:null,treeContext:null,retryLane:0};function tp(t){return{baseLanes:t,cachePool:null,transitions:null}}function wx(t,e,n){var r=e.pendingProps,s=je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),be(je,s&1),t===null)return Gf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Cd(o,r,0,null),t=ni(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tp(n),e.memoizedState=ep,t):jm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return fR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ps(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ps(a,i):(i=ni(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?tp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ep,r}return i=t.child,t=i.sibling,r=ps(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jm(t,e){return e=Cd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Au(t,e,n,r){return r!==null&&Em(r),Eo(e,t.child,null,n),t=jm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Gh(Error(z(422))),Au(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Cd({mode:"visible",children:r.children},s,0,null),i=ni(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Eo(e,t.child,null,o),e.child.memoizedState=tp(o),e.memoizedState=ep,i);if(!(e.mode&1))return Au(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Gh(i,r,void 0),Au(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ft||a){if(r=at,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xr(t,s),Cn(r,t,s,-1))}return zm(),r=Gh(Error(z(421))),Au(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Yt=cs(s.nextSibling),Xt=e,Me=!0,Tn=null,t!==null&&(sn[on++]=fr,sn[on++]=pr,sn[on++]=ii,fr=t.id,pr=t.overflow,ii=e),e=jm(e,r.children),e.flags|=4096,e)}function Jv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kf(t.return,e,n)}function Kh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jv(t,n,e);else if(t.tag===19)Jv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Oc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Kh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Oc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Kh(e,!0,n,null,i);break;case"together":Kh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pR(t,e,n){switch(e.tag){case 3:_x(e),xo();break;case 5:G1(e);break;case 1:$t(e.type)&&Cc(e);break;case 4:Am(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;be(Pc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?wx(t,e,n):(be(je,je.current&1),t=Er(t,e,n),t!==null?t.sibling:null);be(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,yx(t,e,n)}return Er(t,e,n)}var Ex,np,Tx,Ix;Ex=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};np=function(){};Tx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qs(Gn.current);var i=null;switch(n){case"input":s=If(t,s),r=If(t,r),i=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),i=[];break;case"textarea":s=Cf(t,s),r=Cf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sc)}Rf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Pe("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Ix=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ea(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mR(t,e,n){var r=e.pendingProps;switch(xm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return $t(e.type)&&bc(),xt(e),null;case 3:return r=e.stateNode,To(),ke(Ut),ke(Ct),Pm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(cp(Tn),Tn=null))),np(t,e),xt(e),null;case 5:Rm(e);var s=Qs(al.current);if(n=e.type,t!==null&&e.stateNode!=null)Tx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return xt(e),null}if(t=Qs(Gn.current),bu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Hn]=e,r[il]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Ra.length;s++)Pe(Ra[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":av(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":uv(r,i),Pe("invalid",r)}Rf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Su(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Su(r.textContent,a,t),s=["children",""+a]):Qa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":yu(r),lv(r,i,!0);break;case"textarea":yu(r),cv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Sc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hn]=e,t[il]=r,Ex(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pf(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ra.length;s++)Pe(Ra[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":av(t,r),s=If(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":uv(t,r),s=Cf(t,r),Pe("invalid",t);break;default:s=r}Rf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?t1(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Zw(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ya(t,u):typeof u=="number"&&Ya(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qa.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Pe("scroll",t):u!=null&&om(t,i,u,o))}switch(n){case"input":yu(t),lv(t,r,!1);break;case"textarea":yu(t),cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Es(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Xi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Sc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)Ix(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Qs(al.current),Qs(Gn.current),bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hn]=e,(i=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=e,e.stateNode=r}return xt(e),null;case 13:if(ke(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Yt!==null&&e.mode&1&&!(e.flags&128))z1(),xo(),e.flags|=98560,i=!1;else if(i=bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Hn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),i=!1}else Tn!==null&&(cp(Tn),Tn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?tt===0&&(tt=3):zm())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return To(),np(t,e),t===null&&rl(e.stateNode.containerInfo),xt(e),null;case 10:return Sm(e.type._context),xt(e),null;case 17:return $t(e.type)&&bc(),xt(e),null;case 19:if(ke(je),i=e.memoizedState,i===null)return xt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ea(i,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Oc(t),o!==null){for(e.flags|=128,Ea(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(je,je.current&1|2),e.child}t=t.sibling}i.tail!==null&&qe()>So&&(e.flags|=128,r=!0,Ea(i,!1),e.lanes=4194304)}else{if(!r)if(t=Oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ea(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Me)return xt(e),null}else 2*qe()-i.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,Ea(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qe(),e.sibling=null,n=je.current,be(je,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return $m(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function gR(t,e){switch(xm(e),e.tag){case 1:return $t(e.type)&&bc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return To(),ke(Ut),ke(Ct),Pm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rm(e),null;case 13:if(ke(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(je),null;case 4:return To(),null;case 10:return Sm(e.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var Ru=!1,St=!1,yR=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function rp(t,e,n){try{n()}catch(r){He(t,e,r)}}var Zv=!1;function vR(t,e){if(Uf=Ec,t=R1(),_m(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,m=t,h=null;t:for(;;){for(var y;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)h=m,m=y;for(;;){if(m===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(u=o),(y=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for($f={focusedElem:t,selectionRange:n},Ec=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,I=_.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:_n(e.type,x),I);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){He(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return _=Zv,Zv=!1,_}function Fa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&rp(e,n,i)}s=s.next}while(s!==r)}}function Sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sx(t){var e=t.alternate;e!==null&&(t.alternate=null,Sx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[il],delete e[Hf],delete e[eR],delete e[tR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bx(t){return t.tag===5||t.tag===3||t.tag===4}function e0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sc));else if(r!==4&&(t=t.child,t!==null))for(ip(t,e,n),t=t.sibling;t!==null;)ip(t,e,n),t=t.sibling}function op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(op(t,e,n),t=t.sibling;t!==null;)op(t,e,n),t=t.sibling}var ut=null,En=!1;function Fr(t,e,n){for(n=n.child;n!==null;)Cx(t,e,n),n=n.sibling}function Cx(t,e,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:St||Ki(n,e);case 6:var r=ut,s=En;ut=null,Fr(t,e,n),ut=r,En=s,ut!==null&&(En?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(En?(t=ut,n=n.stateNode,t.nodeType===8?$h(t.parentNode,n):t.nodeType===1&&$h(t,n),el(t)):$h(ut,n.stateNode));break;case 4:r=ut,s=En,ut=n.stateNode.containerInfo,En=!0,Fr(t,e,n),ut=r,En=s;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rp(n,e,o),s=s.next}while(s!==r)}Fr(t,e,n);break;case 1:if(!St&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}Fr(t,e,n);break;case 21:Fr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,Fr(t,e,n),St=r):Fr(t,e,n);break;default:Fr(t,e,n)}}function t0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yR),e.forEach(function(r){var s=CR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,En=!1;break e;case 3:ut=a.stateNode.containerInfo,En=!0;break e;case 4:ut=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(ut===null)throw Error(z(160));Cx(i,o,s),ut=null,En=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){He(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ax(e,t),e=e.sibling}function Ax(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),Vn(t),r&4){try{Fa(3,t,t.return),Sd(3,t)}catch(x){He(t,t.return,x)}try{Fa(5,t,t.return)}catch(x){He(t,t.return,x)}}break;case 1:vn(e,t),Vn(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(vn(e,t),Vn(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var s=t.stateNode;try{Ya(s,"")}catch(x){He(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Yw(s,i),Pf(a,o);var c=Pf(a,i);for(o=0;o<u.length;o+=2){var d=u[o],m=u[o+1];d==="style"?t1(s,m):d==="dangerouslySetInnerHTML"?Zw(s,m):d==="children"?Ya(s,m):om(s,d,m,c)}switch(a){case"input":Sf(s,i);break;case"textarea":Xw(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Xi(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Xi(s,!!i.multiple,i.defaultValue,!0):Xi(s,!!i.multiple,i.multiple?[]:"",!1))}s[il]=i}catch(x){He(t,t.return,x)}}break;case 6:if(vn(e,t),Vn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){He(t,t.return,x)}}break;case 3:if(vn(e,t),Vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{el(e.containerInfo)}catch(x){He(t,t.return,x)}break;case 4:vn(e,t),Vn(t);break;case 13:vn(e,t),Vn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fm=qe())),r&4&&t0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(St=(c=St)||d,vn(e,t),St=c):vn(e,t),Vn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(m=Q=d;Q!==null;){switch(h=Q,y=h.child,h.tag){case 0:case 11:case 14:case 15:Fa(4,h,h.return);break;case 1:Ki(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){He(r,n,x)}}break;case 5:Ki(h,h.return);break;case 22:if(h.memoizedState!==null){r0(m);continue}}y!==null?(y.return=h,Q=y):r0(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=e1("display",o))}catch(x){He(t,t.return,x)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(x){He(t,t.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vn(e,t),Vn(t),r&4&&t0(t);break;case 21:break;default:vn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bx(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ya(s,""),r.flags&=-33);var i=e0(t);op(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=e0(t);ip(t,a,o);break;default:throw Error(z(161))}}catch(u){He(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _R(t,e,n){Q=t,Rx(t)}function Rx(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ru;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||St;a=Ru;var c=St;if(Ru=o,(St=u)&&!c)for(Q=s;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?s0(s):u!==null?(u.return=o,Q=u):s0(s);for(;i!==null;)Q=i,Rx(i),i=i.sibling;Q=s,Ru=a,St=c}n0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):n0(t)}}function n0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Sd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Uv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Uv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&el(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}St||e.flags&512&&sp(e)}catch(h){He(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function r0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function s0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sd(4,e)}catch(u){He(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){He(e,s,u)}}var i=e.return;try{sp(e)}catch(u){He(e,i,u)}break;case 5:var o=e.return;try{sp(e)}catch(u){He(e,o,u)}}}catch(u){He(e,e.return,u)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var wR=Math.ceil,jc=Pr.ReactCurrentDispatcher,Lm=Pr.ReactCurrentOwner,cn=Pr.ReactCurrentBatchConfig,ge=0,at=null,Ye=null,ht=0,Kt=0,Qi=js(0),tt=0,dl=null,ai=0,bd=0,Vm=0,Ua=null,Vt=null,Fm=0,So=1/0,cr=null,Lc=!1,ap=null,hs=null,Pu=!1,ss=null,Vc=0,$a=0,lp=null,Zu=-1,ec=0;function Ot(){return ge&6?qe():Zu!==-1?Zu:Zu=qe()}function fs(t){return t.mode&1?ge&2&&ht!==0?ht&-ht:rR.transition!==null?(ec===0&&(ec=f1()),ec):(t=Te,t!==0||(t=window.event,t=t===void 0?16:w1(t.type)),t):1}function Cn(t,e,n,r){if(50<$a)throw $a=0,lp=null,Error(z(185));Pl(t,n,r),(!(ge&2)||t!==at)&&(t===at&&(!(ge&2)&&(bd|=n),tt===4&&Gr(t,ht)),zt(t,r),n===1&&ge===0&&!(e.mode&1)&&(So=qe()+500,Ed&&Ls()))}function zt(t,e){var n=t.callbackNode;rA(t,e);var r=xc(t,t===at?ht:0);if(r===0)n!==null&&fv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fv(n),e===1)t.tag===0?nR(i0.bind(null,t)):F1(i0.bind(null,t)),JA(function(){!(ge&6)&&Ls()}),n=null;else{switch(p1(r)){case 1:n=dm;break;case 4:n=d1;break;case 16:n=wc;break;case 536870912:n=h1;break;default:n=wc}n=Lx(n,Px.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Px(t,e){if(Zu=-1,ec=0,ge&6)throw Error(z(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=xc(t,t===at?ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fc(t,r);else{e=r;var s=ge;ge|=2;var i=kx();(at!==t||ht!==e)&&(cr=null,So=qe()+500,ti(t,e));do try{TR();break}catch(a){Nx(t,a)}while(!0);Im(),jc.current=i,ge=s,Ye!==null?e=0:(at=null,ht=0,e=tt)}if(e!==0){if(e===2&&(s=Mf(t),s!==0&&(r=s,e=up(t,s))),e===1)throw n=dl,ti(t,0),Gr(t,r),zt(t,qe()),n;if(e===6)Gr(t,r);else{if(s=t.current.alternate,!(r&30)&&!xR(s)&&(e=Fc(t,r),e===2&&(i=Mf(t),i!==0&&(r=i,e=up(t,i))),e===1))throw n=dl,ti(t,0),Gr(t,r),zt(t,qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ws(t,Vt,cr);break;case 3:if(Gr(t,r),(r&130023424)===r&&(e=Fm+500-qe(),10<e)){if(xc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Bf(Ws.bind(null,t,Vt,cr),e);break}Ws(t,Vt,cr);break;case 4:if(Gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wR(r/1960))-r,10<r){t.timeoutHandle=Bf(Ws.bind(null,t,Vt,cr),r);break}Ws(t,Vt,cr);break;case 5:Ws(t,Vt,cr);break;default:throw Error(z(329))}}}return zt(t,qe()),t.callbackNode===n?Px.bind(null,t):null}function up(t,e){var n=Ua;return t.current.memoizedState.isDehydrated&&(ti(t,e).flags|=256),t=Fc(t,e),t!==2&&(e=Vt,Vt=n,e!==null&&cp(e)),t}function cp(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function xR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!An(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gr(t,e){for(e&=~Vm,e&=~bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function i0(t){if(ge&6)throw Error(z(327));no();var e=xc(t,0);if(!(e&1))return zt(t,qe()),null;var n=Fc(t,e);if(t.tag!==0&&n===2){var r=Mf(t);r!==0&&(e=r,n=up(t,r))}if(n===1)throw n=dl,ti(t,0),Gr(t,e),zt(t,qe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ws(t,Vt,cr),zt(t,qe()),null}function Um(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(So=qe()+500,Ed&&Ls())}}function li(t){ss!==null&&ss.tag===0&&!(ge&6)&&no();var e=ge;ge|=1;var n=cn.transition,r=Te;try{if(cn.transition=null,Te=1,t)return t()}finally{Te=r,cn.transition=n,ge=e,!(ge&6)&&Ls()}}function $m(){Kt=Qi.current,ke(Qi)}function ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XA(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(xm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:To(),ke(Ut),ke(Ct),Pm();break;case 5:Rm(r);break;case 4:To();break;case 13:ke(je);break;case 19:ke(je);break;case 10:Sm(r.type._context);break;case 22:case 23:$m()}n=n.return}if(at=t,Ye=t=ps(t.current,null),ht=Kt=e,tt=0,dl=null,Vm=bd=ai=0,Vt=Ua=null,Ks!==null){for(e=0;e<Ks.length;e++)if(n=Ks[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ks=null}return t}function Nx(t,e){do{var n=Ye;try{if(Im(),Yu.current=Mc,Dc){for(var r=Le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dc=!1}if(oi=0,ot=et=Le=null,Va=!1,ll=0,Lm.current=null,n===null||n.return===null){tt=1,dl=e,Ye=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=ht,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=qv(o);if(y!==null){y.flags&=-257,Gv(y,o,a,i,e),y.mode&1&&Wv(i,c,e),e=y,u=c;var _=e.updateQueue;if(_===null){var x=new Set;x.add(u),e.updateQueue=x}else _.add(u);break e}else{if(!(e&1)){Wv(i,c,e),zm();break e}u=Error(z(426))}}else if(Me&&a.mode&1){var I=qv(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Gv(I,o,a,i,e),Em(Io(u,a));break e}}i=u=Io(u,a),tt!==4&&(tt=2),Ua===null?Ua=[i]:Ua.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=px(i,u,e);Fv(i,w);break e;case 1:a=u;var v=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(hs===null||!hs.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=mx(i,a,e);Fv(i,k);break e}}i=i.return}while(i!==null)}Dx(n)}catch(D){e=D,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function kx(){var t=jc.current;return jc.current=Mc,t===null?Mc:t}function zm(){(tt===0||tt===3||tt===2)&&(tt=4),at===null||!(ai&268435455)&&!(bd&268435455)||Gr(at,ht)}function Fc(t,e){var n=ge;ge|=2;var r=kx();(at!==t||ht!==e)&&(cr=null,ti(t,e));do try{ER();break}catch(s){Nx(t,s)}while(!0);if(Im(),ge=n,jc.current=r,Ye!==null)throw Error(z(261));return at=null,ht=0,tt}function ER(){for(;Ye!==null;)Ox(Ye)}function TR(){for(;Ye!==null&&!KC();)Ox(Ye)}function Ox(t){var e=jx(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?Dx(t):Ye=e,Lm.current=null}function Dx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gR(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ye=null;return}}else if(n=mR(n,e,Kt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);tt===0&&(tt=5)}function Ws(t,e,n){var r=Te,s=cn.transition;try{cn.transition=null,Te=1,IR(t,e,n,r)}finally{cn.transition=s,Te=r}return null}function IR(t,e,n,r){do no();while(ss!==null);if(ge&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(sA(t,i),t===at&&(Ye=at=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pu||(Pu=!0,Lx(wc,function(){return no(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=Te;Te=1;var a=ge;ge|=4,Lm.current=null,vR(t,n),Ax(n,t),HA($f),Ec=!!Uf,$f=Uf=null,t.current=n,_R(n),QC(),ge=a,Te=o,cn.transition=i}else t.current=n;if(Pu&&(Pu=!1,ss=t,Vc=s),i=t.pendingLanes,i===0&&(hs=null),JC(n.stateNode),zt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lc)throw Lc=!1,t=ap,ap=null,t;return Vc&1&&t.tag!==0&&no(),i=t.pendingLanes,i&1?t===lp?$a++:($a=0,lp=t):$a=0,Ls(),null}function no(){if(ss!==null){var t=p1(Vc),e=cn.transition,n=Te;try{if(cn.transition=null,Te=16>t?16:t,ss===null)var r=!1;else{if(t=ss,ss=null,Vc=0,ge&6)throw Error(z(331));var s=ge;for(ge|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Fa(8,d,i)}var m=d.child;if(m!==null)m.return=d,Q=m;else for(;Q!==null;){d=Q;var h=d.sibling,y=d.return;if(Sx(d),d===c){Q=null;break}if(h!==null){h.return=y,Q=h;break}Q=y}}}var _=i.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var I=x.sibling;x.sibling=null,x=I}while(x!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fa(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Q=w;break e}Q=i.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Q=S;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sd(9,a)}}catch(D){He(a,a.return,D)}if(a===o){Q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Q=k;break e}Q=a.return}}if(ge=s,Ls(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(yd,t)}catch{}r=!0}return r}finally{Te=n,cn.transition=e}}return!1}function o0(t,e,n){e=Io(n,e),e=px(t,e,1),t=ds(t,e,1),e=Ot(),t!==null&&(Pl(t,1,e),zt(t,e))}function He(t,e,n){if(t.tag===3)o0(t,t,n);else for(;e!==null;){if(e.tag===3){o0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))){t=Io(n,t),t=mx(e,t,1),e=ds(e,t,1),t=Ot(),e!==null&&(Pl(e,1,t),zt(e,t));break}}e=e.return}}function SR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(ht&n)===n&&(tt===4||tt===3&&(ht&130023424)===ht&&500>qe()-Fm?ti(t,0):Vm|=n),zt(t,e)}function Mx(t,e){e===0&&(t.mode&1?(e=wu,wu<<=1,!(wu&130023424)&&(wu=4194304)):e=1);var n=Ot();t=xr(t,e),t!==null&&(Pl(t,e,n),zt(t,n))}function bR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Mx(t,n)}function CR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Mx(t,n)}var jx;jx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,pR(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Me&&e.flags&1048576&&U1(e,Rc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ju(t,e),t=e.pendingProps;var s=wo(e,Ct.current);to(e,n),s=km(null,e,r,t,s,n);var i=Om();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(i=!0,Cc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cm(e),s.updater=Id,e.stateNode=s,s._reactInternals=e,Yf(e,r,t,n),e=Zf(null,e,r,!0,i,n)):(e.tag=0,Me&&i&&wm(e),Nt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ju(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=RR(r),t=_n(r,t),s){case 0:e=Jf(null,e,r,t,n);break e;case 1:e=Yv(null,e,r,t,n);break e;case 11:e=Kv(null,e,r,t,n);break e;case 14:e=Qv(null,e,r,_n(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Jf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Yv(t,e,r,s,n);case 3:e:{if(_x(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,q1(t,e),kc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Io(Error(z(423)),e),e=Xv(t,e,r,n,s);break e}else if(r!==s){s=Io(Error(z(424)),e),e=Xv(t,e,r,n,s);break e}else for(Yt=cs(e.stateNode.containerInfo.firstChild),Xt=e,Me=!0,Tn=null,n=H1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===s){e=Er(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return G1(e),t===null&&Gf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,zf(r,s)?o=null:i!==null&&zf(r,i)&&(e.flags|=32),vx(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&Gf(e),null;case 13:return wx(t,e,n);case 4:return Am(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Kv(t,e,r,s,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,be(Pc,r._currentValue),r._currentValue=o,i!==null)if(An(i.value,o)){if(i.children===s.children&&!Ut.current){e=Er(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=yr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Kf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Kf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,to(e,n),s=hn(s),r=r(s),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,s=_n(r,e.pendingProps),s=_n(r.type,s),Qv(t,e,r,s,n);case 15:return gx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Ju(t,e),e.tag=1,$t(r)?(t=!0,Cc(e)):t=!1,to(e,n),fx(e,r,s),Yf(e,r,s,n),Zf(null,e,r,!0,t,n);case 19:return xx(t,e,n);case 22:return yx(t,e,n)}throw Error(z(156,e.tag))};function Lx(t,e){return c1(t,e)}function AR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,n,r){return new AR(t,e,n,r)}function Bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RR(t){if(typeof t=="function")return Bm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lm)return 11;if(t===um)return 14}return 2}function ps(t,e){var n=t.alternate;return n===null?(n=ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Bm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fi:return ni(n.children,s,i,e);case am:o=8,s|=8;break;case wf:return t=ln(12,n,e,s|2),t.elementType=wf,t.lanes=i,t;case xf:return t=ln(13,n,e,s),t.elementType=xf,t.lanes=i,t;case Ef:return t=ln(19,n,e,s),t.elementType=Ef,t.lanes=i,t;case Gw:return Cd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ww:o=10;break e;case qw:o=9;break e;case lm:o=11;break e;case um:o=14;break e;case Hr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=ln(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ni(t,e,n,r){return t=ln(7,t,r,e),t.lanes=n,t}function Cd(t,e,n,r){return t=ln(22,t,r,e),t.elementType=Gw,t.lanes=n,t.stateNode={isHidden:!1},t}function Qh(t,e,n){return t=ln(6,t,null,e),t.lanes=n,t}function Yh(t,e,n){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ph(0),this.expirationTimes=Ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hm(t,e,n,r,s,i,o,a,u){return t=new PR(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cm(i),t}function NR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vx(t){if(!t)return Ts;t=t._reactInternals;e:{if(vi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if($t(n))return V1(t,n,e)}return e}function Fx(t,e,n,r,s,i,o,a,u){return t=Hm(n,r,!0,t,s,i,o,a,u),t.context=Vx(null),n=t.current,r=Ot(),s=fs(n),i=yr(r,s),i.callback=e??null,ds(n,i,s),t.current.lanes=s,Pl(t,s,r),zt(t,r),t}function Ad(t,e,n,r){var s=e.current,i=Ot(),o=fs(s);return n=Vx(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ds(s,e,o),t!==null&&(Cn(t,s,o,i),Qu(t,s,o)),o}function Uc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wm(t,e){a0(t,e),(t=t.alternate)&&a0(t,e)}function kR(){return null}var Ux=typeof reportError=="function"?reportError:function(t){console.error(t)};function qm(t){this._internalRoot=t}Rd.prototype.render=qm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Ad(t,e,null,null)};Rd.prototype.unmount=qm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){Ad(null,t,null,null)}),e[wr]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=y1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qr.length&&e!==0&&e<qr[n].priority;n++);qr.splice(n,0,t),n===0&&_1(t)}};function Gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function l0(){}function OR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Uc(o);i.call(c)}}var o=Fx(e,r,t,0,null,!1,!1,"",l0);return t._reactRootContainer=o,t[wr]=o.current,rl(t.nodeType===8?t.parentNode:t),li(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Uc(u);a.call(c)}}var u=Hm(t,0,!1,null,null,!1,!1,"",l0);return t._reactRootContainer=u,t[wr]=u.current,rl(t.nodeType===8?t.parentNode:t),li(function(){Ad(e,u,n,r)}),u}function Nd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Uc(o);a.call(u)}}Ad(e,o,t,s)}else o=OR(n,e,t,s,r);return Uc(o)}m1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Aa(e.pendingLanes);n!==0&&(hm(e,n|1),zt(e,qe()),!(ge&6)&&(So=qe()+500,Ls()))}break;case 13:li(function(){var r=xr(t,1);if(r!==null){var s=Ot();Cn(r,t,1,s)}}),Wm(t,1)}};fm=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var n=Ot();Cn(e,t,134217728,n)}Wm(t,134217728)}};g1=function(t){if(t.tag===13){var e=fs(t),n=xr(t,e);if(n!==null){var r=Ot();Cn(n,t,e,r)}Wm(t,e)}};y1=function(){return Te};v1=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};kf=function(t,e,n){switch(e){case"input":if(Sf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xd(r);if(!s)throw Error(z(90));Qw(r),Sf(r,s)}}}break;case"textarea":Xw(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};s1=Um;i1=li;var DR={usingClientEntryPoint:!1,Events:[kl,Bi,xd,n1,r1,Um]},Ta={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MR={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=l1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||kR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{yd=Nu.inject(MR),qn=Nu}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DR;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gm(e))throw Error(z(200));return NR(t,e,null,n)};tn.createRoot=function(t,e){if(!Gm(t))throw Error(z(299));var n=!1,r="",s=Ux;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hm(t,1,!1,null,null,n,!1,r,s),t[wr]=e.current,rl(t.nodeType===8?t.parentNode:t),new qm(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=l1(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return li(t)};tn.hydrate=function(t,e,n){if(!Pd(e))throw Error(z(200));return Nd(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!Gm(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ux;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fx(e,null,t,1,n??null,s,!1,i,o),t[wr]=e.current,rl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Rd(e)};tn.render=function(t,e,n){if(!Pd(e))throw Error(z(200));return Nd(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!Pd(t))throw Error(z(40));return t._reactRootContainer?(li(function(){Nd(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};tn.unstable_batchedUpdates=Um;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Nd(t,e,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function $x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($x)}catch(t){console.error(t)}}$x(),$w.exports=tn;var Dl=$w.exports;const zx=Aw(Dl);var u0=Dl;vf.createRoot=u0.createRoot,vf.hydrateRoot=u0.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hl.apply(this,arguments)}var is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(is||(is={}));const c0="popstate";function jR(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:u=""}=_i(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),dp("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=s.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof i=="string"?i:$c(i))}function r(s,i){Km(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return VR(e,n,r,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Km(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LR(){return Math.random().toString(36).substr(2,8)}function d0(t,e){return{usr:t.state,key:t.key,idx:e}}function dp(t,e,n,r){return n===void 0&&(n=null),hl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_i(e):e,{state:n,key:e&&e.key||r||LR()})}function $c(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _i(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function VR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=is.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(hl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function m(){a=is.Pop;let I=d(),w=I==null?null:I-c;c=I,u&&u({action:a,location:x.location,delta:w})}function h(I,w){a=is.Push;let v=dp(x.location,I,w);n&&n(v,I),c=d()+1;let S=d0(v,c),k=x.createHref(v);try{o.pushState(S,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(k)}i&&u&&u({action:a,location:x.location,delta:1})}function y(I,w){a=is.Replace;let v=dp(x.location,I,w);n&&n(v,I),c=d();let S=d0(v,c),k=x.createHref(v);o.replaceState(S,"",k),i&&u&&u({action:a,location:x.location,delta:0})}function _(I){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof I=="string"?I:$c(I);return v=v.replace(/ $/,"%20"),Je(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let x={get action(){return a},get location(){return t(s,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(c0,m),u=I,()=>{s.removeEventListener(c0,m),u=null}},createHref(I){return e(s,I)},createURL:_,encodeLocation(I){let w=_(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:y,go(I){return o.go(I)}};return x}var h0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h0||(h0={}));function FR(t,e,n){return n===void 0&&(n="/"),UR(t,e,n,!1)}function UR(t,e,n,r){let s=typeof e=="string"?_i(e):e,i=Qm(s.pathname||"/",n);if(i==null)return null;let o=Bx(t);$R(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=JR(i);a=YR(o[u],c,r)}return a}function Bx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Je(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ms([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(Je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Bx(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:KR(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of Hx(i.path))s(i,o,u)}),e}function Hx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Hx(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function $R(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zR=/^:[\w-]+$/,BR=3,HR=2,WR=1,qR=10,GR=-2,f0=t=>t==="*";function KR(t,e){let n=t.split("/"),r=n.length;return n.some(f0)&&(r+=GR),e&&(r+=HR),n.filter(s=>!f0(s)).reduce((s,i)=>s+(zR.test(i)?BR:i===""?WR:qR),r)}function QR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function YR(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",m=p0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=p0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:ms([i,m.pathname]),pathnameBase:nP(ms([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=ms([i,m.pathnameBase]))}return o}function p0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,m)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let x=a[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const _=a[m];return y&&!_?c[h]=void 0:c[h]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function XR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Km(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function JR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Km(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_i(t):t;return{pathname:n?n.startsWith("/")?n:eP(n,e):e,search:rP(r),hash:sP(s)}}function eP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wx(t,e){let n=tP(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=_i(t):(s=hl({},t),Je(!s.pathname||!s.pathname.includes("?"),Xh("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Xh("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Xh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;s.pathname=h.join("/")}a=m>=0?e[m]:"/"}let u=ZR(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ms=t=>t.join("/").replace(/\/\/+/g,"/"),nP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Gx=["post","put","patch","delete"];new Set(Gx);const oP=["get",...Gx];new Set(oP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}const Ym=T.createContext(null),aP=T.createContext(null),wi=T.createContext(null),kd=T.createContext(null),xi=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Kx=T.createContext(null);function lP(t,e){let{relative:n}=e===void 0?{}:e;Ml()||Je(!1);let{basename:r,navigator:s}=T.useContext(wi),{hash:i,pathname:o,search:a}=Yx(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ms([r,o])),s.createHref({pathname:u,search:a,hash:i})}function Ml(){return T.useContext(kd)!=null}function zo(){return Ml()||Je(!1),T.useContext(kd).location}function Qx(t){T.useContext(wi).static||T.useLayoutEffect(t)}function jl(){let{isDataRoute:t}=T.useContext(xi);return t?xP():uP()}function uP(){Ml()||Je(!1);let t=T.useContext(Ym),{basename:e,future:n,navigator:r}=T.useContext(wi),{matches:s}=T.useContext(xi),{pathname:i}=zo(),o=JSON.stringify(Wx(s,n.v7_relativeSplatPath)),a=T.useRef(!1);return Qx(()=>{a.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let m=qx(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ms([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,o,i,t])}function Yx(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(wi),{matches:s}=T.useContext(xi),{pathname:i}=zo(),o=JSON.stringify(Wx(s,r.v7_relativeSplatPath));return T.useMemo(()=>qx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function cP(t,e){return dP(t,e)}function dP(t,e,n,r){Ml()||Je(!1);let{navigator:s}=T.useContext(wi),{matches:i}=T.useContext(xi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=zo(),d;if(e){var m;let I=typeof e=="string"?_i(e):e;u==="/"||(m=I.pathname)!=null&&m.startsWith(u)||Je(!1),d=I}else d=c;let h=d.pathname||"/",y=h;if(u!=="/"){let I=u.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(I.length).join("/")}let _=FR(t,{pathname:y}),x=gP(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:ms([u,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:ms([u,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n,r);return e&&x?T.createElement(kd.Provider,{value:{location:fl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:is.Pop}},x):x}function hP(){let t=wP(),e=iP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const fP=T.createElement(hP,null);class pP extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(xi.Provider,{value:this.props.routeContext},T.createElement(Kx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mP(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(Ym);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(xi.Provider,{value:e},r)}function gP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);d>=0||Je(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:h,errors:y}=n,_=m.route.loader&&h[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||_){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,m,h)=>{let y,_=!1,x=null,I=null;n&&(y=a&&m.route.id?a[m.route.id]:void 0,x=m.route.errorElement||fP,u&&(c<0&&h===0?(_=!0,I=null):c===h&&(_=!0,I=m.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),v=()=>{let S;return y?S=x:_?S=I:m.route.Component?S=T.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=d,T.createElement(mP,{match:m,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?T.createElement(pP,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Xx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xx||{}),zc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zc||{});function yP(t){let e=T.useContext(Ym);return e||Je(!1),e}function vP(t){let e=T.useContext(aP);return e||Je(!1),e}function _P(t){let e=T.useContext(xi);return e||Je(!1),e}function Jx(t){let e=_P(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function wP(){var t;let e=T.useContext(Kx),n=vP(zc.UseRouteError),r=Jx(zc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xP(){let{router:t}=yP(Xx.UseNavigateStable),e=Jx(zc.UseNavigateStable),n=T.useRef(!1);return Qx(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,fl({fromRouteId:e},i)))},[t,e])}function lr(t){Je(!1)}function EP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=is.Pop,navigator:i,static:o=!1,future:a}=t;Ml()&&Je(!1);let u=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:u,navigator:i,static:o,future:fl({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=_i(r));let{pathname:d="/",search:m="",hash:h="",state:y=null,key:_="default"}=r,x=T.useMemo(()=>{let I=Qm(d,u);return I==null?null:{location:{pathname:I,search:m,hash:h,state:y,key:_},navigationType:s}},[u,d,m,h,y,_,s]);return x==null?null:T.createElement(wi.Provider,{value:c},T.createElement(kd.Provider,{children:n,value:x}))}function TP(t){let{children:e,location:n}=t;return cP(hp(e),n)}new Promise(()=>{});function hp(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,hp(r.props.children,i));return}r.type!==lr&&Je(!1),!r.props.index||!r.props.children||Je(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function IP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function SP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bP(t,e){return t.button===0&&(!e||e==="_self")&&!SP(t)}const CP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AP="6";try{window.__reactRouterVersion=AP}catch{}const RP="startTransition",m0=Fw[RP];function PP(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=jR({window:s,v5Compat:!0}));let o=i.current,[a,u]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=T.useCallback(m=>{c&&m0?m0(()=>u(m)):u(m)},[u,c]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.createElement(EP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const NP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:m}=e,h=IP(e,CP),{basename:y}=T.useContext(wi),_,x=!1;if(typeof c=="string"&&kP.test(c)&&(_=c,NP))try{let S=new URL(window.location.href),k=c.startsWith("//")?new URL(S.protocol+c):new URL(c),D=Qm(k.pathname,y);k.origin===S.origin&&D!=null?c=D+k.search+k.hash:x=!0}catch{}let I=lP(c,{relative:s}),w=OP(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:s,viewTransition:m});function v(S){r&&r(S),S.defaultPrevented||w(S)}return T.createElement("a",fp({},h,{href:_||I,onClick:x||i?r:v,ref:n,target:u}))});var g0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(g0||(g0={}));var y0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y0||(y0={}));function OP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,u=jl(),c=zo(),d=Yx(t,{relative:o});return T.useCallback(m=>{if(bP(m,n)){m.preventDefault();let h=r!==void 0?r:$c(c)===$c(d);u(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,d,r,s,n,t,i,o,a])}const DP=1,MP=1e6;let Jh=0;function jP(){return Jh=(Jh+1)%Number.MAX_SAFE_INTEGER,Jh.toString()}const Zh=new Map,v0=t=>{if(Zh.has(t))return;const e=setTimeout(()=>{Zh.delete(t),za({type:"REMOVE_TOAST",toastId:t})},MP);Zh.set(t,e)},LP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,DP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?v0(n):t.toasts.forEach(r=>{v0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},nc=[];let rc={toasts:[]};function za(t){rc=LP(rc,t),nc.forEach(e=>{e(rc)})}function VP({...t}){const e=jP(),n=s=>za({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>za({type:"DISMISS_TOAST",toastId:e});return za({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Zx(){const[t,e]=T.useState(rc);return T.useEffect(()=>(nc.push(e),()=>{const n=nc.indexOf(e);n>-1&&nc.splice(n,1)}),[t]),{...t,toast:VP,dismiss:n=>za({type:"DISMISS_TOAST",toastId:n})}}function _e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function FP(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function eE(...t){return e=>t.forEach(n=>FP(n,e))}function Bt(...t){return T.useCallback(eE(...t),t)}function UP(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),u=n.length;n=[...n,o];function c(m){const{scope:h,children:y,..._}=m,x=(h==null?void 0:h[t][u])||a,I=T.useMemo(()=>_,Object.values(_));return p.jsx(x.Provider,{value:I,children:y})}function d(m,h){const y=(h==null?void 0:h[t][u])||a,_=T.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,$P(s,...e)]}function $P(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const m=u(i)[`__scope${c}`];return{...a,...m}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var pl=T.forwardRef((t,e)=>{const{children:n,...r}=t,s=T.Children.toArray(n),i=s.find(zP);if(i){const o=i.props.children,a=s.map(u=>u===i?T.Children.count(o)>1?T.Children.only(null):T.isValidElement(o)?o.props.children:null:u);return p.jsx(pp,{...r,ref:e,children:T.isValidElement(o)?T.cloneElement(o,void 0,a):null})}return p.jsx(pp,{...r,ref:e,children:n})});pl.displayName="Slot";var pp=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const s=HP(n);return T.cloneElement(n,{...BP(r,n.props),ref:e?eE(e,s):s})}return T.Children.count(n)>1?T.Children.only(null):null});pp.displayName="SlotClone";var tE=({children:t})=>p.jsx(p.Fragment,{children:t});function zP(t){return T.isValidElement(t)&&t.type===tE}function BP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function HP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function nE(t){const e=t+"CollectionProvider",[n,r]=UP(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:x}=y,I=W.useRef(null),w=W.useRef(new Map).current;return p.jsx(s,{scope:_,itemMap:w,collectionRef:I,children:x})};o.displayName=e;const a=t+"CollectionSlot",u=W.forwardRef((y,_)=>{const{scope:x,children:I}=y,w=i(a,x),v=Bt(_,w.collectionRef);return p.jsx(pl,{ref:v,children:I})});u.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",m=W.forwardRef((y,_)=>{const{scope:x,children:I,...w}=y,v=W.useRef(null),S=Bt(_,v),k=i(c,x);return W.useEffect(()=>(k.itemMap.set(v,{ref:v,...w}),()=>void k.itemMap.delete(v))),p.jsx(pl,{[d]:"",ref:S,children:I})});m.displayName=c;function h(y){const _=i(t+"CollectionConsumer",y);return W.useCallback(()=>{const I=_.collectionRef.current;if(!I)return[];const w=Array.from(I.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((k,D)=>w.indexOf(k.ref.current)-w.indexOf(D.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},h,r]}function Ll(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),u=n.length;n=[...n,o];const c=m=>{var w;const{scope:h,children:y,..._}=m,x=((w=h==null?void 0:h[t])==null?void 0:w[u])||a,I=T.useMemo(()=>_,Object.values(_));return p.jsx(x.Provider,{value:I,children:y})};c.displayName=i+"Provider";function d(m,h){var x;const y=((x=h==null?void 0:h[t])==null?void 0:x[u])||a,_=T.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,WP(s,...e)]}function WP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const m=u(i)[`__scope${c}`];return{...a,...m}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var qP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oe=qP.reduce((t,e)=>{const n=T.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?pl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function rE(t,e){t&&Dl.flushSync(()=>t.dispatchEvent(e))}function Rn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function GP(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var KP="DismissableLayer",mp="dismissableLayer.update",QP="dismissableLayer.pointerDownOutside",YP="dismissableLayer.focusOutside",_0,sE=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xm=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=T.useContext(sE),[d,m]=T.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=T.useState({}),_=Bt(e,C=>m(C)),x=Array.from(c.layers),[I]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(I),v=d?x.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,k=v>=w,D=JP(C=>{const E=C.target,A=[...c.branches].some(R=>R.contains(E));!k||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),j=ZP(C=>{const E=C.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return GP(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),T.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(_0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),w0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_0)}},[d,h,n,c]),T.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),w0())},[d,c]),T.useEffect(()=>{const C=()=>y({});return document.addEventListener(mp,C),()=>document.removeEventListener(mp,C)},[]),p.jsx(Oe.div,{...u,ref:_,style:{pointerEvents:S?k?"auto":"none":void 0,...t.style},onFocusCapture:_e(t.onFocusCapture,j.onFocusCapture),onBlurCapture:_e(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:_e(t.onPointerDownCapture,D.onPointerDownCapture)})});Xm.displayName=KP;var XP="DismissableLayerBranch",iE=T.forwardRef((t,e)=>{const n=T.useContext(sE),r=T.useRef(null),s=Bt(e,r);return T.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Oe.div,{...t,ref:s})});iE.displayName=XP;function JP(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){oE(QP,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ZP(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t),r=T.useRef(!1);return T.useEffect(()=>{const s=i=>{i.target&&!r.current&&oE(YP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function w0(){const t=new CustomEvent(mp);document.dispatchEvent(t)}function oE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?rE(s,i):s.dispatchEvent(i)}var eN=Xm,tN=iE,Is=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},nN="Portal",aE=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=T.useState(!1);Is(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?zx.createPortal(p.jsx(Oe.div,{...r,ref:e}),o):null});aE.displayName=nN;function rN(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Vl=t=>{const{present:e,children:n}=t,r=sN(e),s=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),i=Bt(r.ref,iN(s));return typeof n=="function"||r.isPresent?T.cloneElement(s,{ref:i}):null};Vl.displayName="Presence";function sN(t){const[e,n]=T.useState(),r=T.useRef({}),s=T.useRef(t),i=T.useRef("none"),o=t?"mounted":"unmounted",[a,u]=rN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=ku(r.current);i.current=a==="mounted"?c:"none"},[a]),Is(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,y=ku(c);t?u("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Is(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,m=y=>{const x=ku(r.current).includes(y.animationName);if(y.target===e&&x&&(u("ANIMATION_END"),!s.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},h=y=>{y.target===e&&(i.current=ku(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ku(t){return(t==null?void 0:t.animationName)||"none"}function iN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Od({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=oN({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Rn(n),u=T.useCallback(c=>{if(i){const m=typeof c=="function"?c(t):c;m!==t&&a(m)}else s(c)},[i,t,s,a]);return[o,u]}function oN({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,s=T.useRef(r),i=Rn(e);return T.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var aN="VisuallyHidden",Dd=T.forwardRef((t,e)=>p.jsx(Oe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Dd.displayName=aN;var lN=Dd,Jm="ToastProvider",[Zm,uN,cN]=nE("Toast"),[lE,$6]=Ll("Toast",[cN]),[dN,Md]=lE(Jm),uE=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=T.useState(null),[c,d]=T.useState(0),m=T.useRef(!1),h=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jm}\`. Expected non-empty \`string\`.`),p.jsx(Zm.Provider,{scope:e,children:p.jsx(dN,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:T.useCallback(()=>d(y=>y+1),[]),onToastRemove:T.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};uE.displayName=Jm;var cE="ToastViewport",hN=["F8"],gp="toast.viewportPause",yp="toast.viewportResume",dE=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=hN,label:s="Notifications ({hotkey})",...i}=t,o=Md(cE,n),a=uN(n),u=T.useRef(null),c=T.useRef(null),d=T.useRef(null),m=T.useRef(null),h=Bt(e,m,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;T.useEffect(()=>{const I=w=>{var S;r.length!==0&&r.every(k=>w[k]||w.code===k)&&((S=m.current)==null||S.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),T.useEffect(()=>{const I=u.current,w=m.current;if(_&&I&&w){const v=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(gp);w.dispatchEvent(j),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(yp);w.dispatchEvent(j),o.isClosePausedRef.current=!1}},k=j=>{!I.contains(j.relatedTarget)&&S()},D=()=>{I.contains(document.activeElement)||S()};return I.addEventListener("focusin",v),I.addEventListener("focusout",k),I.addEventListener("pointermove",v),I.addEventListener("pointerleave",D),window.addEventListener("blur",v),window.addEventListener("focus",S),()=>{I.removeEventListener("focusin",v),I.removeEventListener("focusout",k),I.removeEventListener("pointermove",v),I.removeEventListener("pointerleave",D),window.removeEventListener("blur",v),window.removeEventListener("focus",S)}}},[_,o.isClosePausedRef]);const x=T.useCallback(({tabbingDirection:I})=>{const v=a().map(S=>{const k=S.ref.current,D=[k,...SN(k)];return I==="forwards"?D:D.reverse()});return(I==="forwards"?v.reverse():v).flat()},[a]);return T.useEffect(()=>{const I=m.current;if(I){const w=v=>{var D,j,C;const S=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!S){const E=document.activeElement,A=v.shiftKey;if(v.target===I&&A){(D=c.current)==null||D.focus();return}const O=x({tabbingDirection:A?"backwards":"forwards"}),P=O.findIndex(q=>q===E);ef(O.slice(P+1))?v.preventDefault():A?(j=c.current)==null||j.focus():(C=d.current)==null||C.focus()}};return I.addEventListener("keydown",w),()=>I.removeEventListener("keydown",w)}},[a,x]),p.jsxs(tN,{ref:u,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&p.jsx(vp,{ref:c,onFocusFromOutsideViewport:()=>{const I=x({tabbingDirection:"forwards"});ef(I)}}),p.jsx(Zm.Slot,{scope:n,children:p.jsx(Oe.ol,{tabIndex:-1,...i,ref:h})}),_&&p.jsx(vp,{ref:d,onFocusFromOutsideViewport:()=>{const I=x({tabbingDirection:"backwards"});ef(I)}})]})});dE.displayName=cE;var hE="ToastFocusProxy",vp=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Md(hE,n);return p.jsx(Dd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});vp.displayName=hE;var jd="Toast",fN="toast.swipeStart",pN="toast.swipeMove",mN="toast.swipeCancel",gN="toast.swipeEnd",fE=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,u]=Od({prop:r,defaultProp:s,onChange:i});return p.jsx(Vl,{present:n||a,children:p.jsx(_N,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:Rn(t.onPause),onResume:Rn(t.onResume),onSwipeStart:_e(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(t.onSwipeMove,c=>{const{x:d,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:_e(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(t.onSwipeEnd,c=>{const{x:d,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});fE.displayName=jd;var[yN,vN]=lE(jd,{onClose(){}}),_N=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:y,..._}=t,x=Md(jd,n),[I,w]=T.useState(null),v=Bt(e,q=>w(q)),S=T.useRef(null),k=T.useRef(null),D=s||x.duration,j=T.useRef(0),C=T.useRef(D),E=T.useRef(0),{onToastAdd:A,onToastRemove:R}=x,N=Rn(()=>{var se;(I==null?void 0:I.contains(document.activeElement))&&((se=x.viewport)==null||se.focus()),o()}),O=T.useCallback(q=>{!q||q===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(N,q))},[N]);T.useEffect(()=>{const q=x.viewport;if(q){const se=()=>{O(C.current),c==null||c()},Z=()=>{const le=new Date().getTime()-j.current;C.current=C.current-le,window.clearTimeout(E.current),u==null||u()};return q.addEventListener(gp,Z),q.addEventListener(yp,se),()=>{q.removeEventListener(gp,Z),q.removeEventListener(yp,se)}}},[x.viewport,D,u,c,O]),T.useEffect(()=>{i&&!x.isClosePausedRef.current&&O(D)},[i,D,x.isClosePausedRef,O]),T.useEffect(()=>(A(),()=>R()),[A,R]);const P=T.useMemo(()=>I?wE(I):null,[I]);return x.viewport?p.jsxs(p.Fragment,{children:[P&&p.jsx(wN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),p.jsx(yN,{scope:n,onClose:N,children:Dl.createPortal(p.jsx(Zm.ItemSlot,{scope:n,children:p.jsx(eN,{asChild:!0,onEscapeKeyDown:_e(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||N(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,..._,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:_e(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:_e(t.onPointerDown,q=>{q.button===0&&(S.current={x:q.clientX,y:q.clientY})}),onPointerMove:_e(t.onPointerMove,q=>{if(!S.current)return;const se=q.clientX-S.current.x,Z=q.clientY-S.current.y,le=!!k.current,L=["left","right"].includes(x.swipeDirection),B=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,X=L?B(0,se):0,K=L?0:B(0,Z),J=q.pointerType==="touch"?10:2,te={x:X,y:K},Ce={originalEvent:q,delta:te};le?(k.current=te,Ou(pN,m,Ce,{discrete:!1})):x0(te,x.swipeDirection,J)?(k.current=te,Ou(fN,d,Ce,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(se)>J||Math.abs(Z)>J)&&(S.current=null)}),onPointerUp:_e(t.onPointerUp,q=>{const se=k.current,Z=q.target;if(Z.hasPointerCapture(q.pointerId)&&Z.releasePointerCapture(q.pointerId),k.current=null,S.current=null,se){const le=q.currentTarget,L={originalEvent:q,delta:se};x0(se,x.swipeDirection,x.swipeThreshold)?Ou(gN,y,L,{discrete:!0}):Ou(mN,h,L,{discrete:!0}),le.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),wN=t=>{const{__scopeToast:e,children:n,...r}=t,s=Md(jd,e),[i,o]=T.useState(!1),[a,u]=T.useState(!1);return TN(()=>o(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(aE,{asChild:!0,children:p.jsx(Dd,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},xN="ToastTitle",pE=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Oe.div,{...r,ref:e})});pE.displayName=xN;var EN="ToastDescription",mE=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Oe.div,{...r,ref:e})});mE.displayName=EN;var gE="ToastAction",yE=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(_E,{altText:n,asChild:!0,children:p.jsx(eg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gE}\`. Expected non-empty \`string\`.`),null)});yE.displayName=gE;var vE="ToastClose",eg=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=vN(vE,n);return p.jsx(_E,{asChild:!0,children:p.jsx(Oe.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,s.onClose)})})});eg.displayName=vE;var _E=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function wE(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),IN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...wE(r))}}),e}function Ou(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?rE(s,i):s.dispatchEvent(i)}var x0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function TN(t=()=>{}){const e=Rn(t);Is(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function IN(t){return t.nodeType===t.ELEMENT_NODE}function SN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ef(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var bN=uE,xE=dE,EE=fE,TE=pE,IE=mE,SE=yE,bE=eg;function CE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=CE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function AE(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=CE(t))&&(r&&(r+=" "),r+=e);return r}const E0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,T0=AE,tg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return T0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],m=i==null?void 0:i[c];if(d===null)return null;const h=E0(d)||E0(m);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[m,h]=d;return h===void 0||(c[m]=h),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:m,className:h,...y}=d;return Object.entries(y).every(_=>{let[x,I]=_;return Array.isArray(I)?I.includes({...i,...a}[x]):{...i,...a}[x]===I})?[...c,m,h]:c},[]);return T0(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>T.createElement("svg",{ref:u,...AN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:RE("lucide",s),...a},[...o.map(([c,d])=>T.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(RN,{ref:i,iconNode:e,className:RE(`lucide-${CN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=Vs("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Vs("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=Vs("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=Vs("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Vs("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Vs("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Vs("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Vs("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ng="-",DN=t=>{const e=jN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ng);return a[0]===""&&a.length!==1&&a.shift(),OE(a,e)||MN(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},OE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?OE(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ng);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},S0=/^\[(.+)\]$/,MN=t=>{if(S0.test(t)){const e=S0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return VN(Object.entries(t.classGroups),n).forEach(([i,o])=>{_p(o,r,i,e)}),r},_p=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:b0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(LN(s)){_p(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{_p(o,b0(e,i),n,r)})})},b0=(t,e)=>{let n=t;return e.split(ng).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},LN=t=>t.isThemeGetter,VN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,FN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},DE="!",UN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,d=0,m;for(let I=0;I<a.length;I++){let w=a[I];if(c===0){if(w===s&&(r||a.slice(I,I+i)===e)){u.push(a.slice(d,I)),d=I+i;continue}if(w==="/"){m=I;continue}}w==="["?c++:w==="]"&&c--}const h=u.length===0?a:a.substring(d),y=h.startsWith(DE),_=y?h.substring(1):h,x=m&&m>d?m-d:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},$N=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},zN=t=>({cache:FN(t.cacheSize),parseClassName:UN(t),...DN(t)}),BN=/\s+/,HN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(BN);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:y}=n(c);let _=!!y,x=r(_?h.substring(0,y):h);if(!x){if(!_){a=c+(a.length>0?" "+a:a);continue}if(x=r(h),!x){a=c+(a.length>0?" "+a:a);continue}_=!1}const I=$N(d).join(":"),w=m?I+DE:I,v=w+x;if(i.includes(v))continue;i.push(v);const S=s(x,_);for(let k=0;k<S.length;++k){const D=S[k];i.push(w+D)}a=c+(a.length>0?" "+a:a)}return a};function WN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ME(e))&&(r&&(r+=" "),r+=n);return r}const ME=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ME(t[r]))&&(n&&(n+=" "),n+=e);return n};function qN(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((d,m)=>m(d),t());return n=zN(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=HN(u,n);return s(u,d),d}return function(){return i(WN.apply(null,arguments))}}const Re=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jE=/^\[(?:([a-z-]+):)?(.+)\]$/i,GN=/^\d+\/\d+$/,KN=new Set(["px","full","screen"]),QN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ar=t=>ro(t)||KN.has(t)||GN.test(t),Ur=t=>Bo(t,"length",ak),ro=t=>!!t&&!Number.isNaN(Number(t)),tf=t=>Bo(t,"number",ro),Ia=t=>!!t&&Number.isInteger(Number(t)),ek=t=>t.endsWith("%")&&ro(t.slice(0,-1)),ue=t=>jE.test(t),$r=t=>QN.test(t),tk=new Set(["length","size","percentage"]),nk=t=>Bo(t,tk,LE),rk=t=>Bo(t,"position",LE),sk=new Set(["image","url"]),ik=t=>Bo(t,sk,uk),ok=t=>Bo(t,"",lk),Sa=()=>!0,Bo=(t,e,n)=>{const r=jE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ak=t=>YN.test(t)&&!XN.test(t),LE=()=>!1,lk=t=>JN.test(t),uk=t=>ZN.test(t),ck=()=>{const t=Re("colors"),e=Re("spacing"),n=Re("blur"),r=Re("brightness"),s=Re("borderColor"),i=Re("borderRadius"),o=Re("borderSpacing"),a=Re("borderWidth"),u=Re("contrast"),c=Re("grayscale"),d=Re("hueRotate"),m=Re("invert"),h=Re("gap"),y=Re("gradientColorStops"),_=Re("gradientColorStopPositions"),x=Re("inset"),I=Re("margin"),w=Re("opacity"),v=Re("padding"),S=Re("saturate"),k=Re("scale"),D=Re("sepia"),j=Re("skew"),C=Re("space"),E=Re("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ue,e],O=()=>[ue,e],P=()=>["",ar,Ur],q=()=>["auto",ro,ue],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ue],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[ro,ue];return{cacheSize:500,separator:":",theme:{colors:[Sa],spacing:[ar,Ur],blur:["none","",$r,ue],brightness:K(),borderColor:[t],borderRadius:["none","","full",$r,ue],borderSpacing:O(),borderWidth:P(),contrast:K(),grayscale:B(),hueRotate:K(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[ek,Ur],inset:N(),margin:N(),opacity:K(),padding:O(),saturate:K(),scale:K(),sepia:B(),skew:K(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[$r]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ue]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ia,ue]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Ia,ue]}],"grid-cols":[{"grid-cols":[Sa]}],"col-start-end":[{col:["auto",{span:["full",Ia,ue]},ue]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Sa]}],"row-start-end":[{row:["auto",{span:[Ia,ue]},ue]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[$r]},$r]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$r,Ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tf]}],"font-family":[{font:[Sa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",ro,tf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ar,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ar,Ur]}],"underline-offset":[{"underline-offset":["auto",ar,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),rk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ik]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[ar,ue]}],"outline-w":[{outline:[ar,Ur]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ar,Ur]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$r,ok]}],"shadow-color":[{shadow:[Sa]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",$r,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[m]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ia,ue]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ar,Ur,tf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dk=qN(ck);function Ue(...t){return dk(AE(t))}const hk=bN,VE=T.forwardRef(({className:t,...e},n)=>p.jsx(xE,{ref:n,className:Ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));VE.displayName=xE.displayName;const fk=tg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),FE=T.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(EE,{ref:r,className:Ue(fk({variant:e}),t),...n}));FE.displayName=EE.displayName;const pk=T.forwardRef(({className:t,...e},n)=>p.jsx(SE,{ref:n,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));pk.displayName=SE.displayName;const UE=T.forwardRef(({className:t,...e},n)=>p.jsx(bE,{ref:n,className:Ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(kE,{className:"h-4 w-4"})}));UE.displayName=bE.displayName;const $E=T.forwardRef(({className:t,...e},n)=>p.jsx(TE,{ref:n,className:Ue("text-sm font-semibold",t),...e}));$E.displayName=TE.displayName;const zE=T.forwardRef(({className:t,...e},n)=>p.jsx(IE,{ref:n,className:Ue("text-sm opacity-90",t),...e}));zE.displayName=IE.displayName;function mk(){const{toasts:t}=Zx();return p.jsxs(hk,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(FE,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx($E,{children:n}),r&&p.jsx(zE,{children:r})]}),s,p.jsx(UE,{})]},e)}),p.jsx(VE,{})]})}var C0=["light","dark"],gk="(prefers-color-scheme: dark)",yk=T.createContext(void 0),vk={setTheme:t=>{},themes:[]},_k=()=>{var t;return(t=T.useContext(yk))!=null?t:vk};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:u})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=s?C0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(_,x=!1,I=!0)=>{let w=o?o[_]:_,v=x?_+"|| ''":`'${w}'`,S="";return s&&I&&!x&&C0.includes(_)&&(S+=`d.style.colorScheme = '${_}';`),n==="class"?x||w?S+=`c.add(${v})`:S+="null":w&&(S+=`d[s](n,${v})`),S},y=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${gk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${m}}catch(t){}}();`;return T.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:y}})});var wk=t=>{switch(t){case"success":return Tk;case"info":return Sk;case"warning":return Ik;case"error":return bk;default:return null}},xk=Array(12).fill(0),Ek=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},xk.map((e,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Tk=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ik=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Sk=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bk=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ck=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},wp=1,Ak=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:wp++,o=this.toasts.find(u=>u.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:a,title:r}):u):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(Pk(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,u=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:u})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,u=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:u})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,u=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:u})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||wp++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Gt=new Ak,Rk=(t,e)=>{let n=(e==null?void 0:e.id)||wp++;return Gt.addToast({title:t,...e,id:n}),n},Pk=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Nk=Rk,kk=()=>Gt.toasts,hr=Object.assign(Nk,{success:Gt.success,info:Gt.info,warning:Gt.warning,error:Gt.error,custom:Gt.custom,message:Gt.message,promise:Gt.promise,dismiss:Gt.dismiss,loading:Gt.loading},{getHistory:kk});function Ok(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Ok(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Du(t){return t.label!==void 0}var Dk=3,Mk="32px",jk=4e3,Lk=356,Vk=14,Fk=20,Uk=200;function $k(...t){return t.filter(Boolean).join(" ")}var zk=t=>{var e,n,r,s,i,o,a,u,c,d;let{invert:m,toast:h,unstyled:y,interacting:_,setHeights:x,visibleToasts:I,heights:w,index:v,toasts:S,expanded:k,removeToast:D,defaultRichColors:j,closeButton:C,style:E,cancelButtonStyle:A,actionButtonStyle:R,className:N="",descriptionClassName:O="",duration:P,position:q,gap:se,loadingIcon:Z,expandByDefault:le,classNames:L,icons:B,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:K,cn:J}=t,[te,Ce]=W.useState(!1),[Ze,ve]=W.useState(!1),[mt,On]=W.useState(!1),[Dn,Ht]=W.useState(!1),[tr,Mn]=W.useState(0),[mn,nr]=W.useState(0),kr=W.useRef(null),gn=W.useRef(null),Zo=v===0,ea=v+1<=I,Ge=h.type,jn=h.dismissible!==!1,Xl=h.className||"",uh=h.descriptionClassName||"",Or=W.useMemo(()=>w.findIndex(ie=>ie.toastId===h.id)||0,[w,h.id]),ta=W.useMemo(()=>{var ie;return(ie=h.closeButton)!=null?ie:C},[h.closeButton,C]),na=W.useMemo(()=>h.duration||P||jk,[h.duration,P]),Ke=W.useRef(0),$e=W.useRef(0),Fs=W.useRef(0),rr=W.useRef(null),[ra,ch]=q.split("-"),Dr=W.useMemo(()=>w.reduce((ie,Ie,Ee)=>Ee>=Or?ie:ie+Ie.height,0),[w,Or]),sa=Ck(),Jl=h.invert||m,Us=Ge==="loading";$e.current=W.useMemo(()=>Or*se+Dr,[Or,Dr]),W.useEffect(()=>{Ce(!0)},[]),W.useLayoutEffect(()=>{if(!te)return;let ie=gn.current,Ie=ie.style.height;ie.style.height="auto";let Ee=ie.getBoundingClientRect().height;ie.style.height=Ie,nr(Ee),x(gt=>gt.find(jt=>jt.toastId===h.id)?gt.map(jt=>jt.toastId===h.id?{...jt,height:Ee}:jt):[{toastId:h.id,height:Ee,position:h.position},...gt])},[te,h.title,h.description,x,h.id]);let Ln=W.useCallback(()=>{ve(!0),Mn($e.current),x(ie=>ie.filter(Ie=>Ie.toastId!==h.id)),setTimeout(()=>{D(h)},Uk)},[h,D,x,$e]);W.useEffect(()=>{if(h.promise&&Ge==="loading"||h.duration===1/0||h.type==="loading")return;let ie,Ie=na;return k||_||K&&sa?(()=>{if(Fs.current<Ke.current){let Ee=new Date().getTime()-Ke.current;Ie=Ie-Ee}Fs.current=new Date().getTime()})():Ie!==1/0&&(Ke.current=new Date().getTime(),ie=setTimeout(()=>{var Ee;(Ee=h.onAutoClose)==null||Ee.call(h,h),Ln()},Ie)),()=>clearTimeout(ie)},[k,_,le,h,na,Ln,h.promise,Ge,K,sa]),W.useEffect(()=>{let ie=gn.current;if(ie){let Ie=ie.getBoundingClientRect().height;return nr(Ie),x(Ee=>[{toastId:h.id,height:Ie,position:h.position},...Ee]),()=>x(Ee=>Ee.filter(gt=>gt.toastId!==h.id))}},[x,h.id]),W.useEffect(()=>{h.delete&&Ln()},[Ln,h.delete]);function dh(){return B!=null&&B.loading?W.createElement("div",{className:"sonner-loader","data-visible":Ge==="loading"},B.loading):Z?W.createElement("div",{className:"sonner-loader","data-visible":Ge==="loading"},Z):W.createElement(Ek,{visible:Ge==="loading"})}return W.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:gn,className:J(N,Xl,L==null?void 0:L.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Ge],(n=h==null?void 0:h.classNames)==null?void 0:n[Ge]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":te,"data-promise":!!h.promise,"data-removed":Ze,"data-visible":ea,"data-y-position":ra,"data-x-position":ch,"data-index":v,"data-front":Zo,"data-swiping":mt,"data-dismissible":jn,"data-type":Ge,"data-invert":Jl,"data-swipe-out":Dn,"data-expanded":!!(k||le&&te),style:{"--index":v,"--toasts-before":v,"--z-index":S.length-v,"--offset":`${Ze?tr:$e.current}px`,"--initial-height":le?"auto":`${mn}px`,...E,...h.style},onPointerDown:ie=>{Us||!jn||(kr.current=new Date,Mn($e.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(On(!0),rr.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Ie,Ee,gt;if(Dn||!jn)return;rr.current=null;let jt=Number(((ie=gn.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Mr=new Date().getTime()-((Ie=kr.current)==null?void 0:Ie.getTime()),sr=Math.abs(jt)/Mr;if(Math.abs(jt)>=Fk||sr>.11){Mn($e.current),(Ee=h.onDismiss)==null||Ee.call(h,h),Ln(),Ht(!0);return}(gt=gn.current)==null||gt.style.setProperty("--swipe-amount","0px"),On(!1)},onPointerMove:ie=>{var Ie;if(!rr.current||!jn)return;let Ee=ie.clientY-rr.current.y,gt=ie.clientX-rr.current.x,jt=(ra==="top"?Math.min:Math.max)(0,Ee),Mr=ie.pointerType==="touch"?10:2;Math.abs(jt)>Mr?(Ie=gn.current)==null||Ie.style.setProperty("--swipe-amount",`${Ee}px`):Math.abs(gt)>Mr&&(rr.current=null)}},ta&&!h.jsx?W.createElement("button",{"aria-label":X,"data-disabled":Us,"data-close-button":!0,onClick:Us||!jn?()=>{}:()=>{var ie;Ln(),(ie=h.onDismiss)==null||ie.call(h,h)},className:J(L==null?void 0:L.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||W.isValidElement(h.title)?h.jsx||h.title:W.createElement(W.Fragment,null,Ge||h.icon||h.promise?W.createElement("div",{"data-icon":"",className:J(L==null?void 0:L.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||dh():null,h.type!=="loading"?h.icon||(B==null?void 0:B[Ge])||wk(Ge):null):null,W.createElement("div",{"data-content":"",className:J(L==null?void 0:L.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:J(L==null?void 0:L.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?W.createElement("div",{"data-description":"",className:J(O,uh,L==null?void 0:L.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},h.description):null),W.isValidElement(h.cancel)?h.cancel:h.cancel&&Du(h.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:ie=>{var Ie,Ee;Du(h.cancel)&&jn&&((Ee=(Ie=h.cancel).onClick)==null||Ee.call(Ie,ie),Ln())},className:J(L==null?void 0:L.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,W.isValidElement(h.action)?h.action:h.action&&Du(h.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:ie=>{var Ie,Ee;Du(h.action)&&(ie.defaultPrevented||((Ee=(Ie=h.action).onClick)==null||Ee.call(Ie,ie),Ln()))},className:J(L==null?void 0:L.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function A0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Bk=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:u="light",richColors:c,duration:d,style:m,visibleToasts:h=Dk,toastOptions:y,dir:_=A0(),gap:x=Vk,loadingIcon:I,icons:w,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:S,cn:k=$k}=t,[D,j]=W.useState([]),C=W.useMemo(()=>Array.from(new Set([n].concat(D.filter(K=>K.position).map(K=>K.position)))),[D,n]),[E,A]=W.useState([]),[R,N]=W.useState(!1),[O,P]=W.useState(!1),[q,se]=W.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=W.useRef(null),le=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=W.useRef(null),B=W.useRef(!1),X=W.useCallback(K=>{var J;(J=D.find(te=>te.id===K.id))!=null&&J.delete||Gt.dismiss(K.id),j(te=>te.filter(({id:Ce})=>Ce!==K.id))},[D]);return W.useEffect(()=>Gt.subscribe(K=>{if(K.dismiss){j(J=>J.map(te=>te.id===K.id?{...te,delete:!0}:te));return}setTimeout(()=>{zx.flushSync(()=>{j(J=>{let te=J.findIndex(Ce=>Ce.id===K.id);return te!==-1?[...J.slice(0,te),{...J[te],...K},...J.slice(te+1)]:[K,...J]})})})}),[]),W.useEffect(()=>{if(u!=="system"){se(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{se(K?"dark":"light")})},[u]),W.useEffect(()=>{D.length<=1&&N(!1)},[D]),W.useEffect(()=>{let K=J=>{var te,Ce;r.every(Ze=>J[Ze]||J.code===Ze)&&(N(!0),(te=Z.current)==null||te.focus()),J.code==="Escape"&&(document.activeElement===Z.current||(Ce=Z.current)!=null&&Ce.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),W.useEffect(()=>{if(Z.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[Z.current]),D.length?W.createElement("section",{"aria-label":`${v} ${le}`,tabIndex:-1},C.map((K,J)=>{var te;let[Ce,Ze]=K.split("-");return W.createElement("ol",{key:K,dir:_==="auto"?A0():_,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Ce,"data-x-position":Ze,style:{"--front-toast-height":`${((te=E[0])==null?void 0:te.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||Mk,"--width":`${Lk}px`,"--gap":`${x}px`,...m},onBlur:ve=>{B.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=ve.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{O||N(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},D.filter(ve=>!ve.position&&J===0||ve.position===K).map((ve,mt)=>{var On,Dn;return W.createElement(zk,{key:ve.id,icons:w,index:mt,toast:ve,defaultRichColors:c,duration:(On=y==null?void 0:y.duration)!=null?On:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Dn=y==null?void 0:y.closeButton)!=null?Dn:i,interacting:O,position:K,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:X,toasts:D.filter(Ht=>Ht.position==ve.position),heights:E.filter(Ht=>Ht.position==ve.position),setHeights:A,expandByDefault:s,gap:x,loadingIcon:I,expanded:R,pauseWhenPageIsHidden:S,cn:k})}))})):null};const Hk=({...t})=>{const{theme:e="system"}=_k();return p.jsx(Bk,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Wk=Fw.useId||(()=>{}),qk=0;function BE(t){const[e,n]=T.useState(Wk());return Is(()=>{t||n(r=>r??String(qk++))},[t]),t||(e?`radix-${e}`:"")}const Gk=["top","right","bottom","left"],Ss=Math.min,Qt=Math.max,Bc=Math.round,Mu=Math.floor,bs=t=>({x:t,y:t}),Kk={left:"right",right:"left",bottom:"top",top:"bottom"},Qk={start:"end",end:"start"};function xp(t,e,n){return Qt(t,Ss(e,n))}function Tr(t,e){return typeof t=="function"?t(e):t}function Ir(t){return t.split("-")[0]}function Ho(t){return t.split("-")[1]}function rg(t){return t==="x"?"y":"x"}function sg(t){return t==="y"?"height":"width"}function Cs(t){return["top","bottom"].includes(Ir(t))?"y":"x"}function ig(t){return rg(Cs(t))}function Yk(t,e,n){n===void 0&&(n=!1);const r=Ho(t),s=ig(t),i=sg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Hc(o)),[o,Hc(o)]}function Xk(t){const e=Hc(t);return[Ep(t),e,Ep(e)]}function Ep(t){return t.replace(/start|end/g,e=>Qk[e])}function Jk(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Zk(t,e,n,r){const s=Ho(t);let i=Jk(Ir(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ep)))),i}function Hc(t){return t.replace(/left|right|bottom|top/g,e=>Kk[e])}function e2(t){return{top:0,right:0,bottom:0,left:0,...t}}function HE(t){return typeof t!="number"?e2(t):{top:t,right:t,bottom:t,left:t}}function Wc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function R0(t,e,n){let{reference:r,floating:s}=t;const i=Cs(e),o=ig(e),a=sg(o),u=Ir(e),c=i==="y",d=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let y;switch(u){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-s.width,y:m};break;default:y={x:r.x,y:r.y}}switch(Ho(e)){case"start":y[o]-=h*(n&&c?-1:1);break;case"end":y[o]+=h*(n&&c?-1:1);break}return y}const t2=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:m}=R0(c,r,u),h=r,y={},_=0;for(let x=0;x<a.length;x++){const{name:I,fn:w}=a[x],{x:v,y:S,data:k,reset:D}=await w({x:d,y:m,initialPlacement:r,placement:h,strategy:s,middlewareData:y,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,m=S??m,y={...y,[I]:{...y[I],...k}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:m}=R0(c,h,u)),x=-1)}return{x:d,y:m,placement:h,strategy:s,middlewareData:y}};async function ml(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:h=!1,padding:y=0}=Tr(e,t),_=HE(y),I=a[h?m==="floating"?"reference":"floating":m],w=Wc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(I)))==null||n?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),v=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=Wc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:S,strategy:u}):v);return{top:(w.top-D.top+_.top)/k.y,bottom:(D.bottom-w.bottom+_.bottom)/k.y,left:(w.left-D.left+_.left)/k.x,right:(D.right-w.right+_.right)/k.x}}const n2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Tr(t,e)||{};if(c==null)return{};const m=HE(d),h={x:n,y:r},y=ig(s),_=sg(y),x=await o.getDimensions(c),I=y==="y",w=I?"top":"left",v=I?"bottom":"right",S=I?"clientHeight":"clientWidth",k=i.reference[_]+i.reference[y]-h[y]-i.floating[_],D=h[y]-i.reference[y],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=j?j[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=a.floating[S]||i.floating[_]);const E=k/2-D/2,A=C/2-x[_]/2-1,R=Ss(m[w],A),N=Ss(m[v],A),O=R,P=C-x[_]-N,q=C/2-x[_]/2+E,se=xp(O,q,P),Z=!u.arrow&&Ho(s)!=null&&q!==se&&i.reference[_]/2-(q<O?R:N)-x[_]/2<0,le=Z?q<O?q-O:q-P:0;return{[y]:h[y]+le,data:{[y]:se,centerOffset:q-se-le,...Z&&{alignmentOffset:le}},reset:Z}}}),r2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:x=!0,...I}=Tr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Ir(s),v=Cs(a),S=Ir(a)===a,k=await(u.isRTL==null?void 0:u.isRTL(c.floating)),D=h||(S||!x?[Hc(a)]:Xk(a)),j=_!=="none";!h&&j&&D.push(...Zk(a,x,_,k));const C=[a,...D],E=await ml(e,I),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(E[w]),m){const q=Yk(s,o,k);A.push(E[q[0]],E[q[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(q=>q<=0)){var N,O;const q=(((N=i.flip)==null?void 0:N.index)||0)+1,se=C[q];if(se)return{data:{index:q,overflows:R},reset:{placement:se}};let Z=(O=R.filter(le=>le.overflows[0]<=0).sort((le,L)=>le.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!Z)switch(y){case"bestFit":{var P;const le=(P=R.filter(L=>{if(j){const B=Cs(L.placement);return B===v||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,X)=>B+X,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:P[0];le&&(Z=le);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function P0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function N0(t){return Gk.some(e=>t[e]>=0)}const s2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Tr(t,e);switch(r){case"referenceHidden":{const i=await ml(e,{...s,elementContext:"reference"}),o=P0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:N0(o)}}}case"escaped":{const i=await ml(e,{...s,altBoundary:!0}),o=P0(i,n.floating);return{data:{escapedOffsets:o,escaped:N0(o)}}}default:return{}}}}};async function i2(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ir(n),a=Ho(n),u=Cs(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&u?-1:1,m=Tr(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof _=="number"&&(y=a==="end"?_*-1:_),u?{x:y*d,y:h*c}:{x:h*c,y:y*d}}const o2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await i2(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},a2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:w,y:v}=I;return{x:w,y:v}}},...u}=Tr(t,e),c={x:n,y:r},d=await ml(e,u),m=Cs(Ir(s)),h=rg(m);let y=c[h],_=c[m];if(i){const I=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=y+d[I],S=y-d[w];y=xp(v,y,S)}if(o){const I=m==="y"?"top":"left",w=m==="y"?"bottom":"right",v=_+d[I],S=_-d[w];_=xp(v,_,S)}const x=a.fn({...e,[h]:y,[m]:_});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:i,[m]:o}}}}}},l2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=Tr(t,e),d={x:n,y:r},m=Cs(s),h=rg(m);let y=d[h],_=d[m];const x=Tr(a,e),I=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const S=h==="y"?"height":"width",k=i.reference[h]-i.floating[S]+I.mainAxis,D=i.reference[h]+i.reference[S]-I.mainAxis;y<k?y=k:y>D&&(y=D)}if(c){var w,v;const S=h==="y"?"width":"height",k=["top","left"].includes(Ir(s)),D=i.reference[m]-i.floating[S]+(k&&((w=o.offset)==null?void 0:w[m])||0)+(k?0:I.crossAxis),j=i.reference[m]+i.reference[S]+(k?0:((v=o.offset)==null?void 0:v[m])||0)-(k?I.crossAxis:0);_<D?_=D:_>j&&(_=j)}return{[h]:y,[m]:_}}}},u2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...c}=Tr(t,e),d=await ml(e,c),m=Ir(s),h=Ho(s),y=Cs(s)==="y",{width:_,height:x}=i.floating;let I,w;m==="top"||m==="bottom"?(I=m,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=m,I=h==="end"?"top":"bottom");const v=x-d.top-d.bottom,S=_-d.left-d.right,k=Ss(x-d[I],v),D=Ss(_-d[w],S),j=!e.middlewareData.shift;let C=k,E=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),j&&!h){const R=Qt(d.left,0),N=Qt(d.right,0),O=Qt(d.top,0),P=Qt(d.bottom,0);y?E=_-2*(R!==0||N!==0?R+N:Qt(d.left,d.right)):C=x-2*(O!==0||P!==0?O+P:Qt(d.top,d.bottom))}await u({...e,availableWidth:E,availableHeight:C});const A=await o.getDimensions(a.floating);return _!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Ld(){return typeof window<"u"}function Wo(t){return WE(t)?(t.nodeName||"").toLowerCase():"#document"}function Jt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function er(t){var e;return(e=(WE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WE(t){return Ld()?t instanceof Node||t instanceof Jt(t).Node:!1}function Pn(t){return Ld()?t instanceof Element||t instanceof Jt(t).Element:!1}function Jn(t){return Ld()?t instanceof HTMLElement||t instanceof Jt(t).HTMLElement:!1}function k0(t){return!Ld()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jt(t).ShadowRoot}function Fl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Nn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function c2(t){return["table","td","th"].includes(Wo(t))}function Vd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function og(t){const e=ag(),n=Pn(t)?Nn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function d2(t){let e=As(t);for(;Jn(e)&&!bo(e);){if(og(e))return e;if(Vd(e))return null;e=As(e)}return null}function ag(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bo(t){return["html","body","#document"].includes(Wo(t))}function Nn(t){return Jt(t).getComputedStyle(t)}function Fd(t){return Pn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function As(t){if(Wo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||k0(t)&&t.host||er(t);return k0(e)?e.host:e}function qE(t){const e=As(t);return bo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jn(e)&&Fl(e)?e:qE(e)}function gl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=qE(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Jt(s);if(i){const a=Tp(o);return e.concat(o,o.visualViewport||[],Fl(s)?s:[],a&&n?gl(a):[])}return e.concat(s,gl(s,[],n))}function Tp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function GE(t){const e=Nn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Jn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Bc(n)!==i||Bc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function lg(t){return Pn(t)?t:t.contextElement}function so(t){const e=lg(t);if(!Jn(e))return bs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=GE(e);let o=(i?Bc(n.width):n.width)/r,a=(i?Bc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const h2=bs(0);function KE(t){const e=Jt(t);return!ag()||!e.visualViewport?h2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function f2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jt(t)?!1:e}function ui(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=lg(t);let o=bs(1);e&&(r?Pn(r)&&(o=so(r)):o=so(t));const a=f2(i,n,r)?KE(i):bs(0);let u=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,m=s.height/o.y;if(i){const h=Jt(i),y=r&&Pn(r)?Jt(r):r;let _=h,x=Tp(_);for(;x&&r&&y!==_;){const I=so(x),w=x.getBoundingClientRect(),v=Nn(x),S=w.left+(x.clientLeft+parseFloat(v.paddingLeft))*I.x,k=w.top+(x.clientTop+parseFloat(v.paddingTop))*I.y;u*=I.x,c*=I.y,d*=I.x,m*=I.y,u+=S,c+=k,_=Jt(x),x=Tp(_)}}return Wc({width:d,height:m,x:u,y:c})}function p2(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=er(r),a=e?Vd(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},c=bs(1);const d=bs(0),m=Jn(r);if((m||!m&&!i)&&((Wo(r)!=="body"||Fl(o))&&(u=Fd(r)),Jn(r))){const h=ui(r);c=so(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x,y:n.y*c.y-u.scrollTop*c.y+d.y}}function m2(t){return Array.from(t.getClientRects())}function Ip(t,e){const n=Fd(t).scrollLeft;return e?e.left+n:ui(er(t)).left+n}function g2(t){const e=er(t),n=Fd(t),r=t.ownerDocument.body,s=Qt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Qt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ip(t);const a=-n.scrollTop;return Nn(r).direction==="rtl"&&(o+=Qt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function y2(t,e){const n=Jt(t),r=er(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const c=ag();(!c||c&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a,y:u}}function v2(t,e){const n=ui(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Jn(t)?so(t):bs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:a,x:u,y:c}}function O0(t,e,n){let r;if(e==="viewport")r=y2(t,n);else if(e==="document")r=g2(er(t));else if(Pn(e))r=v2(e,n);else{const s=KE(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Wc(r)}function QE(t,e){const n=As(t);return n===e||!Pn(n)||bo(n)?!1:Nn(n).position==="fixed"||QE(n,e)}function _2(t,e){const n=e.get(t);if(n)return n;let r=gl(t,[],!1).filter(a=>Pn(a)&&Wo(a)!=="body"),s=null;const i=Nn(t).position==="fixed";let o=i?As(t):t;for(;Pn(o)&&!bo(o);){const a=Nn(o),u=og(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Fl(o)&&!u&&QE(t,o))?r=r.filter(d=>d!==o):s=a,o=As(o)}return e.set(t,r),r}function w2(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Vd(e)?[]:_2(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const m=O0(e,d,s);return c.top=Qt(m.top,c.top),c.right=Ss(m.right,c.right),c.bottom=Ss(m.bottom,c.bottom),c.left=Qt(m.left,c.left),c},O0(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function x2(t){const{width:e,height:n}=GE(t);return{width:e,height:n}}function E2(t,e,n){const r=Jn(e),s=er(e),i=n==="fixed",o=ui(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=bs(0);if(r||!r&&!i)if((Wo(e)!=="body"||Fl(s))&&(a=Fd(e)),r){const y=ui(e,!0,i,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&(u.x=Ip(s));let c=0,d=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();d=y.top+a.scrollTop,c=y.left+a.scrollLeft-Ip(s,y)}const m=o.left+a.scrollLeft-u.x-c,h=o.top+a.scrollTop-u.y-d;return{x:m,y:h,width:o.width,height:o.height}}function nf(t){return Nn(t).position==="static"}function D0(t,e){if(!Jn(t)||Nn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return er(t)===n&&(n=n.ownerDocument.body),n}function YE(t,e){const n=Jt(t);if(Vd(t))return n;if(!Jn(t)){let s=As(t);for(;s&&!bo(s);){if(Pn(s)&&!nf(s))return s;s=As(s)}return n}let r=D0(t,e);for(;r&&c2(r)&&nf(r);)r=D0(r,e);return r&&bo(r)&&nf(r)&&!og(r)?n:r||d2(t)||n}const T2=async function(t){const e=this.getOffsetParent||YE,n=this.getDimensions,r=await n(t.floating);return{reference:E2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function I2(t){return Nn(t).direction==="rtl"}const S2={convertOffsetParentRelativeRectToViewportRelativeRect:p2,getDocumentElement:er,getClippingRect:w2,getOffsetParent:YE,getElementRects:T2,getClientRects:m2,getDimensions:x2,getScale:so,isElement:Pn,isRTL:I2};function b2(t,e){let n=null,r;const s=er(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const{left:c,top:d,width:m,height:h}=t.getBoundingClientRect();if(a||e(),!m||!h)return;const y=Mu(d),_=Mu(s.clientWidth-(c+m)),x=Mu(s.clientHeight-(d+h)),I=Mu(c),v={rootMargin:-y+"px "+-_+"px "+-x+"px "+-I+"px",threshold:Qt(0,Ss(1,u))||1};let S=!0;function k(D){const j=D[0].intersectionRatio;if(j!==u){if(!S)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(k,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,v)}n.observe(t)}return o(!0),i}function C2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=lg(t),d=s||i?[...c?gl(c):[],...gl(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const m=c&&a?b2(c,n):null;let h=-1,y=null;o&&(y=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&y&&(y.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),n()}),c&&!u&&y.observe(c),y.observe(e));let _,x=u?ui(t):null;u&&I();function I(){const w=ui(t);x&&(w.x!==x.x||w.y!==x.y||w.width!==x.width||w.height!==x.height)&&n(),x=w,_=requestAnimationFrame(I)}return n(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),m==null||m(),(w=y)==null||w.disconnect(),y=null,u&&cancelAnimationFrame(_)}}const A2=o2,R2=a2,P2=r2,N2=u2,k2=s2,M0=n2,O2=l2,D2=(t,e,n)=>{const r=new Map,s={platform:S2,...n},i={...s.platform,_c:r};return t2(t,e,{...s,platform:i})};var sc=typeof document<"u"?T.useLayoutEffect:T.useEffect;function qc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!qc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function XE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function j0(t,e){const n=XE(t);return Math.round(e*n)/n}function rf(t){const e=T.useRef(t);return sc(()=>{e.current=t}),e}function M2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,m]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,y]=T.useState(r);qc(h,r)||y(r);const[_,x]=T.useState(null),[I,w]=T.useState(null),v=T.useCallback(L=>{L!==j.current&&(j.current=L,x(L))},[]),S=T.useCallback(L=>{L!==C.current&&(C.current=L,w(L))},[]),k=i||_,D=o||I,j=T.useRef(null),C=T.useRef(null),E=T.useRef(d),A=u!=null,R=rf(u),N=rf(s),O=rf(c),P=T.useCallback(()=>{if(!j.current||!C.current)return;const L={placement:e,strategy:n,middleware:h};N.current&&(L.platform=N.current),D2(j.current,C.current,L).then(B=>{const X={...B,isPositioned:O.current!==!1};q.current&&!qc(E.current,X)&&(E.current=X,Dl.flushSync(()=>{m(X)}))})},[h,e,n,N,O]);sc(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,m(L=>({...L,isPositioned:!1})))},[c]);const q=T.useRef(!1);sc(()=>(q.current=!0,()=>{q.current=!1}),[]),sc(()=>{if(k&&(j.current=k),D&&(C.current=D),k&&D){if(R.current)return R.current(k,D,P);P()}},[k,D,P,R,A]);const se=T.useMemo(()=>({reference:j,floating:C,setReference:v,setFloating:S}),[v,S]),Z=T.useMemo(()=>({reference:k,floating:D}),[k,D]),le=T.useMemo(()=>{const L={position:n,left:0,top:0};if(!Z.floating)return L;const B=j0(Z.floating,d.x),X=j0(Z.floating,d.y);return a?{...L,transform:"translate("+B+"px, "+X+"px)",...XE(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:X}},[n,a,Z.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:P,refs:se,elements:Z,floatingStyles:le}),[d,P,se,Z,le])}const j2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?M0({element:r.current,padding:s}).fn(n):{}:r?M0({element:r,padding:s}).fn(n):{}}}},L2=(t,e)=>({...A2(t),options:[t,e]}),V2=(t,e)=>({...R2(t),options:[t,e]}),F2=(t,e)=>({...O2(t),options:[t,e]}),U2=(t,e)=>({...P2(t),options:[t,e]}),$2=(t,e)=>({...N2(t),options:[t,e]}),z2=(t,e)=>({...k2(t),options:[t,e]}),B2=(t,e)=>({...j2(t),options:[t,e]});var H2="Arrow",JE=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(Oe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});JE.displayName=H2;var W2=JE;function q2(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),u=n.length;n=[...n,o];function c(m){const{scope:h,children:y,..._}=m,x=(h==null?void 0:h[t][u])||a,I=T.useMemo(()=>_,Object.values(_));return p.jsx(x.Provider,{value:I,children:y})}function d(m,h){const y=(h==null?void 0:h[t][u])||a,_=T.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,G2(s,...e)]}function G2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const m=u(i)[`__scope${c}`];return{...a,...m}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ZE(t){const[e,n]=T.useState(void 0);return Is(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var eT="Popper",[tT,nT]=q2(eT),[B6,rT]=tT(eT),sT="PopperAnchor",iT=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=rT(sT,n),o=T.useRef(null),a=Bt(e,o);return T.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Oe.div,{...s,ref:a})});iT.displayName=sT;var ug="PopperContent",[K2,Q2]=tT(ug),oT=T.forwardRef((t,e)=>{var mt,On,Dn,Ht,tr,Mn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:_,...x}=t,I=rT(ug,n),[w,v]=T.useState(null),S=Bt(e,mn=>v(mn)),[k,D]=T.useState(null),j=ZE(k),C=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],O=N.length>0,P={padding:R,boundary:N.filter(X2),altBoundary:O},{refs:q,floatingStyles:se,placement:Z,isPositioned:le,middlewareData:L}=M2({strategy:"fixed",placement:A,whileElementsMounted:(...mn)=>C2(...mn,{animationFrame:y==="always"}),elements:{reference:I.anchor},middleware:[L2({mainAxis:s+E,alignmentAxis:o}),u&&V2({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?F2():void 0,...P}),u&&U2({...P}),$2({...P,apply:({elements:mn,rects:nr,availableWidth:kr,availableHeight:gn})=>{const{width:Zo,height:ea}=nr.reference,Ge=mn.floating.style;Ge.setProperty("--radix-popper-available-width",`${kr}px`),Ge.setProperty("--radix-popper-available-height",`${gn}px`),Ge.setProperty("--radix-popper-anchor-width",`${Zo}px`),Ge.setProperty("--radix-popper-anchor-height",`${ea}px`)}}),k&&B2({element:k,padding:a}),J2({arrowWidth:C,arrowHeight:E}),h&&z2({strategy:"referenceHidden",...P})]}),[B,X]=uT(Z),K=Rn(_);Is(()=>{le&&(K==null||K())},[le,K]);const J=(mt=L.arrow)==null?void 0:mt.x,te=(On=L.arrow)==null?void 0:On.y,Ce=((Dn=L.arrow)==null?void 0:Dn.centerOffset)!==0,[Ze,ve]=T.useState();return Is(()=>{w&&ve(window.getComputedStyle(w).zIndex)},[w]),p.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:le?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ze,"--radix-popper-transform-origin":[(Ht=L.transformOrigin)==null?void 0:Ht.x,(tr=L.transformOrigin)==null?void 0:tr.y].join(" "),...((Mn=L.hide)==null?void 0:Mn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(K2,{scope:n,placedSide:B,onArrowChange:D,arrowX:J,arrowY:te,shouldHideArrow:Ce,children:p.jsx(Oe.div,{"data-side":B,"data-align":X,...x,ref:S,style:{...x.style,animation:le?void 0:"none"}})})})});oT.displayName=ug;var aT="PopperArrow",Y2={top:"bottom",right:"left",bottom:"top",left:"right"},lT=T.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Q2(aT,r),o=Y2[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(W2,{...s,ref:n,style:{...s.style,display:"block"}})})});lT.displayName=aT;function X2(t){return t!==null}var J2=t=>({name:"transformOrigin",options:t,fn(e){var I,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((I=s.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=uT(n),m={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,y=(((v=s.arrow)==null?void 0:v.y)??0)+u/2;let _="",x="";return c==="bottom"?(_=o?m:`${h}px`,x=`${-u}px`):c==="top"?(_=o?m:`${h}px`,x=`${r.floating.height+u}px`):c==="right"?(_=`${-u}px`,x=o?m:`${y}px`):c==="left"&&(_=`${r.floating.width+u}px`,x=o?m:`${y}px`),{data:{x:_,y:x}}}});function uT(t){const[e,n="center"]=t.split("-");return[e,n]}var Z2=iT,e4=oT,t4=lT,[Ud,H6]=Ll("Tooltip",[nT]),cg=nT(),cT="TooltipProvider",n4=700,L0="tooltip.open",[r4,dT]=Ud(cT),hT=t=>{const{__scopeTooltip:e,delayDuration:n=n4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=T.useState(!0),u=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),p.jsx(r4,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:T.useCallback(d=>{u.current=d},[]),disableHoverableContent:s,children:i})};hT.displayName=cT;var fT="Tooltip",[W6,$d]=Ud(fT),Sp="TooltipTrigger",s4=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=$d(Sp,n),i=dT(Sp,n),o=cg(n),a=T.useRef(null),u=Bt(e,a,s.onTriggerChange),c=T.useRef(!1),d=T.useRef(!1),m=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),p.jsx(Z2,{asChild:!0,...o,children:p.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:_e(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:_e(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:_e(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:_e(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:_e(t.onBlur,s.onClose),onClick:_e(t.onClick,s.onClose)})})});s4.displayName=Sp;var i4="TooltipPortal",[q6,o4]=Ud(i4,{forceMount:void 0}),Co="TooltipContent",pT=T.forwardRef((t,e)=>{const n=o4(Co,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=$d(Co,t.__scopeTooltip);return p.jsx(Vl,{present:r||o.open,children:o.disableHoverableContent?p.jsx(mT,{side:s,...i,ref:e}):p.jsx(a4,{side:s,...i,ref:e})})}),a4=T.forwardRef((t,e)=>{const n=$d(Co,t.__scopeTooltip),r=dT(Co,t.__scopeTooltip),s=T.useRef(null),i=Bt(e,s),[o,a]=T.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:m}=r,h=T.useCallback(()=>{a(null),m(!1)},[m]),y=T.useCallback((_,x)=>{const I=_.currentTarget,w={x:_.clientX,y:_.clientY},v=d4(w,I.getBoundingClientRect()),S=h4(w,v),k=f4(x.getBoundingClientRect()),D=m4([...S,...k]);a(D),m(!0)},[m]);return T.useEffect(()=>()=>h(),[h]),T.useEffect(()=>{if(u&&d){const _=I=>y(I,d),x=I=>y(I,u);return u.addEventListener("pointerleave",_),d.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",x)}}},[u,d,y,h]),T.useEffect(()=>{if(o){const _=x=>{const I=x.target,w={x:x.clientX,y:x.clientY},v=(u==null?void 0:u.contains(I))||(d==null?void 0:d.contains(I)),S=!p4(w,o);v?h():S&&(h(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[u,d,o,c,h]),p.jsx(mT,{...t,ref:i})}),[l4,u4]=Ud(fT,{isInside:!1}),mT=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=$d(Co,n),c=cg(n),{onClose:d}=u;return T.useEffect(()=>(document.addEventListener(L0,d),()=>document.removeEventListener(L0,d)),[d]),T.useEffect(()=>{if(u.trigger){const m=h=>{const y=h.target;y!=null&&y.contains(u.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,d]),p.jsx(Xm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:p.jsxs(e4,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(tE,{children:r}),p.jsx(l4,{scope:n,isInside:!0,children:p.jsx(lN,{id:u.contentId,role:"tooltip",children:s||r})})]})})});pT.displayName=Co;var gT="TooltipArrow",c4=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=cg(n);return u4(gT,n).isInside?null:p.jsx(t4,{...s,...r,ref:e})});c4.displayName=gT;function d4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function h4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function f4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function p4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,u=e[i].y,c=e[o].x,d=e[o].y;u>r!=d>r&&n<(c-a)*(r-u)/(d-u)+a&&(s=!s)}return s}function m4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),g4(e)}function g4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var y4=hT,yT=pT;const v4=y4,_4=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(yT,{ref:r,sideOffset:e,className:Ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));_4.displayName=yT.displayName;var zd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bd=typeof window>"u"||"Deno"in globalThis;function wn(){}function w4(t,e){return typeof t=="function"?t(e):t}function x4(t){return typeof t=="number"&&t>=0&&t!==1/0}function E4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function V0(t,e){return typeof t=="function"?t(e):t}function T4(t,e){return typeof t=="function"?t(e):t}function F0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==dg(o,e.options))return!1}else if(!vl(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function U0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(yl(e.options.mutationKey)!==yl(i))return!1}else if(!vl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function dg(t,e){return((e==null?void 0:e.queryKeyHashFn)||yl)(t)}function yl(t){return JSON.stringify(t,(e,n)=>bp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function vl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!vl(t[n],e[n])):!1}function vT(t,e){if(t===e)return t;const n=$0(t)&&$0(e);if(n||bp(t)&&bp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,u++):(a[d]=vT(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function $0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bp(t){if(!z0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!z0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function z0(t){return Object.prototype.toString.call(t)==="[object Object]"}function I4(t){return new Promise(e=>{setTimeout(e,t)})}function S4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?vT(t,e):e}function b4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function C4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var hg=Symbol();function _T(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===hg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xs,Jr,uo,ww,A4=(ww=class extends zd{constructor(){super();we(this,Xs);we(this,Jr);we(this,uo);ce(this,uo,e=>{if(!Bd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Jr)||this.setEventListener(U(this,uo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Jr))==null||e.call(this),ce(this,Jr,void 0))}setEventListener(e){var n;ce(this,uo,e),(n=U(this,Jr))==null||n.call(this),ce(this,Jr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Xs)!==e&&(ce(this,Xs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Xs)=="boolean"?U(this,Xs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xs=new WeakMap,Jr=new WeakMap,uo=new WeakMap,ww),wT=new A4,co,Zr,ho,xw,R4=(xw=class extends zd{constructor(){super();we(this,co,!0);we(this,Zr);we(this,ho);ce(this,ho,e=>{if(!Bd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Zr)||this.setEventListener(U(this,ho))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Zr))==null||e.call(this),ce(this,Zr,void 0))}setEventListener(e){var n;ce(this,ho,e),(n=U(this,Zr))==null||n.call(this),ce(this,Zr,e(this.setOnline.bind(this)))}setOnline(e){U(this,co)!==e&&(ce(this,co,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,co)}},co=new WeakMap,Zr=new WeakMap,ho=new WeakMap,xw),Gc=new R4;function P4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function N4(t){return Math.min(1e3*2**t,3e4)}function xT(t){return(t??"online")==="online"?Gc.isOnline():!0}var ET=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function sf(t){return t instanceof ET}function TT(t){let e=!1,n=0,r=!1,s;const i=P4(),o=x=>{var I;r||(h(new ET(x)),(I=t.abort)==null||I.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>wT.isFocused()&&(t.networkMode==="always"||Gc.isOnline())&&t.canRun(),d=()=>xT(t.networkMode)&&t.canRun(),m=x=>{var I;r||(r=!0,(I=t.onSuccess)==null||I.call(t,x),s==null||s(),i.resolve(x))},h=x=>{var I;r||(r=!0,(I=t.onError)==null||I.call(t,x),s==null||s(),i.reject(x))},y=()=>new Promise(x=>{var I;s=w=>{(r||c())&&x(w)},(I=t.onPause)==null||I.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),_=()=>{if(r)return;let x;const I=n===0?t.initialPromise:void 0;try{x=I??t.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(m).catch(w=>{var j;if(r)return;const v=t.retry??(Bd?0:3),S=t.retryDelay??N4,k=typeof S=="function"?S(n,w):S,D=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!D){h(w);return}n++,(j=t.onFail)==null||j.call(t,n,w),I4(k).then(()=>c()?void 0:y()).then(()=>{e?h(w):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?_():y().then(_),i)}}function k4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var kt=k4(),Js,Ew,IT=(Ew=class{constructor(){we(this,Js)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),x4(this.gcTime)&&ce(this,Js,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Bd?1/0:5*60*1e3))}clearGcTimeout(){U(this,Js)&&(clearTimeout(U(this,Js)),ce(this,Js,void 0))}},Js=new WeakMap,Ew),fo,po,rn,Tt,Cl,Zs,xn,ur,Tw,O4=(Tw=class extends IT{constructor(n){super();we(this,xn);we(this,fo);we(this,po);we(this,rn);we(this,Tt);we(this,Cl);we(this,Zs);ce(this,Zs,!1),ce(this,Cl,n.defaultOptions),this.setOptions(n.options),this.observers=[],ce(this,rn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ce(this,fo,M4(this.options)),this.state=n.state??U(this,fo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Tt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Cl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,rn).remove(this)}setData(n,r){const s=S4(this.state.data,n,this.options);return _t(this,xn,ur).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){_t(this,xn,ur).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Tt))==null?void 0:s.promise;return(i=U(this,Tt))==null||i.cancel(n),r?r.then(wn).catch(wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,fo))}isActive(){return this.observers.some(n=>T4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!E4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Tt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Tt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,rn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Tt)&&(U(this,Zs)?U(this,Tt).cancel({revert:!0}):U(this,Tt).cancelRetry()),this.scheduleGc()),U(this,rn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,xn,ur).call(this,{type:"invalidate"})}fetch(n,r){var c,d,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Tt))return U(this,Tt).continueRetry(),U(this,Tt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ce(this,Zs,!0),s.signal)})},o=()=>{const h=_T(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),ce(this,Zs,!1),this.options.persister?this.options.persister(h,y,this):h(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),ce(this,po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&_t(this,xn,ur).call(this,{type:"fetch",meta:(m=a.fetchOptions)==null?void 0:m.meta});const u=h=>{var y,_,x,I;sf(h)&&h.silent||_t(this,xn,ur).call(this,{type:"error",error:h}),sf(h)||((_=(y=U(this,rn).config).onError)==null||_.call(y,h,this),(I=(x=U(this,rn).config).onSettled)==null||I.call(x,this.state.data,h,this)),this.scheduleGc()};return ce(this,Tt,TT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var y,_,x,I;if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){u(w);return}(_=(y=U(this,rn).config).onSuccess)==null||_.call(y,h,this),(I=(x=U(this,rn).config).onSettled)==null||I.call(x,h,this.state.error,this),this.scheduleGc()},onError:u,onFail:(h,y)=>{_t(this,xn,ur).call(this,{type:"failed",failureCount:h,error:y})},onPause:()=>{_t(this,xn,ur).call(this,{type:"pause"})},onContinue:()=>{_t(this,xn,ur).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,Tt).start()}},fo=new WeakMap,po=new WeakMap,rn=new WeakMap,Tt=new WeakMap,Cl=new WeakMap,Zs=new WeakMap,xn=new WeakSet,ur=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...D4(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return sf(i)&&i.revert&&U(this,po)?{...U(this,po),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,rn).notify({query:this,type:"updated",action:n})})},Tw);function D4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function M4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $n,Iw,j4=(Iw=class extends zd{constructor(e={}){super();we(this,$n);this.config=e,ce(this,$n,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??dg(s,n);let o=this.get(i);return o||(o=new O4({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,$n).has(e.queryHash)||(U(this,$n).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,$n).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,$n).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,$n).get(e)}getAll(){return[...U(this,$n).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>F0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>F0(e,r)):n}notify(e){kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$n=new WeakMap,Iw),zn,Pt,ei,Bn,Br,Sw,L4=(Sw=class extends IT{constructor(n){super();we(this,Bn);we(this,zn);we(this,Pt);we(this,ei);this.mutationId=n.mutationId,ce(this,Pt,n.mutationCache),ce(this,zn,[]),this.state=n.state||V4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,zn).includes(n)||(U(this,zn).push(n),this.clearGcTimeout(),U(this,Pt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ce(this,zn,U(this,zn).filter(r=>r!==n)),this.scheduleGc(),U(this,Pt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,zn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Pt).remove(this))}continue(){var n;return((n=U(this,ei))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,u,c,d,m,h,y,_,x,I,w,v,S,k,D,j,C,E;ce(this,ei,TT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{_t(this,Bn,Br).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{_t(this,Bn,Br).call(this,{type:"pause"})},onContinue:()=>{_t(this,Bn,Br).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Pt).canRun(this)}));const r=this.state.status==="pending",s=!U(this,ei).canStart();try{if(!r){_t(this,Bn,Br).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=U(this,Pt).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));R!==this.state.context&&_t(this,Bn,Br).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const A=await U(this,ei).start();return await((d=(c=U(this,Pt).config).onSuccess)==null?void 0:d.call(c,A,n,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,A,n,this.state.context)),await((_=(y=U(this,Pt).config).onSettled)==null?void 0:_.call(y,A,null,this.state.variables,this.state.context,this)),await((I=(x=this.options).onSettled)==null?void 0:I.call(x,A,null,n,this.state.context)),_t(this,Bn,Br).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(w=U(this,Pt).config).onError)==null?void 0:v.call(w,A,n,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,A,n,this.state.context)),await((j=(D=U(this,Pt).config).onSettled)==null?void 0:j.call(D,void 0,A,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,A,n,this.state.context)),A}finally{_t(this,Bn,Br).call(this,{type:"error",error:A})}}finally{U(this,Pt).runNext(this)}}},zn=new WeakMap,Pt=new WeakMap,ei=new WeakMap,Bn=new WeakSet,Br=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{U(this,zn).forEach(s=>{s.onMutationUpdate(n)}),U(this,Pt).notify({mutation:this,type:"updated",action:n})})},Sw);function V4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qt,Al,bw,F4=(bw=class extends zd{constructor(e={}){super();we(this,qt);we(this,Al);this.config=e,ce(this,qt,new Map),ce(this,Al,Date.now())}build(e,n,r){const s=new L4({mutationCache:this,mutationId:++pu(this,Al)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=ju(e),r=U(this,qt).get(n)??[];r.push(e),U(this,qt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ju(e);if(U(this,qt).has(n)){const s=(r=U(this,qt).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?U(this,qt).delete(n):U(this,qt).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,qt).get(ju(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,qt).get(ju(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,qt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>U0(n,r))}findAll(e={}){return this.getAll().filter(n=>U0(e,n))}notify(e){kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return kt.batch(()=>Promise.all(e.map(n=>n.continue().catch(wn))))}},qt=new WeakMap,Al=new WeakMap,bw);function ju(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function B0(t){return{onFetch:(e,n)=>{var d,m,h,y,_;const r=e.options,s=(h=(m=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let x=!1;const I=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},w=_T(e.options,e.fetchOptions),v=async(S,k,D)=>{if(x)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const j={queryKey:e.queryKey,pageParam:k,direction:D?"backward":"forward",meta:e.options.meta};I(j);const C=await w(j),{maxPages:E}=e.options,A=D?C4:b4;return{pages:A(S.pages,C,E),pageParams:A(S.pageParams,k,E)}};if(s&&i.length){const S=s==="backward",k=S?U4:H0,D={pages:i,pageParams:o},j=k(r,D);a=await v(D,j,S)}else{const S=t??i.length;do{const k=u===0?o[0]??r.initialPageParam:H0(r,a);if(u>0&&k==null)break;a=await v(a,k),u++}while(u<S)}return a};e.options.persister?e.fetchFn=()=>{var x,I;return(I=(x=e.options).persister)==null?void 0:I.call(x,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function H0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function U4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Be,es,ts,mo,go,ns,yo,vo,Cw,$4=(Cw=class{constructor(t={}){we(this,Be);we(this,es);we(this,ts);we(this,mo);we(this,go);we(this,ns);we(this,yo);we(this,vo);ce(this,Be,t.queryCache||new j4),ce(this,es,t.mutationCache||new F4),ce(this,ts,t.defaultOptions||{}),ce(this,mo,new Map),ce(this,go,new Map),ce(this,ns,0)}mount(){pu(this,ns)._++,U(this,ns)===1&&(ce(this,yo,wT.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Be).onFocus())})),ce(this,vo,Gc.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Be).onOnline())})))}unmount(){var t,e;pu(this,ns)._--,U(this,ns)===0&&((t=U(this,yo))==null||t.call(this),ce(this,yo,void 0),(e=U(this,vo))==null||e.call(this),ce(this,vo,void 0))}isFetching(t){return U(this,Be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,es).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Be).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,Be).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(V0(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,Be).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Be).get(r.queryHash),i=s==null?void 0:s.state.data,o=w4(e,i);if(o!==void 0)return U(this,Be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return kt.batch(()=>U(this,Be).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Be).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Be);kt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Be),r={type:"active",...t};return kt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=kt.batch(()=>U(this,Be).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(wn).catch(wn)}invalidateQueries(t={},e={}){return kt.batch(()=>{if(U(this,Be).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=kt.batch(()=>U(this,Be).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(wn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(wn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Be).build(this,e);return n.isStaleByTime(V0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wn).catch(wn)}fetchInfiniteQuery(t){return t.behavior=B0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wn).catch(wn)}ensureInfiniteQueryData(t){return t.behavior=B0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gc.isOnline()?U(this,es).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Be)}getMutationCache(){return U(this,es)}getDefaultOptions(){return U(this,ts)}setDefaultOptions(t){ce(this,ts,t)}setQueryDefaults(t,e){U(this,mo).set(yl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,mo).values()];let n={};return e.forEach(r=>{vl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,go).set(yl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,go).values()];let n={};return e.forEach(r=>{vl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,ts).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===hg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,ts).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Be).clear(),U(this,es).clear()}},Be=new WeakMap,es=new WeakMap,ts=new WeakMap,mo=new WeakMap,go=new WeakMap,ns=new WeakMap,yo=new WeakMap,vo=new WeakMap,Cw),z4=T.createContext(void 0),B4=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(z4.Provider,{value:t,children:e}));const H4=tg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Zt=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?pl:"button";return p.jsx(o,{className:Ue(H4({variant:e,size:n,className:t})),ref:i,...s})});Zt.displayName="Button";const ST=T.createContext(void 0),W4=({children:t})=>{const[e,n]=T.useState(null);T.useEffect(()=>{const i=localStorage.getItem("user");if(console.log("Stored user:",i),i){const o=JSON.parse(i);console.log("Parsed user:",o),n({name:o.name,id:o.id})}},[]);const r=i=>{localStorage.setItem("user",JSON.stringify(i)),n({name:i.name,id:i.id})},s=()=>{localStorage.removeItem("user"),n(null)};return p.jsx(ST.Provider,{value:{user:e,login:r,logout:s},children:t})},fg=()=>{const t=T.useContext(ST);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Ei=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[s,i]=T.useState(!1),o=T.useRef(null),a=T.useRef(null),{user:u,logout:c}=fg(),d=()=>e(!t),m=()=>r(!n),h=()=>i(!s);return T.useEffect(()=>{const y=_=>{o.current&&!o.current.contains(_.target)&&r(!1),a.current&&!a.current.contains(_.target)&&i(!1)};return n||s?document.addEventListener("mousedown",y):document.removeEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[n,s]),p.jsxs("nav",{className:"w-full py-4 bg-white shadow-sm relative z-50",children:[p.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[p.jsx(De,{to:"/",className:"text-2xl font-bold gradient-text",children:"Super Shop"}),p.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[p.jsx(De,{to:"/",className:"text-gray-700 hover:text-smm-purple transition-colors",children:""}),p.jsx(De,{to:"/services",className:"text-gray-700 hover:text-smm-purple transition-colors",children:""}),p.jsx(De,{to:"/about-us",className:"text-gray-700 hover:text-smm-purple transition-colors",children:" "}),p.jsx(De,{to:"/order-tracking",className:"text-gray-700 hover:text-smm-purple transition-colors",children:" "}),!u&&p.jsx(p.Fragment,{children:p.jsx(De,{to:"/login",className:"text-gray-700 hover:text-smm-purple transition-colors",children:" "})}),p.jsx(Zt,{asChild:!0,className:"bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:p.jsx(De,{to:"/services",children:" "})}),u&&p.jsxs("div",{className:"relative",ref:o,children:[p.jsx("button",{onClick:m,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 transition","aria-label":"  ",children:p.jsx(I0,{className:"w-8 h-8 text-smm-purple"})}),n&&p.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg py-4 px-6 text-gray-800 text-sm border border-gray-200 z-50",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("img",{src:"https://via.placeholder.com/50",alt:"Profile",className:"w-12 h-12 rounded-full mb-2"}),p.jsx("p",{className:"font-semibold truncate",children:u.name}),p.jsxs("p",{className:"text-xs opacity-80",children:["ID: ",u.id]})]}),p.jsx("hr",{className:"my-2"}),p.jsx("button",{onClick:c,className:"block text-center text-red-500 hover:underline w-full",children:" "})]})]})]}),p.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[u&&p.jsxs("div",{className:"relative",ref:a,children:[p.jsx("button",{onClick:h,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 transition","aria-label":"  ",children:p.jsx(I0,{className:"w-8 h-8 text-smm-purple"})}),s&&p.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg py-4 px-6 text-gray-800 text-sm border border-gray-200 z-50",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("img",{src:"https://via.placeholder.com/50",alt:"Profile",className:"w-12 h-12 rounded-full mb-2"}),p.jsx("p",{className:"font-semibold truncate",children:u.name}),p.jsxs("p",{className:"text-xs opacity-80",children:["ID: ",u.id]})]}),p.jsx("hr",{className:"my-2"}),p.jsx("button",{onClick:c,className:"block text-center text-red-500 hover:underline w-full",children:" "})]})]}),p.jsx("div",{children:p.jsx(Zt,{variant:"ghost",size:"icon",onClick:d,"aria-label":"Toggle menu",children:t?p.jsx(kE,{}):p.jsx(kN,{})})})]})]}),t&&p.jsx("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-white shadow-md z-50 py-4 px-4",children:p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsx(De,{to:"/",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:""}),p.jsx(De,{to:"/services",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:""}),p.jsx(De,{to:"/about-us",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:" "}),p.jsx(De,{to:"/order-tracking",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:" "}),!u&&p.jsxs(p.Fragment,{children:[p.jsx(De,{to:"/login",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:" "}),p.jsx(De,{to:"/signup",onClick:d,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:""})]}),p.jsx(Zt,{asChild:!0,className:"bg-gradient-smm hover:bg-smm-purple transition-all duration-300 w-full",children:p.jsx(De,{to:"/services",onClick:d,children:" "})}),u&&p.jsxs("div",{className:"bg-smm-purple text-white px-4 py-2 rounded-xl text-sm shadow-lg text-right",children:[p.jsx("div",{className:"font-semibold truncate",children:u.name}),p.jsxs("div",{className:"text-xs opacity-80",children:["ID: ",u.id]})]})]})})]})},q4=()=>p.jsxs("div",{className:"relative overflow-hidden bg-white py-12 md:py-24",children:[p.jsx("div",{className:"absolute -top-10 -right-10 w-72 h-72 bg-smm-yellow opacity-10 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute -bottom-10 -left-10 w-80 h-80 bg-smm-purple opacity-10 rounded-full blur-3xl"}),p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[p.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0",children:[p.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[p.jsx("span",{className:"gradient-text",children:"  "})," "]}),p.jsx("p",{className:"text-gray-600 text-lg md:text-xl mb-8 max-w-2xl",children:"         .         ."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx(Zt,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 transition-all text-white font-medium px-8 py-6",children:p.jsx(De,{to:"/services",children:" "})}),p.jsx(Zt,{asChild:!0,variant:"outline",className:"border-smm-purple text-smm-purple hover:bg-smm-purple/5 px-8 py-6",children:p.jsx(De,{to:"/services",children:" "})})]}),p.jsxs("div",{className:"mt-12 flex flex-wrap gap-8",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"50K+"}),p.jsx("span",{className:"text-gray-600",children:" "})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"100%"}),p.jsx("span",{className:"text-gray-600",children:" "})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"24/7"}),p.jsx("span",{className:"text-gray-600",children:" "})]})]})]}),p.jsx("div",{className:"lg:w-1/2 relative",children:p.jsxs("div",{className:"relative w-full h-64 md:h-96 bg-gradient-to-r from-smm-purple to-smm-pink rounded-2xl overflow-hidden shadow-xl animate-float",children:[p.jsx("div",{className:"absolute inset-0 bg-black/10"}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsxs("div",{className:"text-white text-center px-6",children:[p.jsx("h3",{className:"text-2xl font-bold mb-2",children:"    "}),p.jsx("p",{className:"mb-4",children:"     "}),p.jsxs("div",{className:"flex justify-center space-x-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:p.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full"})}),p.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:p.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full"})}),p.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:p.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-red-500 to-pink-500 rounded-full"})}),p.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:p.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-full"})})]})]})})]})})]})})]}),Ti=()=>p.jsx("footer",{className:"bg-gray-50 pt-12 pb-8",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[p.jsxs("div",{children:[p.jsx(De,{to:"/",className:"text-2xl font-bold gradient-text mb-4 inline-block",children:"Hson Store"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"             ."}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[p.jsx("span",{className:"sr-only",children:""}),p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),p.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[p.jsx("span",{className:"sr-only",children:""}),p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),p.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[p.jsx("span",{className:"sr-only",children:""}),p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),p.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[p.jsx("span",{className:"sr-only",children:""}),p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{d:"M22.05 1.577c-.393-.016-.784.08-1.117.235-.484.186-4.92 1.902-9.41 3.64-2.26.873-4.518 1.746-6.256 2.415-1.737.67-3.045 1.168-3.114 1.192-.46.16-1.082.362-1.61.984-.133.155-.267.354-.335.628s-.038.622.095.895c.265.547.714.773 1.244.976 1.76.564 3.58 1.102 5.087 1.608.556 1.96 1.09 3.927 1.618 5.89.174.394.553.54.944.544l-.002.02s.307.03.606-.042c.3-.07.677-.244 1.02-.565.377-.354 1.4-1.36 1.98-1.928l4.37 3.226.035.02s.38.193.768.193c.39 0 .786-.16 1.022-.53.133-.206.2-.494.2-.798.008-.47-.377-1.027-.377-1.027s-3.95-3.604-6.215-5.68c.61-.61 1.223-1.22 1.83-1.83.442-.44.882-.882 1.32-1.325.87-.874 1.152-1.295 1.288-1.53.13-.233.166-.362.166-.362.009-.13.022-.283.006-.466-.04-.33-.2-.617-.48-.817-.28-.203-.67-.248-.67-.248h-3.478c-.392.013-.792.123-1.115.332-.323.2-.584.46-.79.752l-.178.284s-2.05 2.97-3.55 4.84c-1.596 1.987-2.07 1.77-2.07 1.77l-.024-.04s-.114-.066-.19-.215c-.083-.176-.114-.37-.114-.52 0-.36-.004-4.368-.004-4.368s-.146-.414-.493-.604c-.348-.19-.84-.233-.84-.233l-4.75.03s-.368.023-.605.207-.4.555-.264.847c.143.282.453.509.762.781.308.273 7.924 8.575 16.8 12.224 0 0 .883.353 1.427.392.544.04 1.043-.124 1.43-.358.386-.234.58-.494.656-.8.07-.298.07-.703.07-.703.006-.26-.025-.398-.025-.398z"})})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx(De,{to:"/",className:"text-gray-600 hover:text-smm-purple transition-colors",children:""})}),p.jsx("li",{children:p.jsx(De,{to:"/services",className:"text-gray-600 hover:text-smm-purple transition-colors",children:""})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:" "})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:" "})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:" "})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:""}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:" "})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:" "})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:" "})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:" "})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"  "})})]})]})]}),p.jsxs("div",{className:"border-t border-gray-200 pt-8 flex flex-col md:flex-row justify-between items-center",children:[p.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",new Date().getFullYear()," HSON STORE.   ."]}),p.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[p.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:" "}),p.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:" "}),p.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:" "})]})]})]})}),ci=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ci.displayName="Card";const Ao=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ue("flex flex-col space-y-1.5 p-6",t),...e}));Ao.displayName="CardHeader";const Ro=T.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ro.displayName="CardTitle";const pg=T.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Ue("text-sm text-muted-foreground",t),...e}));pg.displayName="CardDescription";const di=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ue("p-6 pt-0",t),...e}));di.displayName="CardContent";const Kc=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ue("flex items-center p-6 pt-0",t),...e}));Kc.displayName="CardFooter";const G4=()=>{const t=[{name:"Instagrams",icon:"",description:"       "},{name:"Telegram",icon:"",description:"      "},{name:"TikTok",icon:"",description:"      "},{name:"YouTube",icon:"",description:"      "}];return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[p.jsx(Ei,{}),p.jsxs("main",{className:"flex-grow",children:[p.jsx(q4,{}),p.jsx("section",{className:"py-16 bg-gray-50",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"  "}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"                ."})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>p.jsx(ci,{className:"hover:shadow-md transition-shadow",children:p.jsx(di,{className:"p-6",children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("span",{className:"text-4xl mb-4",children:e.icon}),p.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.name}),p.jsx("p",{className:"text-gray-600",children:e.description})]})})},n))})]})}),p.jsx("section",{className:"py-16",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:" "}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"      ."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"1"}),p.jsx("h3",{className:"text-xl font-semibold mb-2",children:" "}),p.jsx("p",{className:"text-gray-600",children:"        ."})]}),p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"2"}),p.jsx("h3",{className:"text-xl font-semibold mb-2",children:" "}),p.jsx("p",{className:"text-gray-600",children:"            ."})]}),p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"3"}),p.jsx("h3",{className:"text-xl font-semibold mb-2",children:" "}),p.jsx("p",{className:"text-gray-600",children:"            ."})]})]}),p.jsx("div",{className:"text-center mt-12",children:p.jsx(Zt,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 px-8 py-6",children:p.jsx(De,{to:"/services",children:" "})})})]})}),p.jsx("section",{className:"py-16 bg-gradient-smm text-white",children:p.jsxs("div",{className:"container mx-auto px-4 text-center",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"     "}),p.jsx("p",{className:"text-white/80 max-w-2xl mx-auto mb-8",children:"                 ."}),p.jsx(Zt,{asChild:!0,className:"bg-white text-smm-purple hover:bg-white/90 px-8 py-6",children:p.jsx(De,{to:"/services",children:"  "})})]})})]}),p.jsx(Ti,{})]})},un=T.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));un.displayName="Input";var K4="Label",bT=T.forwardRef((t,e)=>p.jsx(Oe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bT.displayName=K4;var CT=bT;const Q4=tg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),st=T.forwardRef(({className:t,...e},n)=>p.jsx(CT,{ref:n,className:Ue(Q4(),t),...e}));st.displayName=CT.displayName;const Y4=({title:t,description:e,price:n,features:r,popular:s=!1,platform:i,icon:o,quantity:a,id:u,minQuantity:c,pricePerUnit:d})=>{const[m,h]=T.useState(c||a||0),y=jl();T.useEffect(()=>{h(c||a||0)},[c,a]),console.log("ServiceCard:",{id:u,title:t,minQuantity:c,pricePerUnit:d,selectedQuantity:m,calculatedPrice:c&&d?Math.ceil(m/c)*d:n});const _=w=>{const v=parseInt(w.target.value,10);if(!isNaN(v)&&c){let S=v;S<c?S=c:(S=Math.round(S/c)*c,S<c&&(S=c)),h(S)}else h(c||0)},x=c&&d?Math.ceil(m/c)*d:n,I=()=>{const w=new URLSearchParams;w.append("service",u),c&&d?(w.append("minQuantity",c.toString()),w.append("pricePerUnit",d.toString()),w.append("price",(x==null?void 0:x.toString())||"0"),w.append("quantity",m.toString())):(w.append("price",(n==null?void 0:n.toString())||"0"),w.append("quantity",(a==null?void 0:a.toString())||"0")),y(`/payment?${w.toString()}`)};return p.jsxs(ci,{className:`w-full transition-all duration-300 hover:shadow-lg ${s?"border-2 border-smm-pink relative":""}`,children:[s&&p.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-smm-pink text-white text-sm py-1 px-3 rounded-full",children:"  "}),p.jsxs(Ao,{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"bg-gradient-smm w-10 h-10 rounded-full flex items-center justify-center text-white",children:o}),p.jsx("span",{className:"text-sm text-gray-500",children:i})]}),p.jsx(Ro,{className:"text-xl sm:text-2xl",children:t}),p.jsx(pg,{children:e})]}),p.jsxs(di,{children:[p.jsx("div",{className:"mb-6",children:c&&d?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(st,{htmlFor:`quantity-${u}`,children:[" (",c,"+)"]}),p.jsx(un,{id:`quantity-${u}`,type:"number",value:m,onChange:_,min:c,step:c})]}),p.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:["$",x==null?void 0:x.toFixed(2)]}),p.jsxs("p",{className:"text-sm text-gray-500",children:["  ",m," ",t.toLowerCase()]})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:["$",n==null?void 0:n.toFixed(2)]}),p.jsxs("p",{className:"text-sm text-gray-500",children:[" ",a," ",t.toLowerCase()]})]})}),p.jsx("ul",{className:"space-y-2",children:r.map((w,v)=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"text-green-500 mr-2",children:""}),w]},v))})]}),p.jsx(Kc,{children:p.jsx(Zt,{className:`w-full ${s?"bg-gradient-smm":"bg-smm-purple"} hover:opacity-90`,onClick:I,children:" "})})]})};function X4(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),u=n.length;n=[...n,o];function c(m){const{scope:h,children:y,..._}=m,x=(h==null?void 0:h[t][u])||a,I=T.useMemo(()=>_,Object.values(_));return p.jsx(x.Provider,{value:I,children:y})}function d(m,h){const y=(h==null?void 0:h[t][u])||a,_=T.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,J4(s,...e)]}function J4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const m=u(i)[`__scope${c}`];return{...a,...m}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Z4=T.createContext(void 0);function mg(t){const e=T.useContext(Z4);return t||e||"ltr"}var of="rovingFocusGroup.onEntryFocus",eO={bubbles:!1,cancelable:!0},Hd="RovingFocusGroup",[Cp,AT,tO]=nE(Hd),[nO,Wd]=X4(Hd,[tO]),[rO,sO]=nO(Hd),RT=T.forwardRef((t,e)=>p.jsx(Cp.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Cp.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(iO,{...t,ref:e})})}));RT.displayName=Hd;var iO=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...m}=t,h=T.useRef(null),y=Bt(e,h),_=mg(i),[x=null,I]=Od({prop:o,defaultProp:a,onChange:u}),[w,v]=T.useState(!1),S=Rn(c),k=AT(n),D=T.useRef(!1),[j,C]=T.useState(0);return T.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(of,S),()=>E.removeEventListener(of,S)},[S]),p.jsx(rO,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:x,onItemFocus:T.useCallback(E=>I(E),[I]),onItemShiftTab:T.useCallback(()=>v(!0),[]),onFocusableItemAdd:T.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:T.useCallback(()=>C(E=>E-1),[]),children:p.jsx(Oe.div,{tabIndex:w||j===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...t.style},onMouseDown:_e(t.onMouseDown,()=>{D.current=!0}),onFocus:_e(t.onFocus,E=>{const A=!D.current;if(E.target===E.currentTarget&&A&&!w){const R=new CustomEvent(of,eO);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=k().filter(Z=>Z.focusable),O=N.find(Z=>Z.active),P=N.find(Z=>Z.id===x),se=[O,P,...N].filter(Boolean).map(Z=>Z.ref.current);kT(se,d)}}D.current=!1}),onBlur:_e(t.onBlur,()=>v(!1))})})}),PT="RovingFocusGroupItem",NT=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=BE(),u=i||a,c=sO(PT,n),d=c.currentTabStopId===u,m=AT(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=c;return T.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),p.jsx(Cp.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:p.jsx(Oe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:_e(t.onMouseDown,_=>{r?c.onItemFocus(u):_.preventDefault()}),onFocus:_e(t.onFocus,()=>c.onItemFocus(u)),onKeyDown:_e(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){c.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const x=lO(_,c.orientation,c.dir);if(x!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let w=m().filter(v=>v.focusable).map(v=>v.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const v=w.indexOf(_.currentTarget);w=c.loop?uO(w,v+1):w.slice(v+1)}setTimeout(()=>kT(w))}})})})});NT.displayName=PT;var oO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aO(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lO(t,e,n){const r=aO(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oO[r]}function kT(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function uO(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var OT=RT,DT=NT,gg="Tabs",[cO,Q6]=Ll(gg,[Wd]),MT=Wd(),[dO,yg]=cO(gg),jT=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:u="automatic",...c}=t,d=mg(a),[m,h]=Od({prop:r,onChange:s,defaultProp:i});return p.jsx(dO,{scope:n,baseId:BE(),value:m,onValueChange:h,orientation:o,dir:d,activationMode:u,children:p.jsx(Oe.div,{dir:d,"data-orientation":o,...c,ref:e})})});jT.displayName=gg;var LT="TabsList",VT=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=yg(LT,n),o=MT(n);return p.jsx(OT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:p.jsx(Oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});VT.displayName=LT;var FT="TabsTrigger",UT=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=yg(FT,n),a=MT(n),u=BT(o.baseId,r),c=HT(o.baseId,r),d=r===o.value;return p.jsx(DT,{asChild:!0,...a,focusable:!s,active:d,children:p.jsx(Oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:_e(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:_e(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:_e(t.onFocus,()=>{const m=o.activationMode!=="manual";!d&&!s&&m&&o.onValueChange(r)})})})});UT.displayName=FT;var $T="TabsContent",zT=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=yg($T,n),u=BT(a.baseId,r),c=HT(a.baseId,r),d=r===a.value,m=T.useRef(d);return T.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),p.jsx(Vl,{present:s||d,children:({present:h})=>p.jsx(Oe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});zT.displayName=$T;function BT(t,e){return`${t}-trigger-${e}`}function HT(t,e){return`${t}-content-${e}`}var hO=jT,WT=VT,qT=UT,GT=zT;const fO=hO,KT=T.forwardRef(({className:t,...e},n)=>p.jsx(WT,{ref:n,className:Ue("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));KT.displayName=WT.displayName;const Oi=T.forwardRef(({className:t,...e},n)=>p.jsx(qT,{ref:n,className:Ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Oi.displayName=qT.displayName;const QT=T.forwardRef(({className:t,...e},n)=>p.jsx(GT,{ref:n,className:Ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));QT.displayName=GT.displayName;const pO=()=>{const[t,e]=T.useState("all"),n=[{id:"insta-followers",title:" ",description:"      ",features:["   ","  "],popular:!0,platform:"Instagram",icon:"",minQuantity:300,pricePerUnit:1,category:"instagram"},{id:"telegram-followers",title:"  ",description:"     ",features:["  ","  ","  ","  "],popular:!0,platform:"Telegram",icon:"",minQuantity:500,pricePerUnit:1,category:"telegram"},{id:"tiktok-followers-1000",title:"  ",description:"        ",features:["    "," ","   ","  "],popular:!1,platform:"TikTok",icon:"",minQuantity:1e3,pricePerUnit:8.99,category:"tiktok"},{id:"tiktok-likes-2000",title:"  ",description:"        ",features:[" "," ","   ","  "],popular:!1,platform:"TikTok",icon:"",minQuantity:2e3,pricePerUnit:5.99,category:"tiktok"},{id:"youtube-views-5000",title:" ",description:"      ",features:["  ","  Ad-sense"," ","  "],popular:!0,platform:"YouTube",icon:"",minQuantity:5e3,pricePerUnit:19.99,category:"youtube"},{id:"youtube-subscribers-500",title:" ",description:"       ",features:["  "," ","   ","  "],popular:!1,platform:"YouTube",icon:"",minQuantity:500,pricePerUnit:29.99,category:"youtube"}],r=t==="all"?n:n.filter(s=>s.category===t);return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[p.jsx(Ei,{}),p.jsx("main",{className:"flex-grow py-12",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:""}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"             ."})]}),p.jsxs(fO,{defaultValue:"all",value:t,onValueChange:e,className:"mb-12",children:[p.jsx("div",{className:"flex justify-center",children:p.jsxs(KT,{className:"bg-gray-100",children:[p.jsx(Oi,{value:"all",children:" "}),p.jsx(Oi,{value:"instagram",children:""}),p.jsx(Oi,{value:"telegram",children:""}),p.jsx(Oi,{value:"tiktok",children:" "}),p.jsx(Oi,{value:"youtube",children:""})]})}),p.jsx(QT,{value:t,className:"mt-8",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(s=>p.jsx(Y4,{id:s.id,title:s.title,description:s.description,features:s.features,popular:s.popular,platform:s.platform,icon:s.icon,minQuantity:s.minQuantity,pricePerUnit:s.pricePerUnit},s.id))})})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 mt-12",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"    "}),p.jsx("p",{className:"text-gray-600",children:"            ."})]}),p.jsx("div",{className:"flex justify-center",children:p.jsx("a",{href:"mailto:uusheko@gmail.com",className:"inline-flex items-center justify-center bg-smm-purple hover:bg-smm-purple/90 text-white px-6 py-3 rounded-md font-medium transition-colors",children:" "})})]})]})}),p.jsx(Ti,{})]})};function mO(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vg="Radio",[gO,YT]=Ll(vg),[yO,vO]=gO(vg),XT=T.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:u,form:c,...d}=t,[m,h]=T.useState(null),y=Bt(e,I=>h(I)),_=T.useRef(!1),x=m?c||!!m.closest("form"):!0;return p.jsxs(yO,{scope:n,checked:s,disabled:o,children:[p.jsx(Oe.button,{type:"button",role:"radio","aria-checked":s,"data-state":eI(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:y,onClick:_e(t.onClick,I=>{s||u==null||u(),x&&(_.current=I.isPropagationStopped(),_.current||I.stopPropagation())})}),x&&p.jsx(_O,{control:m,bubbles:!_.current,name:r,value:a,checked:s,required:i,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});XT.displayName=vg;var JT="RadioIndicator",ZT=T.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=vO(JT,n);return p.jsx(Vl,{present:r||i.checked,children:p.jsx(Oe.span,{"data-state":eI(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});ZT.displayName=JT;var _O=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=T.useRef(null),o=mO(n),a=ZE(e);return T.useEffect(()=>{const u=i.current,c=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&m){const h=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(h)}},[o,n,r]),p.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eI(t){return t?"checked":"unchecked"}var wO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_g="RadioGroup",[xO,Y6]=Ll(_g,[Wd,YT]),tI=Wd(),nI=YT(),[EO,TO]=xO(_g),rI=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:u,dir:c,loop:d=!0,onValueChange:m,...h}=t,y=tI(n),_=mg(c),[x,I]=Od({prop:i,defaultProp:s,onChange:m});return p.jsx(EO,{scope:n,name:r,required:o,disabled:a,value:x,onValueChange:I,children:p.jsx(OT,{asChild:!0,...y,orientation:u,dir:_,loop:d,children:p.jsx(Oe.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":a?"":void 0,dir:_,...h,ref:e})})})});rI.displayName=_g;var sI="RadioGroupItem",iI=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=TO(sI,n),o=i.disabled||r,a=tI(n),u=nI(n),c=T.useRef(null),d=Bt(e,c),m=i.value===s.value,h=T.useRef(!1);return T.useEffect(()=>{const y=x=>{wO.includes(x.key)&&(h.current=!0)},_=()=>h.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",_)}},[]),p.jsx(DT,{asChild:!0,...a,focusable:!o,active:m,children:p.jsx(XT,{disabled:o,required:i.required,checked:m,...u,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:_e(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:_e(s.onFocus,()=>{var y;h.current&&((y=c.current)==null||y.click())})})})});iI.displayName=sI;var IO="RadioGroupIndicator",oI=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=nI(n);return p.jsx(ZT,{...s,...r,ref:e})});oI.displayName=IO;var aI=rI,lI=iI,SO=oI;const Ap=T.forwardRef(({className:t,...e},n)=>p.jsx(aI,{className:Ue("grid gap-2",t),...e,ref:n}));Ap.displayName=aI.displayName;const ic=T.forwardRef(({className:t,...e},n)=>p.jsx(lI,{ref:n,className:Ue("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(SO,{className:"flex items-center justify-center",children:p.jsx(NN,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ic.displayName=lI.displayName;var bO="Separator",W0="horizontal",CO=["horizontal","vertical"],uI=T.forwardRef((t,e)=>{const{decorative:n,orientation:r=W0,...s}=t,i=AO(r)?r:W0,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return p.jsx(Oe.div,{"data-orientation":i,...a,...s,ref:e})});uI.displayName=bO;function AO(t){return CO.includes(t)}var cI=uI;const oc=T.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>p.jsx(cI,{ref:s,decorative:n,orientation:e,className:Ue("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));oc.displayName=cI.displayName;const dI=T.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));dI.displayName="Textarea";const RO=()=>{const t=zo(),e=jl(),{toast:n}=Zx(),[r,s]=T.useState({socialLink:"",paymentMethod:"asiacell",asiacellNumber:"",asiacellSubMethod:"card",asiacellTransferPhoneNumber:"",additionalInfo:""}),[i,o]=T.useState({serviceId:"",price:0,quantity:0}),[a,u]=T.useState(!1);T.useEffect(()=>{const h=new URLSearchParams(t.search),y=h.get("service")||"",_=parseFloat(h.get("price")||"0"),x=parseInt(h.get("quantity")||"0",10);if(!y||_===0){e("/services"),n({title:"",description:"   ",variant:"destructive"});return}o({serviceId:y,price:_,quantity:x}),console.log("Payment Page - Extracted Service Info:",{serviceId:y,price:_,quantity:x})},[t,e,n]);const c=h=>{const{name:y,value:_}=h.target;s(x=>({...x,[y]:_}))},d=h=>{s(y=>({...y,paymentMethod:h}))},m=h=>{if(h.preventDefault(),u(!0),!r.socialLink){n({title:"",description:"    ",variant:"destructive"}),u(!1);return}if(r.paymentMethod==="asiacell"){if(r.asiacellSubMethod==="card"&&!r.asiacellNumber){n({title:"",description:"    Asiacell",variant:"destructive"}),u(!1);return}if(r.asiacellSubMethod==="transfer"&&!r.asiacellTransferPhoneNumber){n({title:"",description:"    ",variant:"destructive"}),u(!1);return}}setTimeout(()=>{console.log("Order submitted:",{...r,...i}),n({title:"  !",description:"   .     ."}),setTimeout(()=>e("/"),2e3),u(!1)},1500)};return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[p.jsx(Ei,{}),p.jsx("main",{className:"flex-grow py-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[p.jsx("div",{className:"mb-8",children:p.jsx(De,{to:"/services",className:"inline-flex items-center text-gray-600 hover:text-smm-purple transition-colors text-sm font-medium",children:"   "})}),p.jsxs("div",{className:"text-center mb-10",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:" "}),p.jsx("p",{className:"text-gray-600 text-lg",children:"     "})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsx(ci,{className:"shadow-lg rounded-lg",children:p.jsxs("form",{onSubmit:m,children:[p.jsxs(Ao,{className:"border-b border-gray-200 pb-4",children:[p.jsx(Ro,{className:"text-2xl font-semibold text-gray-800",children:""}),p.jsx(pg,{className:"text-gray-600",children:"    "})]}),p.jsxs(di,{className:"space-y-6 pt-6",children:[p.jsx("div",{className:"grid grid-cols-1 gap-6",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs(st,{htmlFor:"socialLink",className:"text-gray-700 font-medium",children:["   ",p.jsx("span",{className:"text-sm text-gray-500 ml-1 font-normal",children:"(   /)"})]}),p.jsx(un,{id:"socialLink",name:"socialLink",placeholder:"https://instagram.com/yourusername",value:r.socialLink,onChange:c,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})}),p.jsx(oc,{className:"my-6"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(st,{className:"text-gray-700 font-medium",children:" "}),p.jsx(Ap,{value:r.paymentMethod,onValueChange:d,className:"flex flex-col space-y-3",children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(ic,{value:"asiacell",id:"asiacell"}),p.jsx(st,{htmlFor:"asiacell",className:"cursor-pointer text-gray-600",children:" Asiacell "})]})})]}),r.paymentMethod==="asiacell"&&p.jsxs("div",{className:"space-y-4 mt-4 p-4 border border-gray-300 rounded-md bg-gray-50",children:[p.jsx(st,{className:"text-gray-700 font-medium",children:"    Asiacell:"}),p.jsxs(Ap,{value:r.asiacellSubMethod,onValueChange:h=>s(y=>({...y,asiacellSubMethod:h})),className:"flex flex-col space-y-3",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(ic,{value:"card",id:"asiacell-card"}),p.jsx(st,{htmlFor:"asiacell-card",className:"cursor-pointer text-gray-600",children:"   "})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(ic,{value:"transfer",id:"asiacell-transfer"}),p.jsx(st,{htmlFor:"asiacell-transfer",className:"cursor-pointer text-gray-600",children:""})]})]}),r.asiacellSubMethod==="card"&&p.jsxs("div",{className:"space-y-2 mt-4",children:[p.jsx(st,{htmlFor:"asiacellNumber",className:"text-gray-700 font-medium",children:"  "}),p.jsx(un,{id:"asiacellNumber",name:"asiacellNumber",placeholder:"   ",value:r.asiacellNumber,onChange:c,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]}),r.asiacellSubMethod==="transfer"&&p.jsxs("div",{className:"space-y-2 mt-4",children:[p.jsx(st,{htmlFor:"asiacellTransferPhoneNumber",className:"text-gray-700 font-medium",children:"   ()"}),p.jsx(un,{id:"asiacellTransferPhoneNumber",name:"asiacellTransferPhoneNumber",placeholder:"  ",value:r.asiacellTransferPhoneNumber,onChange:c,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"}),p.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["      :"," ",p.jsx("span",{className:"font-bold text-smm-purple",children:"07704061932"})]}),p.jsx("p",{className:"text-sm text-gray-500",children:"         ."})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(st,{htmlFor:"additionalInfo",className:"text-gray-700 font-medium",children:"  ()"}),p.jsx(dI,{id:"additionalInfo",name:"additionalInfo",placeholder:"    ",value:r.additionalInfo,onChange:c,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})]}),p.jsx(Kc,{className:"pt-6",children:p.jsx(Zt,{type:"submit",className:"w-full bg-gradient-smm hover:opacity-90 text-lg py-3",disabled:a,children:a?" ...":" "})})]})})}),p.jsxs("div",{children:[p.jsxs(ci,{className:"shadow-lg rounded-lg",children:[p.jsx(Ao,{className:"border-b border-gray-200 pb-4",children:p.jsx(Ro,{className:"text-2xl font-semibold text-gray-800",children:" "})}),p.jsx(di,{className:"space-y-4 pt-6",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:" :"}),p.jsx("span",{className:"font-medium text-gray-800",children:i.serviceId})]}),i.quantity>0&&p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:i.quantity})]}),p.jsx(oc,{}),p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:" :"}),p.jsxs("span",{className:"font-medium text-gray-800",children:["$",i.price.toFixed(2)]})]}),p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:" :"}),p.jsx("span",{className:"font-medium text-gray-800",children:"$0.00"})]}),p.jsx(oc,{}),p.jsxs("div",{className:"flex justify-between font-bold text-gray-800 text-xl",children:[p.jsx("span",{children:":"}),p.jsxs("span",{children:["$",i.price.toFixed(2)]})]})]})}),p.jsx(Kc,{className:"flex flex-col items-start space-y-4 pt-6",children:p.jsxs("div",{className:"text-sm text-gray-600",children:[p.jsx("p",{className:"font-semibold mb-2 text-gray-700",children:" :"}),p.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[p.jsx("li",{children:"   24 "}),p.jsx("li",{children:"   "}),p.jsx("li",{children:"  100%"})]})]})})]}),p.jsx("div",{className:"mt-6 p-4 bg-gray-100 rounded-md border border-gray-200",children:p.jsxs("p",{className:"text-sm text-gray-700",children:[p.jsx("span",{className:"font-semibold block mb-1 text-gray-800",children:"  "}),"             "," ",p.jsx("a",{href:"mailto:uusheko@gmail.com",className:"text-smm-purple hover:underline",children:"uusheko@gmail.com"})]})})]})]})]})}),p.jsx(Ti,{})]})},PO=()=>{const t=zo();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},NO=()=>p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[p.jsx(Ei,{}),p.jsxs("main",{className:"flex-grow",children:[p.jsx("section",{className:"py-16 bg-gray-100 text-center",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"  "}),p.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"      ."})]})}),p.jsx("section",{className:"py-16",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[p.jsxs("div",{className:"md:w-1/2",children:[p.jsx("h2",{className:"text-3xl font-bold mb-4",children:""}),p.jsx("p",{className:"text-gray-600 mb-4",children:"    []  :  [/]   .              ."}),p.jsx("p",{className:"text-gray-600",children:"               .         ."})]}),p.jsx("div",{className:"md:w-1/2",children:p.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-500",children:" "})})]})})}),p.jsx("section",{className:"py-16 bg-gray-50",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-8",children:[p.jsxs("div",{className:"md:w-1/2",children:[p.jsx("h2",{className:"text-3xl font-bold mb-4",children:""}),p.jsx("p",{className:"text-gray-600 mb-4",children:"  [ ].    [   :        ]."}),p.jsx("p",{className:"text-gray-600",children:"   [    ].       [   ]."})]}),p.jsx("div",{className:"md:w-1/2",children:p.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-500",children:" "})})]})})})]}),p.jsx(Ti,{})]}),kO=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(null),[s,i]=T.useState(!1),[o,a]=T.useState(""),u=d=>{e(d.target.value)},c=d=>{if(d.preventDefault(),a(""),r(null),!t){a("Please enter an Order ID.");return}i(!0),setTimeout(()=>{i(!1),t==="12345"?r({id:"12345",service:" ",quantity:500,status:" ",date:"2023-10-27"}):a("Order not found.")},1500)};return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[p.jsx(Ei,{}),p.jsx("main",{className:"flex-grow py-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-2xl",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8",children:" "}),p.jsxs(ci,{className:"shadow-lg rounded-lg",children:[p.jsx(Ao,{className:"border-b border-gray-200 pb-4",children:p.jsx(Ro,{className:"text-2xl font-semibold text-gray-800",children:"  "})}),p.jsx(di,{className:"space-y-4 pt-6",children:p.jsxs("form",{onSubmit:c,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(st,{htmlFor:"orderId",className:"text-gray-700 font-medium",children:" "}),p.jsx(un,{id:"orderId",type:"text",placeholder:"   ",value:t,onChange:u,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]}),o&&p.jsx("p",{className:"text-red-500 text-sm",children:o}),p.jsx(Zt,{type:"submit",className:"w-full bg-gradient-smm hover:opacity-90 text-lg py-3",disabled:s,children:s?" ...":" "})]})})]}),n&&p.jsxs(ci,{className:"shadow-lg rounded-lg mt-8",children:[p.jsx(Ao,{className:"border-b border-gray-200 pb-4",children:p.jsx(Ro,{className:"text-2xl font-semibold text-gray-800",children:" "})}),p.jsxs(di,{className:"space-y-4 pt-6",children:[p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:" :"}),p.jsx("span",{className:"font-medium text-gray-800",children:n.id})]}),p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:n.service})]}),p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:n.quantity})]}),p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:":"}),p.jsx("span",{className:`font-medium ${n.status===" "?"text-yellow-600":"text-green-600"}`,children:n.status})]}),p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:n.date})]})]})]})]})}),p.jsx(Ti,{})]})},OO=()=>{};var q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},DO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,m=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(h=64)),r.push(n[d],n[m],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||m==null)throw new MO;const h=i<<2|a>>4;if(r.push(h),c!==64){const y=a<<4&240|c>>2;if(r.push(y),m!==64){const _=c<<6&192|m;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jO=function(t){const e=hI(t);return fI.encodeByteArray(e,!0)},Qc=function(t){return jO(t).replace(/\./g,"")},pI=function(t){try{return fI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=()=>LO().__FIREBASE_DEFAULTS__,FO=()=>{if(typeof process>"u"||typeof q0>"u")return;const t=q0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pI(t[1]);return e&&JSON.parse(e)},qd=()=>{try{return OO()||VO()||FO()||UO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mI=t=>{var e,n;return(n=(e=qd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$O=t=>{const e=mI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gI=()=>{var t;return(t=qd())===null||t===void 0?void 0:t.config},yI=t=>{var e;return(e=qd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){return t.endsWith(".cloudworkstations.dev")}async function vI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qc(JSON.stringify(n)),Qc(JSON.stringify(o)),""].join(".")}const Ba={};function HO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ba))Ba[e]?t.emulator.push(e):t.prod.push(e);return t}function WO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let G0=!1;function _I(t,e){if(typeof window>"u"||typeof document>"u"||!Ul(window.location.host)||Ba[t]===e||Ba[t]||G0)return;Ba[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=HO().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function u(h,y){h.setAttribute("width","24"),h.setAttribute("id",y),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{G0=!0,o()},h}function d(h,y){h.setAttribute("id",y),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function m(){const h=WO(r),y=n("text"),_=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),I=document.getElementById(x)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),d(I,x);const k=c();u(v,w),S.append(v,_,I,k),document.body.appendChild(S)}i?(_.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function GO(){var t;const e=(t=qd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XO(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JO(){return!GO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZO(){try{return typeof indexedDB=="object"}catch{return!1}}function eD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tD,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?nD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Nr(s,a,r)}}function nD(t,e){return t.replace(rD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const rD=/\{\$([^}]+)}/g;function sD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(K0(i)&&K0(o)){if(!hi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function K0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iD(t,e){const n=new oD(t,e);return n.subscribe.bind(n)}class oD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=af),s.error===void 0&&(s.error=af),s.complete===void 0&&(s.complete=af);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){return t&&t._delegate?t._delegate:t}class fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cD(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uD(t){return t===qs?void 0:t}function cD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const hD={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},fD=fe.INFO,pD={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},mD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wg{constructor(e){this.name=e,this._logLevel=fD,this._logHandler=mD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const gD=(t,e)=>e.some(n=>t instanceof n);let Q0,Y0;function yD(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vD(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wI=new WeakMap,Rp=new WeakMap,xI=new WeakMap,lf=new WeakMap,xg=new WeakMap;function _D(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(gs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wI.set(n,t)}).catch(()=>{}),xg.set(e,t),e}function wD(t){if(Rp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Rp.set(t,e)}let Pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xD(t){Pp=t(Pp)}function ED(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uf(this),e,...n);return xI.set(r,e.sort?e.sort():[e]),gs(r)}:vD().includes(t)?function(...e){return t.apply(uf(this),e),gs(wI.get(this))}:function(...e){return gs(t.apply(uf(this),e))}}function TD(t){return typeof t=="function"?ED(t):(t instanceof IDBTransaction&&wD(t),gD(t,yD())?new Proxy(t,Pp):t)}function gs(t){if(t instanceof IDBRequest)return _D(t);if(lf.has(t))return lf.get(t);const e=TD(t);return e!==t&&(lf.set(t,e),xg.set(e,t)),e}const uf=t=>xg.get(t);function ID(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=gs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(gs(o.result),u.oldVersion,u.newVersion,gs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const SD=["get","getKey","getAll","getAllKeys","count"],bD=["put","add","delete","clear"],cf=new Map;function X0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=bD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||SD.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return cf.set(e,i),i}xD(t=>({...t,get:(e,n,r)=>X0(e,n)||t.get(e,n,r),has:(e,n)=>!!X0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Np="@firebase/app",J0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new wg("@firebase/app"),RD="@firebase/app-compat",PD="@firebase/analytics-compat",ND="@firebase/analytics",kD="@firebase/app-check-compat",OD="@firebase/app-check",DD="@firebase/auth",MD="@firebase/auth-compat",jD="@firebase/database",LD="@firebase/data-connect",VD="@firebase/database-compat",FD="@firebase/functions",UD="@firebase/functions-compat",$D="@firebase/installations",zD="@firebase/installations-compat",BD="@firebase/messaging",HD="@firebase/messaging-compat",WD="@firebase/performance",qD="@firebase/performance-compat",GD="@firebase/remote-config",KD="@firebase/remote-config-compat",QD="@firebase/storage",YD="@firebase/storage-compat",XD="@firebase/firestore",JD="@firebase/ai",ZD="@firebase/firestore-compat",eM="firebase",tM="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="[DEFAULT]",nM={[Np]:"fire-core",[RD]:"fire-core-compat",[ND]:"fire-analytics",[PD]:"fire-analytics-compat",[OD]:"fire-app-check",[kD]:"fire-app-check-compat",[DD]:"fire-auth",[MD]:"fire-auth-compat",[jD]:"fire-rtdb",[LD]:"fire-data-connect",[VD]:"fire-rtdb-compat",[FD]:"fire-fn",[UD]:"fire-fn-compat",[$D]:"fire-iid",[zD]:"fire-iid-compat",[BD]:"fire-fcm",[HD]:"fire-fcm-compat",[WD]:"fire-perf",[qD]:"fire-perf-compat",[GD]:"fire-rc",[KD]:"fire-rc-compat",[QD]:"fire-gcs",[YD]:"fire-gcs-compat",[XD]:"fire-fst",[ZD]:"fire-fst-compat",[JD]:"fire-vertex","fire-js":"fire-js",[eM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,rM=new Map,Op=new Map;function Z0(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(Op.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Op.set(e,t);for(const n of Yc.values())Z0(n,t);for(const n of rM.values())Z0(n,t);return!0}function Eg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new $l("app","Firebase",sM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=tM;function EI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kp,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ys.create("bad-app-name",{appName:String(s)});if(n||(n=gI()),!n)throw ys.create("no-options");const i=Yc.get(s);if(i){if(hi(n,i.options)&&hi(r,i.config))return i;throw ys.create("duplicate-app",{appName:s})}const o=new dD(s);for(const u of Op.values())o.addComponent(u);const a=new iM(n,r,o);return Yc.set(s,a),a}function TI(t=kp){const e=Yc.get(t);if(!e&&t===kp&&gI())return EI();if(!e)throw ys.create("no-app",{appName:t});return e}function vs(t,e,n){var r;let s=(r=nM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}Po(new fi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="firebase-heartbeat-database",aM=1,_l="firebase-heartbeat-store";let df=null;function II(){return df||(df=ID(oM,aM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_l)}catch(n){console.warn(n)}}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),df}async function lM(t){try{const n=(await II()).transaction(_l),r=await n.objectStore(_l).get(SI(t));return await n.done,r}catch(e){if(e instanceof Nr)Sr.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function e_(t,e){try{const r=(await II()).transaction(_l,"readwrite");await r.objectStore(_l).put(e,SI(t)),await r.done}catch(n){if(n instanceof Nr)Sr.warn(n.message);else{const r=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function SI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=1024,cM=30;class dM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=t_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>cM){const o=pM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t_(),{heartbeatsToSend:r,unsentEntries:s}=hM(this._heartbeatsCache.heartbeats),i=Qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Sr.warn(n),""}}}function t_(){return new Date().toISOString().substring(0,10)}function hM(t,e=uM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),n_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),n_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZO()?eD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function n_(t){return Qc(JSON.stringify({version:2,heartbeats:t})).length}function pM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){Po(new fi("platform-logger",e=>new CD(e),"PRIVATE")),Po(new fi("heartbeat",e=>new dM(e),"PRIVATE")),vs(Np,J0,t),vs(Np,J0,"esm2017"),vs("fire-js","")}mM("");var gM="firebase",yM="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(gM,yM,"app");function Tg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function bI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vM=bI,CI=new $l("auth","Firebase",bI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new wg("@firebase/auth");function _M(t,...e){Xc.logLevel<=fe.WARN&&Xc.warn(`Auth (${qo}): ${t}`,...e)}function ac(t,...e){Xc.logLevel<=fe.ERROR&&Xc.error(`Auth (${qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,...e){throw Ig(t,...e)}function Kn(t,...e){return Ig(t,...e)}function AI(t,e,n){const r=Object.assign(Object.assign({},vM()),{[e]:n});return new $l("auth","Firebase",r).create(e,{appName:t.name})}function ri(t){return AI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ig(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CI.create(t,...e)}function re(t,e,...n){if(!t)throw Ig(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ac(e),new Error(e)}function Cr(t,e){t||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wM(){return r_()==="http:"||r_()==="https:"}function r_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wM()||QO()||"connection"in navigator)?navigator.onLine:!0}function EM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=qO()||YO()}get(){return xM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t,e){Cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SM=new Bl(3e4,6e4);function bg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Go(t,e,n,r,s={}){return PI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=zl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return KO()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ul(t.emulatorConfig.host)&&(c.credentials="include"),RI.fetch()(await NI(t,t.config.apiHost,n,a),c)})}async function PI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},TM),e);try{const s=new CM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Lu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Lu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AI(t,d,c);br(t,d)}}catch(s){if(s instanceof Nr)throw s;br(t,"network-request-failed",{message:String(s)})}}async function bM(t,e,n,r,s={}){const i=await Go(t,e,n,r,s);return"mfaPendingCredential"in i&&br(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function NI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Sg(t.config,s):`${t.config.apiScheme}://${s}`;return IM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class CM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),SM.get())})}}function Lu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Kn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function Jc(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RM(t,e=!1){const n=pn(t),r=await n.getIdToken(e),s=Cg(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ha(hf(s.auth_time)),issuedAtTime:Ha(hf(s.iat)),expirationTime:Ha(hf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function hf(t){return Number(t)*1e3}function Cg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ac("JWT malformed, contained fewer than 3 sections"),null;try{const s=pI(n);return s?JSON.parse(s):(ac("Failed to decode base64 JWT payload"),null)}catch(s){return ac("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function s_(t){const e=Cg(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&PM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await wl(t,Jc(n,{idToken:r}));re(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?kI(i.providerUserInfo):[],a=OM(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Mp(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function kM(t){const e=pn(t);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kI(t){return t.map(e=>{var{providerId:n}=e,r=Tg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e){const n=await PI(t,{},async()=>{const r=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await NI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MM(t,e){return Go(t,"POST","/v2/accounts:revokeToken",bg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=s_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await DM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new io;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class In{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Mp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RM(this,e)}reload(){return kM(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new In(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await wl(this,AM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,c,d;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:k,isAnonymous:D,providerData:j,stsTokenManager:C}=n;re(S&&C,e,"internal-error");const E=io.fromJSON(this.name,C);re(typeof S=="string",e,"internal-error"),zr(m,e.name),zr(h,e.name),re(typeof k=="boolean",e,"internal-error"),re(typeof D=="boolean",e,"internal-error"),zr(y,e.name),zr(_,e.name),zr(x,e.name),zr(I,e.name),zr(w,e.name),zr(v,e.name);const A=new In({uid:S,auth:e,email:h,emailVerified:k,displayName:m,isAnonymous:D,photoURL:_,phoneNumber:y,tenantId:x,stsTokenManager:E,createdAt:w,lastLoginAt:v});return j&&Array.isArray(j)&&(A.providerData=j.map(R=>Object.assign({},R))),I&&(A._redirectEventId=I),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new io;s.updateFromServerResponse(n);const i=new In({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Zc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?kI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new io;a.updateFromIdToken(r);const u=new In({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Mp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;function gr(t){Cr(t instanceof Function,"Expected a class definition");let e=i_.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,i_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OI.type="NONE";const o_=OI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t,e,n){return`firebase:${t}:${e}:${n}`}class oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=lc(this.userKey,s.apiKey,i),this.fullPersistenceKey=lc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jc(this.auth,{idToken:e}).catch(()=>{});return n?In._fromGetAccountInfoResponse(this.auth,n,e):null}return In._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oo(gr(o_),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||gr(o_);const o=lc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let m;if(typeof d=="string"){const h=await Jc(e,{idToken:d}).catch(()=>{});if(!h)break;m=await In._fromGetAccountInfoResponse(e,h,d)}else m=In._fromJSON(e,d);c!==i&&(a=m),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new oo(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new oo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FI(e))return"Blackberry";if(UI(e))return"Webos";if(MI(e))return"Safari";if((e.includes("chrome/")||jI(e))&&!e.includes("edge/"))return"Chrome";if(VI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DI(t=At()){return/firefox\//i.test(t)}function MI(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jI(t=At()){return/crios\//i.test(t)}function LI(t=At()){return/iemobile/i.test(t)}function VI(t=At()){return/android/i.test(t)}function FI(t=At()){return/blackberry/i.test(t)}function UI(t=At()){return/webos/i.test(t)}function Ag(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jM(t=At()){var e;return Ag(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LM(){return XO()&&document.documentMode===10}function $I(t=At()){return Ag(t)||VI(t)||UI(t)||FI(t)||/windows phone/i.test(t)||LI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e=[]){let n;switch(t){case"Browser":n=a_(At());break;case"Worker":n=`${a_(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(t,e={}){return Go(t,"GET","/v2/passwordPolicy",bg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=6;class $M{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:UM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l_(this),this.idTokenSubscription=new l_(this),this.beforeStateQueue=new VM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jc(this,{idToken:e}),r=await In._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(ri(this));const n=e?pn(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FM(this),n=new $M(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_M(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rg(t){return pn(t)}class l_{constructor(e){this.auth=e,this.observer=null,this.addObserver=iD(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BM(t){Pg=t}function HM(t){return Pg.loadJS(t)}function WM(){return Pg.gapiScript}function qM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t,e){const n=Eg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(hi(i,e??{}))return s;br(s,"already-initialized")}return n.initialize({options:e})}function KM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QM(t,e,n){const r=Rg(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=BI(e),{host:o,port:a}=YM(e),u=a===null?"":`:${a}`,c={url:`${i}//${o}${u}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(hi(c,r.config.emulator)&&hi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ul(o)?(vI(`${i}//${o}${u}`),_I("Auth",!0)):XM()}function BI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YM(t){const e=BI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:u_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:u_(o)}}}function u_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t,e){return bM(t,"POST","/v1/accounts:signInWithIdp",bg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="http://localhost";class pi extends HI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Tg(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new pi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:JM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends WI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Hl{constructor(){super("facebook.com")}static credential(e){return pi._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Hl{constructor(){super("github.com")}static credential(e){return pi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Hl{constructor(){super("twitter.com")}static credential(e,n){return pi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await In._fromIdTokenResponse(e,r,s),o=c_(r);return new No({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=c_(r);return new No({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function c_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Nr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ed(e,n,r,s)}}function qI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(t,i,e,r):i})}async function ZM(t,e,n=!1){const r=await wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return No._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,e,n=!1){const{auth:r}=t;if(Wn(r.app))return Promise.reject(ri(r));const s="reauthenticate";try{const i=await wl(t,qI(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=Cg(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),No._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&br(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(t,e,n=!1){if(Wn(t.app))return Promise.reject(ri(t));const r="signIn",s=await qI(t,r,e),i=await No._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function nj(t,e,n,r){return pn(t).onIdTokenChanged(e,n,r)}function rj(t,e,n){return pn(t).beforeAuthStateChanged(e,n)}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=1e3,ij=10;class KI extends GI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$I(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);LM()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ij):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KI.type="LOCAL";const oj=KI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI extends GI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QI.type="SESSION";const YI=QI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Gd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await aj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Ng("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const h=m;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return window}function uj(t){Qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}async function cj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hj(){return XI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firebaseLocalStorageDb",fj=1,nd="firebaseLocalStorage",ZI="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kd(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function pj(){const t=indexedDB.deleteDatabase(JI);return new Wl(t).toPromise()}function jp(){const t=indexedDB.open(JI,fj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nd,{keyPath:ZI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nd)?e(r):(r.close(),await pj(),e(await jp()))})})}async function d_(t,e,n){const r=Kd(t,!0).put({[ZI]:e,value:n});return new Wl(r).toPromise()}async function mj(t,e){const n=Kd(t,!1).get(e),r=await new Wl(n).toPromise();return r===void 0?null:r.value}function h_(t,e){const n=Kd(t,!0).delete(e);return new Wl(n).toPromise()}const gj=800,yj=3;class eS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(hj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cj(),!this.activeServiceWorker)return;this.sender=new lj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await d_(e,td,"1"),await h_(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Kd(s,!1).getAll();return new Wl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eS.type="LOCAL";const vj=eS;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t,e){return e?gr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends HI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wj(t){return tj(t.auth,new kg(t),t.bypassAuthState)}function xj(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),ej(n,new kg(t),t.bypassAuthState)}async function Ej(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),ZM(n,new kg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wj;case"linkViaPopup":case"linkViaRedirect":return Ej;case"reauthViaPopup":case"reauthViaRedirect":return xj;default:br(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Bl(2e3,1e4);class Yi extends tS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Yi.currentPopupAction&&Yi.currentPopupAction.cancel(),Yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tj.get())};e()}}Yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="pendingRedirect",uc=new Map;class Sj extends tS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uc.get(this.auth._key());if(!e){try{const r=await bj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uc.set(this.auth._key(),e)}return this.bypassAuthState||uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bj(t,e){const n=Rj(e),r=Aj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Cj(t,e){uc.set(t._key(),e)}function Aj(t){return gr(t._redirectPersistence)}function Rj(t){return lc(Ij,t.config.apiKey,t.name)}async function Pj(t,e,n=!1){if(Wn(t.app))return Promise.reject(ri(t));const r=Rg(t),s=_j(r,e),o=await new Sj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=10*60*1e3;class kj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Oj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nj&&this.cachedEventUids.clear(),this.cachedEventUids.has(f_(e))}saveEventToCache(e){this.cachedEventUids.add(f_(e)),this.lastProcessedEventTime=Date.now()}}function f_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Oj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jj=/^https?/;async function Lj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Dj(t);for(const n of e)try{if(Vj(n))return}catch{}br(t,"unauthorized-domain")}function Vj(t){const e=Dp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jj.test(n))return!1;if(Mj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Bl(3e4,6e4);function p_(){const t=Qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Uj(t){return new Promise((e,n)=>{var r,s,i;function o(){p_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p_(),n(Kn(t,"network-request-failed"))},timeout:Fj.get()})}if(!((s=(r=Qn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Qn().gapi)===null||i===void 0)&&i.load)o();else{const a=qM("iframefcb");return Qn()[a]=()=>{gapi.load?o():n(Kn(t,"network-request-failed"))},HM(`${WM()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw cc=null,e})}let cc=null;function $j(t){return cc=cc||Uj(t),cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Bl(5e3,15e3),Bj="__/auth/iframe",Hj="emulator/auth/iframe",Wj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gj(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sg(e,Hj):`https://${t.config.authDomain}/${Bj}`,r={apiKey:e.apiKey,appName:t.name,v:qo},s=qj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${zl(r).slice(1)}`}async function Kj(t){const e=await $j(t),n=Qn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:Gj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Kn(t,"network-request-failed"),a=Qn().setTimeout(()=>{i(o)},zj.get());function u(){Qn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yj=500,Xj=600,Jj="_blank",Zj="http://localhost";class m_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eL(t,e,n,r=Yj,s=Xj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Qj),{width:r.toString(),height:s.toString(),top:i,left:o}),c=At().toLowerCase();n&&(a=jI(c)?Jj:n),DI(c)&&(e=e||Zj,u.scrollbars="yes");const d=Object.entries(u).reduce((h,[y,_])=>`${h}${y}=${_},`,"");if(jM(c)&&a!=="_self")return tL(e||"",a),new m_(null);const m=window.open(e||"",a,d);re(m,t,"popup-blocked");try{m.focus()}catch{}return new m_(m)}function tL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="__/auth/handler",rL="emulator/auth/handler",sL=encodeURIComponent("fac");async function g_(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qo,eventId:s};if(e instanceof WI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof Hl){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${sL}=${encodeURIComponent(u)}`:"";return`${iL(t)}?${zl(a).slice(1)}${c}`}function iL({config:t}){return t.emulator?Sg(t,rL):`https://${t.authDomain}/${nL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="webStorageSupport";class oL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YI,this._completeRedirectFn=Pj,this._overrideRedirectResult=Cj}async _openPopup(e,n,r,s){var i;Cr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await g_(e,n,r,Dp(),s);return eL(e,o,Ng())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await g_(e,n,r,Dp(),s);return uj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Cr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Kj(e),r=new kj(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ff,{type:ff},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ff];o!==void 0&&n(!!o),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $I()||MI()||Ag()}}const aL=oL;var y_="@firebase/auth",v_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cL(t){Po(new fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zI(t)},c=new zM(r,s,i,u);return KM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Po(new fi("auth-internal",e=>{const n=Rg(e.getProvider("auth").getImmediate());return(r=>new lL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(y_,v_,uL(t)),vs(y_,v_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=5*60,hL=yI("authIdTokenMaxAge")||dL;let __=null;const fL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hL)return;const s=n==null?void 0:n.token;__!==s&&(__=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pL(t=TI()){const e=Eg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GM(t,{popupRedirectResolver:aL,persistence:[vj,oj,YI]}),r=yI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=fL(i.toString());rj(n,o,()=>o(n.currentUser)),nj(n,a=>o(a))}}const s=mI("auth");return s&&QM(n,`http://${s}`),n}function mL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Kn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",mL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cL("Browser");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,rS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function A(){}A.prototype=E.prototype,C.D=E.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(R,N,O){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return E.prototype[N].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,E,A){A||(A=0);var R=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)R[N]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(N=0;16>N;++N)R[N]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=C.g[0],A=C.g[1],N=C.g[2];var O=C.g[3],P=E+(O^A&(N^O))+R[0]+3614090360&4294967295;E=A+(P<<7&4294967295|P>>>25),P=O+(N^E&(A^N))+R[1]+3905402710&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(A^O&(E^A))+R[2]+606105819&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(E^N&(O^E))+R[3]+3250441966&4294967295,A=N+(P<<22&4294967295|P>>>10),P=E+(O^A&(N^O))+R[4]+4118548399&4294967295,E=A+(P<<7&4294967295|P>>>25),P=O+(N^E&(A^N))+R[5]+1200080426&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(A^O&(E^A))+R[6]+2821735955&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(E^N&(O^E))+R[7]+4249261313&4294967295,A=N+(P<<22&4294967295|P>>>10),P=E+(O^A&(N^O))+R[8]+1770035416&4294967295,E=A+(P<<7&4294967295|P>>>25),P=O+(N^E&(A^N))+R[9]+2336552879&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(A^O&(E^A))+R[10]+4294925233&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(E^N&(O^E))+R[11]+2304563134&4294967295,A=N+(P<<22&4294967295|P>>>10),P=E+(O^A&(N^O))+R[12]+1804603682&4294967295,E=A+(P<<7&4294967295|P>>>25),P=O+(N^E&(A^N))+R[13]+4254626195&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(A^O&(E^A))+R[14]+2792965006&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(E^N&(O^E))+R[15]+1236535329&4294967295,A=N+(P<<22&4294967295|P>>>10),P=E+(N^O&(A^N))+R[1]+4129170786&4294967295,E=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(E^A))+R[6]+3225465664&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^A&(O^E))+R[11]+643717713&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^E&(N^O))+R[0]+3921069994&4294967295,A=N+(P<<20&4294967295|P>>>12),P=E+(N^O&(A^N))+R[5]+3593408605&4294967295,E=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(E^A))+R[10]+38016083&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^A&(O^E))+R[15]+3634488961&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^E&(N^O))+R[4]+3889429448&4294967295,A=N+(P<<20&4294967295|P>>>12),P=E+(N^O&(A^N))+R[9]+568446438&4294967295,E=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(E^A))+R[14]+3275163606&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^A&(O^E))+R[3]+4107603335&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^E&(N^O))+R[8]+1163531501&4294967295,A=N+(P<<20&4294967295|P>>>12),P=E+(N^O&(A^N))+R[13]+2850285829&4294967295,E=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(E^A))+R[2]+4243563512&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^A&(O^E))+R[7]+1735328473&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^E&(N^O))+R[12]+2368359562&4294967295,A=N+(P<<20&4294967295|P>>>12),P=E+(A^N^O)+R[5]+4294588738&4294967295,E=A+(P<<4&4294967295|P>>>28),P=O+(E^A^N)+R[8]+2272392833&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^A)+R[11]+1839030562&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^E)+R[14]+4259657740&4294967295,A=N+(P<<23&4294967295|P>>>9),P=E+(A^N^O)+R[1]+2763975236&4294967295,E=A+(P<<4&4294967295|P>>>28),P=O+(E^A^N)+R[4]+1272893353&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^A)+R[7]+4139469664&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^E)+R[10]+3200236656&4294967295,A=N+(P<<23&4294967295|P>>>9),P=E+(A^N^O)+R[13]+681279174&4294967295,E=A+(P<<4&4294967295|P>>>28),P=O+(E^A^N)+R[0]+3936430074&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^A)+R[3]+3572445317&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^E)+R[6]+76029189&4294967295,A=N+(P<<23&4294967295|P>>>9),P=E+(A^N^O)+R[9]+3654602809&4294967295,E=A+(P<<4&4294967295|P>>>28),P=O+(E^A^N)+R[12]+3873151461&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^A)+R[15]+530742520&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^E)+R[2]+3299628645&4294967295,A=N+(P<<23&4294967295|P>>>9),P=E+(N^(A|~O))+R[0]+4096336452&4294967295,E=A+(P<<6&4294967295|P>>>26),P=O+(A^(E|~N))+R[7]+1126891415&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~A))+R[14]+2878612391&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~E))+R[5]+4237533241&4294967295,A=N+(P<<21&4294967295|P>>>11),P=E+(N^(A|~O))+R[12]+1700485571&4294967295,E=A+(P<<6&4294967295|P>>>26),P=O+(A^(E|~N))+R[3]+2399980690&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~A))+R[10]+4293915773&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~E))+R[1]+2240044497&4294967295,A=N+(P<<21&4294967295|P>>>11),P=E+(N^(A|~O))+R[8]+1873313359&4294967295,E=A+(P<<6&4294967295|P>>>26),P=O+(A^(E|~N))+R[15]+4264355552&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~A))+R[6]+2734768916&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~E))+R[13]+1309151649&4294967295,A=N+(P<<21&4294967295|P>>>11),P=E+(N^(A|~O))+R[4]+4149444226&4294967295,E=A+(P<<6&4294967295|P>>>26),P=O+(A^(E|~N))+R[11]+3174756917&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~A))+R[2]+718787259&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~E))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var A=E-this.blockSize,R=this.B,N=this.h,O=0;O<E;){if(N==0)for(;O<=A;)s(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<E;)if(R[N++]=C.charCodeAt(O++),N==this.blockSize){s(this,R),N=0;break}}else for(;O<E;)if(R[N++]=C[O++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var A=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=A&255,A/=256;for(this.u(C),C=Array(16),E=A=0;4>E;++E)for(var R=0;32>R;R+=8)C[A++]=this.g[E]>>>R&255;return C};function i(C,E){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=E(C)}function o(C,E){this.h=E;for(var A=[],R=!0,N=C.length-1;0<=N;N--){var O=C[N]|0;R&&O==E||(A[N]=O,R=!1)}this.g=A}var a={};function u(C){return-128<=C&&128>C?i(C,function(E){return new o([E|0],0>E?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return m;if(0>C)return I(c(-C));for(var E=[],A=1,R=0;C>=A;R++)E[R]=C/A|0,A*=4294967296;return new o(E,0)}function d(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return I(d(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(E,8)),R=m,N=0;N<C.length;N+=8){var O=Math.min(8,C.length-N),P=parseInt(C.substring(N,N+O),E);8>O?(O=c(Math.pow(E,O)),R=R.j(O).add(c(P))):(R=R.j(A),R=R.add(c(P)))}return R}var m=u(0),h=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-I(this).m();for(var C=0,E=1,A=0;A<this.g.length;A++){var R=this.i(A);C+=(0<=R?R:4294967296+R)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(x(this))return"-"+I(this).toString(C);for(var E=c(Math.pow(C,6)),A=this,R="";;){var N=k(A,E).g;A=w(A,N.j(E));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=N,_(A))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=w(this,C),x(C)?-1:_(C)?0:1};function I(C){for(var E=C.g.length,A=[],R=0;R<E;R++)A[R]=~C.g[R];return new o(A,~C.h).add(h)}t.abs=function(){return x(this)?I(this):this},t.add=function(C){for(var E=Math.max(this.g.length,C.g.length),A=[],R=0,N=0;N<=E;N++){var O=R+(this.i(N)&65535)+(C.i(N)&65535),P=(O>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);R=P>>>16,O&=65535,P&=65535,A[N]=P<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(C,E){return C.add(I(E))}t.j=function(C){if(_(this)||_(C))return m;if(x(this))return x(C)?I(this).j(I(C)):I(I(this).j(C));if(x(C))return I(this.j(I(C)));if(0>this.l(y)&&0>C.l(y))return c(this.m()*C.m());for(var E=this.g.length+C.g.length,A=[],R=0;R<2*E;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<C.g.length;N++){var O=this.i(R)>>>16,P=this.i(R)&65535,q=C.i(N)>>>16,se=C.i(N)&65535;A[2*R+2*N]+=P*se,v(A,2*R+2*N),A[2*R+2*N+1]+=O*se,v(A,2*R+2*N+1),A[2*R+2*N+1]+=P*q,v(A,2*R+2*N+1),A[2*R+2*N+2]+=O*q,v(A,2*R+2*N+2)}for(R=0;R<E;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=E;R<2*E;R++)A[R]=0;return new o(A,0)};function v(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function S(C,E){this.g=C,this.h=E}function k(C,E){if(_(E))throw Error("division by zero");if(_(C))return new S(m,m);if(x(C))return E=k(I(C),E),new S(I(E.g),I(E.h));if(x(E))return E=k(C,I(E)),new S(I(E.g),E.h);if(30<C.g.length){if(x(C)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var A=h,R=E;0>=R.l(C);)A=D(A),R=D(R);var N=j(A,1),O=j(R,1);for(R=j(R,2),A=j(A,2);!_(R);){var P=O.add(R);0>=P.l(C)&&(N=N.add(A),O=P),R=j(R,1),A=j(A,1)}return E=w(C,N.j(E)),new S(N,E)}for(N=m;0<=C.l(E);){for(A=Math.max(1,Math.floor(C.m()/E.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(A),P=O.j(E);x(P)||0<P.l(C);)A-=R,O=c(A),P=O.j(E);_(O)&&(O=h),N=N.add(O),C=w(C,P)}return new S(N,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var E=Math.max(this.g.length,C.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)&C.i(R);return new o(A,this.h&C.h)},t.or=function(C){for(var E=Math.max(this.g.length,C.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)|C.i(R);return new o(A,this.h|C.h)},t.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)^C.i(R);return new o(A,this.h^C.h)};function D(C){for(var E=C.g.length+1,A=[],R=0;R<E;R++)A[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(A,C.h)}function j(C,E){var A=E>>5;E%=32;for(var R=C.g.length-A,N=[],O=0;O<R;O++)N[O]=0<E?C.i(O+A)>>>E|C.i(O+A+1)<<32-E:C.i(O+A);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,_s=o}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sS,Pa,iS,dc,Lp,oS,aS,lS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var g=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var M=l[b];if(!(M in g))break e;g=g[M]}l=l[l.length-1],b=g[l],f=f(b),f!=b&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var g=0,b=!1,M={next:function(){if(!b&&g<l.length){var V=g++;return{value:f(V,l[V]),done:!1}}return b=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,g){return l.call.apply(l.bind,arguments)}function m(l,f,g){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,b),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function h(l,f,g){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,h.apply(null,arguments)}function y(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function _(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(b,M,V){for(var H=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)H[Se-2]=arguments[Se];return f.prototype[M].apply(b,H)}}function x(l){const f=l.length;if(0<f){const g=Array(f);for(let b=0;b<f;b++)g[b]=l[b];return g}return[]}function I(l,f){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(u(b)){const M=l.length||0,V=b.length||0;l.length=M+V;for(let H=0;H<V;H++)l[M+H]=b[H]}else l.push(b)}}class w{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function j(l,f,g){for(const b in l)f.call(g,l[b],b,l)}function C(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function E(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,f){let g,b;for(let M=1;M<arguments.length;M++){b=arguments[M];for(g in b)l[g]=b[g];for(let V=0;V<A.length;V++)g=A[V],Object.prototype.hasOwnProperty.call(b,g)&&(l[g]=b[g])}}function N(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function O(l){a.setTimeout(()=>{throw l},0)}function P(){var l=B;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class q{constructor(){this.h=this.g=null}add(f,g){const b=se.get();b.set(f,g),this.h?this.h.next=b:this.g=b,this.h=b}}var se=new w(()=>new Z,l=>l.reset());class Z{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let le,L=!1,B=new q,X=()=>{const l=a.Promise.resolve(void 0);le=()=>{l.then(K)}};var K=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(g){O(g)}var f=se;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}L=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function Ze(l,f){if(te.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(D){e:{try{k(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ve[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ze.aa.h.call(this)}}_(Ze,te);var ve={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),On=0;function Dn(l,f,g,b,M){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!b,this.ha=M,this.key=++On,this.da=this.fa=!1}function Ht(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function tr(l){this.src=l,this.g={},this.h=0}tr.prototype.add=function(l,f,g,b,M){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var H=mn(l,f,b,M);return-1<H?(f=l[H],g||(f.fa=!1)):(f=new Dn(f,this.src,V,!!b,M),f.fa=g,l.push(f)),f};function Mn(l,f){var g=f.type;if(g in l.g){var b=l.g[g],M=Array.prototype.indexOf.call(b,f,void 0),V;(V=0<=M)&&Array.prototype.splice.call(b,M,1),V&&(Ht(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function mn(l,f,g,b){for(var M=0;M<l.length;++M){var V=l[M];if(!V.da&&V.listener==f&&V.capture==!!g&&V.ha==b)return M}return-1}var nr="closure_lm_"+(1e6*Math.random()|0),kr={};function gn(l,f,g,b,M){if(Array.isArray(f)){for(var V=0;V<f.length;V++)gn(l,f[V],g,b,M);return null}return g=na(g),l&&l[mt]?l.K(f,g,c(b)?!!b.capture:!!b,M):Zo(l,f,g,!1,b,M)}function Zo(l,f,g,b,M,V){if(!f)throw Error("Invalid event type");var H=c(M)?!!M.capture:!!M,Se=Or(l);if(Se||(l[nr]=Se=new tr(l)),g=Se.add(f,g,b,H,V),g.proxy)return g;if(b=ea(),g.proxy=b,b.src=l,b.listener=g,l.addEventListener)Ce||(M=H),M===void 0&&(M=!1),l.addEventListener(f.toString(),b,M);else if(l.attachEvent)l.attachEvent(Xl(f.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ea(){function l(g){return f.call(l.src,l.listener,g)}const f=uh;return l}function Ge(l,f,g,b,M){if(Array.isArray(f))for(var V=0;V<f.length;V++)Ge(l,f[V],g,b,M);else b=c(b)?!!b.capture:!!b,g=na(g),l&&l[mt]?(l=l.i,f=String(f).toString(),f in l.g&&(V=l.g[f],g=mn(V,g,b,M),-1<g&&(Ht(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete l.g[f],l.h--)))):l&&(l=Or(l))&&(f=l.g[f.toString()],l=-1,f&&(l=mn(f,g,b,M)),(g=-1<l?f[l]:null)&&jn(g))}function jn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[mt])Mn(f.i,l);else{var g=l.type,b=l.proxy;f.removeEventListener?f.removeEventListener(g,b,l.capture):f.detachEvent?f.detachEvent(Xl(g),b):f.addListener&&f.removeListener&&f.removeListener(b),(g=Or(f))?(Mn(g,l),g.h==0&&(g.src=null,f[nr]=null)):Ht(l)}}}function Xl(l){return l in kr?kr[l]:kr[l]="on"+l}function uh(l,f){if(l.da)l=!0;else{f=new Ze(f,this);var g=l.listener,b=l.ha||l.src;l.fa&&jn(l),l=g.call(b,f)}return l}function Or(l){return l=l[nr],l instanceof tr?l:null}var ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function na(l){return typeof l=="function"?l:(l[ta]||(l[ta]=function(f){return l.handleEvent(f)}),l[ta])}function Ke(){J.call(this),this.i=new tr(this),this.M=this,this.F=null}_(Ke,J),Ke.prototype[mt]=!0,Ke.prototype.removeEventListener=function(l,f,g,b){Ge(this,l,f,g,b)};function $e(l,f){var g,b=l.F;if(b)for(g=[];b;b=b.F)g.push(b);if(l=l.M,b=f.type||f,typeof f=="string")f=new te(f,l);else if(f instanceof te)f.target=f.target||l;else{var M=f;f=new te(b,l),R(f,M)}if(M=!0,g)for(var V=g.length-1;0<=V;V--){var H=f.g=g[V];M=Fs(H,b,!0,f)&&M}if(H=f.g=l,M=Fs(H,b,!0,f)&&M,M=Fs(H,b,!1,f)&&M,g)for(V=0;V<g.length;V++)H=f.g=g[V],M=Fs(H,b,!1,f)&&M}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],b=0;b<g.length;b++)Ht(g[b]);delete l.g[f],l.h--}}this.F=null},Ke.prototype.K=function(l,f,g,b){return this.i.add(String(l),f,!1,g,b)},Ke.prototype.L=function(l,f,g,b){return this.i.add(String(l),f,!0,g,b)};function Fs(l,f,g,b){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,V=0;V<f.length;++V){var H=f[V];if(H&&!H.da&&H.capture==g){var Se=H.listener,lt=H.ha||H.src;H.fa&&Mn(l.i,H),M=Se.call(lt,b)!==!1&&M}}return M&&!b.defaultPrevented}function rr(l,f,g){if(typeof l=="function")g&&(l=h(l,g));else if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function ra(l){l.g=rr(()=>{l.g=null,l.i&&(l.i=!1,ra(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class ch extends J{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ra(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(l){J.call(this),this.h=l,this.g={}}_(Dr,J);var sa=[];function Jl(l){j(l.g,function(f,g){this.g.hasOwnProperty(g)&&jn(f)},l),l.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Jl(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=a.JSON.stringify,Ln=a.JSON.parse,dh=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ie(){}ie.prototype.h=null;function Ie(l){return l.h||(l.h=l.i())}function Ee(){}var gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jt(){te.call(this,"d")}_(jt,te);function Mr(){te.call(this,"c")}_(Mr,te);var sr={},dy=null;function Zl(){return dy=dy||new Ke}sr.La="serverreachability";function hy(l){te.call(this,sr.La,l)}_(hy,te);function ia(l){const f=Zl();$e(f,new hy(f))}sr.STAT_EVENT="statevent";function fy(l,f){te.call(this,sr.STAT_EVENT,l),this.stat=f}_(fy,te);function Rt(l){const f=Zl();$e(f,new fy(f,l))}sr.Ma="timingevent";function py(l,f){te.call(this,sr.Ma,l),this.size=f}_(py,te);function oa(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function aa(){this.g=!0}aa.prototype.xa=function(){this.g=!1};function $b(l,f,g,b,M,V){l.info(function(){if(l.g)if(V)for(var H="",Se=V.split("&"),lt=0;lt<Se.length;lt++){var ye=Se[lt].split("=");if(1<ye.length){var yt=ye[0];ye=ye[1];var vt=yt.split("_");H=2<=vt.length&&vt[1]=="type"?H+(yt+"="+ye+"&"):H+(yt+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+f+`
`+g+`
`+H})}function zb(l,f,g,b,M,V,H){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+f+`
`+g+`
`+V+" "+H})}function Ai(l,f,g,b){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Hb(l,g)+(b?" "+b:"")})}function Bb(l,f){l.info(function(){return"TIMEOUT: "+f})}aa.prototype.info=function(){};function Hb(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var b=g[l];if(!(2>b.length)){var M=b[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<M.length;H++)M[H]=""}}}}return Us(g)}catch{return f}}var eu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},my={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hh;function tu(){}_(tu,ie),tu.prototype.g=function(){return new XMLHttpRequest},tu.prototype.i=function(){return{}},hh=new tu;function jr(l,f,g,b){this.j=l,this.i=f,this.l=g,this.R=b||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gy}function gy(){this.i=null,this.g="",this.h=!1}var yy={},fh={};function ph(l,f,g){l.L=1,l.v=iu(ir(f)),l.m=g,l.P=!0,vy(l,null)}function vy(l,f){l.F=Date.now(),nu(l),l.A=ir(l.v);var g=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),ky(g.i,"t",b),l.C=0,g=l.j.J,l.h=new gy,l.g=Yy(l.j,g?f:null,!l.m),0<l.O&&(l.M=new ch(h(l.Y,l,l.g),l.O)),f=l.U,g=l.g,b=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(sa[0]=M.toString()),M=sa);for(var V=0;V<M.length;V++){var H=gn(g,M[V],b||f.handleEvent,!1,f.h||f);if(!H)break;f.g[H.key]=H}f=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ia(),$b(l.i,l.u,l.A,l.l,l.R,l.m)}jr.prototype.ca=function(l){l=l.target;const f=this.M;f&&or(l)==3?f.j():this.Y(l)},jr.prototype.Y=function(l){try{if(l==this.g)e:{const vt=or(this.g);var f=this.g.Ba();const Ni=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Fy(this.g)))){this.J||vt!=4||f==7||(f==8||0>=Ni?ia(3):ia(2)),mh(this);var g=this.g.Z();this.X=g;t:if(_y(this)){var b=Fy(this.g);l="";var M=b.length,V=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$s(this),la(this);var H="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(b[f],{stream:!(V&&f==M-1)});b.length=0,this.h.g+=l,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=g==200,zb(this.i,this.u,this.A,this.l,this.R,vt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,lt=this.g;if((Se=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Se)){var ye=Se;break t}}ye=null}if(g=ye)Ai(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gh(this,g);else{this.o=!1,this.s=3,Rt(12),$s(this),la(this);break e}}if(this.P){g=!0;let yn;for(;!this.J&&this.C<H.length;)if(yn=Wb(this,H),yn==fh){vt==4&&(this.s=4,Rt(14),g=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==yy){this.s=4,Rt(15),Ai(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}else Ai(this.i,this.l,yn,null),gh(this,yn);if(_y(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||H.length!=0||this.h.h||(this.s=1,Rt(16),g=!1),this.o=this.o&&g,!g)Ai(this.i,this.l,H,"[Invalid Chunked Response]"),$s(this),la(this);else if(0<H.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Eh(yt),yt.M=!0,Rt(11))}}else Ai(this.i,this.l,H,null),gh(this,H);vt==4&&$s(this),this.o&&!this.J&&(vt==4?qy(this.j,this):(this.o=!1,nu(this)))}else lC(this.g),g==400&&0<H.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),$s(this),la(this)}}}catch{}finally{}};function _y(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Wb(l,f){var g=l.C,b=f.indexOf(`
`,g);return b==-1?fh:(g=Number(f.substring(g,b)),isNaN(g)?yy:(b+=1,b+g>f.length?fh:(f=f.slice(b,b+g),l.C=b+g,f)))}jr.prototype.cancel=function(){this.J=!0,$s(this)};function nu(l){l.S=Date.now()+l.I,wy(l,l.I)}function wy(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=oa(h(l.ba,l),f)}function mh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}jr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Bb(this.i,this.A),this.L!=2&&(ia(),Rt(17)),$s(this),this.s=2,la(this)):wy(this,this.S-l)};function la(l){l.j.G==0||l.J||qy(l.j,l)}function $s(l){mh(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Jl(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function gh(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||yh(g.h,l))){if(!l.K&&yh(g.h,l)&&g.G==3){try{var b=g.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var M=b;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)du(g),uu(g);else break e;xh(g),Rt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=oa(h(g.Za,g),6e3));if(1>=Ty(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Bs(g,11)}else if((l.K||g.g==l)&&du(g),!v(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let ye=M[f];if(g.T=ye[0],ye=ye[1],g.G==2)if(ye[0]=="c"){g.K=ye[1],g.ia=ye[2];const yt=ye[3];yt!=null&&(g.la=yt,g.j.info("VER="+g.la));const vt=ye[4];vt!=null&&(g.Aa=vt,g.j.info("SVER="+g.Aa));const Ni=ye[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(b=1.5*Ni,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const yn=l.g;if(yn){const fu=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fu){var V=b.h;V.g||fu.indexOf("spdy")==-1&&fu.indexOf("quic")==-1&&fu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(vh(V,V.h),V.h=null))}if(b.D){const Th=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&(b.ya=Th,Ae(b.I,b.D,Th))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var H=l;if(b.qa=Qy(b,b.J?b.ia:null,b.W),H.K){Iy(b.h,H);var Se=H,lt=b.L;lt&&(Se.I=lt),Se.B&&(mh(Se),nu(Se)),b.g=H}else Hy(b);0<g.i.length&&cu(g)}else ye[0]!="stop"&&ye[0]!="close"||Bs(g,7);else g.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Bs(g,7):wh(g):ye[0]!="noop"&&g.l&&g.l.ta(ye),g.v=0)}}ia(4)}catch{}}var qb=class{constructor(l,f){this.g=l,this.map=f}};function xy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ey(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ty(l){return l.h?1:l.g?l.g.size:0}function yh(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function vh(l,f){l.g?l.g.add(f):l.h=f}function Iy(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}xy.prototype.cancel=function(){if(this.i=Sy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Sy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return x(l.i)}function Gb(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],g=l.length,b=0;b<g;b++)f.push(l[b]);return f}f=[],g=0;for(b in l)f[g++]=l[b];return f}function Kb(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const b in l)f[g++]=b;return f}}}function by(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=Kb(l),b=Gb(l),M=b.length,V=0;V<M;V++)f.call(void 0,b[V],g&&g[V],l)}var Cy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qb(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var b=l[g].indexOf("="),M=null;if(0<=b){var V=l[g].substring(0,b);M=l[g].substring(b+1)}else V=l[g];f(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function zs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof zs){this.h=l.h,ru(this,l.j),this.o=l.o,this.g=l.g,su(this,l.s),this.l=l.l;var f=l.i,g=new da;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Ay(this,g),this.m=l.m}else l&&(f=String(l).match(Cy))?(this.h=!1,ru(this,f[1]||"",!0),this.o=ua(f[2]||""),this.g=ua(f[3]||"",!0),su(this,f[4]),this.l=ua(f[5]||"",!0),Ay(this,f[6]||"",!0),this.m=ua(f[7]||"")):(this.h=!1,this.i=new da(null,this.h))}zs.prototype.toString=function(){var l=[],f=this.j;f&&l.push(ca(f,Ry,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(ca(f,Ry,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ca(g,g.charAt(0)=="/"?Jb:Xb,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ca(g,eC)),l.join("")};function ir(l){return new zs(l)}function ru(l,f,g){l.j=g?ua(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function su(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Ay(l,f,g){f instanceof da?(l.i=f,tC(l.i,l.h)):(g||(f=ca(f,Zb)),l.i=new da(f,l.h))}function Ae(l,f,g){l.i.set(f,g)}function iu(l){return Ae(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ua(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ca(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Yb),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Yb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ry=/[#\/\?@]/g,Xb=/[#\?:]/g,Jb=/[#\?]/g,Zb=/[#\?@]/g,eC=/#/g;function da(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Lr(l){l.g||(l.g=new Map,l.h=0,l.i&&Qb(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=da.prototype,t.add=function(l,f){Lr(this),this.i=null,l=Ri(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Py(l,f){Lr(l),f=Ri(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Ny(l,f){return Lr(l),f=Ri(l,f),l.g.has(f)}t.forEach=function(l,f){Lr(this),this.g.forEach(function(g,b){g.forEach(function(M){l.call(f,M,b,this)},this)},this)},t.na=function(){Lr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let b=0;b<f.length;b++){const M=l[b];for(let V=0;V<M.length;V++)g.push(f[b])}return g},t.V=function(l){Lr(this);let f=[];if(typeof l=="string")Ny(this,l)&&(f=f.concat(this.g.get(Ri(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},t.set=function(l,f){return Lr(this),this.i=null,l=Ri(this,l),Ny(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function ky(l,f,g){Py(l,f),0<g.length&&(l.i=null,l.g.set(Ri(l,f),x(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var b=f[g];const V=encodeURIComponent(String(b)),H=this.V(b);for(b=0;b<H.length;b++){var M=V;H[b]!==""&&(M+="="+encodeURIComponent(String(H[b]))),l.push(M)}}return this.i=l.join("&")};function Ri(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function tC(l,f){f&&!l.j&&(Lr(l),l.i=null,l.g.forEach(function(g,b){var M=b.toLowerCase();b!=M&&(Py(this,b),ky(this,M,g))},l)),l.j=f}function nC(l,f){const g=new aa;if(a.Image){const b=new Image;b.onload=y(Vr,g,"TestLoadImage: loaded",!0,f,b),b.onerror=y(Vr,g,"TestLoadImage: error",!1,f,b),b.onabort=y(Vr,g,"TestLoadImage: abort",!1,f,b),b.ontimeout=y(Vr,g,"TestLoadImage: timeout",!1,f,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else f(!1)}function rC(l,f){const g=new aa,b=new AbortController,M=setTimeout(()=>{b.abort(),Vr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:b.signal}).then(V=>{clearTimeout(M),V.ok?Vr(g,"TestPingServer: ok",!0,f):Vr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Vr(g,"TestPingServer: error",!1,f)})}function Vr(l,f,g,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(g)}catch{}}function sC(){this.g=new dh}function iC(l,f,g){const b=g||"";try{by(l,function(M,V){let H=M;c(M)&&(H=Us(M)),f.push(b+V+"="+encodeURIComponent(H))})}catch(M){throw f.push(b+"type="+encodeURIComponent("_badmap")),M}}function ou(l){this.l=l.Ub||null,this.j=l.eb||!1}_(ou,ie),ou.prototype.g=function(){return new au(this.l,this.j)},ou.prototype.i=function(l){return function(){return l}}({});function au(l,f){Ke.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(au,Ke),t=au.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,fa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?ha(this):fa(this),this.readyState==3&&Oy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ha(this))},t.Qa=function(l){this.g&&(this.response=l,ha(this))},t.ga=function(){this.g&&ha(this)};function ha(l){l.readyState=4,l.l=null,l.j=null,l.v=null,fa(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function fa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Dy(l){let f="";return j(l,function(g,b){f+=b,f+=":",f+=g,f+=`\r
`}),f}function _h(l,f,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=Dy(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ae(l,f,g))}function ze(l){Ke.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ze,Ke);var oC=/^https?$/i,aC=["POST","PUT"];t=ze.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hh.g(),this.v=this.o?Ie(this.o):Ie(hh),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(V){My(this,V);return}if(l=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)g.set(M,b[M]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const V of b.keys())g.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aC,f,void 0))||b||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of g)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vy(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){My(this,V)}};function My(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,jy(l),lu(l)}function jy(l){l.A||(l.A=!0,$e(l,"complete"),$e(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,$e(this,"complete"),$e(this,"abort"),lu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lu(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ly(this):this.bb())},t.bb=function(){Ly(this)};function Ly(l){if(l.h&&typeof o<"u"&&(!l.v[1]||or(l)!=4||l.Z()!=2)){if(l.u&&or(l)==4)rr(l.Ea,0,l);else if($e(l,"readystatechange"),or(l)==4){l.h=!1;try{const H=l.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var b;if(b=H===0){var M=String(l.D).match(Cy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),b=!oC.test(M?M.toLowerCase():"")}g=b}if(g)$e(l,"complete"),$e(l,"success");else{l.m=6;try{var V=2<or(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",jy(l)}}finally{lu(l)}}}}function lu(l,f){if(l.g){Vy(l);const g=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||$e(l,"ready");try{g.onreadystatechange=b}catch{}}}function Vy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function or(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Ln(f)}};function Fy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function lC(l){const f={};l=(l.g&&2<=or(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(v(l[b]))continue;var g=N(l[b]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=f[M]||[];f[M]=V,V.push(g)}C(f,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Uy(l){this.Aa=0,this.i=[],this.j=new aa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,l),this.cb=pa("retryDelaySeedMs",1e4,l),this.Wa=pa("forwardChannelMaxRetries",2,l),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new xy(l&&l.concurrentRequestLimit),this.Da=new sC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uy.prototype,t.la=8,t.G=1,t.connect=function(l,f,g,b){Rt(0),this.W=l,this.H=f||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=Qy(this,null,this.W),cu(this)};function wh(l){if($y(l),l.G==3){var f=l.U++,g=ir(l.I);if(Ae(g,"SID",l.K),Ae(g,"RID",f),Ae(g,"TYPE","terminate"),ma(l,g),f=new jr(l,l.j,f),f.L=2,f.v=iu(ir(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=Yy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),nu(f)}Ky(l)}function uu(l){l.g&&(Eh(l),l.g.cancel(),l.g=null)}function $y(l){uu(l),l.u&&(a.clearTimeout(l.u),l.u=null),du(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function cu(l){if(!Ey(l.h)&&!l.s){l.s=!0;var f=l.Ga;le||X(),L||(le(),L=!0),B.add(f,l),l.B=0}}function uC(l,f){return Ty(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=oa(h(l.Ga,l,f),Gy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new jr(this,this.j,l);let V=this.o;if(this.S&&(V?(V=E(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=By(this,M,f),g=ir(this.I),Ae(g,"RID",l),Ae(g,"CVER",22),this.D&&Ae(g,"X-HTTP-Session-Id",this.D),ma(this,g),V&&(this.O?f="headers="+encodeURIComponent(String(Dy(V)))+"&"+f:this.m&&_h(g,this.m,V)),vh(this.h,M),this.Ua&&Ae(g,"TYPE","init"),this.P?(Ae(g,"$req",f),Ae(g,"SID","null"),M.T=!0,ph(M,g,null)):ph(M,g,f),this.G=2}}else this.G==3&&(l?zy(this,l):this.i.length==0||Ey(this.h)||zy(this))};function zy(l,f){var g;f?g=f.l:g=l.U++;const b=ir(l.I);Ae(b,"SID",l.K),Ae(b,"RID",g),Ae(b,"AID",l.T),ma(l,b),l.m&&l.o&&_h(b,l.m,l.o),g=new jr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=By(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),vh(l.h,g),ph(g,b,f)}function ma(l,f){l.H&&j(l.H,function(g,b){Ae(f,b,g)}),l.l&&by({},function(g,b){Ae(f,b,g)})}function By(l,f,g){g=Math.min(l.i.length,g);var b=l.l?h(l.l.Na,l.l,l):null;e:{var M=l.i;let V=-1;for(;;){const H=["count="+g];V==-1?0<g?(V=M[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let Se=!0;for(let lt=0;lt<g;lt++){let ye=M[lt].g;const yt=M[lt].map;if(ye-=V,0>ye)V=Math.max(0,M[lt].g-100),Se=!1;else try{iC(yt,H,"req"+ye+"_")}catch{b&&b(yt)}}if(Se){b=H.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,b}function Hy(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;le||X(),L||(le(),L=!0),B.add(f,l),l.v=0}}function xh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=oa(h(l.Fa,l),Gy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Wy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=oa(h(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),uu(this),Wy(this))};function Eh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Wy(l){l.g=new jr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=ir(l.qa);Ae(f,"RID","rpc"),Ae(f,"SID",l.K),Ae(f,"AID",l.T),Ae(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ae(f,"TO",l.ja),Ae(f,"TYPE","xmlhttp"),ma(l,f),l.m&&l.o&&_h(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=iu(ir(f)),g.m=null,g.P=!0,vy(g,l)}t.Za=function(){this.C!=null&&(this.C=null,uu(this),xh(this),Rt(19))};function du(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function qy(l,f){var g=null;if(l.g==f){du(l),Eh(l),l.g=null;var b=2}else if(yh(l.h,f))g=f.D,Iy(l.h,f),b=1;else return;if(l.G!=0){if(f.o)if(b==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;b=Zl(),$e(b,new py(b,g)),cu(l)}else Hy(l);else if(M=f.s,M==3||M==0&&0<f.X||!(b==1&&uC(l,f)||b==2&&xh(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),M){case 1:Bs(l,5);break;case 4:Bs(l,10);break;case 3:Bs(l,6);break;default:Bs(l,2)}}}function Gy(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function Bs(l,f){if(l.j.info("Error code "+f),f==2){var g=h(l.fb,l),b=l.Xa;const M=!b;b=new zs(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ru(b,"https"),iu(b),M?nC(b.toString(),g):rC(b.toString(),g)}else Rt(2);l.G=0,l.l&&l.l.sa(f),Ky(l),$y(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Ky(l){if(l.G=0,l.ka=[],l.l){const f=Sy(l.h);(f.length!=0||l.i.length!=0)&&(I(l.ka,f),I(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function Qy(l,f,g){var b=g instanceof zs?ir(g):new zs(g);if(b.g!="")f&&(b.g=f+"."+b.g),su(b,b.s);else{var M=a.location;b=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var V=new zs(null);b&&ru(V,b),f&&(V.g=f),M&&su(V,M),g&&(V.l=g),b=V}return g=l.D,f=l.ya,g&&f&&Ae(b,g,f),Ae(b,"VER",l.la),ma(l,b),b}function Yy(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new ze(new ou({eb:g})):new ze(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xy(){}t=Xy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hu(){}hu.prototype.g=function(l,f){return new Wt(l,f)};function Wt(l,f){Ke.call(this),this.g=new Uy(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!v(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Pi(this)}_(Wt,Ke),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){wh(this.g)},Wt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Us(l),l=g);f.i.push(new qb(f.Ya++,l)),f.G==3&&cu(f)},Wt.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,Wt.aa.N.call(this)};function Jy(l){jt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}_(Jy,jt);function Zy(){Mr.call(this),this.status=1}_(Zy,Mr);function Pi(l){this.g=l}_(Pi,Xy),Pi.prototype.ua=function(){$e(this.g,"a")},Pi.prototype.ta=function(l){$e(this.g,new Jy(l))},Pi.prototype.sa=function(l){$e(this.g,new Zy)},Pi.prototype.ra=function(){$e(this.g,"b")},hu.prototype.createWebChannel=hu.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,lS=function(){return new hu},aS=function(){return Zl()},oS=sr,Lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eu.NO_ERROR=0,eu.TIMEOUT=8,eu.HTTP_ERROR=6,dc=eu,my.COMPLETE="complete",iS=my,Ee.EventType=gt,gt.OPEN="a",gt.CLOSE="b",gt.ERROR="c",gt.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Pa=Ee,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,sS=ze}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const x_="@firebase/firestore",E_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new wg("@firebase/firestore");function Di(){return mi.logLevel}function G(t,...e){if(mi.logLevel<=fe.DEBUG){const n=e.map(Og);mi.debug(`Firestore (${Ko}): ${t}`,...n)}}function Ar(t,...e){if(mi.logLevel<=fe.ERROR){const n=e.map(Og);mi.error(`Firestore (${Ko}): ${t}`,...n)}}function ko(t,...e){if(mi.logLevel<=fe.WARN){const n=e.map(Og);mi.warn(`Firestore (${Ko}): ${t}`,...n)}}function Og(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uS(t,r,n)}function uS(t,e,n){let r=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ar(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||uS(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class yL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vL{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ws,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ws)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new cS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new It(e)}}class _L{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _L(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new T_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new T_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=EL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function Vp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return de(r,s);{const i=dS(),o=TL(i.encode(I_(t,n)),i.encode(I_(e,n)));return o!==0?o:de(r,s)}}n+=r>65535?2:1}return de(t.length,e.length)}function I_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function TL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return de(t[n],e[n]);return de(t.length,e.length)}function Oo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=-62135596800,b_=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*b_);return new nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S_)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b_}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-S_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new nt(0,0))}static max(){return new oe(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="__name__";class Un{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Un.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Un?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Un.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return de(e.length,n.length)}static compareSegments(e,n){const r=Un.isNumericId(e),s=Un.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Un.extractNumericId(e).compare(Un.extractNumericId(n)):Vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class Ne extends Un{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const IL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Un{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return IL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new dt([C_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ne.fromString(e))}static fromName(e){return new ee(Ne.fromString(e).popFirst(5))}static empty(){return new ee(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=-1;function SL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Rs(s,ee.empty(),e)}function bL(t){return new Rs(t.readTime,t.key,xl)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(oe.min(),ee.empty(),xl)}static max(){return new Rs(oe.max(),ee.empty(),xl)}}function CL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==AL)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function PL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=-1;function Yd(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function NL(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="";function kL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=A_(e)),e=OL(t.get(n),e);return A_(e)}function OL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case fS:n+="";break;default:n+=i}}return n}function A_(t){return t+fS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ct.RED,this.left=s??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ct(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new rt(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mS("Invalid base64 string: "+i):i}}(e);return new pt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const DL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=DL.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ns(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="server_timestamp",yS="__type__",vS="__previous_value__",_S="__local_write_time__";function Mg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yS])===null||n===void 0?void 0:n.stringValue)===gS}function Xd(t){const e=t.mapValue.fields[vS];return Mg(e)?Xd(e):e}function El(t){const e=Ps(t.mapValue.fields[_S].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,s,i,o,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const sd="(default)";class Tl{constructor(e,n){this.projectId=e,this.database=n||sd}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===sd}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="__type__",xS="__max__",Uu={mapValue:{fields:{__type__:{stringValue:xS}}}},ES="__vector__",id="value";function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mg(t)?4:LL(t)?9007199254740991:jL(t)?10:11:ne(28295,{value:t})}function Zn(t,e){if(t===e)return!0;const n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return El(t).isEqual(El(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ps(s.timestampValue),a=Ps(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ns(s.bytesValue).isEqual(Ns(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return We(s.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(s.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return We(s.integerValue)===We(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=We(s.doubleValue),a=We(i.doubleValue);return o===a?rd(o)===rd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Oo(t.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(R_(o)!==R_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Zn(o[u],a[u])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Il(t,e){return(t.values||[]).find(n=>Zn(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=ks(t),r=ks(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=We(i.integerValue||i.doubleValue),u=We(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return N_(t.timestampValue,e.timestampValue);case 4:return N_(El(t),El(e));case 5:return Vp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ns(i),u=Ns(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=de(a[c],u[c]);if(d!==0)return d}return de(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=de(We(i.latitude),We(o.latitude));return a!==0?a:de(We(i.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,d;const m=i.fields||{},h=o.fields||{},y=(a=m[id])===null||a===void 0?void 0:a.arrayValue,_=(u=h[id])===null||u===void 0?void 0:u.arrayValue,x=de(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:k_(y,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Uu.mapValue&&o===Uu.mapValue)return 0;if(i===Uu.mapValue)return 1;if(o===Uu.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const h=Vp(u[m],d[m]);if(h!==0)return h;const y=Do(a[u[m]],c[d[m]]);if(y!==0)return y}return de(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{Pe:n})}}function N_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Ps(t),r=Ps(e),s=de(n.seconds,r.seconds);return s!==0?s:de(n.nanos,r.nanos)}function k_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Do(n[s],r[s]);if(i)return i}return de(n.length,r.length)}function Mo(t){return Fp(t)}function Fp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ps(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Fp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Fp(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function hc(t){switch(ks(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xd(t);return e?16+hc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ns(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+hc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ii(r.fields,(i,o)=>{s+=i.length+hc(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function O_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Up(t){return!!t&&"integerValue"in t}function jg(t){return!!t&&"arrayValue"in t}function D_(t){return!!t&&"nullValue"in t}function M_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fc(t){return!!t&&"mapValue"in t}function jL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wS])===null||n===void 0?void 0:n.stringValue)===ES}function Wa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(n)}setAll(e){let n=dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Wa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];fc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ii(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new an(Wa(this.value))}}function TS(t){const e=[];return Ii(t.fields,(n,r)=>{const s=new dt([n]);if(fc(r)){const i=TS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,oe.min(),oe.min(),oe.min(),an.empty(),0)}static newFoundDocument(e,n,r,s){return new bt(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new bt(e,2,n,oe.min(),oe.min(),an.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,oe.min(),oe.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.position=e,this.inclusive=n}}function j_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Do(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function L_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function VL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{}class Xe extends IS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UL(e,n,r):n==="array-contains"?new BL(e,r):n==="in"?new HL(e,r):n==="not-in"?new WL(e,r):n==="array-contains-any"?new qL(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $L(e,r):new zL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends IS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new kn(e,n)}matches(e){return SS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function SS(t){return t.op==="and"}function bS(t){return FL(t)&&SS(t)}function FL(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function $p(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(bS(t))return t.filters.map(e=>$p(e)).join(",");{const e=t.filters.map(n=>$p(n)).join(",");return`${t.op}(${e})`}}function CS(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&Zn(r.value,s.value)}(t,e):t instanceof kn?function(r,s){return s instanceof kn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&CS(o,s.filters[a]),!0):!1}(t,e):void ne(19439)}function AS(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(AS).join(" ,")+"}"}(t):"Filter"}class UL extends Xe{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class $L extends Xe{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zL extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class BL extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jg(n)&&Il(n.arrayValue,this.value)}}class HL extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}}class WL extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Il(this.value.arrayValue,n)}}class qL extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Il(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function V_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new GL(t,e,n,r,s,i,o)}function Lg(t){const e=ae(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$p(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mo(r)).join(",")),e.Ie=n}return e.Ie}function Vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!L_(t.startAt,e.startAt)&&L_(t.endAt,e.endAt)}function zp(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function KL(t,e,n,r,s,i,o,a){return new ql(t,e,n,r,s,i,o,a)}function PS(t){return new ql(t)}function F_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NS(t){return t.collectionGroup!==null}function qa(t){const e=ae(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rt(dt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new ad(i,r))}),n.has(dt.keyField().canonicalString())||e.Ee.push(new ad(dt.keyField(),r))}return e.Ee}function Yn(t){const e=ae(t);return e.de||(e.de=QL(e,qa(t))),e.de}function QL(t,e){if(t.limitType==="F")return V_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ad(s.field,i)});const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return V_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bp(t,e){const n=t.filters.concat([e]);return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hp(t,e,n){return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jd(t,e){return Vg(Yn(t),Yn(e))&&t.limitType===e.limitType}function kS(t){return`${Lg(Yn(t))}|lt:${t.limitType}`}function Mi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>AS(s)).join(", ")}]`),Yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Mo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Mo(s)).join(",")),`Target(${r})`}(Yn(t))}; limitType=${t.limitType})`}function Zd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of qa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=j_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,qa(r),s)||r.endAt&&!function(o,a,u){const c=j_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,qa(r),s))}(t,e)}function YL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OS(t){return(e,n)=>{let r=!1;for(const s of qa(t)){const i=XL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function XL(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Do(u,c):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return pS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new Fe(ee.comparator);function Rr(){return JL}const DS=new Fe(ee.comparator);function Na(...t){let e=DS;for(const n of t)e=e.insert(n.key,n);return e}function MS(t){let e=DS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ys(){return Ga()}function jS(){return Ga()}function Ga(){return new Si(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZL=new Fe(ee.comparator),eV=new rt(ee.comparator);function pe(...t){let e=eV;for(const n of t)e=e.add(n);return e}const tV=new rt(de);function nV(){return tV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function LS(t){return{integerValue:""+t}}function rV(t,e){return NL(e)?LS(e):Fg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function sV(t,e,n){return t instanceof ld?function(s,i){const o={fields:{[yS]:{stringValue:gS},[_S]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Mg(i)&&(i=Xd(i)),i&&(o.fields[vS]=i),{mapValue:o}}(n,e):t instanceof Sl?FS(t,e):t instanceof bl?US(t,e):function(s,i){const o=VS(s,i),a=U_(o)+U_(s.Re);return Up(o)&&Up(s.Re)?LS(a):Fg(s.serializer,a)}(t,e)}function iV(t,e,n){return t instanceof Sl?FS(t,e):t instanceof bl?US(t,e):n}function VS(t,e){return t instanceof ud?function(r){return Up(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ld extends eh{}class Sl extends eh{constructor(e){super(),this.elements=e}}function FS(t,e){const n=$S(e);for(const r of t.elements)n.some(s=>Zn(s,r))||n.push(r);return{arrayValue:{values:n}}}class bl extends eh{constructor(e){super(),this.elements=e}}function US(t,e){let n=$S(e);for(const r of t.elements)n=n.filter(s=>!Zn(s,r));return{arrayValue:{values:n}}}class ud extends eh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function U_(t){return We(t.integerValue||t.doubleValue)}function $S(t){return jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Sl&&s instanceof Sl||r instanceof bl&&s instanceof bl?Oo(r.elements,s.elements,Zn):r instanceof ud&&s instanceof ud?Zn(r.Re,s.Re):r instanceof ld&&s instanceof ld}(t.transform,e.transform)}class aV{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class th{}function zS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HS(t.key,vr.none()):new Gl(t.key,t.data,vr.none());{const n=t.data,r=an.empty();let s=new rt(dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new bi(t.key,r,new Sn(s.toArray()),vr.none())}}function lV(t,e,n){t instanceof Gl?function(s,i,o){const a=s.value.clone(),u=z_(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bi?function(s,i,o){if(!pc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=z_(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(BS(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,r){return t instanceof Gl?function(i,o,a,u){if(!pc(i.precondition,o))return a;const c=i.value.clone(),d=B_(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof bi?function(i,o,a,u){if(!pc(i.precondition,o))return a;const c=B_(i.fieldTransforms,u,o),d=o.data;return d.setAll(BS(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return pc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function uV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=VS(r.transform,s||null);i!=null&&(n===null&&(n=an.empty()),n.set(r.field,i))}return n||null}function $_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Oo(r,s,(i,o)=>oV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gl extends th{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bi extends th{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function BS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z_(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,iV(o,a,n[s]))}return r}function B_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,sV(i,o,e))}return r}class HS extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cV extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&lV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=zS(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(n,r)=>$_(n,r))&&Oo(this.baseMutations,e.baseMutations,(n,r)=>$_(n,r))}}class Ug{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return ZL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ug(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,me;function pV(t){switch(t){case $.OK:return ne(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function WS(t){if(t===void 0)return Ar("GRPC error has no .code"),$.UNKNOWN;switch(t){case Qe.OK:return $.OK;case Qe.CANCELLED:return $.CANCELLED;case Qe.UNKNOWN:return $.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return $.INTERNAL;case Qe.UNAVAILABLE:return $.UNAVAILABLE;case Qe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Qe.NOT_FOUND:return $.NOT_FOUND;case Qe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Qe.ABORTED:return $.ABORTED;case Qe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Qe.DATA_LOSS:return $.DATA_LOSS;default:return ne(39323,{code:t})}}(me=Qe||(Qe={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new _s([4294967295,4294967295],0);function H_(t){const e=dS().encode(t),n=new rS;return n.update(e),new Uint8Array(n.digest())}function W_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new _s([n,r],0),new _s([s,i],0)]}class $g{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(r<0)throw new ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=_s.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(_s.fromNumber(r)));return s.compare(mV)===1&&(s=new _s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=H_(e),[r,s]=W_(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new $g(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=H_(e),[r,s]=W_(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nh(oe.min(),s,new Fe(de),Rr(),pe())}}class Kl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class qS{constructor(e,n){this.targetId=e,this.Ce=n}}class GS{constructor(e,n,r=pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class q_{constructor(){this.Fe=0,this.Me=G_(),this.xe=pt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),n=pe(),r=pe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new Kl(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=G_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class gV{constructor(e){this.ze=e,this.je=new Map,this.He=Rr(),this.Je=$u(),this.Ye=$u(),this.Ze=new Fe(de)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(zp(i))if(r===0){const o=new ee(i.path);this.tt(n,o,bt.newNoDocument(o,oe.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),u=a?this.lt(a,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ns(r).toUint8Array()}catch(u){if(u instanceof mS)return ko("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new $g(o,s,i)}catch(u){return ko(u instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&zp(a.target)){const u=new ee(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,bt.newNoDocument(u,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=pe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new nh(e,n,this.Ze,this.He,r);return this.He=Rr(),this.Je=$u(),this.Ye=$u(),this.Ze=new Fe(de),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new q_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new rt(de),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new rt(de),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new q_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function $u(){return new Fe(ee.comparator)}function G_(){return new Fe(ee.comparator)}const yV={asc:"ASCENDING",desc:"DESCENDING"},vV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_V={and:"AND",or:"OR"};class wV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wp(t,e){return t.useProto3Json||Yd(e)?e:{value:e}}function cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xV(t,e){return cd(t,e.toTimestamp())}function Xn(t){return xe(!!t,49232),oe.fromTimestamp(function(n){const r=Ps(n);return new nt(r.seconds,r.nanos)}(t))}function zg(t,e){return qp(t,e).canonicalString()}function qp(t,e){const n=function(s){return new Ne(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QS(t){const e=Ne.fromString(t);return xe(eb(e),10190,{key:e.toString()}),e}function Gp(t,e){return zg(t.databaseId,e.path)}function pf(t,e){const n=QS(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(XS(n))}function YS(t,e){return zg(t.databaseId,e)}function EV(t){const e=QS(t);return e.length===4?Ne.emptyPath():XS(e)}function Kp(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XS(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function K_(t,e,n){return{name:Gp(t,e),fields:n.value.mapValue.fields}}function TV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(xe(d===void 0||typeof d=="string",58123),pt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:WS(c.code);return new Y(d,c.message||"")}(o);n=new GS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=pf(t,r.document.name),i=Xn(r.document.updateTime),o=r.document.createTime?Xn(r.document.createTime):oe.min(),a=new an({mapValue:{fields:r.document.fields}}),u=bt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new mc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=pf(t,r.document),i=r.readTime?Xn(r.readTime):oe.min(),o=bt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new mc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=pf(t,r.document),i=r.removedTargetIds||[];n=new mc([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new fV(s,i),a=r.targetId;n=new qS(a,o)}}return n}function IV(t,e){let n;if(e instanceof Gl)n={update:K_(t,e.key,e.value)};else if(e instanceof HS)n={delete:Gp(t,e.key)};else if(e instanceof bi)n={update:K_(t,e.key,e.data),updateMask:OV(e.fieldMask)};else{if(!(e instanceof cV))return ne(16599,{ft:e.type});n={verify:Gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ld)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ud)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:xV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function SV(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Xn(s.updateTime):Xn(i);return o.isEqual(oe.min())&&(o=Xn(i)),new aV(o,s.transformResults||[])}(n,e))):[]}function bV(t,e){return{documents:[YS(t,e.path)]}}function CV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YS(t,s);const i=function(c){if(c.length!==0)return ZS(kn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:ji(h.field),direction:PV(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Wp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function AV(t){let e=EV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(m){const h=JS(m);return h instanceof kn&&bS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(h=>function(_){return new ad(Li(_.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(m){let h;return h=typeof m=="object"?m.value:m,Yd(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(m){const h=!!m.before,y=m.values||[];return new od(y,h)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const h=!m.before,y=m.values||[];return new od(y,h)}(n.endAt)),KL(e,s,o,i,a,"F",u,c)}function RV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Li(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Li(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Li(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Li(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Li(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>JS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function PV(t){return yV[t]}function NV(t){return vV[t]}function kV(t){return _V[t]}function ji(t){return{fieldPath:t.canonicalString()}}function Li(t){return dt.fromServerFormat(t.fieldPath)}function ZS(t){return t instanceof Xe?function(n){if(n.op==="=="){if(M_(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NAN"}};if(D_(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M_(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NAN"}};if(D_(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ji(n.field),op:NV(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(s=>ZS(s));return r.length===1?r[0]:{compositeFilter:{op:kV(n.op),filters:r}}}(t):ne(54877,{filter:t})}function OV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.wt=e}}function MV(t){const e=AV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.Cn=new LV}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Rs.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class LV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new rt(Ne.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tb=41943040;class Lt{static withCacheSize(e){return new Lt(e,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(tb,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new jo(0)}static lr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="LruGarbageCollector",VV=1048576;function X_([t,e],[n,r]){const s=de(t,n);return s===0?de(e,r):s}class FV{constructor(e){this.Er=e,this.buffer=new rt(X_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();X_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(Y_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?G(Y_,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.mr(3e5)})}}class $V{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Qd.le);const r=new FV(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Q_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),Di()<=fe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function zV(t,e){return new $V(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.changes=new Si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ka(r.mutation,s,Sn.empty(),nt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=Ys();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Na();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Rr();const o=Ga(),a=function(){return Ga()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof bi)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ka(d.mutation,c,d.mutation.getFieldMask(),nt.now())):o.set(c.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var m;return a.set(c,new HV(d,(m=o.get(c))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ga();let s=new Fe((o,a)=>o-a),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Sn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const m=(s.get(a.batchId)||pe()).add(u);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,m=jS();d.forEach(h=>{if(!i.has(h)){const y=zS(n.get(h),r.get(h));y!==null&&m.set(h,y),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(Ys());let a=xl,u=i;return o.next(c=>F.forEach(c,(d,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{u=u.insert(d,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,pe())).next(d=>({batchId:a,changes:MS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=Na();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Na();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,u=>{const c=function(m,h){return new ql(h,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((m,h)=>{o=o.insert(m,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,bt.newInvalidDocument(d)))});let a=Na();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&Ka(d.mutation,c,Sn.empty(),nt.now()),Zd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Xn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:MV(s.bundledQuery),readTime:Xn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.overlays=new Fe(ee.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ys();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=Ys(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Fe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ys(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ys(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return F.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hV(n,r));let i=this.Qr.get(n);i===void 0&&(i=pe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.$r=new rt(it.Ur),this.Kr=new rt(it.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new it(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new it(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ee(new Ne([])),r=new it(n,e),s=new it(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ee(new Ne([])),r=new it(n,e),s=new it(n,e+1);let i=pe();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new it(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ee.comparator(e.key,n.key)||de(e.Zr,n.Zr)}static Wr(e,n){return de(e.Zr,n.Zr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new rt(it.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new dV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new it(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Dg:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),s=new it(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(de);return n.forEach(s=>{const i=new it(s,0),o=new it(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new it(new ee(i),0);let a=new rt(de);return this.Xr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,s=>{const i=new it(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new it(n,0),s=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.ii=e,this.docs=function(){return new Fe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():bt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Rr();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||CL(bL(d),r)<=0||(s.has(d.key)||Zd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XV(this)}getSize(e){return F.resolve(this.size)}}class XV extends BV{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.persistence=e,this.oi=new Si(n=>Lg(n),Vg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this._i=0,this.ai=new Bg,this.targetCount=0,this.ui=jo.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new jo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.ci={},this.overlays={},this.li=new Qd(0),this.hi=!1,this.hi=!0,this.Pi=new KV,this.referenceDelegate=e(this),this.Ti=new JV(this),this.indexManager=new jV,this.remoteDocumentCache=function(s){return new YV(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new DV(n),this.Ei=new qV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new QV(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new ZV(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class ZV extends RL{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Vi=new Bg,this.mi=null}static fi(e){return new Hg(e)}get gi(){if(this.mi)return this.mi;throw ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const s=ee.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class dd{constructor(e,n){this.persistence=e,this.yi=new Si(r=>kL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=zV(this,n)}static fi(e,n){return new dd(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hc(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Wg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return JO()?8:PL(At())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new e3;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Di()<=fe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Mi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(Di()<=fe.DEBUG&&G("QueryEngine","Query:",Mi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Di()<=fe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Mi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):F.resolve())}ws(e,n){if(F_(n))return F.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Hp(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.vs(n,a);return this.Cs(n,c,o,u.readTime)?this.ws(e,Hp(n,null,"F")):this.Fs(e,c,n,u)}))})))}Ss(e,n,r,s){return F_(n)||s.isEqual(oe.min())?F.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(Di()<=fe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mi(n)),this.Fs(e,o,n,SL(s,xl)).next(a=>a))})}vs(e,n){let r=new rt(OS(e));return n.forEach((s,i)=>{Zd(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return Di()<=fe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Mi(n)),this.ys.getDocumentsMatchingQuery(e,n,Rs.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="LocalStore",n3=3e8;class r3{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Fe(de),this.Os=new Si(i=>Lg(i),Vg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function s3(t,e,n,r){return new r3(t,e,n,r)}async function rb(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=pe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function i3(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const m=c.batch,h=m.keys();let y=F.resolve();return h.forEach(_=>{y=y.next(()=>d.getEntry(u,_)).next(x=>{const I=c.docVersions.get(_);xe(I!==null,48541),x.version.compareTo(I)<0&&(m.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),d.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function sb(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function o3(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,m)=>{const h=s.get(m);if(!h)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,m).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,m)));let y=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(pt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(m,y),function(x,I,w){return x.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=n3?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,y,d)&&a.push(n.Ti.updateTargetData(i,y))});let u=Rr(),c=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(a3(i,o,e.documentUpdates).next(d=>{u=d.qs,c=d.Qs})),!r.isEqual(oe.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(m=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.xs=s,i))}function a3(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Rr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G(qg,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{qs:o,Qs:s}})}function l3(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u3(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new os(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Qp(t,e,n){const r=ae(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Yo(o))throw o;G(qg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function J_(t,e,n){const r=ae(t);let s=oe.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const m=ae(u),h=m.Os.get(d);return h!==void 0?F.resolve(m.xs.get(h)):m.Ti.getTargetData(c,d)}(r,o,Yn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:pe())).next(a=>(c3(r,YL(e),a),{documents:a,$s:i})))}function c3(t,e,n){let r=t.Ns.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class Z_{constructor(){this.activeTargetIds=nV()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d3{constructor(){this.xo=new Z_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Z_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="ConnectivityMonitor";class tw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G(ew,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){G(ew,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function Yp(){return zu===null?zu=function(){return 268435456+Math.round(2147483648*Math.random())}():zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="RestConnection",f3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p3{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===sd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=Yp(),a=this.jo(e,n.toUriEncodedString());G(mf,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,s,i);const{host:c}=new URL(a),d=Ul(c);return this.Jo(e,a,u,r,d).then(m=>(G(mf,`Received RPC '${e}' ${o}: `,m),m),m=>{throw ko(mf,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=f3[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class g3 extends p3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Yp();return new Promise((a,u)=>{const c=new sS;c.setWithCredentials(!0),c.listenOnce(iS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dc.NO_ERROR:const m=c.getResponseJson();G(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case dc.TIMEOUT:G(Et,`RPC '${e}' ${o} timed out`),u(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const h=c.getStatus();if(G(Et,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const x=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(_.status);u(new Y(x,_.message))}else u(new Y($.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Y($.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(Et,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(Et,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Yp(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lS(),a=aS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");G(Et,`Creating RPC '${e}' stream ${s}: ${d}`,u);const m=o.createWebChannel(d,u);let h=!1,y=!1;const _=new m3({Zo:I=>{y?G(Et,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(h||(G(Et,`Opening RPC '${e}' stream ${s} transport.`),m.open(),h=!0),G(Et,`RPC '${e}' stream ${s} sending:`,I),m.send(I))},Xo:()=>m.close()}),x=(I,w,v)=>{I.listen(w,S=>{try{v(S)}catch(k){setTimeout(()=>{throw k},0)}})};return x(m,Pa.EventType.OPEN,()=>{y||(G(Et,`RPC '${e}' stream ${s} transport opened.`),_.__())}),x(m,Pa.EventType.CLOSE,()=>{y||(y=!0,G(Et,`RPC '${e}' stream ${s} transport closed`),_.u_())}),x(m,Pa.EventType.ERROR,I=>{y||(y=!0,ko(Et,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),_.u_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),x(m,Pa.EventType.MESSAGE,I=>{var w;if(!y){const v=I.data[0];xe(!!v,16349);const S=v,k=(S==null?void 0:S.error)||((w=S[0])===null||w===void 0?void 0:w.error);if(k){G(Et,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let j=function(A){const R=Qe[A];if(R!==void 0)return WS(R)}(D),C=k.message;j===void 0&&(j=$.INTERNAL,C="Unknown error status: "+D+" with message "+k.message),y=!0,_.u_(new Y(j,C)),m.close()}else G(Et,`RPC '${e}' stream ${s} received:`,v),_.c_(v)}}),x(a,oS.STAT_EVENT,I=>{I.stat===Lp.PROXY?G(Et,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Lp.NOPROXY&&G(Et,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}}function gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){return new wV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="PersistentStream";class ob{constructor(e,n,r,s,i,o,a,u){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new ib(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return G(nw,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(G(nw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y3 extends ob{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=TV(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?Xn(o.readTime):oe.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Kp(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=zp(u)?{documents:bV(i,u)}:{query:CV(i,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KS(i,o.resumeToken);const c=Wp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=cd(i,o.snapshotVersion.toTimestamp());const c=Wp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=RV(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Kp(this.serializer),n.removeTarget=e,this.L_(n)}}class v3 extends ob{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=SV(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Kp(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IV(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{}class w3 extends _3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,qp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,qp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class x3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ar(n),this.oa=!1):G("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="RemoteStore";class E3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Ci(this)&&(G(gi,"Restarting streams for network reachability change."),await async function(u){const c=ae(u);c.Ta.add(4),await Ql(c),c.da.set("Unknown"),c.Ta.delete(4),await sh(c)}(this))})}),this.da=new x3(r,s)}}async function sh(t){if(Ci(t))for(const e of t.Ia)await e(!0)}async function Ql(t){for(const e of t.Ia)await e(!1)}function ab(t,e){const n=ae(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Yg(n)?Qg(n):Xo(n).M_()&&Kg(n,e))}function Gg(t,e){const n=ae(t),r=Xo(n);n.Pa.delete(e),r.M_()&&lb(n,e),n.Pa.size===0&&(r.M_()?r.N_():Ci(n)&&n.da.set("Unknown"))}function Kg(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).H_(e)}function lb(t,e){t.Aa.Ke(e),Xo(t).J_(e)}function Qg(t){t.Aa=new gV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.da._a()}function Yg(t){return Ci(t)&&!Xo(t).F_()&&t.Pa.size>0}function Ci(t){return ae(t).Ta.size===0}function ub(t){t.Aa=void 0}async function T3(t){t.da.set("Online")}async function I3(t){t.Pa.forEach((e,n)=>{Kg(t,e)})}async function S3(t,e){ub(t),Yg(t)?(t.da.ca(e),Qg(t)):t.da.set("Unknown")}async function b3(t,e,n){if(t.da.set("Online"),e instanceof GS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){G(gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hd(t,r)}else if(e instanceof mc?t.Aa.Xe(e):e instanceof qS?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(oe.min()))try{const r=await sb(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Pa.get(c);d&&i.Pa.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.Pa.get(u);if(!d)return;i.Pa.set(u,d.withResumeToken(pt.EMPTY_BYTE_STRING,d.snapshotVersion)),lb(i,u);const m=new os(d.target,u,c,d.sequenceNumber);Kg(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(gi,"Failed to raise snapshot:",r),await hd(t,r)}}async function hd(t,e,n){if(!Yo(e))throw e;t.Ta.add(1),await Ql(t),t.da.set("Offline"),n||(n=()=>sb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(gi,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await sh(t)})}function cb(t,e){return e().catch(n=>hd(t,n,e))}async function ih(t){const e=ae(t),n=Os(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Dg;for(;C3(e);)try{const s=await l3(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,A3(e,s)}catch(s){await hd(e,s)}db(e)&&hb(e)}function C3(t){return Ci(t)&&t.ha.length<10}function A3(t,e){t.ha.push(e);const n=Os(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function db(t){return Ci(t)&&!Os(t).F_()&&t.ha.length>0}function hb(t){Os(t).start()}async function R3(t){Os(t).ta()}async function P3(t){const e=Os(t);for(const n of t.ha)e.Z_(n.mutations)}async function N3(t,e,n){const r=t.ha.shift(),s=Ug.from(r,e,n);await cb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ih(t)}async function k3(t,e){e&&Os(t).Y_&&await async function(r,s){if(function(o){return pV(o)&&o!==$.ABORTED}(s.code)){const i=r.ha.shift();Os(r).O_(),await cb(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ih(r)}}(t,e),db(t)&&hb(t)}async function rw(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G(gi,"RemoteStore received new credentials");const r=Ci(n);n.Ta.add(3),await Ql(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await sh(n)}async function O3(t,e){const n=ae(t);e?(n.Ta.delete(2),await sh(n)):e||(n.Ta.add(2),await Ql(n),n.da.set("Unknown"))}function Xo(t){return t.Ra||(t.Ra=function(n,r,s){const i=ae(n);return i.ra(),new y3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:T3.bind(null,t),n_:I3.bind(null,t),i_:S3.bind(null,t),j_:b3.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),Yg(t)?Qg(t):t.da.set("Unknown")):(await t.Ra.stop(),ub(t))})),t.Ra}function Os(t){return t.Va||(t.Va=function(n,r,s){const i=ae(n);return i.ra(),new v3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:R3.bind(null,t),i_:k3.bind(null,t),X_:P3.bind(null,t),ea:N3.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await ih(t)):(await t.Va.stop(),t.ha.length>0&&(G(gi,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Xg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),Yo(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Na(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.ma=new Fe(ee.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ne(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lo{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Lo(e,n,lo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class M3{constructor(){this.queries=iw(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=iw(),i.forEach((o,a)=>{for(const u of a.ya)u.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function iw(){return new Si(t=>kS(t),Jd)}async function j3(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new D3,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Jg(o,`Initialization of query '${Mi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&Zg(n)}async function L3(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function V3(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&Zg(n)}function F3(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function Zg(t){t.ba.forEach(e=>{e.next()})}var Xp,ow;(ow=Xp||(Xp={})).Ca="default",ow.Cache="cache";class U3{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.key=e}}class pb{constructor(e){this.key=e}}class $3{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=pe(),this.mutatedKeys=pe(),this.Ha=OS(e),this.Ja=new lo(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new sw,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,m)=>{const h=s.get(d),y=Zd(this.query,m)?m:null,_=!!h&&this.mutatedKeys.has(h.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;h&&y?h.data.isEqual(y.data)?_!==x&&(r.track({type:3,doc:y}),I=!0):this.eu(h,y)||(r.track({type:2,doc:y}),I=!0,(u&&this.Ha(y,u)>0||c&&this.Ha(y,c)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),I=!0):h&&!y&&(r.track({type:1,doc:h}),I=!0,(u||c)&&(a=!0)),I&&(y?(o=o.add(y),i=x?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,m)=>function(y,_){const x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Vt:I})}};return x(y)-x(_)}(d.type,m.type)||this.Ha(d.doc,m.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],u=this.ja.size===0&&this.current&&!s?1:0,c=u!==this.za;return this.za=u,o.length!==0||c?{snapshot:new Lo(this.query,e.Ja,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new sw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=pe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new pb(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new fb(r))}),n}su(e){this.Ga=e.$s,this.ja=pe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Lo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const ey="SyncEngine";class z3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class B3{constructor(e){this.key=e,this._u=!1}}class H3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Si(a=>kS(a),Jd),this.cu=new Map,this.lu=new Set,this.hu=new Fe(ee.comparator),this.Pu=new Map,this.Tu=new Bg,this.Iu={},this.Eu=new Map,this.du=jo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function W3(t,e,n=!0){const r=wb(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await mb(r,e,n,!0),s}async function q3(t,e){const n=wb(t);await mb(n,e,!0,!1)}async function mb(t,e,n,r){const s=await u3(t.localStore,Yn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await G3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&ab(t.remoteStore,s),a}async function G3(t,e,n,r,s){t.Ru=(m,h,y)=>async function(x,I,w,v){let S=I.view.Za(w);S.Cs&&(S=await J_(x.localStore,I.query,!1).then(({documents:C})=>I.view.Za(C,S)));const k=v&&v.targetChanges.get(I.targetId),D=v&&v.targetMismatches.get(I.targetId)!=null,j=I.view.applyChanges(S,x.isPrimaryClient,k,D);return lw(x,I.targetId,j.ru),j.snapshot}(t,m,h,y);const i=await J_(t.localStore,e,!0),o=new $3(e,i.$s),a=o.Za(i.documents),u=Kl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);lw(t,n,c.ru);const d=new z3(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function K3(t,e,n){const r=ae(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!Jd(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Qp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Gg(r.remoteStore,s.targetId),Jp(r,s.targetId)}).catch(Qo)):(Jp(r,s.targetId),await Qp(r.localStore,s.targetId,!0))}async function Q3(t,e){const n=ae(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gg(n.remoteStore,r.targetId))}async function Y3(t,e,n){const r=r6(t);try{const s=await function(o,a){const u=ae(o),c=nt.now(),d=a.reduce((y,_)=>y.add(_.key),pe());let m,h;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=Rr(),x=pe();return u.Bs.getEntries(y,d).next(I=>{_=I,_.forEach((w,v)=>{v.isValidDocument()||(x=x.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,_)).next(I=>{m=I;const w=[];for(const v of a){const S=uV(v,m.get(v.key).overlayedDocument);S!=null&&w.push(new bi(v.key,S,TS(S.value.mapValue),vr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,w,a)}).next(I=>{h=I;const w=I.applyToLocalDocumentSet(m,x);return u.documentOverlayCache.saveOverlays(y,I.batchId,w)})}).then(()=>({batchId:h.batchId,changes:MS(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Iu[o.currentUser.toKey()];c||(c=new Fe(de)),c=c.insert(a,u),o.Iu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Yl(r,s.changes),await ih(r.remoteStore)}catch(s){const i=Jg(s,"Failed to persist write");n.reject(i)}}async function gb(t,e){const n=ae(t);try{const r=await o3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?xe(o._u,14607):s.removedDocuments.size>0&&(xe(o._u,42227),o._u=!1))}),await Yl(n,r,e)}catch(r){await Qo(r)}}function aw(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=ae(o);u.onlineState=a;let c=!1;u.queries.forEach((d,m)=>{for(const h of m.ya)h.Da(a)&&(c=!0)}),c&&Zg(u)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function X3(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new Fe(ee.comparator);o=o.insert(i,bt.newNoDocument(i,oe.min()));const a=pe().add(i),u=new nh(oe.min(),new Map,new Fe(de),o,a);await gb(r,u),r.hu=r.hu.remove(i),r.Pu.delete(e),ty(r)}else await Qp(r.localStore,e,!1).then(()=>Jp(r,e,n)).catch(Qo)}async function J3(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await i3(n.localStore,e);vb(n,r,null),yb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yl(n,s)}catch(s){await Qo(s)}}async function Z3(t,e,n){const r=ae(t);try{const s=await function(o,a){const u=ae(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(m=>(xe(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);vb(r,e,n),yb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yl(r,s)}catch(s){await Qo(s)}}function yb(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function vb(t,e,n){const r=ae(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Jp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||_b(t,r)})}function _b(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Gg(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),ty(t))}function lw(t,e,n){for(const r of n)r instanceof fb?(t.Tu.addReference(r.key,e),e6(t,r)):r instanceof pb?(G(ey,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||_b(t,r.key)):ne(19791,{mu:r})}function e6(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(G(ey,"New document in limbo: "+n),t.lu.add(r),ty(t))}function ty(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ee(Ne.fromString(e)),r=t.du.next();t.Pu.set(r,new B3(n)),t.hu=t.hu.insert(n,r),ab(t.remoteStore,new os(Yn(PS(n.path)),r,"TargetPurposeLimboResolution",Qd.le))}}async function Yl(t,e,n){const r=ae(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,u)=>{o.push(r.Ru(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){s.push(c);const m=Wg.Rs(u.targetId,c);i.push(m)}}))}),await Promise.all(o),r.au.j_(s),await async function(u,c){const d=ae(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(c,h=>F.forEach(h.ds,y=>d.persistence.referenceDelegate.addReference(m,h.targetId,y)).next(()=>F.forEach(h.As,y=>d.persistence.referenceDelegate.removeReference(m,h.targetId,y)))))}catch(m){if(!Yo(m))throw m;G(qg,"Failed to update sequence numbers: "+m)}for(const m of c){const h=m.targetId;if(!m.fromCache){const y=d.xs.get(h),_=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(_);d.xs=d.xs.insert(h,x)}}}(r.localStore,i))}async function t6(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G(ey,"User change. New user:",e.toKey());const r=await rb(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(u=>{u.reject(new Y($.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yl(n,r.ks)}}function n6(t,e){const n=ae(t),r=n.Pu.get(e);if(r&&r._u)return pe().add(r.key);{let s=pe();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function wb(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X3.bind(null,e),e.au.j_=V3.bind(null,e.eventManager),e.au.Vu=F3.bind(null,e.eventManager),e}function r6(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z3.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return s3(this.persistence,new t3,e.initialUser,this.serializer)}yu(e){return new nb(Hg.fi,this.serializer)}pu(e){return new d3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class s6 extends fd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){xe(this.persistence.referenceDelegate instanceof dd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UV(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new nb(r=>dd.fi(r,n),this.serializer)}}class Zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t6.bind(null,this.syncEngine),await O3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M3}()}createDatastore(e){const n=rh(e.databaseInfo.databaseId),r=function(i){return new g3(i)}(e.databaseInfo);return function(i,o,a,u){return new w3(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new E3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>aw(this.syncEngine,n,0),function(){return tw.C()?new tw:new h3}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,d){const m=new H3(s,i,o,a,u,c);return d&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);G(gi,"RemoteStore shutting down."),i.Ta.add(5),await Ql(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zp.provider={build:()=>new Zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class o6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=It.UNAUTHENTICATED,this.clientId=hS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Ds,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Ds,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yf(t,e){t.asyncQueue.verifyOperationInProgress(),G(Ds,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await rb(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a6(t);G(Ds,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>rw(e.remoteStore,s)),t._onlineComponents=e}async function a6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Ds,"Using user provided OfflineComponentProvider");try{await yf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await yf(t,new fd)}}else G(Ds,"Using default OfflineComponentProvider"),await yf(t,new s6(void 0));return t._offlineComponents}async function xb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Ds,"Using user provided OnlineComponentProvider"),await uw(t,t._uninitializedComponentsProvider._online)):(G(Ds,"Using default OnlineComponentProvider"),await uw(t,new Zp))),t._onlineComponents}function l6(t){return xb(t).then(e=>e.syncEngine)}async function u6(t){const e=await xb(t),n=e.eventManager;return n.onListen=W3.bind(null,e.syncEngine),n.onUnlisten=K3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q3.bind(null,e.syncEngine),n}function c6(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new i6({next:h=>{d.Cu(),o.enqueueAndForget(()=>L3(i,m)),h.fromCache&&u.source==="server"?c.reject(new Y($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),m=new U3(a,d,{includeMetadataChanges:!0,La:!0});return j3(i,m)}(await u6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function d6(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dw(t){if(!ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hw(t){if(ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function pd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firestore.googleapis.com",fw=!0;class pw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ib,this.ssl=fw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:fw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VV)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Eb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gL;switch(r.type){case"firstParty":return new wL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=cw.get(n);r&&(G("ComponentProvider","Removing Datastore"),cw.delete(n),r.terminate())}(this),Promise.resolve()}}function h6(t,e,n,r={}){var s;t=pd(t,ah);const i=Ul(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;i&&(vI(`https://${u}`),_I("Firestore",!0)),o.host!==Ib&&o.host!==u&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:i,emulatorOptions:r});if(!hi(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=It.MOCK_USER;else{d=BO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new It(h)}t._authCredentials=new yL(new cS(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class xs extends Jo{constructor(e,n,r){super(e,n,PS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ee(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function Sb(t,e,...n){if(t=pn(t),Tb("collection","path",e),t instanceof ah){const r=Ne.fromString(e,...n);return hw(r),new xs(t,null,r)}{if(!(t instanceof dn||t instanceof xs))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return hw(r),new xs(t.firestore,null,r)}}function f6(t,e,...n){if(t=pn(t),arguments.length===1&&(e=hS.newId()),Tb("doc","path",e),t instanceof ah){const r=Ne.fromString(e,...n);return dw(r),new dn(t,null,new ee(r))}{if(!(t instanceof dn||t instanceof xs))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return dw(r),new dn(t.firestore,t instanceof xs?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="AsyncQueue";class gw{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new ib(this,"async_queue_retry"),this.ec=()=>{const r=gf();r&&G(mw,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=gf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ws;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Yo(e))throw e;G(mw,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Ar("INTERNAL UNHANDLED ERROR: ",yw(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=Xg.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&ne(47125,{_c:yw(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function yw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ny extends ah{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new gw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gw(e),this._firestoreClient=void 0,await e}}}function p6(t,e){const n=typeof t=="object"?t:TI(),r=typeof t=="string"?t:sd,s=Eg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=$O("firestore");i&&h6(s,...i)}return s}function bb(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||m6(t),t._firestoreClient}function m6(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,d){return new ML(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Eb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new o6(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(pt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=/^__.*__$/;class y6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}function Ab(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{hc:t})}}class oy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return md(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Ab(this.hc)&&g6.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class v6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rh(e)}gc(e,n,r,s=!1){return new oy({hc:e,methodName:n,fc:r,path:dt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rb(t){const e=t._freezeSettings(),n=rh(t._databaseId);return new v6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _6(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);kb("Data must be an object, but it was:",o,r);const a=Pb(r,o);let u,c;if(i.merge)u=new Sn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const h=x6(e,m,n);if(!o.contains(h))throw new Y($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);T6(d,h)||d.push(h)}u=new Sn(d),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new y6(new an(a),u,c)}function w6(t,e,n,r=!1){return ay(n,t.gc(r?4:3,e))}function ay(t,e){if(Nb(t=pn(t)))return kb("Unsupported field value:",e,t),Pb(t,e);if(t instanceof Cb)return function(r,s){if(!Ab(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=ay(a,s.Rc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=nt.fromDate(r);return{timestampValue:cd(s.serializer,i)}}if(r instanceof nt){const i=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(s.serializer,i)}}if(r instanceof sy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vo)return{bytesValue:KS(s.serializer,r._byteString)};if(r instanceof dn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof iy)return function(o,a){return{mapValue:{fields:{[wS]:{stringValue:ES},[id]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return Fg(a.serializer,c)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${oh(r)}`)}(t,e)}function Pb(t,e){const n={};return pS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(t,(r,s)=>{const i=ay(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Nb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof sy||t instanceof Vo||t instanceof dn||t instanceof Cb||t instanceof iy)}function kb(t,e,n){if(!Nb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=oh(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function x6(t,e,n){if((e=pn(e))instanceof ry)return e._internalPath;if(typeof e=="string")return Ob(t,e);throw md("Field path arguments must be of type string or ",t,!1,void 0,n)}const E6=new RegExp("[~\\*/\\[\\]]");function Ob(t,e,n){if(e.search(E6)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ry(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function md(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Y($.INVALID_ARGUMENT,a+t+u)}function T6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I6 extends Db{data(){return super.data()}}function ly(t,e){return typeof e=="string"?Ob(t,e):e instanceof ry?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uy{}class b6 extends uy{}function Mb(t,e,...n){let r=[];e instanceof uy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof cy).length,a=i.filter(u=>u instanceof lh).length;if(o>1||o>0&&a>0)throw new Y($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class lh extends b6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lh(e,n,r)}_apply(e){const n=this._parse(e);return Lb(e._query,n),new Jo(e.firestore,e.converter,Bp(e._query,n))}_parse(e){const n=Rb(e.firestore);return function(i,o,a,u,c,d,m){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){_w(m,d);const _=[];for(const x of m)_.push(vw(u,i,x));h={arrayValue:{values:_}}}else h=vw(u,i,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||_w(m,d),h=w6(a,o,m,d==="in"||d==="not-in");return Xe.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jb(t,e,n){const r=e,s=ly("where",t);return lh._create(s,r,n)}class cy extends uy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)Lb(o,u),o=Bp(o,u)}(e._query,n),new Jo(e.firestore,e.converter,Bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vw(t,e,n){if(typeof(n=pn(n))=="string"){if(n==="")throw new Y($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NS(e)&&n.indexOf("/")!==-1)throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!ee.isDocumentKey(r))throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return O_(t,new ee(r))}if(n instanceof dn)return O_(t,n._key);throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function _w(t,e){if(!Array.isArray(t)||t.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lb(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class C6{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ii(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[id].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>We(o.doubleValue));return new iy(i)}convertGeoPoint(e){return new sy(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const n=Ps(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);xe(eb(r),9688,{name:e});const s=new Tl(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||Ar(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R6 extends Db{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gc extends R6{data(e={}){return super.data(e)}}class P6{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gc(this._firestore,this._userDataWriter,r.key,r,new Bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new gc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new gc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:N6(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function N6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}class k6 extends C6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function Vb(t){t=pd(t,Jo);const e=pd(t.firestore,ny),n=bb(e),r=new k6(e);return S6(t._query),c6(n,t._query).then(s=>new P6(e,r,t,s))}function O6(t,e){const n=pd(t.firestore,ny),r=f6(t),s=A6(t.converter,e);return D6(n,[_6(Rb(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}function D6(t,e){return function(r,s){const i=new ws;return r.asyncQueue.enqueueAndForget(async()=>Y3(await l6(r),s,i)),i.promise}(bb(t),e)}(function(e,n=!0){(function(s){Ko=s})(qo),Po(new fi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ny(new vL(r.getProvider("auth-internal")),new xL(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),vs(x_,E_,e),vs(x_,E_,"esm2017")})();const M6={apiKey:"AIzaSyBjQwNUZFoXmRHqIZ1cEHy00zg2Bi66AoA",authDomain:"super-shop-8c46a.firebaseapp.com",projectId:"super-shop-8c46a",storageBucket:"super-shop-8c46a.appspot.com",messagingSenderId:"219933718119",appId:"1:219933718119:web:ede8046f4a117a8c1046c2"},Fb=EI(M6);pL(Fb);const Ub=p6(Fb),j6=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,a]=T.useState(""),u=jl(),{login:c}=fg(),d=async m=>{if(m.preventDefault(),!t||!n||!s||!o){hr.error("   ");return}if(s!==o){hr.error("   ");return}try{const h=Sb(Ub,"users"),y=Mb(h,jb("email","==",n));if(!(await Vb(y)).empty){hr.error("    ");return}const x=Math.floor(1e9+Math.random()*9e9).toString(),I=await O6(h,{id:x,name:t,email:n,password:s,createdAt:new Date});c({name:t,id:x}),hr.success("  !"),console.log(" :",I.id),u("/")}catch(h){console.error("   :",h),hr.error("    ")}};return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[p.jsx(Ei,{}),p.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:"  "}),p.jsxs("form",{className:"space-y-6",onSubmit:d,children:[p.jsxs("div",{className:"relative",children:[p.jsx(st,{htmlFor:"name",children:""}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ON,{className:"h-5 w-5 text-gray-400"})}),p.jsx(un,{id:"name",type:"text",value:t,onChange:m=>e(m.target.value),required:!0,className:"pl-10"})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx(st,{htmlFor:"email",children:" "}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(NE,{className:"h-5 w-5 text-gray-400"})}),p.jsx(un,{id:"email",type:"email",value:n,onChange:m=>r(m.target.value),required:!0,className:"pl-10"})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx(st,{htmlFor:"password",children:" "}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(PE,{className:"h-5 w-5 text-gray-400"})}),p.jsx(un,{id:"password",type:"password",value:s,onChange:m=>i(m.target.value),required:!0,className:"pl-10"})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx(st,{htmlFor:"confirm-password",children:"  "}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(PN,{className:"h-5 w-5 text-gray-400"})}),p.jsx(un,{id:"confirm-password",type:"password",value:o,onChange:m=>a(m.target.value),required:!0,className:"pl-10"})]})]}),p.jsx(Zt,{type:"submit",className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:""})]}),p.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["    ",p.jsx(De,{to:"/login",className:"text-blue-500",children:" "})]})]})}),p.jsx(Ti,{})]})},L6=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),s=jl(),{login:i}=fg(),o=async a=>{if(a.preventDefault(),!t||!n){hr.error("   ");return}try{const u=Sb(Ub,"users"),c=Mb(u,jb("email","==",t)),d=await Vb(c);if(d.empty){hr.error("      ");return}const m=d.docs[0].data();if(m.password!==n){hr.error("   ");return}console.log("Logging in with user:",{name:m.name,id:m.id}),i({name:m.name,id:m.id});const h=localStorage.getItem("user");console.log("User stored in localStorage:",h),s("/")}catch(u){console.error("   :",u),hr.error("    ")}};return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[p.jsx(Ei,{}),p.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:" "}),p.jsxs("form",{className:"space-y-6",onSubmit:o,children:[p.jsxs("div",{className:"relative",children:[p.jsx(st,{htmlFor:"email",children:" "}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(NE,{className:"h-5 w-5 text-gray-400"})}),p.jsx(un,{id:"email",type:"email",value:t,onChange:a=>e(a.target.value),required:!0,className:"pl-10"})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx(st,{htmlFor:"password",children:" "}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(PE,{className:"h-5 w-5 text-gray-400"})}),p.jsx(un,{id:"password",type:"password",value:n,onChange:a=>r(a.target.value),required:!0,className:"pl-10"})]})]}),p.jsx(Zt,{type:"submit",className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:""})]}),p.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["   ",p.jsx(De,{to:"/signup",className:"text-blue-500",children:"  "})]})]})}),p.jsx(Ti,{})]})},V6=new $4,F6=()=>p.jsx(W4,{children:p.jsx(B4,{client:V6,children:p.jsxs(v4,{children:[p.jsx(mk,{}),p.jsx(Hk,{}),p.jsxs(TP,{children:[p.jsx(lr,{path:"/",element:p.jsx(G4,{})}),p.jsx(lr,{path:"/services",element:p.jsx(pO,{})}),p.jsx(lr,{path:"/payment",element:p.jsx(RO,{})}),p.jsx(lr,{path:"/about-us",element:p.jsx(NO,{})}),p.jsx(lr,{path:"/order-tracking",element:p.jsx(kO,{})}),p.jsx(lr,{path:"/signup",element:p.jsx(j6,{})}),p.jsx(lr,{path:"/login",element:p.jsx(L6,{})}),p.jsx(lr,{path:"*",element:p.jsx(PO,{})})]})]})})});vf.createRoot(document.getElementById("root")).render(p.jsx(PP,{children:p.jsx(F6,{})}));

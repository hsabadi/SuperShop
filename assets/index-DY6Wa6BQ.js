var I4=Object.defineProperty;var d_=t=>{throw TypeError(t)};var A4=(t,e,n)=>e in t?I4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ue=(t,e,n)=>A4(t,typeof e!="symbol"?e+"":e,n),Tm=(t,e,n)=>e.has(t)||d_("Cannot "+n);var $=(t,e,n)=>(Tm(t,e,"read from private field"),n?n.call(t):e.get(t)),Ce=(t,e,n)=>e.has(t)?d_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(Tm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Vt=(t,e,n)=>(Tm(t,e,"access private method"),n);var hd=(t,e,n,r)=>({set _(s){de(t,e,s,n)},get _(){return $(t,e,r)}});function k4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function hT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fT={exports:{}},Jf={},pT={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),R4=Symbol.for("react.portal"),P4=Symbol.for("react.fragment"),N4=Symbol.for("react.strict_mode"),D4=Symbol.for("react.profiler"),O4=Symbol.for("react.provider"),M4=Symbol.for("react.context"),j4=Symbol.for("react.forward_ref"),L4=Symbol.for("react.suspense"),V4=Symbol.for("react.memo"),F4=Symbol.for("react.lazy"),h_=Symbol.iterator;function U4(t){return t===null||typeof t!="object"?null:(t=h_&&t[h_]||t["@@iterator"],typeof t=="function"?t:null)}var mT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gT=Object.assign,yT={};function il(t,e,n){this.props=t,this.context=e,this.refs=yT,this.updater=n||mT}il.prototype.isReactComponent={};il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vT(){}vT.prototype=il.prototype;function Fy(t,e,n){this.props=t,this.context=e,this.refs=yT,this.updater=n||mT}var Uy=Fy.prototype=new vT;Uy.constructor=Fy;gT(Uy,il.prototype);Uy.isPureReactComponent=!0;var f_=Array.isArray,xT=Object.prototype.hasOwnProperty,zy={current:null},_T={key:!0,ref:!0,__self:!0,__source:!0};function wT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)xT.call(e,r)&&!_T.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Tu,type:t,key:i,ref:o,props:s,_owner:zy.current}}function z4(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function By(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function B4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var p_=/\/+/g;function Sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?B4(""+t.key):e.toString(36)}function oh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tu:case R4:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Sm(o,0):r,f_(s)?(n="",t!=null&&(n=t.replace(p_,"$&/")+"/"),oh(s,e,n,"",function(c){return c})):s!=null&&(By(s)&&(s=z4(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(p_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",f_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Sm(i,a);o+=oh(i,e,n,l,s)}else if(l=U4(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Sm(i,a++),o+=oh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fd(t,e,n){if(t==null)return t;var r=[],s=0;return oh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},ah={transition:null},H4={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:ah,ReactCurrentOwner:zy};function bT(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:fd,forEach:function(t,e,n){fd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fd(t,function(){e++}),e},toArray:function(t){return fd(t,function(e){return e})||[]},only:function(t){if(!By(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=il;ge.Fragment=P4;ge.Profiler=D4;ge.PureComponent=Fy;ge.StrictMode=N4;ge.Suspense=L4;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H4;ge.act=bT;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xT.call(e,l)&&!_T.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Tu,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:M4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O4,_context:t},t.Consumer=t};ge.createElement=wT;ge.createFactory=function(t){var e=wT.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:j4,render:t}};ge.isValidElement=By;ge.lazy=function(t){return{$$typeof:F4,_payload:{_status:-1,_result:t},_init:$4}};ge.memo=function(t,e){return{$$typeof:V4,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=ah.transition;ah.transition={};try{t()}finally{ah.transition=e}};ge.unstable_act=bT;ge.useCallback=function(t,e){return sn.current.useCallback(t,e)};ge.useContext=function(t){return sn.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};ge.useEffect=function(t,e){return sn.current.useEffect(t,e)};ge.useId=function(){return sn.current.useId()};ge.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return sn.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};ge.useRef=function(t){return sn.current.useRef(t)};ge.useState=function(t){return sn.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return sn.current.useTransition()};ge.version="18.3.1";pT.exports=ge;var w=pT.exports;const Q=hT(w),ET=k4({__proto__:null,default:Q},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W4=w,q4=Symbol.for("react.element"),K4=Symbol.for("react.fragment"),G4=Object.prototype.hasOwnProperty,Q4=W4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y4={key:!0,ref:!0,__self:!0,__source:!0};function TT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)G4.call(e,r)&&!Y4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:q4,type:t,key:i,ref:o,props:s,_owner:Q4.current}}Jf.Fragment=K4;Jf.jsx=TT;Jf.jsxs=TT;fT.exports=Jf;var p=fT.exports,Dg={},ST={exports:{}},Dn={},CT={exports:{}},IT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,z){var X=j.length;j.push(z);e:for(;0<X;){var J=X-1>>>1,Z=j[J];if(0<s(Z,z))j[J]=z,j[X]=Z,X=J;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],X=j.pop();if(X!==z){j[0]=X;e:for(var J=0,Z=j.length,G=Z>>>1;J<G;){var _e=2*(J+1)-1,Le=j[_e],pe=_e+1,Ot=j[pe];if(0>s(Le,X))pe<Z&&0>s(Ot,Le)?(j[J]=Ot,j[pe]=X,J=pe):(j[J]=Le,j[_e]=X,J=_e);else if(pe<Z&&0>s(Ot,X))j[J]=Ot,j[pe]=X,J=pe;else break e}}return z}function s(j,z){var X=j.sortIndex-z.sortIndex;return X!==0?X:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,m=!1,v=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=j)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function C(j){if(y=!1,T(j),!v)if(n(l)!==null)v=!0,U(N);else{var z=n(c);z!==null&&W(C,z.startTime-j)}}function N(j,z){v=!1,y&&(y=!1,x(S),S=-1),m=!0;var X=h;try{for(T(z),f=n(l);f!==null&&(!(f.expirationTime>z)||j&&!D());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var Z=J(f.expirationTime<=z);z=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),T(z)}else r(l);f=n(l)}if(f!==null)var G=!0;else{var _e=n(c);_e!==null&&W(C,_e.startTime-z),G=!1}return G}finally{f=null,h=X,m=!1}}var M=!1,I=null,S=-1,A=5,R=-1;function D(){return!(t.unstable_now()-R<A)}function O(){if(I!==null){var j=t.unstable_now();R=j;var z=!0;try{z=I(!0,j)}finally{z?P():(M=!1,I=null)}}else M=!1}var P;if(typeof b=="function")P=function(){b(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=O,P=function(){V.postMessage(null)}}else P=function(){_(O,0)};function U(j){I=j,M||(M=!0,P())}function W(j,z){S=_(function(){j(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,U(N))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var X=h;h=z;try{return j()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var X=h;h=j;try{return z()}finally{h=X}},t.unstable_scheduleCallback=function(j,z,X){var J=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?J+X:J):X=J,j){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,j={id:u++,callback:z,priorityLevel:j,startTime:X,expirationTime:Z,sortIndex:-1},X>J?(j.sortIndex=X,e(c,j),n(l)===null&&j===n(c)&&(y?(x(S),S=-1):y=!0,W(C,X-J))):(j.sortIndex=Z,e(l,j),v||m||(v=!0,U(N))),j},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(j){var z=h;return function(){var X=h;h=z;try{return j.apply(this,arguments)}finally{h=X}}}})(IT);CT.exports=IT;var X4=CT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J4=w,Nn=X4;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AT=new Set,Lc={};function ko(t,e){Fa(t,e),Fa(t+"Capture",e)}function Fa(t,e){for(Lc[t]=e,t=0;t<e.length;t++)AT.add(e[t])}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Og=Object.prototype.hasOwnProperty,Z4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m_={},g_={};function e5(t){return Og.call(g_,t)?!0:Og.call(m_,t)?!1:Z4.test(t)?g_[t]=!0:(m_[t]=!0,!1)}function t5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n5(t,e,n,r){if(e===null||typeof e>"u"||t5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var $y=/[\-:]([a-z])/g;function Hy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($y,Hy);Nt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($y,Hy);Nt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($y,Hy);Nt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wy(t,e,n,r){var s=Nt.hasOwnProperty(e)?Nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n5(e,n,s,r)&&(n=null),r||s===null?e5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bs=J4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pd=Symbol.for("react.element"),ta=Symbol.for("react.portal"),na=Symbol.for("react.fragment"),qy=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),kT=Symbol.for("react.provider"),RT=Symbol.for("react.context"),Ky=Symbol.for("react.forward_ref"),jg=Symbol.for("react.suspense"),Lg=Symbol.for("react.suspense_list"),Gy=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),PT=Symbol.for("react.offscreen"),y_=Symbol.iterator;function Ll(t){return t===null||typeof t!="object"?null:(t=y_&&t[y_]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,Cm;function Jl(t){if(Cm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cm=e&&e[1]||""}return`
`+Cm+t}var Im=!1;function Am(t,e){if(!t||Im)return"";Im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Im=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jl(t):""}function r5(t){switch(t.tag){case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 2:case 15:return t=Am(t.type,!1),t;case 11:return t=Am(t.type.render,!1),t;case 1:return t=Am(t.type,!0),t;default:return""}}function Vg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case na:return"Fragment";case ta:return"Portal";case Mg:return"Profiler";case qy:return"StrictMode";case jg:return"Suspense";case Lg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RT:return(t.displayName||"Context")+".Consumer";case kT:return(t._context.displayName||"Context")+".Provider";case Ky:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gy:return e=t.displayName||null,e!==null?e:Vg(t.type)||"Memo";case Fs:e=t._payload,t=t._init;try{return Vg(t(e))}catch{}}return null}function s5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vg(e);case 8:return e===qy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function i5(t){var e=NT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function md(t){t._valueTracker||(t._valueTracker=i5(t))}function DT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=NT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fg(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OT(t,e){e=e.checked,e!=null&&Wy(t,"checked",e,!1)}function Ug(t,e){OT(t,e);var n=bi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zg(t,e.type,n):e.hasOwnProperty("defaultValue")&&zg(t,e.type,bi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zg(t,e,n){(e!=="number"||jh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function ga(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function __(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Zl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bi(n)}}function MT(t,e){var n=bi(e.value),r=bi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $g(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gd,LT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gd=gd||document.createElement("div"),gd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o5=["Webkit","ms","Moz","O"];Object.keys(mc).forEach(function(t){o5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mc[e]=mc[t]})});function VT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mc.hasOwnProperty(t)&&mc[t]?(""+e).trim():e+"px"}function FT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=VT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var a5=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hg(t,e){if(e){if(a5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qg=null;function Qy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kg=null,ya=null,va=null;function b_(t){if(t=Iu(t)){if(typeof Kg!="function")throw Error(K(280));var e=t.stateNode;e&&(e=rp(e),Kg(t.stateNode,t.type,e))}}function UT(t){ya?va?va.push(t):va=[t]:ya=t}function zT(){if(ya){var t=ya,e=va;if(va=ya=null,b_(t),e)for(t=0;t<e.length;t++)b_(e[t])}}function BT(t,e){return t(e)}function $T(){}var km=!1;function HT(t,e,n){if(km)return t(e,n);km=!0;try{return BT(t,e,n)}finally{km=!1,(ya!==null||va!==null)&&($T(),zT())}}function Fc(t,e){var n=t.stateNode;if(n===null)return null;var r=rp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Gg=!1;if(cs)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){Gg=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Gg=!1}function l5(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var gc=!1,Lh=null,Vh=!1,Qg=null,c5={onError:function(t){gc=!0,Lh=t}};function u5(t,e,n,r,s,i,o,a,l){gc=!1,Lh=null,l5.apply(c5,arguments)}function d5(t,e,n,r,s,i,o,a,l){if(u5.apply(this,arguments),gc){if(gc){var c=Lh;gc=!1,Lh=null}else throw Error(K(198));Vh||(Vh=!0,Qg=c)}}function Ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function WT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function E_(t){if(Ro(t)!==t)throw Error(K(188))}function h5(t){var e=t.alternate;if(!e){if(e=Ro(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return E_(s),t;if(i===r)return E_(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function qT(t){return t=h5(t),t!==null?KT(t):null}function KT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KT(t);if(e!==null)return e;t=t.sibling}return null}var GT=Nn.unstable_scheduleCallback,T_=Nn.unstable_cancelCallback,f5=Nn.unstable_shouldYield,p5=Nn.unstable_requestPaint,rt=Nn.unstable_now,m5=Nn.unstable_getCurrentPriorityLevel,Yy=Nn.unstable_ImmediatePriority,QT=Nn.unstable_UserBlockingPriority,Fh=Nn.unstable_NormalPriority,g5=Nn.unstable_LowPriority,YT=Nn.unstable_IdlePriority,Zf=null,Dr=null;function y5(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Zf,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:_5,v5=Math.log,x5=Math.LN2;function _5(t){return t>>>=0,t===0?32:31-(v5(t)/x5|0)|0}var yd=64,vd=4194304;function ec(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ec(a):(i&=o,i!==0&&(r=ec(i)))}else o=n&~s,o!==0?r=ec(o):i!==0&&(r=ec(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),s=1<<n,r|=t[n],e&=~s;return r}function w5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=w5(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Yg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XT(){var t=yd;return yd<<=1,!(yd&4194240)&&(yd=64),t}function Rm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function E5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-sr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Xy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Pe=0;function JT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZT,Jy,eS,tS,nS,Xg=!1,xd=[],oi=null,ai=null,li=null,Uc=new Map,zc=new Map,zs=[],T5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S_(t,e){switch(t){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(e.pointerId)}}function Fl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Iu(e),e!==null&&Jy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function S5(t,e,n,r,s){switch(e){case"focusin":return oi=Fl(oi,t,e,n,r,s),!0;case"dragenter":return ai=Fl(ai,t,e,n,r,s),!0;case"mouseover":return li=Fl(li,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Uc.set(i,Fl(Uc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,zc.set(i,Fl(zc.get(i)||null,t,e,n,r,s)),!0}return!1}function rS(t){var e=to(t.target);if(e!==null){var n=Ro(e);if(n!==null){if(e=n.tag,e===13){if(e=WT(n),e!==null){t.blockedOn=e,nS(t.priority,function(){eS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qg=r,n.target.dispatchEvent(r),qg=null}else return e=Iu(n),e!==null&&Jy(e),t.blockedOn=n,!1;e.shift()}return!0}function C_(t,e,n){lh(t)&&n.delete(e)}function C5(){Xg=!1,oi!==null&&lh(oi)&&(oi=null),ai!==null&&lh(ai)&&(ai=null),li!==null&&lh(li)&&(li=null),Uc.forEach(C_),zc.forEach(C_)}function Ul(t,e){t.blockedOn===e&&(t.blockedOn=null,Xg||(Xg=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,C5)))}function Bc(t){function e(s){return Ul(s,t)}if(0<xd.length){Ul(xd[0],t);for(var n=1;n<xd.length;n++){var r=xd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oi!==null&&Ul(oi,t),ai!==null&&Ul(ai,t),li!==null&&Ul(li,t),Uc.forEach(e),zc.forEach(e),n=0;n<zs.length;n++)r=zs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zs.length&&(n=zs[0],n.blockedOn===null);)rS(n),n.blockedOn===null&&zs.shift()}var xa=bs.ReactCurrentBatchConfig,zh=!0;function I5(t,e,n,r){var s=Pe,i=xa.transition;xa.transition=null;try{Pe=1,Zy(t,e,n,r)}finally{Pe=s,xa.transition=i}}function A5(t,e,n,r){var s=Pe,i=xa.transition;xa.transition=null;try{Pe=4,Zy(t,e,n,r)}finally{Pe=s,xa.transition=i}}function Zy(t,e,n,r){if(zh){var s=Jg(t,e,n,r);if(s===null)Um(t,e,r,Bh,n),S_(t,r);else if(S5(s,t,e,n,r))r.stopPropagation();else if(S_(t,r),e&4&&-1<T5.indexOf(t)){for(;s!==null;){var i=Iu(s);if(i!==null&&ZT(i),i=Jg(t,e,n,r),i===null&&Um(t,e,r,Bh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Um(t,e,r,null,n)}}var Bh=null;function Jg(t,e,n,r){if(Bh=null,t=Qy(r),t=to(t),t!==null)if(e=Ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=WT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bh=t,null}function sS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m5()){case Yy:return 1;case QT:return 4;case Fh:case g5:return 16;case YT:return 536870912;default:return 16}default:return 16}}var Zs=null,ev=null,ch=null;function iS(){if(ch)return ch;var t,e=ev,n=e.length,r,s="value"in Zs?Zs.value:Zs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ch=s.slice(t,1<r?1-r:void 0)}function uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _d(){return!0}function I_(){return!1}function On(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_d:I_,this.isPropagationStopped=I_,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_d)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_d)},persist:function(){},isPersistent:_d}),e}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tv=On(ol),Cu=Ge({},ol,{view:0,detail:0}),k5=On(Cu),Pm,Nm,zl,ep=Ge({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(Pm=t.screenX-zl.screenX,Nm=t.screenY-zl.screenY):Nm=Pm=0,zl=t),Pm)},movementY:function(t){return"movementY"in t?t.movementY:Nm}}),A_=On(ep),R5=Ge({},ep,{dataTransfer:0}),P5=On(R5),N5=Ge({},Cu,{relatedTarget:0}),Dm=On(N5),D5=Ge({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),O5=On(D5),M5=Ge({},ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),j5=On(M5),L5=Ge({},ol,{data:0}),k_=On(L5),V5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U5[t])?!!e[t]:!1}function nv(){return z5}var B5=Ge({},Cu,{key:function(t){if(t.key){var e=V5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?F5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(t){return t.type==="keypress"?uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$5=On(B5),H5=Ge({},ep,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R_=On(H5),W5=Ge({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv}),q5=On(W5),K5=Ge({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),G5=On(K5),Q5=Ge({},ep,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y5=On(Q5),X5=[9,13,27,32],rv=cs&&"CompositionEvent"in window,yc=null;cs&&"documentMode"in document&&(yc=document.documentMode);var J5=cs&&"TextEvent"in window&&!yc,oS=cs&&(!rv||yc&&8<yc&&11>=yc),P_=" ",N_=!1;function aS(t,e){switch(t){case"keyup":return X5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ra=!1;function Z5(t,e){switch(t){case"compositionend":return lS(e);case"keypress":return e.which!==32?null:(N_=!0,P_);case"textInput":return t=e.data,t===P_&&N_?null:t;default:return null}}function e6(t,e){if(ra)return t==="compositionend"||!rv&&aS(t,e)?(t=iS(),ch=ev=Zs=null,ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oS&&e.locale!=="ko"?null:e.data;default:return null}}var t6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t6[t.type]:e==="textarea"}function cS(t,e,n,r){UT(r),e=$h(e,"onChange"),0<e.length&&(n=new tv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vc=null,$c=null;function n6(t){_S(t,0)}function tp(t){var e=oa(t);if(DT(e))return t}function r6(t,e){if(t==="change")return e}var uS=!1;if(cs){var Om;if(cs){var Mm="oninput"in document;if(!Mm){var O_=document.createElement("div");O_.setAttribute("oninput","return;"),Mm=typeof O_.oninput=="function"}Om=Mm}else Om=!1;uS=Om&&(!document.documentMode||9<document.documentMode)}function M_(){vc&&(vc.detachEvent("onpropertychange",dS),$c=vc=null)}function dS(t){if(t.propertyName==="value"&&tp($c)){var e=[];cS(e,$c,t,Qy(t)),HT(n6,e)}}function s6(t,e,n){t==="focusin"?(M_(),vc=e,$c=n,vc.attachEvent("onpropertychange",dS)):t==="focusout"&&M_()}function i6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tp($c)}function o6(t,e){if(t==="click")return tp(e)}function a6(t,e){if(t==="input"||t==="change")return tp(e)}function l6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:l6;function Hc(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Og.call(e,s)||!or(t[s],e[s]))return!1}return!0}function j_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L_(t,e){var n=j_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=j_(n)}}function hS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fS(){for(var t=window,e=jh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jh(t.document)}return e}function sv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c6(t){var e=fS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hS(n.ownerDocument.documentElement,n)){if(r!==null&&sv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=L_(n,i);var o=L_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var u6=cs&&"documentMode"in document&&11>=document.documentMode,sa=null,Zg=null,xc=null,e0=!1;function V_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e0||sa==null||sa!==jh(r)||(r=sa,"selectionStart"in r&&sv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xc&&Hc(xc,r)||(xc=r,r=$h(Zg,"onSelect"),0<r.length&&(e=new tv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sa)))}function wd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ia={animationend:wd("Animation","AnimationEnd"),animationiteration:wd("Animation","AnimationIteration"),animationstart:wd("Animation","AnimationStart"),transitionend:wd("Transition","TransitionEnd")},jm={},pS={};cs&&(pS=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function np(t){if(jm[t])return jm[t];if(!ia[t])return t;var e=ia[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pS)return jm[t]=e[n];return t}var mS=np("animationend"),gS=np("animationiteration"),yS=np("animationstart"),vS=np("transitionend"),xS=new Map,F_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){xS.set(t,e),ko(e,[t])}for(var Lm=0;Lm<F_.length;Lm++){var Vm=F_[Lm],d6=Vm.toLowerCase(),h6=Vm[0].toUpperCase()+Vm.slice(1);Mi(d6,"on"+h6)}Mi(mS,"onAnimationEnd");Mi(gS,"onAnimationIteration");Mi(yS,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(vS,"onTransitionEnd");Fa("onMouseEnter",["mouseout","mouseover"]);Fa("onMouseLeave",["mouseout","mouseover"]);Fa("onPointerEnter",["pointerout","pointerover"]);Fa("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f6=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function U_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d5(r,e,void 0,t),t.currentTarget=null}function _S(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;U_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;U_(s,a,c),i=l}}}if(Vh)throw t=Qg,Vh=!1,Qg=null,t}function Ue(t,e){var n=e[i0];n===void 0&&(n=e[i0]=new Set);var r=t+"__bubble";n.has(r)||(wS(e,t,2,!1),n.add(r))}function Fm(t,e,n){var r=0;e&&(r|=4),wS(n,t,r,e)}var bd="_reactListening"+Math.random().toString(36).slice(2);function Wc(t){if(!t[bd]){t[bd]=!0,AT.forEach(function(n){n!=="selectionchange"&&(f6.has(n)||Fm(n,!1,t),Fm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bd]||(e[bd]=!0,Fm("selectionchange",!1,e))}}function wS(t,e,n,r){switch(sS(e)){case 1:var s=I5;break;case 4:s=A5;break;default:s=Zy}n=s.bind(null,e,n,t),s=void 0,!Gg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Um(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=to(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}HT(function(){var c=i,u=Qy(n),f=[];e:{var h=xS.get(t);if(h!==void 0){var m=tv,v=t;switch(t){case"keypress":if(uh(n)===0)break e;case"keydown":case"keyup":m=$5;break;case"focusin":v="focus",m=Dm;break;case"focusout":v="blur",m=Dm;break;case"beforeblur":case"afterblur":m=Dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=A_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=P5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=q5;break;case mS:case gS:case yS:m=O5;break;case vS:m=G5;break;case"scroll":m=k5;break;case"wheel":m=Y5;break;case"copy":case"cut":case"paste":m=j5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=R_}var y=(e&4)!==0,_=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var b=c,T;b!==null;){T=b;var C=T.stateNode;if(T.tag===5&&C!==null&&(T=C,x!==null&&(C=Fc(b,x),C!=null&&y.push(qc(b,C,T)))),_)break;b=b.return}0<y.length&&(h=new m(h,v,null,n,u),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==qg&&(v=n.relatedTarget||n.fromElement)&&(to(v)||v[us]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?to(v):null,v!==null&&(_=Ro(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=A_,C="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=R_,C="onPointerLeave",x="onPointerEnter",b="pointer"),_=m==null?h:oa(m),T=v==null?h:oa(v),h=new y(C,b+"leave",m,n,u),h.target=_,h.relatedTarget=T,C=null,to(u)===c&&(y=new y(x,b+"enter",v,n,u),y.target=T,y.relatedTarget=_,C=y),_=C,m&&v)t:{for(y=m,x=v,b=0,T=y;T;T=$o(T))b++;for(T=0,C=x;C;C=$o(C))T++;for(;0<b-T;)y=$o(y),b--;for(;0<T-b;)x=$o(x),T--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=$o(y),x=$o(x)}y=null}else y=null;m!==null&&z_(f,h,m,y,!1),v!==null&&_!==null&&z_(f,_,v,y,!0)}}e:{if(h=c?oa(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=r6;else if(D_(h))if(uS)N=a6;else{N=i6;var M=s6}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=o6);if(N&&(N=N(t,c))){cS(f,N,n,u);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&zg(h,"number",h.value)}switch(M=c?oa(c):window,t){case"focusin":(D_(M)||M.contentEditable==="true")&&(sa=M,Zg=c,xc=null);break;case"focusout":xc=Zg=sa=null;break;case"mousedown":e0=!0;break;case"contextmenu":case"mouseup":case"dragend":e0=!1,V_(f,n,u);break;case"selectionchange":if(u6)break;case"keydown":case"keyup":V_(f,n,u)}var I;if(rv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ra?aS(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(oS&&n.locale!=="ko"&&(ra||S!=="onCompositionStart"?S==="onCompositionEnd"&&ra&&(I=iS()):(Zs=u,ev="value"in Zs?Zs.value:Zs.textContent,ra=!0)),M=$h(c,S),0<M.length&&(S=new k_(S,t,null,n,u),f.push({event:S,listeners:M}),I?S.data=I:(I=lS(n),I!==null&&(S.data=I)))),(I=J5?Z5(t,n):e6(t,n))&&(c=$h(c,"onBeforeInput"),0<c.length&&(u=new k_("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=I))}_S(f,e)})}function qc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $h(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fc(t,n),i!=null&&r.unshift(qc(t,i,s)),i=Fc(t,e),i!=null&&r.push(qc(t,i,s))),t=t.return}return r}function $o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Fc(n,i),l!=null&&o.unshift(qc(n,l,a))):s||(l=Fc(n,i),l!=null&&o.push(qc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var p6=/\r\n?/g,m6=/\u0000|\uFFFD/g;function B_(t){return(typeof t=="string"?t:""+t).replace(p6,`
`).replace(m6,"")}function Ed(t,e,n){if(e=B_(e),B_(t)!==e&&n)throw Error(K(425))}function Hh(){}var t0=null,n0=null;function r0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s0=typeof setTimeout=="function"?setTimeout:void 0,g6=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,y6=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(t){return $_.resolve(null).then(t).catch(v6)}:s0;function v6(t){setTimeout(function(){throw t})}function zm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Bc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bc(e)}function ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function H_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var al=Math.random().toString(36).slice(2),kr="__reactFiber$"+al,Kc="__reactProps$"+al,us="__reactContainer$"+al,i0="__reactEvents$"+al,x6="__reactListeners$"+al,_6="__reactHandles$"+al;function to(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[us]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=H_(t);t!==null;){if(n=t[kr])return n;t=H_(t)}return e}t=n,n=t.parentNode}return null}function Iu(t){return t=t[kr]||t[us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function rp(t){return t[Kc]||null}var o0=[],aa=-1;function ji(t){return{current:t}}function He(t){0>aa||(t.current=o0[aa],o0[aa]=null,aa--)}function je(t,e){aa++,o0[aa]=t.current,t.current=e}var Ei={},Yt=ji(Ei),mn=ji(!1),mo=Ei;function Ua(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gn(t){return t=t.childContextTypes,t!=null}function Wh(){He(mn),He(Yt)}function W_(t,e,n){if(Yt.current!==Ei)throw Error(K(168));je(Yt,e),je(mn,n)}function bS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,s5(t)||"Unknown",s));return Ge({},n,r)}function qh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,mo=Yt.current,je(Yt,t),je(mn,mn.current),!0}function q_(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=bS(t,e,mo),r.__reactInternalMemoizedMergedChildContext=t,He(mn),He(Yt),je(Yt,t)):He(mn),je(mn,n)}var ts=null,sp=!1,Bm=!1;function ES(t){ts===null?ts=[t]:ts.push(t)}function w6(t){sp=!0,ES(t)}function Li(){if(!Bm&&ts!==null){Bm=!0;var t=0,e=Pe;try{var n=ts;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ts=null,sp=!1}catch(s){throw ts!==null&&(ts=ts.slice(t+1)),GT(Yy,Li),s}finally{Pe=e,Bm=!1}}return null}var la=[],ca=0,Kh=null,Gh=0,Ln=[],Vn=0,go=null,rs=1,ss="";function Xi(t,e){la[ca++]=Gh,la[ca++]=Kh,Kh=t,Gh=e}function TS(t,e,n){Ln[Vn++]=rs,Ln[Vn++]=ss,Ln[Vn++]=go,go=t;var r=rs;t=ss;var s=32-sr(r)-1;r&=~(1<<s),n+=1;var i=32-sr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,rs=1<<32-sr(e)+s|n<<s|r,ss=i+t}else rs=1<<i|n<<s|r,ss=t}function iv(t){t.return!==null&&(Xi(t,1),TS(t,1,0))}function ov(t){for(;t===Kh;)Kh=la[--ca],la[ca]=null,Gh=la[--ca],la[ca]=null;for(;t===go;)go=Ln[--Vn],Ln[Vn]=null,ss=Ln[--Vn],Ln[Vn]=null,rs=Ln[--Vn],Ln[Vn]=null}var Rn=null,Cn=null,We=!1,er=null;function SS(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function K_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,Cn=ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=go!==null?{id:rs,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,Cn=null,!0):!1;default:return!1}}function a0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function l0(t){if(We){var e=Cn;if(e){var n=e;if(!K_(t,e)){if(a0(t))throw Error(K(418));e=ci(n.nextSibling);var r=Rn;e&&K_(t,e)?SS(r,n):(t.flags=t.flags&-4097|2,We=!1,Rn=t)}}else{if(a0(t))throw Error(K(418));t.flags=t.flags&-4097|2,We=!1,Rn=t}}}function G_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function Td(t){if(t!==Rn)return!1;if(!We)return G_(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!r0(t.type,t.memoizedProps)),e&&(e=Cn)){if(a0(t))throw CS(),Error(K(418));for(;e;)SS(t,e),e=ci(e.nextSibling)}if(G_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=Rn?ci(t.stateNode.nextSibling):null;return!0}function CS(){for(var t=Cn;t;)t=ci(t.nextSibling)}function za(){Cn=Rn=null,We=!1}function av(t){er===null?er=[t]:er.push(t)}var b6=bs.ReactCurrentBatchConfig;function Bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Sd(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q_(t){var e=t._init;return e(t._payload)}function IS(t){function e(x,b){if(t){var T=x.deletions;T===null?(x.deletions=[b],x.flags|=16):T.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=fi(x,b),x.index=0,x.sibling=null,x}function i(x,b,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<b?(x.flags|=2,b):T):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,T,C){return b===null||b.tag!==6?(b=Qm(T,x.mode,C),b.return=x,b):(b=s(b,T),b.return=x,b)}function l(x,b,T,C){var N=T.type;return N===na?u(x,b,T.props.children,C,T.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fs&&Q_(N)===b.type)?(C=s(b,T.props),C.ref=Bl(x,b,T),C.return=x,C):(C=yh(T.type,T.key,T.props,null,x.mode,C),C.ref=Bl(x,b,T),C.return=x,C)}function c(x,b,T,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=Ym(T,x.mode,C),b.return=x,b):(b=s(b,T.children||[]),b.return=x,b)}function u(x,b,T,C,N){return b===null||b.tag!==7?(b=fo(T,x.mode,C,N),b.return=x,b):(b=s(b,T),b.return=x,b)}function f(x,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Qm(""+b,x.mode,T),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pd:return T=yh(b.type,b.key,b.props,null,x.mode,T),T.ref=Bl(x,null,b),T.return=x,T;case ta:return b=Ym(b,x.mode,T),b.return=x,b;case Fs:var C=b._init;return f(x,C(b._payload),T)}if(Zl(b)||Ll(b))return b=fo(b,x.mode,T,null),b.return=x,b;Sd(x,b)}return null}function h(x,b,T,C){var N=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return N!==null?null:a(x,b,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case pd:return T.key===N?l(x,b,T,C):null;case ta:return T.key===N?c(x,b,T,C):null;case Fs:return N=T._init,h(x,b,N(T._payload),C)}if(Zl(T)||Ll(T))return N!==null?null:u(x,b,T,C,null);Sd(x,T)}return null}function m(x,b,T,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(T)||null,a(b,x,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pd:return x=x.get(C.key===null?T:C.key)||null,l(b,x,C,N);case ta:return x=x.get(C.key===null?T:C.key)||null,c(b,x,C,N);case Fs:var M=C._init;return m(x,b,T,M(C._payload),N)}if(Zl(C)||Ll(C))return x=x.get(T)||null,u(b,x,C,N,null);Sd(b,C)}return null}function v(x,b,T,C){for(var N=null,M=null,I=b,S=b=0,A=null;I!==null&&S<T.length;S++){I.index>S?(A=I,I=null):A=I.sibling;var R=h(x,I,T[S],C);if(R===null){I===null&&(I=A);break}t&&I&&R.alternate===null&&e(x,I),b=i(R,b,S),M===null?N=R:M.sibling=R,M=R,I=A}if(S===T.length)return n(x,I),We&&Xi(x,S),N;if(I===null){for(;S<T.length;S++)I=f(x,T[S],C),I!==null&&(b=i(I,b,S),M===null?N=I:M.sibling=I,M=I);return We&&Xi(x,S),N}for(I=r(x,I);S<T.length;S++)A=m(I,x,S,T[S],C),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?S:A.key),b=i(A,b,S),M===null?N=A:M.sibling=A,M=A);return t&&I.forEach(function(D){return e(x,D)}),We&&Xi(x,S),N}function y(x,b,T,C){var N=Ll(T);if(typeof N!="function")throw Error(K(150));if(T=N.call(T),T==null)throw Error(K(151));for(var M=N=null,I=b,S=b=0,A=null,R=T.next();I!==null&&!R.done;S++,R=T.next()){I.index>S?(A=I,I=null):A=I.sibling;var D=h(x,I,R.value,C);if(D===null){I===null&&(I=A);break}t&&I&&D.alternate===null&&e(x,I),b=i(D,b,S),M===null?N=D:M.sibling=D,M=D,I=A}if(R.done)return n(x,I),We&&Xi(x,S),N;if(I===null){for(;!R.done;S++,R=T.next())R=f(x,R.value,C),R!==null&&(b=i(R,b,S),M===null?N=R:M.sibling=R,M=R);return We&&Xi(x,S),N}for(I=r(x,I);!R.done;S++,R=T.next())R=m(I,x,S,R.value,C),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?S:R.key),b=i(R,b,S),M===null?N=R:M.sibling=R,M=R);return t&&I.forEach(function(O){return e(x,O)}),We&&Xi(x,S),N}function _(x,b,T,C){if(typeof T=="object"&&T!==null&&T.type===na&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case pd:e:{for(var N=T.key,M=b;M!==null;){if(M.key===N){if(N=T.type,N===na){if(M.tag===7){n(x,M.sibling),b=s(M,T.props.children),b.return=x,x=b;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fs&&Q_(N)===M.type){n(x,M.sibling),b=s(M,T.props),b.ref=Bl(x,M,T),b.return=x,x=b;break e}n(x,M);break}else e(x,M);M=M.sibling}T.type===na?(b=fo(T.props.children,x.mode,C,T.key),b.return=x,x=b):(C=yh(T.type,T.key,T.props,null,x.mode,C),C.ref=Bl(x,b,T),C.return=x,x=C)}return o(x);case ta:e:{for(M=T.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(x,b.sibling),b=s(b,T.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=Ym(T,x.mode,C),b.return=x,x=b}return o(x);case Fs:return M=T._init,_(x,b,M(T._payload),C)}if(Zl(T))return v(x,b,T,C);if(Ll(T))return y(x,b,T,C);Sd(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(n(x,b.sibling),b=s(b,T),b.return=x,x=b):(n(x,b),b=Qm(T,x.mode,C),b.return=x,x=b),o(x)):n(x,b)}return _}var Ba=IS(!0),AS=IS(!1),Qh=ji(null),Yh=null,ua=null,lv=null;function cv(){lv=ua=Yh=null}function uv(t){var e=Qh.current;He(Qh),t._currentValue=e}function c0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _a(t,e){Yh=t,lv=ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(lv!==t)if(t={context:t,memoizedValue:e,next:null},ua===null){if(Yh===null)throw Error(K(308));ua=t,Yh.dependencies={lanes:0,firstContext:t}}else ua=ua.next=t;return e}var no=null;function dv(t){no===null?no=[t]:no.push(t)}function kS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,dv(e)):(n.next=s.next,s.next=n),e.interleaved=n,ds(t,r)}function ds(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Us=!1;function hv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function as(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ds(t,n)}return s=r.interleaved,s===null?(e.next=e,dv(r)):(e.next=s.next,s.next=e),r.interleaved=e,ds(t,n)}function dh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xy(t,n)}}function Y_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xh(t,e,n,r){var s=t.updateQueue;Us=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(h=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Ge({},f,h);break e;case 2:Us=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vo|=o,t.lanes=o,t.memoizedState=f}}function X_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Au={},Or=ji(Au),Gc=ji(Au),Qc=ji(Au);function ro(t){if(t===Au)throw Error(K(174));return t}function fv(t,e){switch(je(Qc,e),je(Gc,t),je(Or,Au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$g(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$g(e,t)}He(Or),je(Or,e)}function $a(){He(Or),He(Gc),He(Qc)}function PS(t){ro(Qc.current);var e=ro(Or.current),n=$g(e,t.type);e!==n&&(je(Gc,t),je(Or,n))}function pv(t){Gc.current===t&&(He(Or),He(Gc))}var qe=ji(0);function Jh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $m=[];function mv(){for(var t=0;t<$m.length;t++)$m[t]._workInProgressVersionPrimary=null;$m.length=0}var hh=bs.ReactCurrentDispatcher,Hm=bs.ReactCurrentBatchConfig,yo=0,Ke=null,ft=null,vt=null,Zh=!1,_c=!1,Yc=0,E6=0;function Ft(){throw Error(K(321))}function gv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function yv(t,e,n,r,s,i){if(yo=i,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hh.current=t===null||t.memoizedState===null?I6:A6,t=n(r,s),_c){i=0;do{if(_c=!1,Yc=0,25<=i)throw Error(K(301));i+=1,vt=ft=null,e.updateQueue=null,hh.current=k6,t=n(r,s)}while(_c)}if(hh.current=ef,e=ft!==null&&ft.next!==null,yo=0,vt=ft=Ke=null,Zh=!1,e)throw Error(K(300));return t}function vv(){var t=Yc!==0;return Yc=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ke.memoizedState=vt=t:vt=vt.next=t,vt}function Hn(){if(ft===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=vt===null?Ke.memoizedState:vt.next;if(e!==null)vt=e,ft=t;else{if(t===null)throw Error(K(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Ke.memoizedState=vt=t:vt=vt.next=t}return vt}function Xc(t,e){return typeof e=="function"?e(t):e}function Wm(t){var e=Hn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=ft,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((yo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ke.lanes|=u,vo|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,or(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ke.lanes|=i,vo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qm(t){var e=Hn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);or(i,e.memoizedState)||(fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function NS(){}function DS(t,e){var n=Ke,r=Hn(),s=e(),i=!or(r.memoizedState,s);if(i&&(r.memoizedState=s,fn=!0),r=r.queue,xv(jS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Jc(9,MS.bind(null,n,r,s,e),void 0,null),xt===null)throw Error(K(349));yo&30||OS(n,e,s)}return s}function OS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MS(t,e,n,r){e.value=n,e.getSnapshot=r,LS(e)&&VS(t)}function jS(t,e,n){return n(function(){LS(e)&&VS(t)})}function LS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!or(t,n)}catch{return!0}}function VS(t){var e=ds(t,1);e!==null&&ir(e,t,1,-1)}function J_(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:t},e.queue=t,t=t.dispatch=C6.bind(null,Ke,t),[e.memoizedState,t]}function Jc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FS(){return Hn().memoizedState}function fh(t,e,n,r){var s=Er();Ke.flags|=t,s.memoizedState=Jc(1|e,n,void 0,r===void 0?null:r)}function ip(t,e,n,r){var s=Hn();r=r===void 0?null:r;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,r!==null&&gv(r,o.deps)){s.memoizedState=Jc(e,n,i,r);return}}Ke.flags|=t,s.memoizedState=Jc(1|e,n,i,r)}function Z_(t,e){return fh(8390656,8,t,e)}function xv(t,e){return ip(2048,8,t,e)}function US(t,e){return ip(4,2,t,e)}function zS(t,e){return ip(4,4,t,e)}function BS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $S(t,e,n){return n=n!=null?n.concat([t]):null,ip(4,4,BS.bind(null,e,t),n)}function _v(){}function HS(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WS(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qS(t,e,n){return yo&21?(or(n,e)||(n=XT(),Ke.lanes|=n,vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function T6(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=Hm.transition;Hm.transition={};try{t(!1),e()}finally{Pe=n,Hm.transition=r}}function KS(){return Hn().memoizedState}function S6(t,e,n){var r=hi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GS(t))QS(e,n);else if(n=kS(t,e,n,r),n!==null){var s=rn();ir(n,t,r,s),YS(n,e,r)}}function C6(t,e,n){var r=hi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GS(t))QS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,or(a,o)){var l=e.interleaved;l===null?(s.next=s,dv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=kS(t,e,s,r),n!==null&&(s=rn(),ir(n,t,r,s),YS(n,e,r))}}function GS(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function QS(t,e){_c=Zh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xy(t,n)}}var ef={readContext:$n,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},I6={readContext:$n,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:Z_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fh(4194308,4,BS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fh(4194308,4,t,e)},useInsertionEffect:function(t,e){return fh(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=S6.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:J_,useDebugValue:_v,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=J_(!1),e=t[0];return t=T6.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,s=Er();if(We){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),xt===null)throw Error(K(349));yo&30||OS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Z_(jS.bind(null,r,i,t),[t]),r.flags|=2048,Jc(9,MS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Er(),e=xt.identifierPrefix;if(We){var n=ss,r=rs;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=E6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A6={readContext:$n,useCallback:HS,useContext:$n,useEffect:xv,useImperativeHandle:$S,useInsertionEffect:US,useLayoutEffect:zS,useMemo:WS,useReducer:Wm,useRef:FS,useState:function(){return Wm(Xc)},useDebugValue:_v,useDeferredValue:function(t){var e=Hn();return qS(e,ft.memoizedState,t)},useTransition:function(){var t=Wm(Xc)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:NS,useSyncExternalStore:DS,useId:KS,unstable_isNewReconciler:!1},k6={readContext:$n,useCallback:HS,useContext:$n,useEffect:xv,useImperativeHandle:$S,useInsertionEffect:US,useLayoutEffect:zS,useMemo:WS,useReducer:qm,useRef:FS,useState:function(){return qm(Xc)},useDebugValue:_v,useDeferredValue:function(t){var e=Hn();return ft===null?e.memoizedState=t:qS(e,ft.memoizedState,t)},useTransition:function(){var t=qm(Xc)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:NS,useSyncExternalStore:DS,useId:KS,unstable_isNewReconciler:!1};function Yn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function u0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var op={isMounted:function(t){return(t=t._reactInternals)?Ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),s=hi(t),i=as(r,s);i.payload=e,n!=null&&(i.callback=n),e=ui(t,i,s),e!==null&&(ir(e,t,s,r),dh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),s=hi(t),i=as(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ui(t,i,s),e!==null&&(ir(e,t,s,r),dh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=hi(t),s=as(n,r);s.tag=2,e!=null&&(s.callback=e),e=ui(t,s,r),e!==null&&(ir(e,t,r,n),dh(e,t,r))}};function ew(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Hc(n,r)||!Hc(s,i):!0}function XS(t,e,n){var r=!1,s=Ei,i=e.contextType;return typeof i=="object"&&i!==null?i=$n(i):(s=gn(e)?mo:Yt.current,r=e.contextTypes,i=(r=r!=null)?Ua(t,s):Ei),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=op,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function tw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&op.enqueueReplaceState(e,e.state,null)}function d0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},hv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$n(i):(i=gn(e)?mo:Yt.current,s.context=Ua(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(u0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&op.enqueueReplaceState(s,s.state,null),Xh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ha(t,e){try{var n="",r=e;do n+=r5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function h0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R6=typeof WeakMap=="function"?WeakMap:Map;function JS(t,e,n){n=as(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nf||(nf=!0,b0=r),h0(t,e)},n}function ZS(t,e,n){n=as(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){h0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){h0(t,e),typeof r!="function"&&(di===null?di=new Set([this]):di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=H6.bind(null,t,e,n),e.then(t,t))}function rw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=as(-1,1),e.tag=2,ui(n,e,1))),n.lanes|=1),t)}var P6=bs.ReactCurrentOwner,fn=!1;function tn(t,e,n,r){e.child=t===null?AS(e,null,n,r):Ba(e,t.child,n,r)}function iw(t,e,n,r,s){n=n.render;var i=e.ref;return _a(e,s),r=yv(t,e,n,r,i,s),n=vv(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hs(t,e,s)):(We&&n&&iv(e),e.flags|=1,tn(t,e,r,s),e.child)}function ow(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Av(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,eC(t,e,i,r,s)):(t=yh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hc,n(o,r)&&t.ref===e.ref)return hs(t,e,s)}return e.flags|=1,t=fi(i,r),t.ref=e.ref,t.return=e,e.child=t}function eC(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Hc(i,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,hs(t,e,s)}return f0(t,e,n,r,s)}function tC(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(ha,Tn),Tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(ha,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(ha,Tn),Tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,je(ha,Tn),Tn|=r;return tn(t,e,s,n),e.child}function nC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function f0(t,e,n,r,s){var i=gn(n)?mo:Yt.current;return i=Ua(e,i),_a(e,s),n=yv(t,e,n,r,i,s),r=vv(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hs(t,e,s)):(We&&r&&iv(e),e.flags|=1,tn(t,e,n,s),e.child)}function aw(t,e,n,r,s){if(gn(n)){var i=!0;qh(e)}else i=!1;if(_a(e,s),e.stateNode===null)ph(t,e),XS(e,n,r),d0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$n(c):(c=gn(n)?mo:Yt.current,c=Ua(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tw(e,o,r,c),Us=!1;var h=e.memoizedState;o.state=h,Xh(e,r,o,s),l=e.memoizedState,a!==r||h!==l||mn.current||Us?(typeof u=="function"&&(u0(e,n,u,r),l=e.memoizedState),(a=Us||ew(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,RS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yn(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=gn(n)?mo:Yt.current,l=Ua(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&tw(e,o,r,l),Us=!1,h=e.memoizedState,o.state=h,Xh(e,r,o,s);var v=e.memoizedState;a!==f||h!==v||mn.current||Us?(typeof m=="function"&&(u0(e,n,m,r),v=e.memoizedState),(c=Us||ew(e,n,c,r,h,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return p0(t,e,n,r,i,s)}function p0(t,e,n,r,s,i){nC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&q_(e,n,!1),hs(t,e,i);r=e.stateNode,P6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ba(e,t.child,null,i),e.child=Ba(e,null,a,i)):tn(t,e,a,i),e.memoizedState=r.state,s&&q_(e,n,!0),e.child}function rC(t){var e=t.stateNode;e.pendingContext?W_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W_(t,e.context,!1),fv(t,e.containerInfo)}function lw(t,e,n,r,s){return za(),av(s),e.flags|=256,tn(t,e,n,r),e.child}var m0={dehydrated:null,treeContext:null,retryLane:0};function g0(t){return{baseLanes:t,cachePool:null,transitions:null}}function sC(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(qe,s&1),t===null)return l0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cp(o,r,0,null),t=fo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=g0(n),e.memoizedState=m0,t):wv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return N6(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=fi(a,i):(i=fo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?g0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=m0,r}return i=t.child,t=i.sibling,r=fi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wv(t,e){return e=cp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cd(t,e,n,r){return r!==null&&av(r),Ba(e,t.child,null,n),t=wv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N6(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Km(Error(K(422))),Cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cp({mode:"visible",children:r.children},s,0,null),i=fo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ba(e,t.child,null,o),e.child.memoizedState=g0(o),e.memoizedState=m0,i);if(!(e.mode&1))return Cd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=Km(i,r,void 0),Cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,fn||a){if(r=xt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ds(t,s),ir(r,t,s,-1))}return Iv(),r=Km(Error(K(421))),Cd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=W6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Cn=ci(s.nextSibling),Rn=e,We=!0,er=null,t!==null&&(Ln[Vn++]=rs,Ln[Vn++]=ss,Ln[Vn++]=go,rs=t.id,ss=t.overflow,go=e),e=wv(e,r.children),e.flags|=4096,e)}function cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),c0(t.return,e,n)}function Gm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function iC(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(tn(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cw(t,n,e);else if(t.tag===19)cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Gm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Gm(e,!0,n,null,i);break;case"together":Gm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ph(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function D6(t,e,n){switch(e.tag){case 3:rC(e),za();break;case 5:PS(e);break;case 1:gn(e.type)&&qh(e);break;case 4:fv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;je(Qh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?sC(t,e,n):(je(qe,qe.current&1),t=hs(t,e,n),t!==null?t.sibling:null);je(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,tC(t,e,n)}return hs(t,e,n)}var oC,y0,aC,lC;oC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y0=function(){};aC=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ro(Or.current);var i=null;switch(n){case"input":s=Fg(t,s),r=Fg(t,r),i=[];break;case"select":s=Ge({},s,{value:void 0}),r=Ge({},r,{value:void 0}),i=[];break;case"textarea":s=Bg(t,s),r=Bg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hh)}Hg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};lC=function(t,e,n,r){n!==r&&(e.flags|=4)};function $l(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function O6(t,e,n){var r=e.pendingProps;switch(ov(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return gn(e.type)&&Wh(),Ut(e),null;case 3:return r=e.stateNode,$a(),He(mn),He(Yt),mv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(S0(er),er=null))),y0(t,e),Ut(e),null;case 5:pv(e);var s=ro(Qc.current);if(n=e.type,t!==null&&e.stateNode!=null)aC(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Ut(e),null}if(t=ro(Or.current),Td(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[kr]=e,r[Kc]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<tc.length;s++)Ue(tc[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":v_(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":__(r,i),Ue("invalid",r)}Hg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ed(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ed(r.textContent,a,t),s=["children",""+a]):Lc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":md(r),x_(r,i,!0);break;case"textarea":md(r),w_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kr]=e,t[Kc]=r,oC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wg(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<tc.length;s++)Ue(tc[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":v_(t,r),s=Fg(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ge({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":__(t,r),s=Bg(t,r),Ue("invalid",t);break;default:s=r}Hg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?FT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&LT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vc(t,l):typeof l=="number"&&Vc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ue("scroll",t):l!=null&&Wy(t,i,l,o))}switch(n){case"input":md(t),x_(t,r,!1);break;case"textarea":md(t),w_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ga(t,!!r.multiple,i,!1):r.defaultValue!=null&&ga(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)lC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=ro(Qc.current),ro(Or.current),Td(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(i=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:Ed(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ed(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return Ut(e),null;case 13:if(He(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&Cn!==null&&e.mode&1&&!(e.flags&128))CS(),za(),e.flags|=98560,i=!1;else if(i=Td(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[kr]=e}else za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else er!==null&&(S0(er),er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?pt===0&&(pt=3):Iv())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return $a(),y0(t,e),t===null&&Wc(e.stateNode.containerInfo),Ut(e),null;case 10:return uv(e.type._context),Ut(e),null;case 17:return gn(e.type)&&Wh(),Ut(e),null;case 19:if(He(qe),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)$l(i,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jh(t),o!==null){for(e.flags|=128,$l(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&rt()>Wa&&(e.flags|=128,r=!0,$l(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return Ut(e),null}else 2*rt()-i.renderingStartTime>Wa&&n!==1073741824&&(e.flags|=128,r=!0,$l(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=qe.current,je(qe,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return Cv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function M6(t,e){switch(ov(e),e.tag){case 1:return gn(e.type)&&Wh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),He(mn),He(Yt),mv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pv(e),null;case 13:if(He(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(qe),null;case 4:return $a(),null;case 10:return uv(e.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var Id=!1,qt=!1,j6=typeof WeakSet=="function"?WeakSet:Set,te=null;function da(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function v0(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var uw=!1;function L6(t,e){if(t0=zh,t=fS(),sv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(n0={focusedElem:t,selectionRange:n},zh=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,_=v.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Yn(e.type,y),_);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(C){Ze(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return v=uw,uw=!1,v}function wc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&v0(e,n,i)}s=s.next}while(s!==r)}}function ap(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function x0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cC(t){var e=t.alternate;e!==null&&(t.alternate=null,cC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[Kc],delete e[i0],delete e[x6],delete e[_6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uC(t){return t.tag===5||t.tag===3||t.tag===4}function dw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hh));else if(r!==4&&(t=t.child,t!==null))for(_0(t,e,n),t=t.sibling;t!==null;)_0(t,e,n),t=t.sibling}function w0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(w0(t,e,n),t=t.sibling;t!==null;)w0(t,e,n),t=t.sibling}var Tt=null,Zn=!1;function Ps(t,e,n){for(n=n.child;n!==null;)dC(t,e,n),n=n.sibling}function dC(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Zf,n)}catch{}switch(n.tag){case 5:qt||da(n,e);case 6:var r=Tt,s=Zn;Tt=null,Ps(t,e,n),Tt=r,Zn=s,Tt!==null&&(Zn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Zn?(t=Tt,n=n.stateNode,t.nodeType===8?zm(t.parentNode,n):t.nodeType===1&&zm(t,n),Bc(t)):zm(Tt,n.stateNode));break;case 4:r=Tt,s=Zn,Tt=n.stateNode.containerInfo,Zn=!0,Ps(t,e,n),Tt=r,Zn=s;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&v0(n,e,o),s=s.next}while(s!==r)}Ps(t,e,n);break;case 1:if(!qt&&(da(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}Ps(t,e,n);break;case 21:Ps(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,Ps(t,e,n),qt=r):Ps(t,e,n);break;default:Ps(t,e,n)}}function hw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new j6),e.forEach(function(r){var s=q6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,Zn=!1;break e;case 3:Tt=a.stateNode.containerInfo,Zn=!0;break e;case 4:Tt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(Tt===null)throw Error(K(160));dC(i,o,s),Tt=null,Zn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hC(e,t),e=e.sibling}function hC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),xr(t),r&4){try{wc(3,t,t.return),ap(3,t)}catch(y){Ze(t,t.return,y)}try{wc(5,t,t.return)}catch(y){Ze(t,t.return,y)}}break;case 1:Qn(e,t),xr(t),r&512&&n!==null&&da(n,n.return);break;case 5:if(Qn(e,t),xr(t),r&512&&n!==null&&da(n,n.return),t.flags&32){var s=t.stateNode;try{Vc(s,"")}catch(y){Ze(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&OT(s,i),Wg(a,o);var c=Wg(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?FT(s,f):u==="dangerouslySetInnerHTML"?LT(s,f):u==="children"?Vc(s,f):Wy(s,u,f,c)}switch(a){case"input":Ug(s,i);break;case"textarea":MT(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ga(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?ga(s,!!i.multiple,i.defaultValue,!0):ga(s,!!i.multiple,i.multiple?[]:"",!1))}s[Kc]=i}catch(y){Ze(t,t.return,y)}}break;case 6:if(Qn(e,t),xr(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Ze(t,t.return,y)}}break;case 3:if(Qn(e,t),xr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bc(e.containerInfo)}catch(y){Ze(t,t.return,y)}break;case 4:Qn(e,t),xr(t);break;case 13:Qn(e,t),xr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Tv=rt())),r&4&&hw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(c=qt)||u,Qn(e,t),qt=c):Qn(e,t),xr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(te=t,u=t.child;u!==null;){for(f=te=u;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:wc(4,h,h.return);break;case 1:da(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Ze(r,n,y)}}break;case 5:da(h,h.return);break;case 22:if(h.memoizedState!==null){pw(f);continue}}m!==null?(m.return=h,te=m):pw(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=VT("display",o))}catch(y){Ze(t,t.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Ze(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qn(e,t),xr(t),r&4&&hw(t);break;case 21:break;default:Qn(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uC(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vc(s,""),r.flags&=-33);var i=dw(t);w0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dw(t);_0(t,a,o);break;default:throw Error(K(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V6(t,e,n){te=t,fC(t)}function fC(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Id;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||qt;a=Id;var c=qt;if(Id=o,(qt=l)&&!c)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?mw(s):l!==null?(l.return=o,te=l):mw(s);for(;i!==null;)te=i,fC(i),i=i.sibling;te=s,Id=a,qt=c}fw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):fw(t)}}function fw(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||ap(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&X_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Bc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}qt||e.flags&512&&x0(e)}catch(h){Ze(e,e.return,h)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function pw(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function mw(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ap(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ze(e,s,l)}}var i=e.return;try{x0(e)}catch(l){Ze(e,i,l)}break;case 5:var o=e.return;try{x0(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var F6=Math.ceil,tf=bs.ReactCurrentDispatcher,bv=bs.ReactCurrentOwner,zn=bs.ReactCurrentBatchConfig,be=0,xt=null,ct=null,Pt=0,Tn=0,ha=ji(0),pt=0,Zc=null,vo=0,lp=0,Ev=0,bc=null,un=null,Tv=0,Wa=1/0,es=null,nf=!1,b0=null,di=null,Ad=!1,ei=null,rf=0,Ec=0,E0=null,mh=-1,gh=0;function rn(){return be&6?rt():mh!==-1?mh:mh=rt()}function hi(t){return t.mode&1?be&2&&Pt!==0?Pt&-Pt:b6.transition!==null?(gh===0&&(gh=XT()),gh):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:sS(t.type)),t):1}function ir(t,e,n,r){if(50<Ec)throw Ec=0,E0=null,Error(K(185));Su(t,n,r),(!(be&2)||t!==xt)&&(t===xt&&(!(be&2)&&(lp|=n),pt===4&&Bs(t,Pt)),yn(t,r),n===1&&be===0&&!(e.mode&1)&&(Wa=rt()+500,sp&&Li()))}function yn(t,e){var n=t.callbackNode;b5(t,e);var r=Uh(t,t===xt?Pt:0);if(r===0)n!==null&&T_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&T_(n),e===1)t.tag===0?w6(gw.bind(null,t)):ES(gw.bind(null,t)),y6(function(){!(be&6)&&Li()}),n=null;else{switch(JT(r)){case 1:n=Yy;break;case 4:n=QT;break;case 16:n=Fh;break;case 536870912:n=YT;break;default:n=Fh}n=wC(n,pC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pC(t,e){if(mh=-1,gh=0,be&6)throw Error(K(327));var n=t.callbackNode;if(wa()&&t.callbackNode!==n)return null;var r=Uh(t,t===xt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sf(t,r);else{e=r;var s=be;be|=2;var i=gC();(xt!==t||Pt!==e)&&(es=null,Wa=rt()+500,ho(t,e));do try{B6();break}catch(a){mC(t,a)}while(!0);cv(),tf.current=i,be=s,ct!==null?e=0:(xt=null,Pt=0,e=pt)}if(e!==0){if(e===2&&(s=Yg(t),s!==0&&(r=s,e=T0(t,s))),e===1)throw n=Zc,ho(t,0),Bs(t,r),yn(t,rt()),n;if(e===6)Bs(t,r);else{if(s=t.current.alternate,!(r&30)&&!U6(s)&&(e=sf(t,r),e===2&&(i=Yg(t),i!==0&&(r=i,e=T0(t,i))),e===1))throw n=Zc,ho(t,0),Bs(t,r),yn(t,rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Ji(t,un,es);break;case 3:if(Bs(t,r),(r&130023424)===r&&(e=Tv+500-rt(),10<e)){if(Uh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=s0(Ji.bind(null,t,un,es),e);break}Ji(t,un,es);break;case 4:if(Bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-sr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F6(r/1960))-r,10<r){t.timeoutHandle=s0(Ji.bind(null,t,un,es),r);break}Ji(t,un,es);break;case 5:Ji(t,un,es);break;default:throw Error(K(329))}}}return yn(t,rt()),t.callbackNode===n?pC.bind(null,t):null}function T0(t,e){var n=bc;return t.current.memoizedState.isDehydrated&&(ho(t,e).flags|=256),t=sf(t,e),t!==2&&(e=un,un=n,e!==null&&S0(e)),t}function S0(t){un===null?un=t:un.push.apply(un,t)}function U6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bs(t,e){for(e&=~Ev,e&=~lp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function gw(t){if(be&6)throw Error(K(327));wa();var e=Uh(t,0);if(!(e&1))return yn(t,rt()),null;var n=sf(t,e);if(t.tag!==0&&n===2){var r=Yg(t);r!==0&&(e=r,n=T0(t,r))}if(n===1)throw n=Zc,ho(t,0),Bs(t,e),yn(t,rt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ji(t,un,es),yn(t,rt()),null}function Sv(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Wa=rt()+500,sp&&Li())}}function xo(t){ei!==null&&ei.tag===0&&!(be&6)&&wa();var e=be;be|=1;var n=zn.transition,r=Pe;try{if(zn.transition=null,Pe=1,t)return t()}finally{Pe=r,zn.transition=n,be=e,!(be&6)&&Li()}}function Cv(){Tn=ha.current,He(ha)}function ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g6(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(ov(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wh();break;case 3:$a(),He(mn),He(Yt),mv();break;case 5:pv(r);break;case 4:$a();break;case 13:He(qe);break;case 19:He(qe);break;case 10:uv(r.type._context);break;case 22:case 23:Cv()}n=n.return}if(xt=t,ct=t=fi(t.current,null),Pt=Tn=e,pt=0,Zc=null,Ev=lp=vo=0,un=bc=null,no!==null){for(e=0;e<no.length;e++)if(n=no[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}no=null}return t}function mC(t,e){do{var n=ct;try{if(cv(),hh.current=ef,Zh){for(var r=Ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zh=!1}if(yo=0,vt=ft=Ke=null,_c=!1,Yc=0,bv.current=null,n===null||n.return===null){pt=1,Zc=e,ct=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=rw(o);if(m!==null){m.flags&=-257,sw(m,o,a,i,e),m.mode&1&&nw(i,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){nw(i,c,e),Iv();break e}l=Error(K(426))}}else if(We&&a.mode&1){var _=rw(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),sw(_,o,a,i,e),av(Ha(l,a));break e}}i=l=Ha(l,a),pt!==4&&(pt=2),bc===null?bc=[i]:bc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=JS(i,l,e);Y_(i,x);break e;case 1:a=l;var b=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(di===null||!di.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=ZS(i,a,e);Y_(i,C);break e}}i=i.return}while(i!==null)}vC(n)}catch(N){e=N,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function gC(){var t=tf.current;return tf.current=ef,t===null?ef:t}function Iv(){(pt===0||pt===3||pt===2)&&(pt=4),xt===null||!(vo&268435455)&&!(lp&268435455)||Bs(xt,Pt)}function sf(t,e){var n=be;be|=2;var r=gC();(xt!==t||Pt!==e)&&(es=null,ho(t,e));do try{z6();break}catch(s){mC(t,s)}while(!0);if(cv(),be=n,tf.current=r,ct!==null)throw Error(K(261));return xt=null,Pt=0,pt}function z6(){for(;ct!==null;)yC(ct)}function B6(){for(;ct!==null&&!f5();)yC(ct)}function yC(t){var e=_C(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?vC(t):ct=e,bv.current=null}function vC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M6(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ct=null;return}}else if(n=O6(n,e,Tn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);pt===0&&(pt=5)}function Ji(t,e,n){var r=Pe,s=zn.transition;try{zn.transition=null,Pe=1,$6(t,e,n,r)}finally{zn.transition=s,Pe=r}return null}function $6(t,e,n,r){do wa();while(ei!==null);if(be&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(E5(t,i),t===xt&&(ct=xt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ad||(Ad=!0,wC(Fh,function(){return wa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zn.transition,zn.transition=null;var o=Pe;Pe=1;var a=be;be|=4,bv.current=null,L6(t,n),hC(n,t),c6(n0),zh=!!t0,n0=t0=null,t.current=n,V6(n),p5(),be=a,Pe=o,zn.transition=i}else t.current=n;if(Ad&&(Ad=!1,ei=t,rf=s),i=t.pendingLanes,i===0&&(di=null),y5(n.stateNode),yn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nf)throw nf=!1,t=b0,b0=null,t;return rf&1&&t.tag!==0&&wa(),i=t.pendingLanes,i&1?t===E0?Ec++:(Ec=0,E0=t):Ec=0,Li(),null}function wa(){if(ei!==null){var t=JT(rf),e=zn.transition,n=Pe;try{if(zn.transition=null,Pe=16>t?16:t,ei===null)var r=!1;else{if(t=ei,ei=null,rf=0,be&6)throw Error(K(331));var s=be;for(be|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:wc(8,u,i)}var f=u.child;if(f!==null)f.return=u,te=f;else for(;te!==null;){u=te;var h=u.sibling,m=u.return;if(cC(u),u===c){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,te=x;break e}te=i.return}}var b=t.current;for(te=b;te!==null;){o=te;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,te=T;else e:for(o=b;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ap(9,a)}}catch(N){Ze(a,a.return,N)}if(a===o){te=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,te=C;break e}te=a.return}}if(be=s,Li(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Zf,t)}catch{}r=!0}return r}finally{Pe=n,zn.transition=e}}return!1}function yw(t,e,n){e=Ha(n,e),e=JS(t,e,1),t=ui(t,e,1),e=rn(),t!==null&&(Su(t,1,e),yn(t,e))}function Ze(t,e,n){if(t.tag===3)yw(t,t,n);else for(;e!==null;){if(e.tag===3){yw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){t=Ha(n,t),t=ZS(e,t,1),e=ui(e,t,1),t=rn(),e!==null&&(Su(e,1,t),yn(e,t));break}}e=e.return}}function H6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Pt&n)===n&&(pt===4||pt===3&&(Pt&130023424)===Pt&&500>rt()-Tv?ho(t,0):Ev|=n),yn(t,e)}function xC(t,e){e===0&&(t.mode&1?(e=vd,vd<<=1,!(vd&130023424)&&(vd=4194304)):e=1);var n=rn();t=ds(t,e),t!==null&&(Su(t,e,n),yn(t,n))}function W6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xC(t,n)}function q6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),xC(t,n)}var _C;_C=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,D6(t,e,n);fn=!!(t.flags&131072)}else fn=!1,We&&e.flags&1048576&&TS(e,Gh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ph(t,e),t=e.pendingProps;var s=Ua(e,Yt.current);_a(e,n),s=yv(null,e,r,t,s,n);var i=vv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(i=!0,qh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hv(e),s.updater=op,e.stateNode=s,s._reactInternals=e,d0(e,r,t,n),e=p0(null,e,r,!0,i,n)):(e.tag=0,We&&i&&iv(e),tn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ph(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=G6(r),t=Yn(r,t),s){case 0:e=f0(null,e,r,t,n);break e;case 1:e=aw(null,e,r,t,n);break e;case 11:e=iw(null,e,r,t,n);break e;case 14:e=ow(null,e,r,Yn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),f0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),aw(t,e,r,s,n);case 3:e:{if(rC(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,RS(t,e),Xh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ha(Error(K(423)),e),e=lw(t,e,r,n,s);break e}else if(r!==s){s=Ha(Error(K(424)),e),e=lw(t,e,r,n,s);break e}else for(Cn=ci(e.stateNode.containerInfo.firstChild),Rn=e,We=!0,er=null,n=AS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(za(),r===s){e=hs(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return PS(e),t===null&&l0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,r0(r,s)?o=null:i!==null&&r0(r,i)&&(e.flags|=32),nC(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&l0(e),null;case 13:return sC(t,e,n);case 4:return fv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ba(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),iw(t,e,r,s,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,je(Qh,r._currentValue),r._currentValue=o,i!==null)if(or(i.value,o)){if(i.children===s.children&&!mn.current){e=hs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=as(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),c0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),c0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_a(e,n),s=$n(s),r=r(s),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,s=Yn(r,e.pendingProps),s=Yn(r.type,s),ow(t,e,r,s,n);case 15:return eC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),ph(t,e),e.tag=1,gn(r)?(t=!0,qh(e)):t=!1,_a(e,n),XS(e,r,s),d0(e,r,s,n),p0(null,e,r,!0,t,n);case 19:return iC(t,e,n);case 22:return tC(t,e,n)}throw Error(K(156,e.tag))};function wC(t,e){return GT(t,e)}function K6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new K6(t,e,n,r)}function Av(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G6(t){if(typeof t=="function")return Av(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ky)return 11;if(t===Gy)return 14}return 2}function fi(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Av(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case na:return fo(n.children,s,i,e);case qy:o=8,s|=8;break;case Mg:return t=Fn(12,n,e,s|2),t.elementType=Mg,t.lanes=i,t;case jg:return t=Fn(13,n,e,s),t.elementType=jg,t.lanes=i,t;case Lg:return t=Fn(19,n,e,s),t.elementType=Lg,t.lanes=i,t;case PT:return cp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kT:o=10;break e;case RT:o=9;break e;case Ky:o=11;break e;case Gy:o=14;break e;case Fs:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fo(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function cp(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=PT,t.lanes=n,t.stateNode={isHidden:!1},t}function Qm(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Ym(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rm(0),this.expirationTimes=Rm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kv(t,e,n,r,s,i,o,a,l){return t=new Q6(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hv(i),t}function Y6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bC(t){if(!t)return Ei;t=t._reactInternals;e:{if(Ro(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(gn(n))return bS(t,n,e)}return e}function EC(t,e,n,r,s,i,o,a,l){return t=kv(n,r,!0,t,s,i,o,a,l),t.context=bC(null),n=t.current,r=rn(),s=hi(n),i=as(r,s),i.callback=e??null,ui(n,i,s),t.current.lanes=s,Su(t,s,r),yn(t,r),t}function up(t,e,n,r){var s=e.current,i=rn(),o=hi(s);return n=bC(n),e.context===null?e.context=n:e.pendingContext=n,e=as(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ui(s,e,o),t!==null&&(ir(t,s,o,i),dh(t,s,o)),o}function of(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rv(t,e){vw(t,e),(t=t.alternate)&&vw(t,e)}function X6(){return null}var TC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pv(t){this._internalRoot=t}dp.prototype.render=Pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));up(t,e,null,null)};dp.prototype.unmount=Pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xo(function(){up(null,t,null,null)}),e[us]=null}};function dp(t){this._internalRoot=t}dp.prototype.unstable_scheduleHydration=function(t){if(t){var e=tS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zs.length&&e!==0&&e<zs[n].priority;n++);zs.splice(n,0,t),n===0&&rS(t)}};function Nv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xw(){}function J6(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=of(o);i.call(c)}}var o=EC(e,r,t,0,null,!1,!1,"",xw);return t._reactRootContainer=o,t[us]=o.current,Wc(t.nodeType===8?t.parentNode:t),xo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=of(l);a.call(c)}}var l=kv(t,0,!1,null,null,!1,!1,"",xw);return t._reactRootContainer=l,t[us]=l.current,Wc(t.nodeType===8?t.parentNode:t),xo(function(){up(e,l,n,r)}),l}function fp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=of(o);a.call(l)}}up(e,o,t,s)}else o=J6(n,e,t,s,r);return of(o)}ZT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ec(e.pendingLanes);n!==0&&(Xy(e,n|1),yn(e,rt()),!(be&6)&&(Wa=rt()+500,Li()))}break;case 13:xo(function(){var r=ds(t,1);if(r!==null){var s=rn();ir(r,t,1,s)}}),Rv(t,1)}};Jy=function(t){if(t.tag===13){var e=ds(t,134217728);if(e!==null){var n=rn();ir(e,t,134217728,n)}Rv(t,134217728)}};eS=function(t){if(t.tag===13){var e=hi(t),n=ds(t,e);if(n!==null){var r=rn();ir(n,t,e,r)}Rv(t,e)}};tS=function(){return Pe};nS=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};Kg=function(t,e,n){switch(e){case"input":if(Ug(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rp(r);if(!s)throw Error(K(90));DT(r),Ug(r,s)}}}break;case"textarea":MT(t,n);break;case"select":e=n.value,e!=null&&ga(t,!!n.multiple,e,!1)}};BT=Sv;$T=xo;var Z6={usingClientEntryPoint:!1,Events:[Iu,oa,rp,UT,zT,Sv]},Hl={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e3={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qT(t),t===null?null:t.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||X6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{Zf=kd.inject(e3),Dr=kd}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z6;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nv(e))throw Error(K(200));return Y6(t,e,null,n)};Dn.createRoot=function(t,e){if(!Nv(t))throw Error(K(299));var n=!1,r="",s=TC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kv(t,1,!1,null,null,n,!1,r,s),t[us]=e.current,Wc(t.nodeType===8?t.parentNode:t),new Pv(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=qT(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return xo(t)};Dn.hydrate=function(t,e,n){if(!hp(e))throw Error(K(200));return fp(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!Nv(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=TC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=EC(e,null,t,1,n??null,s,!1,i,o),t[us]=e.current,Wc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dp(e)};Dn.render=function(t,e,n){if(!hp(e))throw Error(K(200));return fp(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!hp(t))throw Error(K(40));return t._reactRootContainer?(xo(function(){fp(null,null,t,!1,function(){t._reactRootContainer=null,t[us]=null})}),!0):!1};Dn.unstable_batchedUpdates=Sv;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hp(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return fp(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function SC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SC)}catch(t){console.error(t)}}SC(),ST.exports=Dn;var ku=ST.exports;const CC=hT(ku);var _w=ku;Dg.createRoot=_w.createRoot,Dg.hydrateRoot=_w.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}var ti;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ti||(ti={}));const ww="popstate";function t3(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Po(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),C0("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:af(i))}function r(s,i){Dv(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return r3(e,n,r,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n3(){return Math.random().toString(36).substr(2,8)}function bw(t,e){return{usr:t.state,key:t.key,idx:e}}function C0(t,e,n,r){return n===void 0&&(n=null),eu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Po(e):e,{state:n,key:e&&e.key||r||n3()})}function af(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function r3(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ti.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(eu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=ti.Pop;let _=u(),x=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:x})}function h(_,x){a=ti.Push;let b=C0(y.location,_,x);n&&n(b,_),c=u()+1;let T=bw(b,c),C=y.createHref(b);try{o.pushState(T,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(C)}i&&l&&l({action:a,location:y.location,delta:1})}function m(_,x){a=ti.Replace;let b=C0(y.location,_,x);n&&n(b,_),c=u();let T=bw(b,c),C=y.createHref(b);o.replaceState(T,"",C),i&&l&&l({action:a,location:y.location,delta:0})}function v(_){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof _=="string"?_:af(_);return b=b.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ww,f),l=_,()=>{s.removeEventListener(ww,f),l=null}},createHref(_){return e(s,_)},createURL:v,encodeLocation(_){let x=v(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(_){return o.go(_)}};return y}var Ew;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ew||(Ew={}));function s3(t,e,n){return n===void 0&&(n="/"),i3(t,e,n,!1)}function i3(t,e,n,r){let s=typeof e=="string"?Po(e):e,i=Ov(s.pathname||"/",n);if(i==null)return null;let o=IC(t);o3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=y3(i);a=m3(o[l],c,r)}return a}function IC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=pi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),IC(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:f3(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of AC(i.path))s(i,o,l)}),e}function AC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=AC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function o3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const a3=/^:[\w-]+$/,l3=3,c3=2,u3=1,d3=10,h3=-2,Tw=t=>t==="*";function f3(t,e){let n=t.split("/"),r=n.length;return n.some(Tw)&&(r+=h3),e&&(r+=c3),n.filter(s=>!Tw(s)).reduce((s,i)=>s+(a3.test(i)?l3:i===""?u3:d3),r)}function p3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function m3(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=Sw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Sw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:pi([i,f.pathname]),pathnameBase:w3(pi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=pi([i,f.pathnameBase]))}return o}function Sw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=g3(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[f];return m&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function g3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function y3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ov(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function v3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Po(t):t;return{pathname:n?n.startsWith("/")?n:x3(n,e):e,search:b3(r),hash:E3(s)}}function x3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kC(t,e){let n=_3(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function RC(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Po(t):(s=eu({},t),ht(!s.pathname||!s.pathname.includes("?"),Xm("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Xm("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Xm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=v3(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const pi=t=>t.join("/").replace(/\/\/+/g,"/"),w3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function T3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PC=["post","put","patch","delete"];new Set(PC);const S3=["get",...PC];new Set(S3);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}const Mv=w.createContext(null),C3=w.createContext(null),No=w.createContext(null),pp=w.createContext(null),Do=w.createContext({outlet:null,matches:[],isDataRoute:!1}),NC=w.createContext(null);function I3(t,e){let{relative:n}=e===void 0?{}:e;Ru()||ht(!1);let{basename:r,navigator:s}=w.useContext(No),{hash:i,pathname:o,search:a}=OC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:pi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ru(){return w.useContext(pp)!=null}function ll(){return Ru()||ht(!1),w.useContext(pp).location}function DC(t){w.useContext(No).static||w.useLayoutEffect(t)}function Oo(){let{isDataRoute:t}=w.useContext(Do);return t?U3():A3()}function A3(){Ru()||ht(!1);let t=w.useContext(Mv),{basename:e,future:n,navigator:r}=w.useContext(No),{matches:s}=w.useContext(Do),{pathname:i}=ll(),o=JSON.stringify(kC(s,n.v7_relativeSplatPath)),a=w.useRef(!1);return DC(()=>{a.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=RC(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:pi([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,o,i,t])}function OC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(No),{matches:s}=w.useContext(Do),{pathname:i}=ll(),o=JSON.stringify(kC(s,r.v7_relativeSplatPath));return w.useMemo(()=>RC(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function k3(t,e){return R3(t,e)}function R3(t,e,n,r){Ru()||ht(!1);let{navigator:s}=w.useContext(No),{matches:i}=w.useContext(Do),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ll(),u;if(e){var f;let _=typeof e=="string"?Po(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||ht(!1),u=_}else u=c;let h=u.pathname||"/",m=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=s3(t,{pathname:m}),y=M3(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:pi([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:pi([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&y?w.createElement(pp.Provider,{value:{location:tu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ti.Pop}},y):y}function P3(){let t=F3(),e=T3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const N3=w.createElement(P3,null);class D3 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Do.Provider,{value:this.props.routeContext},w.createElement(NC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O3(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(Mv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Do.Provider,{value:e},r)}function M3(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||ht(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:m}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let m,v=!1,y=null,_=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||N3,l&&(c<0&&h===0?(v=!0,_=null):c===h&&(v=!0,_=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),b=()=>{let T;return m?T=y:v?T=_:f.route.Component?T=w.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=u,w.createElement(O3,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(D3,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var MC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MC||{}),lf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lf||{});function j3(t){let e=w.useContext(Mv);return e||ht(!1),e}function L3(t){let e=w.useContext(C3);return e||ht(!1),e}function V3(t){let e=w.useContext(Do);return e||ht(!1),e}function jC(t){let e=V3(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function F3(){var t;let e=w.useContext(NC),n=L3(lf.UseRouteError),r=jC(lf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function U3(){let{router:t}=j3(MC.UseNavigateStable),e=jC(lf.UseNavigateStable),n=w.useRef(!1);return DC(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,tu({fromRouteId:e},i)))},[t,e])}function wr(t){ht(!1)}function z3(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ti.Pop,navigator:i,static:o=!1,future:a}=t;Ru()&&ht(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:o,future:tu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Po(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:v="default"}=r,y=w.useMemo(()=>{let _=Ov(u,l);return _==null?null:{location:{pathname:_,search:f,hash:h,state:m,key:v},navigationType:s}},[l,u,f,h,m,v,s]);return y==null?null:w.createElement(No.Provider,{value:c},w.createElement(pp.Provider,{children:n,value:y}))}function B3(t){let{children:e,location:n}=t;return k3(I0(e),n)}new Promise(()=>{});function I0(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,I0(r.props.children,i));return}r.type!==wr&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=I0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A0.apply(this,arguments)}function $3(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function H3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W3(t,e){return t.button===0&&(!e||e==="_self")&&!H3(t)}const q3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],K3="6";try{window.__reactRouterVersion=K3}catch{}const G3="startTransition",Cw=ET[G3];function Q3(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=t3({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=w.useCallback(f=>{c&&Cw?Cw(()=>l(f)):l(f)},[l,c]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.createElement(z3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Y3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=$3(e,q3),{basename:m}=w.useContext(No),v,y=!1;if(typeof c=="string"&&X3.test(c)&&(v=c,Y3))try{let T=new URL(window.location.href),C=c.startsWith("//")?new URL(T.protocol+c):new URL(c),N=Ov(C.pathname,m);C.origin===T.origin&&N!=null?c=N+C.search+C.hash:y=!0}catch{}let _=I3(c,{relative:s}),x=J3(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:f});function b(T){r&&r(T),T.defaultPrevented||x(T)}return w.createElement("a",A0({},h,{href:v||_,onClick:y||i?r:b,ref:n,target:l}))});var Iw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Iw||(Iw={}));var Aw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));function J3(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Oo(),c=ll(),u=OC(t,{relative:o});return w.useCallback(f=>{if(W3(f,n)){f.preventDefault();let h=r!==void 0?r:af(c)===af(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const Z3=1,eD=1e6;let Jm=0;function tD(){return Jm=(Jm+1)%Number.MAX_SAFE_INTEGER,Jm.toString()}const Zm=new Map,kw=t=>{if(Zm.has(t))return;const e=setTimeout(()=>{Zm.delete(t),Tc({type:"REMOVE_TOAST",toastId:t})},eD);Zm.set(t,e)},nD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Z3)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?kw(n):t.toasts.forEach(r=>{kw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},vh=[];let xh={toasts:[]};function Tc(t){xh=nD(xh,t),vh.forEach(e=>{e(xh)})}function rD({...t}){const e=tD(),n=s=>Tc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Tc({type:"DISMISS_TOAST",toastId:e});return Tc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function LC(){const[t,e]=w.useState(xh);return w.useEffect(()=>(vh.push(e),()=>{const n=vh.indexOf(e);n>-1&&vh.splice(n,1)}),[t]),{...t,toast:rD,dismiss:n=>Tc({type:"DISMISS_TOAST",toastId:n})}}function he(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function sD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function VC(...t){return e=>t.forEach(n=>sD(n,e))}function tt(...t){return w.useCallback(VC(...t),t)}function iD(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:m,...v}=f,y=(h==null?void 0:h[t][l])||a,_=w.useMemo(()=>v,Object.values(v));return p.jsx(y.Provider,{value:_,children:m})}function u(f,h){const m=(h==null?void 0:h[t][l])||a,v=w.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,oD(s,...e)]}function oD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var qa=w.forwardRef((t,e)=>{const{children:n,...r}=t,s=w.Children.toArray(n),i=s.find(aD);if(i){const o=i.props.children,a=s.map(l=>l===i?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return p.jsx(k0,{...r,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return p.jsx(k0,{...r,ref:e,children:n})});qa.displayName="Slot";var k0=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const s=cD(n);return w.cloneElement(n,{...lD(r,n.props),ref:e?VC(e,s):s})}return w.Children.count(n)>1?w.Children.only(null):null});k0.displayName="SlotClone";var FC=({children:t})=>p.jsx(p.Fragment,{children:t});function aD(t){return w.isValidElement(t)&&t.type===FC}function lD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function cD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function UC(t){const e=t+"CollectionProvider",[n,r]=iD(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:y}=m,_=Q.useRef(null),x=Q.useRef(new Map).current;return p.jsx(s,{scope:v,itemMap:x,collectionRef:_,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Q.forwardRef((m,v)=>{const{scope:y,children:_}=m,x=i(a,y),b=tt(v,x.collectionRef);return p.jsx(qa,{ref:b,children:_})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",f=Q.forwardRef((m,v)=>{const{scope:y,children:_,...x}=m,b=Q.useRef(null),T=tt(v,b),C=i(c,y);return Q.useEffect(()=>(C.itemMap.set(b,{ref:b,...x}),()=>void C.itemMap.delete(b))),p.jsx(qa,{[u]:"",ref:T,children:_})});f.displayName=c;function h(m){const v=i(t+"CollectionConsumer",m);return Q.useCallback(()=>{const _=v.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((C,N)=>x.indexOf(C.ref.current)-x.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function uD(t,e){const n=w.createContext(e),r=i=>{const{children:o,...a}=i,l=w.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function cl(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];const c=f=>{var x;const{scope:h,children:m,...v}=f,y=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,_=w.useMemo(()=>v,Object.values(v));return p.jsx(y.Provider,{value:_,children:m})};c.displayName=i+"Provider";function u(f,h){var y;const m=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,v=w.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,dD(s,...e)]}function dD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var hD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=hD.reduce((t,e)=>{const n=w.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?qa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function zC(t,e){t&&ku.flushSync(()=>t.dispatchEvent(e))}function st(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function fD(t,e=globalThis==null?void 0:globalThis.document){const n=st(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var pD="DismissableLayer",R0="dismissableLayer.update",mD="dismissableLayer.pointerDownOutside",gD="dismissableLayer.focusOutside",Rw,BC=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mp=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=w.useContext(BC),[u,f]=w.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),v=tt(e,I=>f(I)),y=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(_),b=u?y.indexOf(u):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,C=b>=x,N=vD(I=>{const S=I.target,A=[...c.branches].some(R=>R.contains(S));!C||A||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},h),M=xD(I=>{const S=I.target;[...c.branches].some(R=>R.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},h);return fD(I=>{b===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},h),w.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Rw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Pw(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Rw)}},[u,h,n,c]),w.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Pw())},[u,c]),w.useEffect(()=>{const I=()=>m({});return document.addEventListener(R0,I),()=>document.removeEventListener(R0,I)},[]),p.jsx(xe.div,{...l,ref:v,style:{pointerEvents:T?C?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,M.onFocusCapture),onBlurCapture:he(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,N.onPointerDownCapture)})});mp.displayName=pD;var yD="DismissableLayerBranch",$C=w.forwardRef((t,e)=>{const n=w.useContext(BC),r=w.useRef(null),s=tt(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(xe.div,{...t,ref:s})});$C.displayName=yD;function vD(t,e=globalThis==null?void 0:globalThis.document){const n=st(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){HC(mD,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function xD(t,e=globalThis==null?void 0:globalThis.document){const n=st(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&HC(gD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Pw(){const t=new CustomEvent(R0);document.dispatchEvent(t)}function HC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?zC(s,i):s.dispatchEvent(i)}var _D=mp,wD=$C,ar=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},bD="Portal",jv=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=w.useState(!1);ar(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?CC.createPortal(p.jsx(xe.div,{...r,ref:e}),o):null});jv.displayName=bD;function ED(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var hr=t=>{const{present:e,children:n}=t,r=TD(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=tt(r.ref,SD(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};hr.displayName="Presence";function TD(t){const[e,n]=w.useState(),r=w.useRef({}),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=ED(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Rd(r.current);i.current=a==="mounted"?c:"none"},[a]),ar(()=>{const c=r.current,u=s.current;if(u!==t){const h=i.current,m=Rd(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ar(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=m=>{const y=Rd(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},h=m=>{m.target===e&&(i.current=Rd(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Rd(t){return(t==null?void 0:t.animationName)||"none"}function SD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function gp({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=CD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=st(n),l=w.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function CD({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,s=w.useRef(r),i=st(e);return w.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var ID="VisuallyHidden",yp=w.forwardRef((t,e)=>p.jsx(xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));yp.displayName=ID;var AD=yp,Lv="ToastProvider",[Vv,kD,RD]=UC("Toast"),[WC,TK]=cl("Toast",[RD]),[PD,vp]=WC(Lv),qC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=w.useState(null),[c,u]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lv}\`. Expected non-empty \`string\`.`),p.jsx(Vv.Provider,{scope:e,children:p.jsx(PD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>u(m=>m+1),[]),onToastRemove:w.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};qC.displayName=Lv;var KC="ToastViewport",ND=["F8"],P0="toast.viewportPause",N0="toast.viewportResume",GC=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ND,label:s="Notifications ({hotkey})",...i}=t,o=vp(KC,n),a=kD(n),l=w.useRef(null),c=w.useRef(null),u=w.useRef(null),f=w.useRef(null),h=tt(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;w.useEffect(()=>{const _=x=>{var T;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),w.useEffect(()=>{const _=l.current,x=f.current;if(v&&_&&x){const b=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(P0);x.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(N0);x.dispatchEvent(M),o.isClosePausedRef.current=!1}},C=M=>{!_.contains(M.relatedTarget)&&T()},N=()=>{_.contains(document.activeElement)||T()};return _.addEventListener("focusin",b),_.addEventListener("focusout",C),_.addEventListener("pointermove",b),_.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",T),()=>{_.removeEventListener("focusin",b),_.removeEventListener("focusout",C),_.removeEventListener("pointermove",b),_.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",T)}}},[v,o.isClosePausedRef]);const y=w.useCallback(({tabbingDirection:_})=>{const b=a().map(T=>{const C=T.ref.current,N=[C,...WD(C)];return _==="forwards"?N:N.reverse()});return(_==="forwards"?b.reverse():b).flat()},[a]);return w.useEffect(()=>{const _=f.current;if(_){const x=b=>{var N,M,I;const T=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!T){const S=document.activeElement,A=b.shiftKey;if(b.target===_&&A){(N=c.current)==null||N.focus();return}const O=y({tabbingDirection:A?"backwards":"forwards"}),P=O.findIndex(q=>q===S);eg(O.slice(P+1))?b.preventDefault():A?(M=c.current)==null||M.focus():(I=u.current)==null||I.focus()}};return _.addEventListener("keydown",x),()=>_.removeEventListener("keydown",x)}},[a,y]),p.jsxs(wD,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&p.jsx(D0,{ref:c,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});eg(_)}}),p.jsx(Vv.Slot,{scope:n,children:p.jsx(xe.ol,{tabIndex:-1,...i,ref:h})}),v&&p.jsx(D0,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});eg(_)}})]})});GC.displayName=KC;var QC="ToastFocusProxy",D0=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=vp(QC,n);return p.jsx(yp,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});D0.displayName=QC;var xp="Toast",DD="toast.swipeStart",OD="toast.swipeMove",MD="toast.swipeCancel",jD="toast.swipeEnd",YC=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=gp({prop:r,defaultProp:s,onChange:i});return p.jsx(hr,{present:n||a,children:p.jsx(FD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:st(t.onPause),onResume:st(t.onResume),onSwipeStart:he(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:he(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});YC.displayName=xp;var[LD,VD]=WC(xp,{onClose(){}}),FD=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=t,y=vp(xp,n),[_,x]=w.useState(null),b=tt(e,q=>x(q)),T=w.useRef(null),C=w.useRef(null),N=s||y.duration,M=w.useRef(0),I=w.useRef(N),S=w.useRef(0),{onToastAdd:A,onToastRemove:R}=y,D=st(()=>{var V;(_==null?void 0:_.contains(document.activeElement))&&((V=y.viewport)==null||V.focus()),o()}),O=w.useCallback(q=>{!q||q===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(D,q))},[D]);w.useEffect(()=>{const q=y.viewport;if(q){const V=()=>{O(I.current),c==null||c()},U=()=>{const W=new Date().getTime()-M.current;I.current=I.current-W,window.clearTimeout(S.current),l==null||l()};return q.addEventListener(P0,U),q.addEventListener(N0,V),()=>{q.removeEventListener(P0,U),q.removeEventListener(N0,V)}}},[y.viewport,N,l,c,O]),w.useEffect(()=>{i&&!y.isClosePausedRef.current&&O(N)},[i,N,y.isClosePausedRef,O]),w.useEffect(()=>(A(),()=>R()),[A,R]);const P=w.useMemo(()=>_?rI(_):null,[_]);return y.viewport?p.jsxs(p.Fragment,{children:[P&&p.jsx(UD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),p.jsx(LD,{scope:n,onClose:D,children:ku.createPortal(p.jsx(Vv.ItemSlot,{scope:n,children:p.jsx(_D,{asChild:!0,onEscapeKeyDown:he(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:he(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:he(t.onPointerDown,q=>{q.button===0&&(T.current={x:q.clientX,y:q.clientY})}),onPointerMove:he(t.onPointerMove,q=>{if(!T.current)return;const V=q.clientX-T.current.x,U=q.clientY-T.current.y,W=!!C.current,j=["left","right"].includes(y.swipeDirection),z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,X=j?z(0,V):0,J=j?0:z(0,U),Z=q.pointerType==="touch"?10:2,G={x:X,y:J},_e={originalEvent:q,delta:G};W?(C.current=G,Pd(OD,f,_e,{discrete:!1})):Nw(G,y.swipeDirection,Z)?(C.current=G,Pd(DD,u,_e,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(V)>Z||Math.abs(U)>Z)&&(T.current=null)}),onPointerUp:he(t.onPointerUp,q=>{const V=C.current,U=q.target;if(U.hasPointerCapture(q.pointerId)&&U.releasePointerCapture(q.pointerId),C.current=null,T.current=null,V){const W=q.currentTarget,j={originalEvent:q,delta:V};Nw(V,y.swipeDirection,y.swipeThreshold)?Pd(jD,m,j,{discrete:!0}):Pd(MD,h,j,{discrete:!0}),W.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),UD=t=>{const{__scopeToast:e,children:n,...r}=t,s=vp(xp,e),[i,o]=w.useState(!1),[a,l]=w.useState(!1);return $D(()=>o(!0)),w.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(jv,{asChild:!0,children:p.jsx(yp,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},zD="ToastTitle",XC=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(xe.div,{...r,ref:e})});XC.displayName=zD;var BD="ToastDescription",JC=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(xe.div,{...r,ref:e})});JC.displayName=BD;var ZC="ToastAction",eI=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(nI,{altText:n,asChild:!0,children:p.jsx(Fv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZC}\`. Expected non-empty \`string\`.`),null)});eI.displayName=ZC;var tI="ToastClose",Fv=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=VD(tI,n);return p.jsx(nI,{asChild:!0,children:p.jsx(xe.button,{type:"button",...r,ref:e,onClick:he(t.onClick,s.onClose)})})});Fv.displayName=tI;var nI=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function rI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),HD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...rI(r))}}),e}function Pd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?zC(s,i):s.dispatchEvent(i)}var Nw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function $D(t=()=>{}){const e=st(t);ar(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function HD(t){return t.nodeType===t.ELEMENT_NODE}function WD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function eg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var qD=qC,sI=GC,iI=YC,oI=XC,aI=JC,lI=eI,cI=Fv;function uI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=uI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=uI(t))&&(r&&(r+=" "),r+=e);return r}const Dw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ow=dI,Uv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ow(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],f=i==null?void 0:i[c];if(u===null)return null;const h=Dw(u)||Dw(f);return s[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(v=>{let[y,_]=v;return Array.isArray(_)?_.includes({...i,...a}[y]):{...i,...a}[y]===_})?[...c,f,h]:c},[]);return Ow(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...GD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hI("lucide",s),...a},[...o.map(([c,u])=>w.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(QD,{ref:i,iconNode:e,className:hI(`lucide-${KD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Ee("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Ee("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=Ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Ee("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Ee("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Ee("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Ee("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Ee("Rabbit",[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=Ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zv="-",oO=t=>{const e=lO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(zv);return a[0]===""&&a.length!==1&&a.shift(),xI(a,e)||aO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},xI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?xI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(zv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Fw=/^\[(.+)\]$/,aO=t=>{if(Fw.test(t)){const e=Fw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},lO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uO(Object.entries(t.classGroups),n).forEach(([i,o])=>{F0(o,r,i,e)}),r},F0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Uw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(cO(s)){F0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{F0(o,Uw(e,i),n,r)})})},Uw=(t,e)=>{let n=t;return e.split(zv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},cO=t=>t.isThemeGetter,uO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,dO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},_I="!",hO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,f;for(let _=0;_<a.length;_++){let x=a[_];if(c===0){if(x===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(u,_)),u=_+i;continue}if(x==="/"){f=_;continue}}x==="["?c++:x==="]"&&c--}const h=l.length===0?a:a.substring(u),m=h.startsWith(_I),v=m?h.substring(1):h,y=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},fO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},pO=t=>({cache:dO(t.cacheSize),parseClassName:hO(t),...oO(t)}),mO=/\s+/,gO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(mO);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let v=!!m,y=r(v?h.substring(0,m):h);if(!y){if(!v){a=c+(a.length>0?" "+a:a);continue}if(y=r(h),!y){a=c+(a.length>0?" "+a:a);continue}v=!1}const _=fO(u).join(":"),x=f?_+_I:_,b=x+y;if(i.includes(b))continue;i.push(b);const T=s(y,v);for(let C=0;C<T.length;++C){const N=T[C];i.push(x+N)}a=c+(a.length>0?" "+a:a)}return a};function yO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wI(e))&&(r&&(r+=" "),r+=n);return r}const wI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wI(t[r]))&&(n&&(n+=" "),n+=e);return n};function vO(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return n=pO(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=gO(l,n);return s(l,u),u}return function(){return i(yO.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bI=/^\[(?:([a-z-]+):)?(.+)\]$/i,xO=/^\d+\/\d+$/,_O=new Set(["px","full","screen"]),wO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=t=>ba(t)||_O.has(t)||xO.test(t),Ns=t=>ul(t,"length",DO),ba=t=>!!t&&!Number.isNaN(Number(t)),tg=t=>ul(t,"number",ba),Wl=t=>!!t&&Number.isInteger(Number(t)),CO=t=>t.endsWith("%")&&ba(t.slice(0,-1)),ce=t=>bI.test(t),Ds=t=>wO.test(t),IO=new Set(["length","size","percentage"]),AO=t=>ul(t,IO,EI),kO=t=>ul(t,"position",EI),RO=new Set(["image","url"]),PO=t=>ul(t,RO,MO),NO=t=>ul(t,"",OO),ql=()=>!0,ul=(t,e,n)=>{const r=bI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},DO=t=>bO.test(t)&&!EO.test(t),EI=()=>!1,OO=t=>TO.test(t),MO=t=>SO.test(t),jO=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),u=Fe("hueRotate"),f=Fe("invert"),h=Fe("gap"),m=Fe("gradientColorStops"),v=Fe("gradientColorStopPositions"),y=Fe("inset"),_=Fe("margin"),x=Fe("opacity"),b=Fe("padding"),T=Fe("saturate"),C=Fe("scale"),N=Fe("sepia"),M=Fe("skew"),I=Fe("space"),S=Fe("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ce,e],O=()=>[ce,e],P=()=>["",Qr,Ns],q=()=>["auto",ba,ce],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ce],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[ba,ce];return{cacheSize:500,separator:":",theme:{colors:[ql],spacing:[Qr,Ns],blur:["none","",Ds,ce],brightness:J(),borderColor:[t],borderRadius:["none","","full",Ds,ce],borderSpacing:O(),borderWidth:P(),contrast:J(),grayscale:z(),hueRotate:J(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[CO,Ns],inset:D(),margin:D(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:z(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Ds]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wl,ce]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Wl,ce]}],"grid-cols":[{"grid-cols":[ql]}],"col-start-end":[{col:["auto",{span:["full",Wl,ce]},ce]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[ql]}],"row-start-end":[{row:["auto",{span:[Wl,ce]},ce]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Ds]},Ds]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ds,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tg]}],"font-family":[{font:[ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",ba,tg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,Ns]}],"underline-offset":[{"underline-offset":["auto",Qr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),kO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},PO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Qr,ce]}],"outline-w":[{outline:[Qr,Ns]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Qr,Ns]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ds,NO]}],"shadow-color":[{shadow:[ql]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ds,ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Wl,ce]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qr,Ns,tg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LO=vO(jO);function fe(...t){return LO(dI(t))}const VO=qD,TI=w.forwardRef(({className:t,...e},n)=>p.jsx(sI,{ref:n,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));TI.displayName=sI.displayName;const FO=Uv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SI=w.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(iI,{ref:r,className:fe(FO({variant:e}),t),...n}));SI.displayName=iI.displayName;const UO=w.forwardRef(({className:t,...e},n)=>p.jsx(lI,{ref:n,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));UO.displayName=lI.displayName;const CI=w.forwardRef(({className:t,...e},n)=>p.jsx(cI,{ref:n,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(_p,{className:"h-4 w-4"})}));CI.displayName=cI.displayName;const II=w.forwardRef(({className:t,...e},n)=>p.jsx(oI,{ref:n,className:fe("text-sm font-semibold",t),...e}));II.displayName=oI.displayName;const AI=w.forwardRef(({className:t,...e},n)=>p.jsx(aI,{ref:n,className:fe("text-sm opacity-90",t),...e}));AI.displayName=aI.displayName;function zO(){const{toasts:t}=LC();return p.jsxs(VO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(SI,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(II,{children:n}),r&&p.jsx(AI,{children:r})]}),s,p.jsx(CI,{})]},e)}),p.jsx(TI,{})]})}var zw=["light","dark"],BO="(prefers-color-scheme: dark)",$O=w.createContext(void 0),HO={setTheme:t=>{},themes:[]},WO=()=>{var t;return(t=w.useContext($O))!=null?t:HO};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?zw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,y=!1,_=!0)=>{let x=o?o[v]:v,b=y?v+"|| ''":`'${x}'`,T="";return s&&_&&!y&&zw.includes(v)&&(T+=`d.style.colorScheme = '${v}';`),n==="class"?y||x?T+=`c.add(${b})`:T+="null":x&&(T+=`d[s](n,${b})`),T},m=t?`!function(){${u}${h(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${BO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var qO=t=>{switch(t){case"success":return QO;case"info":return XO;case"warning":return YO;case"error":return JO;default:return null}},KO=Array(12).fill(0),GO=({visible:t})=>Q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Q.createElement("div",{className:"sonner-spinner"},KO.map((e,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),QO=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YO=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),XO=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),JO=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ZO=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},U0=1,eM=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:U0++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(nM(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||U0++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},En=new eM,tM=(t,e)=>{let n=(e==null?void 0:e.id)||U0++;return En.addToast({title:t,...e,id:n}),n},nM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",rM=tM,sM=()=>En.toasts,De=Object.assign(rM,{success:En.success,info:En.info,warning:En.warning,error:En.error,custom:En.custom,message:En.message,promise:En.promise,dismiss:En.dismiss,loading:En.loading},{getHistory:sM});function iM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}iM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nd(t){return t.label!==void 0}var oM=3,aM="32px",lM=4e3,cM=356,uM=14,dM=20,hM=200;function fM(...t){return t.filter(Boolean).join(" ")}var pM=t=>{var e,n,r,s,i,o,a,l,c,u;let{invert:f,toast:h,unstyled:m,interacting:v,setHeights:y,visibleToasts:_,heights:x,index:b,toasts:T,expanded:C,removeToast:N,defaultRichColors:M,closeButton:I,style:S,cancelButtonStyle:A,actionButtonStyle:R,className:D="",descriptionClassName:O="",duration:P,position:q,gap:V,loadingIcon:U,expandByDefault:W,classNames:j,icons:z,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:J,cn:Z}=t,[G,_e]=Q.useState(!1),[Le,pe]=Q.useState(!1),[Ot,pr]=Q.useState(!1),[mr,xn]=Q.useState(!1),[$r,gr]=Q.useState(0),[qn,Hr]=Q.useState(0),Ts=Q.useRef(null),Kn=Q.useRef(null),_l=b===0,wl=b+1<=_,ot=h.type,yr=h.dismissible!==!1,Qu=h.className||"",cm=h.descriptionClassName||"",Ss=Q.useMemo(()=>x.findIndex(oe=>oe.toastId===h.id)||0,[x,h.id]),bl=Q.useMemo(()=>{var oe;return(oe=h.closeButton)!=null?oe:I},[h.closeButton,I]),El=Q.useMemo(()=>h.duration||P||lM,[h.duration,P]),at=Q.useRef(0),Ye=Q.useRef(0),Bi=Q.useRef(0),Wr=Q.useRef(null),[Tl,um]=q.split("-"),Cs=Q.useMemo(()=>x.reduce((oe,Ne,Ae)=>Ae>=Ss?oe:oe+Ne.height,0),[x,Ss]),Sl=ZO(),Yu=h.invert||f,$i=ot==="loading";Ye.current=Q.useMemo(()=>Ss*V+Cs,[Ss,Cs]),Q.useEffect(()=>{_e(!0)},[]),Q.useLayoutEffect(()=>{if(!G)return;let oe=Kn.current,Ne=oe.style.height;oe.style.height="auto";let Ae=oe.getBoundingClientRect().height;oe.style.height=Ne,Hr(Ae),y(Mt=>Mt.find(an=>an.toastId===h.id)?Mt.map(an=>an.toastId===h.id?{...an,height:Ae}:an):[{toastId:h.id,height:Ae,position:h.position},...Mt])},[G,h.title,h.description,y,h.id]);let vr=Q.useCallback(()=>{pe(!0),gr(Ye.current),y(oe=>oe.filter(Ne=>Ne.toastId!==h.id)),setTimeout(()=>{N(h)},hM)},[h,N,y,Ye]);Q.useEffect(()=>{if(h.promise&&ot==="loading"||h.duration===1/0||h.type==="loading")return;let oe,Ne=El;return C||v||J&&Sl?(()=>{if(Bi.current<at.current){let Ae=new Date().getTime()-at.current;Ne=Ne-Ae}Bi.current=new Date().getTime()})():Ne!==1/0&&(at.current=new Date().getTime(),oe=setTimeout(()=>{var Ae;(Ae=h.onAutoClose)==null||Ae.call(h,h),vr()},Ne)),()=>clearTimeout(oe)},[C,v,W,h,El,vr,h.promise,ot,J,Sl]),Q.useEffect(()=>{let oe=Kn.current;if(oe){let Ne=oe.getBoundingClientRect().height;return Hr(Ne),y(Ae=>[{toastId:h.id,height:Ne,position:h.position},...Ae]),()=>y(Ae=>Ae.filter(Mt=>Mt.toastId!==h.id))}},[y,h.id]),Q.useEffect(()=>{h.delete&&vr()},[vr,h.delete]);function dm(){return z!=null&&z.loading?Q.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},z.loading):U?Q.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},U):Q.createElement(GO,{visible:ot==="loading"})}return Q.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Kn,className:Z(D,Qu,j==null?void 0:j.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[ot],(n=h==null?void 0:h.classNames)==null?void 0:n[ot]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:M,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":G,"data-promise":!!h.promise,"data-removed":Le,"data-visible":wl,"data-y-position":Tl,"data-x-position":um,"data-index":b,"data-front":_l,"data-swiping":Ot,"data-dismissible":yr,"data-type":ot,"data-invert":Yu,"data-swipe-out":mr,"data-expanded":!!(C||W&&G),style:{"--index":b,"--toasts-before":b,"--z-index":T.length-b,"--offset":`${Le?$r:Ye.current}px`,"--initial-height":W?"auto":`${qn}px`,...S,...h.style},onPointerDown:oe=>{$i||!yr||(Ts.current=new Date,gr(Ye.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(pr(!0),Wr.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,Ne,Ae,Mt;if(mr||!yr)return;Wr.current=null;let an=Number(((oe=Kn.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Is=new Date().getTime()-((Ne=Ts.current)==null?void 0:Ne.getTime()),qr=Math.abs(an)/Is;if(Math.abs(an)>=dM||qr>.11){gr(Ye.current),(Ae=h.onDismiss)==null||Ae.call(h,h),vr(),xn(!0);return}(Mt=Kn.current)==null||Mt.style.setProperty("--swipe-amount","0px"),pr(!1)},onPointerMove:oe=>{var Ne;if(!Wr.current||!yr)return;let Ae=oe.clientY-Wr.current.y,Mt=oe.clientX-Wr.current.x,an=(Tl==="top"?Math.min:Math.max)(0,Ae),Is=oe.pointerType==="touch"?10:2;Math.abs(an)>Is?(Ne=Kn.current)==null||Ne.style.setProperty("--swipe-amount",`${Ae}px`):Math.abs(Mt)>Is&&(Wr.current=null)}},bl&&!h.jsx?Q.createElement("button",{"aria-label":X,"data-disabled":$i,"data-close-button":!0,onClick:$i||!yr?()=>{}:()=>{var oe;vr(),(oe=h.onDismiss)==null||oe.call(h,h)},className:Z(j==null?void 0:j.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||Q.isValidElement(h.title)?h.jsx||h.title:Q.createElement(Q.Fragment,null,ot||h.icon||h.promise?Q.createElement("div",{"data-icon":"",className:Z(j==null?void 0:j.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||dm():null,h.type!=="loading"?h.icon||(z==null?void 0:z[ot])||qO(ot):null):null,Q.createElement("div",{"data-content":"",className:Z(j==null?void 0:j.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},Q.createElement("div",{"data-title":"",className:Z(j==null?void 0:j.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?Q.createElement("div",{"data-description":"",className:Z(O,cm,j==null?void 0:j.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),Q.isValidElement(h.cancel)?h.cancel:h.cancel&&Nd(h.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:oe=>{var Ne,Ae;Nd(h.cancel)&&yr&&((Ae=(Ne=h.cancel).onClick)==null||Ae.call(Ne,oe),vr())},className:Z(j==null?void 0:j.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,Q.isValidElement(h.action)?h.action:h.action&&Nd(h.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:oe=>{var Ne,Ae;Nd(h.action)&&(oe.defaultPrevented||((Ae=(Ne=h.action).onClick)==null||Ae.call(Ne,oe),vr()))},className:Z(j==null?void 0:j.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function Bw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var mM=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:u,style:f,visibleToasts:h=oM,toastOptions:m,dir:v=Bw(),gap:y=uM,loadingIcon:_,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:T,cn:C=fM}=t,[N,M]=Q.useState([]),I=Q.useMemo(()=>Array.from(new Set([n].concat(N.filter(J=>J.position).map(J=>J.position)))),[N,n]),[S,A]=Q.useState([]),[R,D]=Q.useState(!1),[O,P]=Q.useState(!1),[q,V]=Q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=Q.useRef(null),W=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=Q.useRef(null),z=Q.useRef(!1),X=Q.useCallback(J=>{var Z;(Z=N.find(G=>G.id===J.id))!=null&&Z.delete||En.dismiss(J.id),M(G=>G.filter(({id:_e})=>_e!==J.id))},[N]);return Q.useEffect(()=>En.subscribe(J=>{if(J.dismiss){M(Z=>Z.map(G=>G.id===J.id?{...G,delete:!0}:G));return}setTimeout(()=>{CC.flushSync(()=>{M(Z=>{let G=Z.findIndex(_e=>_e.id===J.id);return G!==-1?[...Z.slice(0,G),{...Z[G],...J},...Z.slice(G+1)]:[J,...Z]})})})}),[]),Q.useEffect(()=>{if(l!=="system"){V(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:J})=>{V(J?"dark":"light")})},[l]),Q.useEffect(()=>{N.length<=1&&D(!1)},[N]),Q.useEffect(()=>{let J=Z=>{var G,_e;r.every(Le=>Z[Le]||Z.code===Le)&&(D(!0),(G=U.current)==null||G.focus()),Z.code==="Escape"&&(document.activeElement===U.current||(_e=U.current)!=null&&_e.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[r]),Q.useEffect(()=>{if(U.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,z.current=!1)}},[U.current]),N.length?Q.createElement("section",{"aria-label":`${b} ${W}`,tabIndex:-1},I.map((J,Z)=>{var G;let[_e,Le]=J.split("-");return Q.createElement("ol",{key:J,dir:v==="auto"?Bw():v,tabIndex:-1,ref:U,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":_e,"data-x-position":Le,style:{"--front-toast-height":`${((G=S[0])==null?void 0:G.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||aM,"--width":`${cM}px`,"--gap":`${y}px`,...f},onBlur:pe=>{z.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(z.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||z.current||(z.current=!0,j.current=pe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},N.filter(pe=>!pe.position&&Z===0||pe.position===J).map((pe,Ot)=>{var pr,mr;return Q.createElement(pM,{key:pe.id,icons:x,index:Ot,toast:pe,defaultRichColors:c,duration:(pr=m==null?void 0:m.duration)!=null?pr:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:h,closeButton:(mr=m==null?void 0:m.closeButton)!=null?mr:i,interacting:O,position:J,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:X,toasts:N.filter(xn=>xn.position==pe.position),heights:S.filter(xn=>xn.position==pe.position),setHeights:A,expandByDefault:s,gap:y,loadingIcon:_,expanded:R,pauseWhenPageIsHidden:T,cn:C})}))})):null};const gM=({...t})=>{const{theme:e="system"}=WO();return p.jsx(mM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var yM=ET.useId||(()=>{}),vM=0;function Sc(t){const[e,n]=w.useState(yM());return ar(()=>{t||n(r=>r??String(vM++))},[t]),t||(e?`radix-${e}`:"")}const xM=["top","right","bottom","left"],Ti=Math.min,Sn=Math.max,uf=Math.round,Dd=Math.floor,Si=t=>({x:t,y:t}),_M={left:"right",right:"left",bottom:"top",top:"bottom"},wM={start:"end",end:"start"};function z0(t,e,n){return Sn(t,Ti(e,n))}function fs(t,e){return typeof t=="function"?t(e):t}function ps(t){return t.split("-")[0]}function dl(t){return t.split("-")[1]}function Bv(t){return t==="x"?"y":"x"}function $v(t){return t==="y"?"height":"width"}function Ci(t){return["top","bottom"].includes(ps(t))?"y":"x"}function Hv(t){return Bv(Ci(t))}function bM(t,e,n){n===void 0&&(n=!1);const r=dl(t),s=Hv(t),i=$v(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=df(o)),[o,df(o)]}function EM(t){const e=df(t);return[B0(t),e,B0(e)]}function B0(t){return t.replace(/start|end/g,e=>wM[e])}function TM(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function SM(t,e,n,r){const s=dl(t);let i=TM(ps(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(B0)))),i}function df(t){return t.replace(/left|right|bottom|top/g,e=>_M[e])}function CM(t){return{top:0,right:0,bottom:0,left:0,...t}}function kI(t){return typeof t!="number"?CM(t):{top:t,right:t,bottom:t,left:t}}function hf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function $w(t,e,n){let{reference:r,floating:s}=t;const i=Ci(e),o=Hv(e),a=$v(o),l=ps(e),c=i==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(dl(e)){case"start":m[o]-=h*(n&&c?-1:1);break;case"end":m[o]+=h*(n&&c?-1:1);break}return m}const IM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=$w(c,r,l),h=r,m={},v=0;for(let y=0;y<a.length;y++){const{name:_,fn:x}=a[y],{x:b,y:T,data:C,reset:N}=await x({x:u,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,f=T??f,m={...m,[_]:{...m[_],...C}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:u,y:f}=$w(c,h,l)),y=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:m}};async function nu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=fs(e,t),v=kI(m),_=a[h?f==="floating"?"reference":"floating":f],x=hf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},N=hf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:T,strategy:l}):b);return{top:(x.top-N.top+v.top)/C.y,bottom:(N.bottom-x.bottom+v.bottom)/C.y,left:(x.left-N.left+v.left)/C.x,right:(N.right-x.right+v.right)/C.x}}const AM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=fs(t,e)||{};if(c==null)return{};const f=kI(u),h={x:n,y:r},m=Hv(s),v=$v(m),y=await o.getDimensions(c),_=m==="y",x=_?"top":"left",b=_?"bottom":"right",T=_?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[m]-h[m]-i.floating[v],N=h[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=M?M[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(M)))&&(I=a.floating[T]||i.floating[v]);const S=C/2-N/2,A=I/2-y[v]/2-1,R=Ti(f[x],A),D=Ti(f[b],A),O=R,P=I-y[v]-D,q=I/2-y[v]/2+S,V=z0(O,q,P),U=!l.arrow&&dl(s)!=null&&q!==V&&i.reference[v]/2-(q<O?R:D)-y[v]/2<0,W=U?q<O?q-O:q-P:0;return{[m]:h[m]+W,data:{[m]:V,centerOffset:q-V-W,...U&&{alignmentOffset:W}},reset:U}}}),kM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,..._}=fs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=ps(s),b=Ci(a),T=ps(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=h||(T||!y?[df(a)]:EM(a)),M=v!=="none";!h&&M&&N.push(...SM(a,y,v,C));const I=[a,...N],S=await nu(e,_),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&A.push(S[x]),f){const q=bM(s,o,C);A.push(S[q[0]],S[q[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(q=>q<=0)){var D,O;const q=(((D=i.flip)==null?void 0:D.index)||0)+1,V=I[q];if(V)return{data:{index:q,overflows:R},reset:{placement:V}};let U=(O=R.filter(W=>W.overflows[0]<=0).sort((W,j)=>W.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(m){case"bestFit":{var P;const W=(P=R.filter(j=>{if(M){const z=Ci(j.placement);return z===b||z==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(z=>z>0).reduce((z,X)=>z+X,0)]).sort((j,z)=>j[1]-z[1])[0])==null?void 0:P[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function Hw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ww(t){return xM.some(e=>t[e]>=0)}const RM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=fs(t,e);switch(r){case"referenceHidden":{const i=await nu(e,{...s,elementContext:"reference"}),o=Hw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ww(o)}}}case"escaped":{const i=await nu(e,{...s,altBoundary:!0}),o=Hw(i,n.floating);return{data:{escapedOffsets:o,escaped:Ww(o)}}}default:return{}}}}};async function PM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ps(n),a=dl(n),l=Ci(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,f=fs(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const NM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await PM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},DM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x,y:b}=_;return{x,y:b}}},...l}=fs(t,e),c={x:n,y:r},u=await nu(e,l),f=Ci(ps(s)),h=Bv(f);let m=c[h],v=c[f];if(i){const _=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=m+u[_],T=m-u[x];m=z0(b,m,T)}if(o){const _=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+u[_],T=v-u[x];v=z0(b,v,T)}const y=a.fn({...e,[h]:m,[f]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:i,[f]:o}}}}}},OM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=fs(t,e),u={x:n,y:r},f=Ci(s),h=Bv(f);let m=u[h],v=u[f];const y=fs(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=h==="y"?"height":"width",C=i.reference[h]-i.floating[T]+_.mainAxis,N=i.reference[h]+i.reference[T]-_.mainAxis;m<C?m=C:m>N&&(m=N)}if(c){var x,b;const T=h==="y"?"width":"height",C=["top","left"].includes(ps(s)),N=i.reference[f]-i.floating[T]+(C&&((x=o.offset)==null?void 0:x[f])||0)+(C?0:_.crossAxis),M=i.reference[f]+i.reference[T]+(C?0:((b=o.offset)==null?void 0:b[f])||0)-(C?_.crossAxis:0);v<N?v=N:v>M&&(v=M)}return{[h]:m,[f]:v}}}},MM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=fs(t,e),u=await nu(e,c),f=ps(s),h=dl(s),m=Ci(s)==="y",{width:v,height:y}=i.floating;let _,x;f==="top"||f==="bottom"?(_=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,_=h==="end"?"top":"bottom");const b=y-u.top-u.bottom,T=v-u.left-u.right,C=Ti(y-u[_],b),N=Ti(v-u[x],T),M=!e.middlewareData.shift;let I=C,S=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=b),M&&!h){const R=Sn(u.left,0),D=Sn(u.right,0),O=Sn(u.top,0),P=Sn(u.bottom,0);m?S=v-2*(R!==0||D!==0?R+D:Sn(u.left,u.right)):I=y-2*(O!==0||P!==0?O+P:Sn(u.top,u.bottom))}await l({...e,availableWidth:S,availableHeight:I});const A=await o.getDimensions(a.floating);return v!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function wp(){return typeof window<"u"}function hl(t){return RI(t)?(t.nodeName||"").toLowerCase():"#document"}function Pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zr(t){var e;return(e=(RI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RI(t){return wp()?t instanceof Node||t instanceof Pn(t).Node:!1}function lr(t){return wp()?t instanceof Element||t instanceof Pn(t).Element:!1}function Fr(t){return wp()?t instanceof HTMLElement||t instanceof Pn(t).HTMLElement:!1}function qw(t){return!wp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pn(t).ShadowRoot}function Pu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function jM(t){return["table","td","th"].includes(hl(t))}function bp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Wv(t){const e=qv(),n=lr(t)?cr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function LM(t){let e=Ii(t);for(;Fr(e)&&!Ka(e);){if(Wv(e))return e;if(bp(e))return null;e=Ii(e)}return null}function qv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ka(t){return["html","body","#document"].includes(hl(t))}function cr(t){return Pn(t).getComputedStyle(t)}function Ep(t){return lr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ii(t){if(hl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qw(t)&&t.host||zr(t);return qw(e)?e.host:e}function PI(t){const e=Ii(t);return Ka(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fr(e)&&Pu(e)?e:PI(e)}function ru(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=PI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Pn(s);if(i){const a=$0(o);return e.concat(o,o.visualViewport||[],Pu(s)?s:[],a&&n?ru(a):[])}return e.concat(s,ru(s,[],n))}function $0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NI(t){const e=cr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=uf(n)!==i||uf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Kv(t){return lr(t)?t:t.contextElement}function Ea(t){const e=Kv(t);if(!Fr(e))return Si(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=NI(e);let o=(i?uf(n.width):n.width)/r,a=(i?uf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const VM=Si(0);function DI(t){const e=Pn(t);return!qv()||!e.visualViewport?VM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pn(t)?!1:e}function _o(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Kv(t);let o=Si(1);e&&(r?lr(r)&&(o=Ea(r)):o=Ea(t));const a=FM(i,n,r)?DI(i):Si(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(i){const h=Pn(i),m=r&&lr(r)?Pn(r):r;let v=h,y=$0(v);for(;y&&r&&m!==v;){const _=Ea(y),x=y.getBoundingClientRect(),b=cr(y),T=x.left+(y.clientLeft+parseFloat(b.paddingLeft))*_.x,C=x.top+(y.clientTop+parseFloat(b.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,f*=_.y,l+=T,c+=C,v=Pn(y),y=$0(v)}}return hf({width:u,height:f,x:l,y:c})}function UM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=zr(r),a=e?bp(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Si(1);const u=Si(0),f=Fr(r);if((f||!f&&!i)&&((hl(r)!=="body"||Pu(o))&&(l=Ep(r)),Fr(r))){const h=_o(r);c=Ea(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function zM(t){return Array.from(t.getClientRects())}function H0(t,e){const n=Ep(t).scrollLeft;return e?e.left+n:_o(zr(t)).left+n}function BM(t){const e=zr(t),n=Ep(t),r=t.ownerDocument.body,s=Sn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Sn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+H0(t);const a=-n.scrollTop;return cr(r).direction==="rtl"&&(o+=Sn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function $M(t,e){const n=Pn(t),r=zr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=qv();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function HM(t,e){const n=_o(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Fr(t)?Ea(t):Si(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Kw(t,e,n){let r;if(e==="viewport")r=$M(t,n);else if(e==="document")r=BM(zr(t));else if(lr(e))r=HM(e,n);else{const s=DI(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return hf(r)}function OI(t,e){const n=Ii(t);return n===e||!lr(n)||Ka(n)?!1:cr(n).position==="fixed"||OI(n,e)}function WM(t,e){const n=e.get(t);if(n)return n;let r=ru(t,[],!1).filter(a=>lr(a)&&hl(a)!=="body"),s=null;const i=cr(t).position==="fixed";let o=i?Ii(t):t;for(;lr(o)&&!Ka(o);){const a=cr(o),l=Wv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Pu(o)&&!l&&OI(t,o))?r=r.filter(u=>u!==o):s=a,o=Ii(o)}return e.set(t,r),r}function qM(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?bp(e)?[]:WM(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=Kw(e,u,s);return c.top=Sn(f.top,c.top),c.right=Ti(f.right,c.right),c.bottom=Ti(f.bottom,c.bottom),c.left=Sn(f.left,c.left),c},Kw(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function KM(t){const{width:e,height:n}=NI(t);return{width:e,height:n}}function GM(t,e,n){const r=Fr(e),s=zr(e),i=n==="fixed",o=_o(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Si(0);if(r||!r&&!i)if((hl(e)!=="body"||Pu(s))&&(a=Ep(e)),r){const m=_o(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=H0(s));let c=0,u=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();u=m.top+a.scrollTop,c=m.left+a.scrollLeft-H0(s,m)}const f=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-u;return{x:f,y:h,width:o.width,height:o.height}}function ng(t){return cr(t).position==="static"}function Gw(t,e){if(!Fr(t)||cr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zr(t)===n&&(n=n.ownerDocument.body),n}function MI(t,e){const n=Pn(t);if(bp(t))return n;if(!Fr(t)){let s=Ii(t);for(;s&&!Ka(s);){if(lr(s)&&!ng(s))return s;s=Ii(s)}return n}let r=Gw(t,e);for(;r&&jM(r)&&ng(r);)r=Gw(r,e);return r&&Ka(r)&&ng(r)&&!Wv(r)?n:r||LM(t)||n}const QM=async function(t){const e=this.getOffsetParent||MI,n=this.getDimensions,r=await n(t.floating);return{reference:GM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function YM(t){return cr(t).direction==="rtl"}const XM={convertOffsetParentRelativeRectToViewportRelativeRect:UM,getDocumentElement:zr,getClippingRect:qM,getOffsetParent:MI,getElementRects:QM,getClientRects:zM,getDimensions:KM,getScale:Ea,isElement:lr,isRTL:YM};function JM(t,e){let n=null,r;const s=zr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const m=Dd(u),v=Dd(s.clientWidth-(c+f)),y=Dd(s.clientHeight-(u+h)),_=Dd(c),b={rootMargin:-m+"px "+-v+"px "+-y+"px "+-_+"px",threshold:Sn(0,Ti(1,l))||1};let T=!0;function C(N){const M=N[0].intersectionRatio;if(M!==l){if(!T)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(t)}return o(!0),i}function ZM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Kv(t),u=s||i?[...c?ru(c):[],...ru(e)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=c&&a?JM(c,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,y=l?_o(t):null;l&&_();function _(){const x=_o(t);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&n(),y=x,v=requestAnimationFrame(_)}return n(),()=>{var x;u.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const ej=NM,tj=DM,nj=kM,rj=MM,sj=RM,Qw=AM,ij=OM,oj=(t,e,n)=>{const r=new Map,s={platform:XM,...n},i={...s.platform,_c:r};return IM(t,e,{...s,platform:i})};var wh=typeof document<"u"?w.useLayoutEffect:w.useEffect;function ff(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ff(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ff(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function jI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Yw(t,e){const n=jI(t);return Math.round(e*n)/n}function rg(t){const e=w.useRef(t);return wh(()=>{e.current=t}),e}function aj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=w.useState(r);ff(h,r)||m(r);const[v,y]=w.useState(null),[_,x]=w.useState(null),b=w.useCallback(j=>{j!==M.current&&(M.current=j,y(j))},[]),T=w.useCallback(j=>{j!==I.current&&(I.current=j,x(j))},[]),C=i||v,N=o||_,M=w.useRef(null),I=w.useRef(null),S=w.useRef(u),A=l!=null,R=rg(l),D=rg(s),O=rg(c),P=w.useCallback(()=>{if(!M.current||!I.current)return;const j={placement:e,strategy:n,middleware:h};D.current&&(j.platform=D.current),oj(M.current,I.current,j).then(z=>{const X={...z,isPositioned:O.current!==!1};q.current&&!ff(S.current,X)&&(S.current=X,ku.flushSync(()=>{f(X)}))})},[h,e,n,D,O]);wh(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const q=w.useRef(!1);wh(()=>(q.current=!0,()=>{q.current=!1}),[]),wh(()=>{if(C&&(M.current=C),N&&(I.current=N),C&&N){if(R.current)return R.current(C,N,P);P()}},[C,N,P,R,A]);const V=w.useMemo(()=>({reference:M,floating:I,setReference:b,setFloating:T}),[b,T]),U=w.useMemo(()=>({reference:C,floating:N}),[C,N]),W=w.useMemo(()=>{const j={position:n,left:0,top:0};if(!U.floating)return j;const z=Yw(U.floating,u.x),X=Yw(U.floating,u.y);return a?{...j,transform:"translate("+z+"px, "+X+"px)",...jI(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:X}},[n,a,U.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:P,refs:V,elements:U,floatingStyles:W}),[u,P,V,U,W])}const lj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Qw({element:r.current,padding:s}).fn(n):{}:r?Qw({element:r,padding:s}).fn(n):{}}}},cj=(t,e)=>({...ej(t),options:[t,e]}),uj=(t,e)=>({...tj(t),options:[t,e]}),dj=(t,e)=>({...ij(t),options:[t,e]}),hj=(t,e)=>({...nj(t),options:[t,e]}),fj=(t,e)=>({...rj(t),options:[t,e]}),pj=(t,e)=>({...sj(t),options:[t,e]}),mj=(t,e)=>({...lj(t),options:[t,e]});var gj="Arrow",LI=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});LI.displayName=gj;var yj=LI;function vj(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:m,...v}=f,y=(h==null?void 0:h[t][l])||a,_=w.useMemo(()=>v,Object.values(v));return p.jsx(y.Provider,{value:_,children:m})}function u(f,h){const m=(h==null?void 0:h[t][l])||a,v=w.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,xj(s,...e)]}function xj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function _j(t){const[e,n]=w.useState(void 0);return ar(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var VI="Popper",[FI,UI]=vj(VI),[CK,zI]=FI(VI),BI="PopperAnchor",$I=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=zI(BI,n),o=w.useRef(null),a=tt(e,o);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(xe.div,{...s,ref:a})});$I.displayName=BI;var Gv="PopperContent",[wj,bj]=FI(Gv),HI=w.forwardRef((t,e)=>{var Ot,pr,mr,xn,$r,gr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...y}=t,_=zI(Gv,n),[x,b]=w.useState(null),T=tt(e,qn=>b(qn)),[C,N]=w.useState(null),M=_j(C),I=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],O=D.length>0,P={padding:R,boundary:D.filter(Tj),altBoundary:O},{refs:q,floatingStyles:V,placement:U,isPositioned:W,middlewareData:j}=aj({strategy:"fixed",placement:A,whileElementsMounted:(...qn)=>ZM(...qn,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[cj({mainAxis:s+S,alignmentAxis:o}),l&&uj({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dj():void 0,...P}),l&&hj({...P}),fj({...P,apply:({elements:qn,rects:Hr,availableWidth:Ts,availableHeight:Kn})=>{const{width:_l,height:wl}=Hr.reference,ot=qn.floating.style;ot.setProperty("--radix-popper-available-width",`${Ts}px`),ot.setProperty("--radix-popper-available-height",`${Kn}px`),ot.setProperty("--radix-popper-anchor-width",`${_l}px`),ot.setProperty("--radix-popper-anchor-height",`${wl}px`)}}),C&&mj({element:C,padding:a}),Sj({arrowWidth:I,arrowHeight:S}),h&&pj({strategy:"referenceHidden",...P})]}),[z,X]=KI(U),J=st(v);ar(()=>{W&&(J==null||J())},[W,J]);const Z=(Ot=j.arrow)==null?void 0:Ot.x,G=(pr=j.arrow)==null?void 0:pr.y,_e=((mr=j.arrow)==null?void 0:mr.centerOffset)!==0,[Le,pe]=w.useState();return ar(()=>{x&&pe(window.getComputedStyle(x).zIndex)},[x]),p.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:W?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(xn=j.transformOrigin)==null?void 0:xn.x,($r=j.transformOrigin)==null?void 0:$r.y].join(" "),...((gr=j.hide)==null?void 0:gr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(wj,{scope:n,placedSide:z,onArrowChange:N,arrowX:Z,arrowY:G,shouldHideArrow:_e,children:p.jsx(xe.div,{"data-side":z,"data-align":X,...y,ref:T,style:{...y.style,animation:W?void 0:"none"}})})})});HI.displayName=Gv;var WI="PopperArrow",Ej={top:"bottom",right:"left",bottom:"top",left:"right"},qI=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=bj(WI,r),o=Ej[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(yj,{...s,ref:n,style:{...s.style,display:"block"}})})});qI.displayName=WI;function Tj(t){return t!==null}var Sj=t=>({name:"transformOrigin",options:t,fn(e){var _,x,b;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=KI(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=o?f:`${h}px`,y=`${-l}px`):c==="top"?(v=o?f:`${h}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=o?f:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=o?f:`${m}px`),{data:{x:v,y}}}});function KI(t){const[e,n="center"]=t.split("-");return[e,n]}var Cj=$I,Ij=HI,Aj=qI,[Tp,IK]=cl("Tooltip",[UI]),Qv=UI(),GI="TooltipProvider",kj=700,Xw="tooltip.open",[Rj,QI]=Tp(GI),YI=t=>{const{__scopeTooltip:e,delayDuration:n=kj,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=w.useState(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),p.jsx(Rj,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};YI.displayName=GI;var XI="Tooltip",[AK,Sp]=Tp(XI),W0="TooltipTrigger",Pj=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Sp(W0,n),i=QI(W0,n),o=Qv(n),a=w.useRef(null),l=tt(e,a,s.onTriggerChange),c=w.useRef(!1),u=w.useRef(!1),f=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(Cj,{asChild:!0,...o,children:p.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:he(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:he(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:he(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:he(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:he(t.onBlur,s.onClose),onClick:he(t.onClick,s.onClose)})})});Pj.displayName=W0;var Nj="TooltipPortal",[kK,Dj]=Tp(Nj,{forceMount:void 0}),Ga="TooltipContent",JI=w.forwardRef((t,e)=>{const n=Dj(Ga,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Sp(Ga,t.__scopeTooltip);return p.jsx(hr,{present:r||o.open,children:o.disableHoverableContent?p.jsx(ZI,{side:s,...i,ref:e}):p.jsx(Oj,{side:s,...i,ref:e})})}),Oj=w.forwardRef((t,e)=>{const n=Sp(Ga,t.__scopeTooltip),r=QI(Ga,t.__scopeTooltip),s=w.useRef(null),i=tt(e,s),[o,a]=w.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:f}=r,h=w.useCallback(()=>{a(null),f(!1)},[f]),m=w.useCallback((v,y)=>{const _=v.currentTarget,x={x:v.clientX,y:v.clientY},b=Vj(x,_.getBoundingClientRect()),T=Fj(x,b),C=Uj(y.getBoundingClientRect()),N=Bj([...T,...C]);a(N),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(l&&u){const v=_=>m(_,u),y=_=>m(_,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",y)}}},[l,u,m,h]),w.useEffect(()=>{if(o){const v=y=>{const _=y.target,x={x:y.clientX,y:y.clientY},b=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),T=!zj(x,o);b?h():T&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,h]),p.jsx(ZI,{...t,ref:i})}),[Mj,jj]=Tp(XI,{isInside:!1}),ZI=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Sp(Ga,n),c=Qv(n),{onClose:u}=l;return w.useEffect(()=>(document.addEventListener(Xw,u),()=>document.removeEventListener(Xw,u)),[u]),w.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),p.jsx(mp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:p.jsxs(Ij,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(FC,{children:r}),p.jsx(Mj,{scope:n,isInside:!0,children:p.jsx(AD,{id:l.contentId,role:"tooltip",children:s||r})})]})})});JI.displayName=Ga;var eA="TooltipArrow",Lj=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Qv(n);return jj(eA,n).isInside?null:p.jsx(Aj,{...s,...r,ref:e})});Lj.displayName=eA;function Vj(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Fj(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Uj(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function zj(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function Bj(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$j(e)}function $j(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Hj=YI,tA=JI;const Wj=Hj,qj=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(tA,{ref:r,sideOffset:e,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));qj.displayName=tA.displayName;var Cp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ip=typeof window>"u"||"Deno"in globalThis;function Xn(){}function Kj(t,e){return typeof t=="function"?t(e):t}function Gj(t){return typeof t=="number"&&t>=0&&t!==1/0}function Qj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jw(t,e){return typeof t=="function"?t(e):t}function Yj(t,e){return typeof t=="function"?t(e):t}function Zw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Yv(o,e.options))return!1}else if(!iu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function eb(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(su(e.options.mutationKey)!==su(i))return!1}else if(!iu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Yv(t,e){return((e==null?void 0:e.queryKeyHashFn)||su)(t)}function su(t){return JSON.stringify(t,(e,n)=>q0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function iu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!iu(t[n],e[n])):!1}function nA(t,e){if(t===e)return t;const n=tb(t)&&tb(e);if(n||q0(t)&&q0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=nA(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function tb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function q0(t){if(!nb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!nb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function nb(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xj(t){return new Promise(e=>{setTimeout(e,t)})}function Jj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?nA(t,e):e}function Zj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function e9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Xv=Symbol();function rA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Xv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ao,Gs,Ra,sT,t9=(sT=class extends Cp{constructor(){super();Ce(this,ao);Ce(this,Gs);Ce(this,Ra);de(this,Ra,e=>{if(!Ip&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,Gs)||this.setEventListener($(this,Ra))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Gs))==null||e.call(this),de(this,Gs,void 0))}setEventListener(e){var n;de(this,Ra,e),(n=$(this,Gs))==null||n.call(this),de(this,Gs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,ao)!==e&&(de(this,ao,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,ao)=="boolean"?$(this,ao):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ao=new WeakMap,Gs=new WeakMap,Ra=new WeakMap,sT),sA=new t9,Pa,Qs,Na,iT,n9=(iT=class extends Cp{constructor(){super();Ce(this,Pa,!0);Ce(this,Qs);Ce(this,Na);de(this,Na,e=>{if(!Ip&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Qs)||this.setEventListener($(this,Na))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Qs))==null||e.call(this),de(this,Qs,void 0))}setEventListener(e){var n;de(this,Na,e),(n=$(this,Qs))==null||n.call(this),de(this,Qs,e(this.setOnline.bind(this)))}setOnline(e){$(this,Pa)!==e&&(de(this,Pa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Pa)}},Pa=new WeakMap,Qs=new WeakMap,Na=new WeakMap,iT),pf=new n9;function r9(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function s9(t){return Math.min(1e3*2**t,3e4)}function iA(t){return(t??"online")==="online"?pf.isOnline():!0}var oA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function sg(t){return t instanceof oA}function aA(t){let e=!1,n=0,r=!1,s;const i=r9(),o=y=>{var _;r||(h(new oA(y)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>sA.isFocused()&&(t.networkMode==="always"||pf.isOnline())&&t.canRun(),u=()=>iA(t.networkMode)&&t.canRun(),f=y=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,y),s==null||s(),i.resolve(y))},h=y=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,y),s==null||s(),i.reject(y))},m=()=>new Promise(y=>{var _;s=x=>{(r||c())&&y(x)},(_=t.onPause)==null||_.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const _=n===0?t.initialPromise:void 0;try{y=_??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{var M;if(r)return;const b=t.retry??(Ip?0:3),T=t.retryDelay??s9,C=typeof T=="function"?T(n,x):T,N=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(e||!N){h(x);return}n++,(M=t.onFail)==null||M.call(t,n,x),Xj(C).then(()=>c()?void 0:m()).then(()=>{e?h(x):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():m().then(v),i)}}function i9(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var nn=i9(),lo,oT,lA=(oT=class{constructor(){Ce(this,lo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gj(this.gcTime)&&de(this,lo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ip?1/0:5*60*1e3))}clearGcTimeout(){$(this,lo)&&(clearTimeout($(this,lo)),de(this,lo,void 0))}},lo=new WeakMap,oT),Da,Oa,jn,Bt,bu,co,Jn,Xr,aT,o9=(aT=class extends lA{constructor(n){super();Ce(this,Jn);Ce(this,Da);Ce(this,Oa);Ce(this,jn);Ce(this,Bt);Ce(this,bu);Ce(this,co);de(this,co,!1),de(this,bu,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,jn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,Da,l9(this.options)),this.state=n.state??$(this,Da),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Bt))==null?void 0:n.promise}setOptions(n){this.options={...$(this,bu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,jn).remove(this)}setData(n,r){const s=Jj(this.state.data,n,this.options);return Vt(this,Jn,Xr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Vt(this,Jn,Xr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,Bt))==null?void 0:s.promise;return(i=$(this,Bt))==null||i.cancel(n),r?r.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Da))}isActive(){return this.observers.some(n=>Yj(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!Qj(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Bt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Bt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,jn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,Bt)&&($(this,co)?$(this,Bt).cancel({revert:!0}):$(this,Bt).cancelRetry()),this.scheduleGc()),$(this,jn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,Jn,Xr).call(this,{type:"invalidate"})}fetch(n,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Bt))return $(this,Bt).continueRetry(),$(this,Bt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(de(this,co,!0),s.signal)})},o=()=>{const h=rA(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return i(m),de(this,co,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),de(this,Oa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Vt(this,Jn,Xr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,v,y,_;sg(h)&&h.silent||Vt(this,Jn,Xr).call(this,{type:"error",error:h}),sg(h)||((v=(m=$(this,jn).config).onError)==null||v.call(m,h,this),(_=(y=$(this,jn).config).onSettled)==null||_.call(y,this.state.data,h,this)),this.scheduleGc()};return de(this,Bt,aA({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var m,v,y,_;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(v=(m=$(this,jn).config).onSuccess)==null||v.call(m,h,this),(_=(y=$(this,jn).config).onSettled)==null||_.call(y,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Vt(this,Jn,Xr).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Vt(this,Jn,Xr).call(this,{type:"pause"})},onContinue:()=>{Vt(this,Jn,Xr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),$(this,Bt).start()}},Da=new WeakMap,Oa=new WeakMap,jn=new WeakMap,Bt=new WeakMap,bu=new WeakMap,co=new WeakMap,Jn=new WeakSet,Xr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...a9(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return sg(i)&&i.revert&&$(this,Oa)?{...$(this,Oa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),nn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,jn).notify({query:this,type:"updated",action:n})})},aT);function a9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function l9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Cr,lT,c9=(lT=class extends Cp{constructor(e={}){super();Ce(this,Cr);this.config=e,de(this,Cr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Yv(s,n);let o=this.get(i);return o||(o=new o9({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,Cr).has(e.queryHash)||($(this,Cr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,Cr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,Cr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Cr).get(e)}getAll(){return[...$(this,Cr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Zw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Zw(e,r)):n}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cr=new WeakMap,lT),Ir,en,uo,Ar,Ls,cT,u9=(cT=class extends lA{constructor(n){super();Ce(this,Ar);Ce(this,Ir);Ce(this,en);Ce(this,uo);this.mutationId=n.mutationId,de(this,en,n.mutationCache),de(this,Ir,[]),this.state=n.state||d9(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,Ir).includes(n)||($(this,Ir).push(n),this.clearGcTimeout(),$(this,en).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,Ir,$(this,Ir).filter(r=>r!==n)),this.scheduleGc(),$(this,en).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,Ir).length||(this.state.status==="pending"?this.scheduleGc():$(this,en).remove(this))}continue(){var n;return((n=$(this,uo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,u,f,h,m,v,y,_,x,b,T,C,N,M,I,S;de(this,uo,aA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{Vt(this,Ar,Ls).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{Vt(this,Ar,Ls).call(this,{type:"pause"})},onContinue:()=>{Vt(this,Ar,Ls).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,en).canRun(this)}));const r=this.state.status==="pending",s=!$(this,uo).canStart();try{if(!r){Vt(this,Ar,Ls).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=$(this,en).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&Vt(this,Ar,Ls).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const A=await $(this,uo).start();return await((u=(c=$(this,en).config).onSuccess)==null?void 0:u.call(c,A,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,A,n,this.state.context)),await((v=(m=$(this,en).config).onSettled)==null?void 0:v.call(m,A,null,this.state.variables,this.state.context,this)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,A,null,n,this.state.context)),Vt(this,Ar,Ls).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(x=$(this,en).config).onError)==null?void 0:b.call(x,A,n,this.state.context,this)),await((C=(T=this.options).onError)==null?void 0:C.call(T,A,n,this.state.context)),await((M=(N=$(this,en).config).onSettled)==null?void 0:M.call(N,void 0,A,this.state.variables,this.state.context,this)),await((S=(I=this.options).onSettled)==null?void 0:S.call(I,void 0,A,n,this.state.context)),A}finally{Vt(this,Ar,Ls).call(this,{type:"error",error:A})}}finally{$(this,en).runNext(this)}}},Ir=new WeakMap,en=new WeakMap,uo=new WeakMap,Ar=new WeakSet,Ls=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),nn.batch(()=>{$(this,Ir).forEach(s=>{s.onMutationUpdate(n)}),$(this,en).notify({mutation:this,type:"updated",action:n})})},cT);function d9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bn,Eu,uT,h9=(uT=class extends Cp{constructor(e={}){super();Ce(this,bn);Ce(this,Eu);this.config=e,de(this,bn,new Map),de(this,Eu,Date.now())}build(e,n,r){const s=new u9({mutationCache:this,mutationId:++hd(this,Eu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Od(e),r=$(this,bn).get(n)??[];r.push(e),$(this,bn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Od(e);if($(this,bn).has(n)){const s=(r=$(this,bn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,bn).delete(n):$(this,bn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,bn).get(Od(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,bn).get(Od(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,bn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>eb(n,r))}findAll(e={}){return this.getAll().filter(n=>eb(e,n))}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xn))))}},bn=new WeakMap,Eu=new WeakMap,uT);function Od(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function rb(t){return{onFetch:(e,n)=>{var u,f,h,m,v;const r=e.options,s=(h=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const _=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=rA(e.options,e.fetchOptions),b=async(T,C,N)=>{if(y)return Promise.reject();if(C==null&&T.pages.length)return Promise.resolve(T);const M={queryKey:e.queryKey,pageParam:C,direction:N?"backward":"forward",meta:e.options.meta};_(M);const I=await x(M),{maxPages:S}=e.options,A=N?e9:Zj;return{pages:A(T.pages,I,S),pageParams:A(T.pageParams,C,S)}};if(s&&i.length){const T=s==="backward",C=T?f9:sb,N={pages:i,pageParams:o},M=C(r,N);a=await b(N,M,T)}else{const T=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:sb(r,a);if(l>0&&C==null)break;a=await b(a,C),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var y,_;return(_=(y=e.options).persister)==null?void 0:_.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function sb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function f9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Je,Ys,Xs,Ma,ja,Js,La,Va,dT,p9=(dT=class{constructor(t={}){Ce(this,Je);Ce(this,Ys);Ce(this,Xs);Ce(this,Ma);Ce(this,ja);Ce(this,Js);Ce(this,La);Ce(this,Va);de(this,Je,t.queryCache||new c9),de(this,Ys,t.mutationCache||new h9),de(this,Xs,t.defaultOptions||{}),de(this,Ma,new Map),de(this,ja,new Map),de(this,Js,0)}mount(){hd(this,Js)._++,$(this,Js)===1&&(de(this,La,sA.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Je).onFocus())})),de(this,Va,pf.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Je).onOnline())})))}unmount(){var t,e;hd(this,Js)._--,$(this,Js)===0&&((t=$(this,La))==null||t.call(this),de(this,La,void 0),(e=$(this,Va))==null||e.call(this),de(this,Va,void 0))}isFetching(t){return $(this,Je).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,Ys).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Je).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,Je).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Jw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,Je).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,Je).get(r.queryHash),i=s==null?void 0:s.state.data,o=Kj(e,i);if(o!==void 0)return $(this,Je).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return nn.batch(()=>$(this,Je).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Je).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,Je);nn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,Je),r={type:"active",...t};return nn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=nn.batch(()=>$(this,Je).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(t={},e={}){return nn.batch(()=>{if($(this,Je).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=nn.batch(()=>$(this,Je).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,Je).build(this,e);return n.isStaleByTime(Jw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=rb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=rb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pf.isOnline()?$(this,Ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Je)}getMutationCache(){return $(this,Ys)}getDefaultOptions(){return $(this,Xs)}setDefaultOptions(t){de(this,Xs,t)}setQueryDefaults(t,e){$(this,Ma).set(su(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,Ma).values()];let n={};return e.forEach(r=>{iu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,ja).set(su(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,ja).values()];let n={};return e.forEach(r=>{iu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,Xs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Yv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Xv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Xs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,Je).clear(),$(this,Ys).clear()}},Je=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,Ma=new WeakMap,ja=new WeakMap,Js=new WeakMap,La=new WeakMap,Va=new WeakMap,dT),m9=w.createContext(void 0),g9=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(m9.Provider,{value:t,children:e}));const y9=Uv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?qa:"button";return p.jsx(o,{className:fe(y9({variant:e,size:n,className:t})),ref:i,...s})});Me.displayName="Button";const v9=()=>p.jsxs("div",{className:"relative overflow-hidden bg-white py-12 md:py-24",children:[p.jsx("div",{className:"absolute -top-10 -right-10 w-72 h-72 bg-smm-yellow opacity-10 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute -bottom-10 -left-10 w-80 h-80 bg-smm-purple opacity-10 rounded-full blur-3xl"}),p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[p.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0",children:[p.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[p.jsx("span",{className:"gradient-text",children:"عزز تواجدك الاجتماعي"})," اليوم"]}),p.jsx("p",{className:"text-gray-600 text-lg md:text-xl mb-8 max-w-2xl",children:"احصل على تفاعل حقيقي لملفاتك الشخصية على وسائل التواصل الاجتماعي. متابعون وإعجابات ومشاهدات عالية الجودة يتم تسليمها بسرعة وأمان."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx(Me,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 transition-all text-white font-medium px-8 py-6",children:p.jsx(ze,{to:"/services",children:"تصفح الخدمات"})}),p.jsx(Me,{asChild:!0,variant:"outline",className:"border-smm-purple text-smm-purple hover:bg-smm-purple/5 px-8 py-6",children:p.jsx(ze,{to:"/services",children:"عرض الأسعار"})})]}),p.jsxs("div",{className:"mt-12 flex flex-wrap gap-8",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"50K+"}),p.jsx("span",{className:"text-gray-600",children:"طلبات مكتملة"})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"100%"}),p.jsx("span",{className:"text-gray-600",children:"رضا العملاء"})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"24/7"}),p.jsx("span",{className:"text-gray-600",children:"دعم فني"})]})]})]}),p.jsx("div",{className:"lg:w-1/2 relative",children:p.jsxs("div",{className:"relative w-full h-64 md:h-96 bg-gradient-to-r from-smm-purple to-smm-pink rounded-2xl overflow-hidden shadow-xl animate-float",children:[p.jsx("div",{className:"absolute inset-0 bg-black/10"}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsxs("div",{className:"text-white text-center px-6",children:[p.jsx("h3",{className:"text-2xl font-bold mb-2",children:"خدمات مميزة لوسائل التواصل الاجتماعي"}),p.jsx("p",{className:"mb-4",children:"انستغرام، تيك توك، تليجرام، يوتيوب والمزيد"}),p.jsxs("div",{className:"flex justify-center space-x-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:p.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full"})}),p.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:p.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full"})}),p.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:p.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-red-500 to-pink-500 rounded-full"})}),p.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:p.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-full"})})]})]})})]})})]})})]}),Vi=()=>p.jsx("footer",{className:"bg-gray-50 pt-12 pb-8",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[p.jsxs("div",{children:[p.jsx(ze,{to:"/",className:"text-2xl font-bold gradient-text mb-4 inline-block",children:"Super Shop"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"خدمات تسويق مميزة على وسائل التواصل الاجتماعي لمساعدتك على تنمية تواجدك وتفاعلك عبر الإنترنت."}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[p.jsx("span",{className:"sr-only",children:"فيسبوك"}),p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),p.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[p.jsx("span",{className:"sr-only",children:"انستغرام"}),p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),p.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[p.jsx("span",{className:"sr-only",children:"تويتر"}),p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),p.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[p.jsx("span",{className:"sr-only",children:"تليجرام"}),p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{d:"M22.05 1.577c-.393-.016-.784.08-1.117.235-.484.186-4.92 1.902-9.41 3.64-2.26.873-4.518 1.746-6.256 2.415-1.737.67-3.045 1.168-3.114 1.192-.46.16-1.082.362-1.61.984-.133.155-.267.354-.335.628s-.038.622.095.895c.265.547.714.773 1.244.976 1.76.564 3.58 1.102 5.087 1.608.556 1.96 1.09 3.927 1.618 5.89.174.394.553.54.944.544l-.002.02s.307.03.606-.042c.3-.07.677-.244 1.02-.565.377-.354 1.4-1.36 1.98-1.928l4.37 3.226.035.02s.38.193.768.193c.39 0 .786-.16 1.022-.53.133-.206.2-.494.2-.798.008-.47-.377-1.027-.377-1.027s-3.95-3.604-6.215-5.68c.61-.61 1.223-1.22 1.83-1.83.442-.44.882-.882 1.32-1.325.87-.874 1.152-1.295 1.288-1.53.13-.233.166-.362.166-.362.009-.13.022-.283.006-.466-.04-.33-.2-.617-.48-.817-.28-.203-.67-.248-.67-.248h-3.478c-.392.013-.792.123-1.115.332-.323.2-.584.46-.79.752l-.178.284s-2.05 2.97-3.55 4.84c-1.596 1.987-2.07 1.77-2.07 1.77l-.024-.04s-.114-.066-.19-.215c-.083-.176-.114-.37-.114-.52 0-.36-.004-4.368-.004-4.368s-.146-.414-.493-.604c-.348-.19-.84-.233-.84-.233l-4.75.03s-.368.023-.605.207-.4.555-.264.847c.143.282.453.509.762.781.308.273 7.924 8.575 16.8 12.224 0 0 .883.353 1.427.392.544.04 1.043-.124 1.43-.358.386-.234.58-.494.656-.8.07-.298.07-.703.07-.703.006-.26-.025-.398-.025-.398z"})})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"روابط سريعة"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx(ze,{to:"/",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الرئيسية"})}),p.jsx("li",{children:p.jsx(ze,{to:"/services",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الخدمات"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"كيف تعمل"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الأسئلة الشائعة"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"اتصل بنا"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"خدماتنا"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"متابعين انستغرام"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"مشتركين تليجرام"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"إعجابات انستغرام"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"مشاهدات يوتيوب"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"متابعين تيك توك"})})]})]})]}),p.jsxs("div",{className:"border-t border-gray-200 pt-8 flex flex-col md:flex-row justify-between items-center",children:[p.jsxs("p",{className:"text-gray-500 text-sm",children:["© ",new Date().getFullYear()," Super Shop. جميع الحقوق محفوظة."]}),p.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[p.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"سياسة الخصوصية"}),p.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"شروط الخدمة"}),p.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"سياسة الاسترداد"})]})]})]})}),St=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));St.displayName="Card";const $t=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));$t.displayName="CardHeader";const Ht=w.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ht.displayName="CardTitle";const Ap=w.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));Ap.displayName="CardDescription";const Ct=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:fe("p-6 pt-0",t),...e}));Ct.displayName="CardContent";const mf=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:fe("flex items-center p-6 pt-0",t),...e}));mf.displayName="CardFooter";const x9=()=>{const t=[{name:"Instagrams",icon:"📸",description:"احصل على متابعين حقيقيين وإعجابات وتعليقات على انستغرام"},{name:"Telegram",icon:"✈️",description:"نمو قناتك على تليجرام مع مشتركين حقيقيين"},{name:"TikTok",icon:"🎵",description:"زيادة مشاهداتك ومتابعيك وتفاعلك على تيك توك"},{name:"YouTube",icon:"🎬",description:"عزز مشاهداتك ومشتركيك ووقت المشاهدة على يوتيوب"}];return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[p.jsxs("main",{className:"flex-grow",children:[p.jsx(v9,{}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-900",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-800 dark:text-white",children:"المنصات التي ندعمها"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"نقدم خدمات عالية الجودة لوسائل التواصل الاجتماعي عبر جميع المنصات الرئيسية لمساعدتك على تنمية تواجدك عبر الإنترنت."})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>p.jsx(St,{className:"hover:shadow-lg transition-shadow duration-300 dark:bg-gray-800 dark:border-gray-700",children:p.jsx(Ct,{className:"p-6",children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("span",{className:"text-4xl mb-4",children:e.icon}),p.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800 dark:text-white",children:e.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]})})},n))})]})}),p.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-800 dark:text-white",children:"كيف تعمل"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"عمليتنا بسيطة وسريعة ومصممة لتحقيق النتائج بسرعة."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"flex flex-col items-center text-center p-4 rounded-lg shadow-sm dark:bg-gray-800",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold mb-4 shadow-md",children:"1"}),p.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800 dark:text-white",children:"اختر باقة"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"تصفح مجموعتنا من الخدمات واختر الباقة التي تناسب احتياجاتك."})]}),p.jsxs("div",{className:"flex flex-col items-center text-center p-4 rounded-lg shadow-sm dark:bg-gray-800",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold mb-4 shadow-md",children:"2"}),p.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800 dark:text-white",children:"أكمل الدفع"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"ادفع بأمان باستخدام طرق الدفع المختلفة لدينا، بما في ذلك رصيد آسيا سيل."})]}),p.jsxs("div",{className:"flex flex-col items-center text-center p-4 rounded-lg shadow-sm dark:bg-gray-800",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold mb-4 shadow-md",children:"3"}),p.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800 dark:text-white",children:"شاهد نموك"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"استرخ وشاهد بينما نقدم تفاعلاً عالي الجودة لملفاتك الشخصية على وسائل التواصل الاجتماعي."})]})]}),p.jsx("div",{className:"text-center mt-12",children:p.jsx(Me,{asChild:!0,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-6 text-lg font-semibold shadow-md hover:shadow-lg transition-all duration-300",children:p.jsx(ze,{to:"/services",children:"ابدأ الآن"})})})]})}),p.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-inner",children:p.jsxs("div",{className:"container mx-auto px-4 text-center",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"هل أنت مستعد لتعزيز تواجدك الاجتماعي؟"}),p.jsx("p",{className:"text-white/90 max-w-2xl mx-auto mb-8 text-lg",children:"انضم إلى آلاف العملاء الراضين الذين نجحوا في تنمية تواجدهم على وسائل التواصل الاجتماعي من خلال خدماتنا المتميزة."}),p.jsx(Me,{asChild:!0,className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-6 text-lg font-semibold shadow-md hover:shadow-lg transition-all duration-300",children:p.jsx(ze,{to:"/services",children:"عرض جميع الخدمات"})})]})})]}),p.jsx(Vi,{})]})},In=w.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));In.displayName="Input";var _9="Label",cA=w.forwardRef((t,e)=>p.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cA.displayName=_9;var uA=cA;const w9=Uv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),An=w.forwardRef(({className:t,...e},n)=>p.jsx(uA,{ref:n,className:fe(w9(),t),...e}));An.displayName=uA.displayName;const b9=({title:t,description:e,price:n,features:r,popular:s=!1,platform:i,icon:o,quantity:a,id:l,minQuantity:c,pointsPerUnit:u})=>{const[f,h]=w.useState(c||a||0),m=Oo();w.useEffect(()=>{h(c||a||0)},[c,a]),console.log("ServiceCard:",{id:l,title:t,minQuantity:c,pointsPerUnit:u,selectedQuantity:f,calculatedPoints:c&&u?Math.ceil(f/c)*u:n});const v=x=>{const b=parseInt(x.target.value,10);if(!isNaN(b)&&c){let T=b;T<c?T=c:(T=Math.round(T/c)*c,T<c&&(T=c)),h(T)}else h(c||0)},y=c&&u?Math.ceil(f/c)*u:n,_=()=>{const x=new URLSearchParams;x.append("service",l),c&&u?(x.append("minQuantity",c.toString()),x.append("pointsPerUnit",u.toString()),x.append("points",(y==null?void 0:y.toString())||"0"),x.append("quantity",f.toString())):(x.append("points",(n==null?void 0:n.toString())||"0"),x.append("quantity",(a==null?void 0:a.toString())||"0")),m(`/payment?${x.toString()}`)};return p.jsxs(St,{className:`w-full transition-all duration-300 hover:shadow-lg ${s?"border-2 border-smm-pink relative":""}`,children:[s&&p.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-smm-pink text-white text-sm py-1 px-3 rounded-full",children:"الاختيار الأكثر شيوعًا"}),p.jsxs($t,{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"bg-gradient-smm w-10 h-10 rounded-full flex items-center justify-center text-white",children:o}),p.jsx("span",{className:"text-sm text-gray-500",children:i})]}),p.jsx(Ht,{className:"text-xl sm:text-2xl",children:t}),p.jsx(Ap,{children:e})]}),p.jsxs(Ct,{children:[p.jsx("div",{className:"mb-6",children:c&&u?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:`quantity-${l}`,children:["الكمية (",c,"+)"]}),p.jsx(In,{id:`quantity-${l}`,type:"number",value:f,onChange:v,min:c,step:c})]}),p.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:[y," نقاط"]}),p.jsxs("p",{className:"text-sm text-gray-500",children:["السعر لـ ",f," ",t.toLowerCase()]})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:[n," نقاط"]}),p.jsxs("p",{className:"text-sm text-gray-500",children:["لـ ",a," ",t.toLowerCase()]})]})}),p.jsx("ul",{className:"space-y-2",children:r.map((x,b)=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),x]},b))})]}),p.jsx(mf,{children:p.jsx(Me,{className:`w-full ${s?"bg-gradient-smm":"bg-smm-purple"} hover:opacity-90`,onClick:_,children:"اطلب الآن"})})]})};function E9(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:m,...v}=f,y=(h==null?void 0:h[t][l])||a,_=w.useMemo(()=>v,Object.values(v));return p.jsx(y.Provider,{value:_,children:m})}function u(f,h){const m=(h==null?void 0:h[t][l])||a,v=w.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,T9(s,...e)]}function T9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var S9=w.createContext(void 0);function Jv(t){const e=w.useContext(S9);return t||e||"ltr"}var ig="rovingFocusGroup.onEntryFocus",C9={bubbles:!1,cancelable:!0},kp="RovingFocusGroup",[K0,dA,I9]=UC(kp),[A9,hA]=E9(kp,[I9]),[k9,R9]=A9(kp),fA=w.forwardRef((t,e)=>p.jsx(K0.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(K0.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(P9,{...t,ref:e})})}));fA.displayName=kp;var P9=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,h=w.useRef(null),m=tt(e,h),v=Jv(i),[y=null,_]=gp({prop:o,defaultProp:a,onChange:l}),[x,b]=w.useState(!1),T=st(c),C=dA(n),N=w.useRef(!1),[M,I]=w.useState(0);return w.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(ig,T),()=>S.removeEventListener(ig,T)},[T]),p.jsx(k9,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:w.useCallback(S=>_(S),[_]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:w.useCallback(()=>I(S=>S-1),[]),children:p.jsx(xe.div,{tabIndex:x||M===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{N.current=!0}),onFocus:he(t.onFocus,S=>{const A=!N.current;if(S.target===S.currentTarget&&A&&!x){const R=new CustomEvent(ig,C9);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=C().filter(U=>U.focusable),O=D.find(U=>U.active),P=D.find(U=>U.id===y),V=[O,P,...D].filter(Boolean).map(U=>U.ref.current);gA(V,u)}}N.current=!1}),onBlur:he(t.onBlur,()=>b(!1))})})}),pA="RovingFocusGroupItem",mA=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Sc(),l=i||a,c=R9(pA,n),u=c.currentTabStopId===l,f=dA(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return w.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),p.jsx(K0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:p.jsx(xe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:he(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:he(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:he(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=O9(v,c.orientation,c.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=f().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const b=x.indexOf(v.currentTarget);x=c.loop?M9(x,b+1):x.slice(b+1)}setTimeout(()=>gA(x))}})})})});mA.displayName=pA;var N9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function O9(t,e,n){const r=D9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return N9[r]}function gA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function M9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var j9=fA,L9=mA,Zv="Tabs",[V9,NK]=cl(Zv,[hA]),yA=hA(),[F9,ex]=V9(Zv),vA=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Jv(a),[f,h]=gp({prop:r,onChange:s,defaultProp:i});return p.jsx(F9,{scope:n,baseId:Sc(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:l,children:p.jsx(xe.div,{dir:u,"data-orientation":o,...c,ref:e})})});vA.displayName=Zv;var xA="TabsList",_A=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=ex(xA,n),o=yA(n);return p.jsx(j9,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:p.jsx(xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});_A.displayName=xA;var wA="TabsTrigger",bA=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=ex(wA,n),a=yA(n),l=SA(o.baseId,r),c=CA(o.baseId,r),u=r===o.value;return p.jsx(L9,{asChild:!0,...a,focusable:!s,active:u,children:p.jsx(xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:he(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:he(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:he(t.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(r)})})})});bA.displayName=wA;var EA="TabsContent",TA=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=ex(EA,n),l=SA(a.baseId,r),c=CA(a.baseId,r),u=r===a.value,f=w.useRef(u);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),p.jsx(hr,{present:s||u,children:({present:h})=>p.jsx(xe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});TA.displayName=EA;function SA(t,e){return`${t}-trigger-${e}`}function CA(t,e){return`${t}-content-${e}`}var U9=vA,IA=_A,AA=bA,kA=TA;const RA=U9,tx=w.forwardRef(({className:t,...e},n)=>p.jsx(IA,{ref:n,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));tx.displayName=IA.displayName;const $s=w.forwardRef(({className:t,...e},n)=>p.jsx(AA,{ref:n,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));$s.displayName=AA.displayName;const gf=w.forwardRef(({className:t,...e},n)=>p.jsx(kA,{ref:n,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gf.displayName=kA.displayName;const z9=()=>{const[t,e]=w.useState("all"),n=[{id:"insta-followers",title:"رشق انستكرام",description:"متابعون انستغرام عالي الجودة يتفاعلون مع محتواك",features:["لا يتطلب كلمة مرور","ثابت بدون نزول"],popular:!0,platform:"Instagram",icon:"📸",minQuantity:1,pointsPerUnit:1,category:"instagram"},{id:"telegram-followers",title:"رشق متابعين تيليكرام",description:"احصل على متابعين حقيقيين لقناتك التليجرام",features:["متابعون عالي الجودة","نمط نمو طبيعي","ضمان عدم النقص","دعم للقنوات الخاصة"],popular:!0,platform:"Telegram",icon:"✈️",minQuantity:1,pointsPerUnit:1,category:"telegram"},{id:"tiktok-followers-1000",title:"متابعين تيك توك",description:"نمو حسابك على تيك توك مع متابعين عالي الجودة",features:["صورة ملف شخصي وسيرة ذاتية","متابعون مستقرون","لا يتطلب كلمة مرور","نمو آمن وطبيعي"],popular:!1,platform:"TikTok",icon:"🎵",minQuantity:1,pointsPerUnit:1,category:"tiktok"},{id:"tiktok-likes-2000",title:"إعجابات تيك توك",description:"احصل على المزيد من التفاعل مع إعجابات تيك توك",features:["احتفاظ عالٍ","تسليم سريع","يعمل مع جميع الفيديوهات","يزيد الوصول الخوارزمي"],popular:!1,platform:"TikTok",icon:"❤️",minQuantity:1,pointsPerUnit:1,category:"tiktok"},{id:"youtube-views-5000",title:"مشاهدات يوتيوب",description:"عزز أداء فيديوهاتك مع المزيد من المشاهدات",features:["مشاهدات باحتفاظ عالٍ","آمن لـ Ad-sense","استهداف جغرافي","يساعد في التوصيات"],popular:!0,platform:"YouTube",icon:"🎬",minQuantity:1,pointsPerUnit:1,category:"youtube"},{id:"youtube-subscribers-500",title:"مشتركين يوتيوب",description:"نمو قناتك على يوتيوب مع مشتركين عالي الجودة",features:["حسابات تبدو حقيقية","تسليم تدريجي","لا يتطلب كلمة مرور","مشتركون مفعلون للإشعارات"],popular:!1,platform:"YouTube",icon:"👥",minQuantity:1,pointsPerUnit:1,category:"youtube"}],r=t==="all"?n:n.filter(s=>s.category===t);return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[p.jsx("main",{className:"flex-grow py-12",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"خدماتنا"}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"تصفح مجموعتنا من خدمات وسائل التواصل الاجتماعي عالية الجودة لتعزيز تواجدك وتفاعلك عبر الإنترنت."})]}),p.jsxs(RA,{defaultValue:"all",value:t,onValueChange:e,className:"mb-12",children:[p.jsx("div",{className:"flex justify-center",children:p.jsxs(tx,{className:"bg-gray-100",children:[p.jsx($s,{value:"all",children:"جميع الخدمات"}),p.jsx($s,{value:"instagram",children:"انستغرام"}),p.jsx($s,{value:"telegram",children:"تليجرام"}),p.jsx($s,{value:"tiktok",children:"تيك توك"}),p.jsx($s,{value:"youtube",children:"يوتيوب"})]})}),p.jsx(gf,{value:t,className:"mt-8",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(s=>p.jsx(b9,{id:s.id,title:s.title,description:s.description,features:s.features,popular:s.popular,platform:s.platform,icon:s.icon,minQuantity:s.minQuantity,pointsPerUnit:s.pointsPerUnit},s.id))})})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 mt-12",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"هل تحتاج إلى باقة مخصصة؟"}),p.jsx("p",{className:"text-gray-600",children:"لا تجد ما تبحث عنه؟ اتصل بنا للحصول على حل مخصص يلبي احتياجاتك."})]}),p.jsx("div",{className:"flex justify-center",children:p.jsx("a",{href:"mailto:uusheko@gmail.com",className:"inline-flex items-center justify-center bg-smm-purple hover:bg-smm-purple/90 text-white px-6 py-3 rounded-md font-medium transition-colors",children:"اتصل بنا"})})]})]})}),p.jsx(Vi,{})]})},B9=()=>{};var ib={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},NA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),r.push(n[u],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new H9;const h=i<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W9=function(t){const e=PA(t);return NA.encodeByteArray(e,!0)},yf=function(t){return W9(t).replace(/\./g,"")},DA=function(t){try{return NA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=()=>q9().__FIREBASE_DEFAULTS__,G9=()=>{if(typeof process>"u"||typeof ib>"u")return;const t=ib.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DA(t[1]);return e&&JSON.parse(e)},Rp=()=>{try{return B9()||K9()||G9()||Q9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OA=t=>{var e,n;return(n=(e=Rp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Y9=t=>{const e=OA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MA=()=>{var t;return(t=Rp())===null||t===void 0?void 0:t.config},jA=t=>{var e;return(e=Rp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){return t.endsWith(".cloudworkstations.dev")}async function LA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yf(JSON.stringify(n)),yf(JSON.stringify(o)),""].join(".")}const Cc={};function Z9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?t.emulator.push(e):t.prod.push(e);return t}function eL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ob=!1;function VA(t,e){if(typeof window>"u"||typeof document>"u"||!Nu(window.location.host)||Cc[t]===e||Cc[t]||ob)return;Cc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=Z9().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{ob=!0,o()},h}function u(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=eL(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),_=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const T=h.element;a(T),u(_,y);const C=c();l(b,x),T.append(b,v,_,C),document.body.appendChild(T)}i?(v.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function nL(){var t;const e=(t=Rp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oL(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aL(){return!nL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lL(){try{return typeof indexedDB=="object"}catch{return!1}}function cL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="FirebaseError";class Es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uL,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?dL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Es(s,a,r)}}function dL(t,e){return t.replace(hL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hL=/\{\$([^}]+)}/g;function fL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ab(i)&&ab(o)){if(!wo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ab(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pL(t,e){const n=new mL(t,e);return n.subscribe.bind(n)}class mL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=og),s.error===void 0&&(s.error=og),s.complete===void 0&&(s.complete=og);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class bo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new X9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xL(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vL(t){return t===Zi?void 0:t}function xL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const wL={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},bL=ye.INFO,EL={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},TL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=EL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nx{constructor(e){this.name=e,this._logLevel=bL,this._logHandler=TL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const SL=(t,e)=>e.some(n=>t instanceof n);let lb,cb;function CL(){return lb||(lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IL(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FA=new WeakMap,G0=new WeakMap,UA=new WeakMap,ag=new WeakMap,rx=new WeakMap;function AL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(mi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FA.set(n,t)}).catch(()=>{}),rx.set(e,t),e}function kL(t){if(G0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});G0.set(t,e)}let Q0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RL(t){Q0=t(Q0)}function PL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lg(this),e,...n);return UA.set(r,e.sort?e.sort():[e]),mi(r)}:IL().includes(t)?function(...e){return t.apply(lg(this),e),mi(FA.get(this))}:function(...e){return mi(t.apply(lg(this),e))}}function NL(t){return typeof t=="function"?PL(t):(t instanceof IDBTransaction&&kL(t),SL(t,CL())?new Proxy(t,Q0):t)}function mi(t){if(t instanceof IDBRequest)return AL(t);if(ag.has(t))return ag.get(t);const e=NL(t);return e!==t&&(ag.set(t,e),rx.set(e,t)),e}const lg=t=>rx.get(t);function DL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=mi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(mi(o.result),l.oldVersion,l.newVersion,mi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const OL=["get","getKey","getAll","getAllKeys","count"],ML=["put","add","delete","clear"],cg=new Map;function ub(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ML.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||OL.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return cg.set(e,i),i}RL(t=>({...t,get:(e,n,r)=>ub(e,n)||t.get(e,n,r),has:(e,n)=>!!ub(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y0="@firebase/app",db="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new nx("@firebase/app"),VL="@firebase/app-compat",FL="@firebase/analytics-compat",UL="@firebase/analytics",zL="@firebase/app-check-compat",BL="@firebase/app-check",$L="@firebase/auth",HL="@firebase/auth-compat",WL="@firebase/database",qL="@firebase/data-connect",KL="@firebase/database-compat",GL="@firebase/functions",QL="@firebase/functions-compat",YL="@firebase/installations",XL="@firebase/installations-compat",JL="@firebase/messaging",ZL="@firebase/messaging-compat",e8="@firebase/performance",t8="@firebase/performance-compat",n8="@firebase/remote-config",r8="@firebase/remote-config-compat",s8="@firebase/storage",i8="@firebase/storage-compat",o8="@firebase/firestore",a8="@firebase/ai",l8="@firebase/firestore-compat",c8="firebase",u8="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="[DEFAULT]",d8={[Y0]:"fire-core",[VL]:"fire-core-compat",[UL]:"fire-analytics",[FL]:"fire-analytics-compat",[BL]:"fire-app-check",[zL]:"fire-app-check-compat",[$L]:"fire-auth",[HL]:"fire-auth-compat",[WL]:"fire-rtdb",[qL]:"fire-data-connect",[KL]:"fire-rtdb-compat",[GL]:"fire-fn",[QL]:"fire-fn-compat",[YL]:"fire-iid",[XL]:"fire-iid-compat",[JL]:"fire-fcm",[ZL]:"fire-fcm-compat",[e8]:"fire-perf",[t8]:"fire-perf-compat",[n8]:"fire-rc",[r8]:"fire-rc-compat",[s8]:"fire-gcs",[i8]:"fire-gcs-compat",[o8]:"fire-fst",[l8]:"fire-fst-compat",[a8]:"fire-vertex","fire-js":"fire-js",[c8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Map,h8=new Map,J0=new Map;function hb(t,e){try{t.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qa(t){const e=t.name;if(J0.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;J0.set(e,t);for(const n of vf.values())hb(n,t);for(const n of h8.values())hb(n,t);return!0}function sx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Du("app","Firebase",f8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=u8;function zA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:X0,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw gi.create("bad-app-name",{appName:String(s)});if(n||(n=MA()),!n)throw gi.create("no-options");const i=vf.get(s);if(i){if(wo(n,i.options)&&wo(r,i.config))return i;throw gi.create("duplicate-app",{appName:s})}const o=new _L(s);for(const l of J0.values())o.addComponent(l);const a=new p8(n,r,o);return vf.set(s,a),a}function BA(t=X0){const e=vf.get(t);if(!e&&t===X0&&MA())return zA();if(!e)throw gi.create("no-app",{appName:t});return e}function yi(t,e,n){var r;let s=(r=d8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(a.join(" "));return}Qa(new bo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="firebase-heartbeat-database",g8=1,ou="firebase-heartbeat-store";let ug=null;function $A(){return ug||(ug=DL(m8,g8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),ug}async function y8(t){try{const n=(await $A()).transaction(ou),r=await n.objectStore(ou).get(HA(t));return await n.done,r}catch(e){if(e instanceof Es)ms.warn(e.message);else{const n=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ms.warn(n.message)}}}async function fb(t,e){try{const r=(await $A()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,HA(t)),await r.done}catch(n){if(n instanceof Es)ms.warn(n.message);else{const r=gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ms.warn(r.message)}}}function HA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=1024,x8=30;class _8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=pb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>x8){const o=E8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pb(),{heartbeatsToSend:r,unsentEntries:s}=w8(this._heartbeatsCache.heartbeats),i=yf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ms.warn(n),""}}}function pb(){return new Date().toISOString().substring(0,10)}function w8(t,e=v8){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),mb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),mb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class b8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lL()?cL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return fb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return fb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mb(t){return yf(JSON.stringify({version:2,heartbeats:t})).length}function E8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){Qa(new bo("platform-logger",e=>new jL(e),"PRIVATE")),Qa(new bo("heartbeat",e=>new _8(e),"PRIVATE")),yi(Y0,db,t),yi(Y0,db,"esm2017"),yi("fire-js","")}T8("");var gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,WA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function A(){}A.prototype=S.prototype,I.D=S.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(R,D,O){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return S.prototype[D].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,A){A||(A=0);var R=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)R[D]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(D=0;16>D;++D)R[D]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=I.g[0],A=I.g[1],D=I.g[2];var O=I.g[3],P=S+(O^A&(D^O))+R[0]+3614090360&4294967295;S=A+(P<<7&4294967295|P>>>25),P=O+(D^S&(A^D))+R[1]+3905402710&4294967295,O=S+(P<<12&4294967295|P>>>20),P=D+(A^O&(S^A))+R[2]+606105819&4294967295,D=O+(P<<17&4294967295|P>>>15),P=A+(S^D&(O^S))+R[3]+3250441966&4294967295,A=D+(P<<22&4294967295|P>>>10),P=S+(O^A&(D^O))+R[4]+4118548399&4294967295,S=A+(P<<7&4294967295|P>>>25),P=O+(D^S&(A^D))+R[5]+1200080426&4294967295,O=S+(P<<12&4294967295|P>>>20),P=D+(A^O&(S^A))+R[6]+2821735955&4294967295,D=O+(P<<17&4294967295|P>>>15),P=A+(S^D&(O^S))+R[7]+4249261313&4294967295,A=D+(P<<22&4294967295|P>>>10),P=S+(O^A&(D^O))+R[8]+1770035416&4294967295,S=A+(P<<7&4294967295|P>>>25),P=O+(D^S&(A^D))+R[9]+2336552879&4294967295,O=S+(P<<12&4294967295|P>>>20),P=D+(A^O&(S^A))+R[10]+4294925233&4294967295,D=O+(P<<17&4294967295|P>>>15),P=A+(S^D&(O^S))+R[11]+2304563134&4294967295,A=D+(P<<22&4294967295|P>>>10),P=S+(O^A&(D^O))+R[12]+1804603682&4294967295,S=A+(P<<7&4294967295|P>>>25),P=O+(D^S&(A^D))+R[13]+4254626195&4294967295,O=S+(P<<12&4294967295|P>>>20),P=D+(A^O&(S^A))+R[14]+2792965006&4294967295,D=O+(P<<17&4294967295|P>>>15),P=A+(S^D&(O^S))+R[15]+1236535329&4294967295,A=D+(P<<22&4294967295|P>>>10),P=S+(D^O&(A^D))+R[1]+4129170786&4294967295,S=A+(P<<5&4294967295|P>>>27),P=O+(A^D&(S^A))+R[6]+3225465664&4294967295,O=S+(P<<9&4294967295|P>>>23),P=D+(S^A&(O^S))+R[11]+643717713&4294967295,D=O+(P<<14&4294967295|P>>>18),P=A+(O^S&(D^O))+R[0]+3921069994&4294967295,A=D+(P<<20&4294967295|P>>>12),P=S+(D^O&(A^D))+R[5]+3593408605&4294967295,S=A+(P<<5&4294967295|P>>>27),P=O+(A^D&(S^A))+R[10]+38016083&4294967295,O=S+(P<<9&4294967295|P>>>23),P=D+(S^A&(O^S))+R[15]+3634488961&4294967295,D=O+(P<<14&4294967295|P>>>18),P=A+(O^S&(D^O))+R[4]+3889429448&4294967295,A=D+(P<<20&4294967295|P>>>12),P=S+(D^O&(A^D))+R[9]+568446438&4294967295,S=A+(P<<5&4294967295|P>>>27),P=O+(A^D&(S^A))+R[14]+3275163606&4294967295,O=S+(P<<9&4294967295|P>>>23),P=D+(S^A&(O^S))+R[3]+4107603335&4294967295,D=O+(P<<14&4294967295|P>>>18),P=A+(O^S&(D^O))+R[8]+1163531501&4294967295,A=D+(P<<20&4294967295|P>>>12),P=S+(D^O&(A^D))+R[13]+2850285829&4294967295,S=A+(P<<5&4294967295|P>>>27),P=O+(A^D&(S^A))+R[2]+4243563512&4294967295,O=S+(P<<9&4294967295|P>>>23),P=D+(S^A&(O^S))+R[7]+1735328473&4294967295,D=O+(P<<14&4294967295|P>>>18),P=A+(O^S&(D^O))+R[12]+2368359562&4294967295,A=D+(P<<20&4294967295|P>>>12),P=S+(A^D^O)+R[5]+4294588738&4294967295,S=A+(P<<4&4294967295|P>>>28),P=O+(S^A^D)+R[8]+2272392833&4294967295,O=S+(P<<11&4294967295|P>>>21),P=D+(O^S^A)+R[11]+1839030562&4294967295,D=O+(P<<16&4294967295|P>>>16),P=A+(D^O^S)+R[14]+4259657740&4294967295,A=D+(P<<23&4294967295|P>>>9),P=S+(A^D^O)+R[1]+2763975236&4294967295,S=A+(P<<4&4294967295|P>>>28),P=O+(S^A^D)+R[4]+1272893353&4294967295,O=S+(P<<11&4294967295|P>>>21),P=D+(O^S^A)+R[7]+4139469664&4294967295,D=O+(P<<16&4294967295|P>>>16),P=A+(D^O^S)+R[10]+3200236656&4294967295,A=D+(P<<23&4294967295|P>>>9),P=S+(A^D^O)+R[13]+681279174&4294967295,S=A+(P<<4&4294967295|P>>>28),P=O+(S^A^D)+R[0]+3936430074&4294967295,O=S+(P<<11&4294967295|P>>>21),P=D+(O^S^A)+R[3]+3572445317&4294967295,D=O+(P<<16&4294967295|P>>>16),P=A+(D^O^S)+R[6]+76029189&4294967295,A=D+(P<<23&4294967295|P>>>9),P=S+(A^D^O)+R[9]+3654602809&4294967295,S=A+(P<<4&4294967295|P>>>28),P=O+(S^A^D)+R[12]+3873151461&4294967295,O=S+(P<<11&4294967295|P>>>21),P=D+(O^S^A)+R[15]+530742520&4294967295,D=O+(P<<16&4294967295|P>>>16),P=A+(D^O^S)+R[2]+3299628645&4294967295,A=D+(P<<23&4294967295|P>>>9),P=S+(D^(A|~O))+R[0]+4096336452&4294967295,S=A+(P<<6&4294967295|P>>>26),P=O+(A^(S|~D))+R[7]+1126891415&4294967295,O=S+(P<<10&4294967295|P>>>22),P=D+(S^(O|~A))+R[14]+2878612391&4294967295,D=O+(P<<15&4294967295|P>>>17),P=A+(O^(D|~S))+R[5]+4237533241&4294967295,A=D+(P<<21&4294967295|P>>>11),P=S+(D^(A|~O))+R[12]+1700485571&4294967295,S=A+(P<<6&4294967295|P>>>26),P=O+(A^(S|~D))+R[3]+2399980690&4294967295,O=S+(P<<10&4294967295|P>>>22),P=D+(S^(O|~A))+R[10]+4293915773&4294967295,D=O+(P<<15&4294967295|P>>>17),P=A+(O^(D|~S))+R[1]+2240044497&4294967295,A=D+(P<<21&4294967295|P>>>11),P=S+(D^(A|~O))+R[8]+1873313359&4294967295,S=A+(P<<6&4294967295|P>>>26),P=O+(A^(S|~D))+R[15]+4264355552&4294967295,O=S+(P<<10&4294967295|P>>>22),P=D+(S^(O|~A))+R[6]+2734768916&4294967295,D=O+(P<<15&4294967295|P>>>17),P=A+(O^(D|~S))+R[13]+1309151649&4294967295,A=D+(P<<21&4294967295|P>>>11),P=S+(D^(A|~O))+R[4]+4149444226&4294967295,S=A+(P<<6&4294967295|P>>>26),P=O+(A^(S|~D))+R[11]+3174756917&4294967295,O=S+(P<<10&4294967295|P>>>22),P=D+(S^(O|~A))+R[2]+718787259&4294967295,D=O+(P<<15&4294967295|P>>>17),P=A+(O^(D|~S))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var A=S-this.blockSize,R=this.B,D=this.h,O=0;O<S;){if(D==0)for(;O<=A;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<S;)if(R[D++]=I.charCodeAt(O++),D==this.blockSize){s(this,R),D=0;break}}else for(;O<S;)if(R[D++]=I[O++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var A=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=A&255,A/=256;for(this.u(I),I=Array(16),S=A=0;4>S;++S)for(var R=0;32>R;R+=8)I[A++]=this.g[S]>>>R&255;return I};function i(I,S){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=S(I)}function o(I,S){this.h=S;for(var A=[],R=!0,D=I.length-1;0<=D;D--){var O=I[D]|0;R&&O==S||(A[D]=O,R=!1)}this.g=A}var a={};function l(I){return-128<=I&&128>I?i(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return _(c(-I));for(var S=[],A=1,R=0;I>=A;R++)S[R]=I/A|0,A*=4294967296;return new o(S,0)}function u(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return _(u(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(S,8)),R=f,D=0;D<I.length;D+=8){var O=Math.min(8,I.length-D),P=parseInt(I.substring(D,D+O),S);8>O?(O=c(Math.pow(S,O)),R=R.j(O).add(c(P))):(R=R.j(A),R=R.add(c(P)))}return R}var f=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-_(this).m();for(var I=0,S=1,A=0;A<this.g.length;A++){var R=this.i(A);I+=(0<=R?R:4294967296+R)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(y(this))return"-"+_(this).toString(I);for(var S=c(Math.pow(I,6)),A=this,R="";;){var D=C(A,S).g;A=x(A,D.j(S));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=D,v(A))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=x(this,I),y(I)?-1:v(I)?0:1};function _(I){for(var S=I.g.length,A=[],R=0;R<S;R++)A[R]=~I.g[R];return new o(A,~I.h).add(h)}t.abs=function(){return y(this)?_(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),A=[],R=0,D=0;D<=S;D++){var O=R+(this.i(D)&65535)+(I.i(D)&65535),P=(O>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);R=P>>>16,O&=65535,P&=65535,A[D]=P<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(I,S){return I.add(_(S))}t.j=function(I){if(v(this)||v(I))return f;if(y(this))return y(I)?_(this).j(_(I)):_(_(this).j(I));if(y(I))return _(this.j(_(I)));if(0>this.l(m)&&0>I.l(m))return c(this.m()*I.m());for(var S=this.g.length+I.g.length,A=[],R=0;R<2*S;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<I.g.length;D++){var O=this.i(R)>>>16,P=this.i(R)&65535,q=I.i(D)>>>16,V=I.i(D)&65535;A[2*R+2*D]+=P*V,b(A,2*R+2*D),A[2*R+2*D+1]+=O*V,b(A,2*R+2*D+1),A[2*R+2*D+1]+=P*q,b(A,2*R+2*D+1),A[2*R+2*D+2]+=O*q,b(A,2*R+2*D+2)}for(R=0;R<S;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=S;R<2*S;R++)A[R]=0;return new o(A,0)};function b(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function T(I,S){this.g=I,this.h=S}function C(I,S){if(v(S))throw Error("division by zero");if(v(I))return new T(f,f);if(y(I))return S=C(_(I),S),new T(_(S.g),_(S.h));if(y(S))return S=C(I,_(S)),new T(_(S.g),S.h);if(30<I.g.length){if(y(I)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var A=h,R=S;0>=R.l(I);)A=N(A),R=N(R);var D=M(A,1),O=M(R,1);for(R=M(R,2),A=M(A,2);!v(R);){var P=O.add(R);0>=P.l(I)&&(D=D.add(A),O=P),R=M(R,1),A=M(A,1)}return S=x(I,D.j(S)),new T(D,S)}for(D=f;0<=I.l(S);){for(A=Math.max(1,Math.floor(I.m()/S.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(A),P=O.j(S);y(P)||0<P.l(I);)A-=R,O=c(A),P=O.j(S);v(O)&&(O=h),D=D.add(O),I=x(I,P)}return new T(D,I)}t.A=function(I){return C(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),A=[],R=0;R<S;R++)A[R]=this.i(R)&I.i(R);return new o(A,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),A=[],R=0;R<S;R++)A[R]=this.i(R)|I.i(R);return new o(A,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),A=[],R=0;R<S;R++)A[R]=this.i(R)^I.i(R);return new o(A,this.h^I.h)};function N(I){for(var S=I.g.length+1,A=[],R=0;R<S;R++)A[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(A,I.h)}function M(I,S){var A=S>>5;S%=32;for(var R=I.g.length-A,D=[],O=0;O<R;O++)D[O]=0<S?I.i(O+A)>>>S|I.i(O+A+1)<<32-S:I.i(O+A);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,vi=o}).apply(typeof gb<"u"?gb:typeof self<"u"?self:typeof window<"u"?window:{});var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qA,sc,KA,bh,Z0,GA,QA,YA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,E){return d==Array.prototype||d==Object.prototype||(d[g]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Md=="object"&&Md];for(var g=0;g<d.length;++g){var E=d[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var E=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var L=d[k];if(!(L in E))break e;E=E[L]}d=d[d.length-1],k=E[d],g=g(k),g!=k&&g!=null&&e(E,d,{configurable:!0,writable:!0,value:g})}}function i(d,g){d instanceof String&&(d+="");var E=0,k=!1,L={next:function(){if(!k&&E<d.length){var F=E++;return{value:g(F,d[F]),done:!1}}return k=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(d){return d||function(){return i(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function c(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function u(d,g,E){return d.call.apply(d.bind,arguments)}function f(d,g,E){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,k),d.apply(g,L)}}return function(){return d.apply(g,arguments)}}function h(d,g,E){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function m(d,g){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function v(d,g){function E(){}E.prototype=g.prototype,d.aa=g.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(k,L,F){for(var Y=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)Y[Oe-2]=arguments[Oe];return g.prototype[L].apply(k,Y)}}function y(d){const g=d.length;if(0<g){const E=Array(g);for(let k=0;k<g;k++)E[k]=d[k];return E}return[]}function _(d,g){for(let E=1;E<arguments.length;E++){const k=arguments[E];if(l(k)){const L=d.length||0,F=k.length||0;d.length=L+F;for(let Y=0;Y<F;Y++)d[L+Y]=k[Y]}else d.push(k)}}class x{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function b(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var N=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(d,g,E){for(const k in d)g.call(E,d[k],k,d)}function I(d,g){for(const E in d)g.call(void 0,d[E],E,d)}function S(d){const g={};for(const E in d)g[E]=d[E];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,g){let E,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(E in k)d[E]=k[E];for(let F=0;F<A.length;F++)E=A[F],Object.prototype.hasOwnProperty.call(k,E)&&(d[E]=k[E])}}function D(d){var g=1;d=d.split(":");const E=[];for(;0<g&&d.length;)E.push(d.shift()),g--;return d.length&&E.push(d.join(":")),E}function O(d){a.setTimeout(()=>{throw d},0)}function P(){var d=z;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class q{constructor(){this.h=this.g=null}add(g,E){const k=V.get();k.set(g,E),this.h?this.h.next=k:this.g=k,this.h=k}}var V=new x(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let W,j=!1,z=new q,X=()=>{const d=a.Promise.resolve(void 0);W=()=>{d.then(J)}};var J=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(E){O(E)}var g=V;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}j=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};a.addEventListener("test",E,g),a.removeEventListener("test",E,g)}catch{}return d}();function Le(d,g){if(G.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(N){e:{try{C(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else E=="mouseover"?g=d.fromElement:E=="mouseout"&&(g=d.toElement);this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:pe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Le.aa.h.call(this)}}v(Le,G);var pe={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),pr=0;function mr(d,g,E,k,L){this.listener=d,this.proxy=null,this.src=g,this.type=E,this.capture=!!k,this.ha=L,this.key=++pr,this.da=this.fa=!1}function xn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function $r(d){this.src=d,this.g={},this.h=0}$r.prototype.add=function(d,g,E,k,L){var F=d.toString();d=this.g[F],d||(d=this.g[F]=[],this.h++);var Y=qn(d,g,k,L);return-1<Y?(g=d[Y],E||(g.fa=!1)):(g=new mr(g,this.src,F,!!k,L),g.fa=E,d.push(g)),g};function gr(d,g){var E=g.type;if(E in d.g){var k=d.g[E],L=Array.prototype.indexOf.call(k,g,void 0),F;(F=0<=L)&&Array.prototype.splice.call(k,L,1),F&&(xn(g),d.g[E].length==0&&(delete d.g[E],d.h--))}}function qn(d,g,E,k){for(var L=0;L<d.length;++L){var F=d[L];if(!F.da&&F.listener==g&&F.capture==!!E&&F.ha==k)return L}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),Ts={};function Kn(d,g,E,k,L){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Kn(d,g[F],E,k,L);return null}return E=El(E),d&&d[Ot]?d.K(g,E,c(k)?!!k.capture:!!k,L):_l(d,g,E,!1,k,L)}function _l(d,g,E,k,L,F){if(!g)throw Error("Invalid event type");var Y=c(L)?!!L.capture:!!L,Oe=Ss(d);if(Oe||(d[Hr]=Oe=new $r(d)),E=Oe.add(g,E,k,Y,F),E.proxy)return E;if(k=wl(),E.proxy=k,k.src=d,k.listener=E,d.addEventListener)_e||(L=Y),L===void 0&&(L=!1),d.addEventListener(g.toString(),k,L);else if(d.attachEvent)d.attachEvent(Qu(g.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function wl(){function d(E){return g.call(d.src,d.listener,E)}const g=cm;return d}function ot(d,g,E,k,L){if(Array.isArray(g))for(var F=0;F<g.length;F++)ot(d,g[F],E,k,L);else k=c(k)?!!k.capture:!!k,E=El(E),d&&d[Ot]?(d=d.i,g=String(g).toString(),g in d.g&&(F=d.g[g],E=qn(F,E,k,L),-1<E&&(xn(F[E]),Array.prototype.splice.call(F,E,1),F.length==0&&(delete d.g[g],d.h--)))):d&&(d=Ss(d))&&(g=d.g[g.toString()],d=-1,g&&(d=qn(g,E,k,L)),(E=-1<d?g[d]:null)&&yr(E))}function yr(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[Ot])gr(g.i,d);else{var E=d.type,k=d.proxy;g.removeEventListener?g.removeEventListener(E,k,d.capture):g.detachEvent?g.detachEvent(Qu(E),k):g.addListener&&g.removeListener&&g.removeListener(k),(E=Ss(g))?(gr(E,d),E.h==0&&(E.src=null,g[Hr]=null)):xn(d)}}}function Qu(d){return d in Ts?Ts[d]:Ts[d]="on"+d}function cm(d,g){if(d.da)d=!0;else{g=new Le(g,this);var E=d.listener,k=d.ha||d.src;d.fa&&yr(d),d=E.call(k,g)}return d}function Ss(d){return d=d[Hr],d instanceof $r?d:null}var bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function El(d){return typeof d=="function"?d:(d[bl]||(d[bl]=function(g){return d.handleEvent(g)}),d[bl])}function at(){Z.call(this),this.i=new $r(this),this.M=this,this.F=null}v(at,Z),at.prototype[Ot]=!0,at.prototype.removeEventListener=function(d,g,E,k){ot(this,d,g,E,k)};function Ye(d,g){var E,k=d.F;if(k)for(E=[];k;k=k.F)E.push(k);if(d=d.M,k=g.type||g,typeof g=="string")g=new G(g,d);else if(g instanceof G)g.target=g.target||d;else{var L=g;g=new G(k,d),R(g,L)}if(L=!0,E)for(var F=E.length-1;0<=F;F--){var Y=g.g=E[F];L=Bi(Y,k,!0,g)&&L}if(Y=g.g=d,L=Bi(Y,k,!0,g)&&L,L=Bi(Y,k,!1,g)&&L,E)for(F=0;F<E.length;F++)Y=g.g=E[F],L=Bi(Y,k,!1,g)&&L}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var E=d.g[g],k=0;k<E.length;k++)xn(E[k]);delete d.g[g],d.h--}}this.F=null},at.prototype.K=function(d,g,E,k){return this.i.add(String(d),g,!1,E,k)},at.prototype.L=function(d,g,E,k){return this.i.add(String(d),g,!0,E,k)};function Bi(d,g,E,k){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,F=0;F<g.length;++F){var Y=g[F];if(Y&&!Y.da&&Y.capture==E){var Oe=Y.listener,wt=Y.ha||Y.src;Y.fa&&gr(d.i,Y),L=Oe.call(wt,k)!==!1&&L}}return L&&!k.defaultPrevented}function Wr(d,g,E){if(typeof d=="function")E&&(d=h(d,E));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Tl(d){d.g=Wr(()=>{d.g=null,d.i&&(d.i=!1,Tl(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class um extends Z{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Tl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(d){Z.call(this),this.h=d,this.g={}}v(Cs,Z);var Sl=[];function Yu(d){M(d.g,function(g,E){this.g.hasOwnProperty(E)&&yr(g)},d),d.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Yu(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=a.JSON.stringify,vr=a.JSON.parse,dm=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function oe(){}oe.prototype.h=null;function Ne(d){return d.h||(d.h=d.i())}function Ae(){}var Mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function an(){G.call(this,"d")}v(an,G);function Is(){G.call(this,"c")}v(Is,G);var qr={},b1=null;function Xu(){return b1=b1||new at}qr.La="serverreachability";function E1(d){G.call(this,qr.La,d)}v(E1,G);function Cl(d){const g=Xu();Ye(g,new E1(g))}qr.STAT_EVENT="statevent";function T1(d,g){G.call(this,qr.STAT_EVENT,d),this.stat=g}v(T1,G);function Zt(d){const g=Xu();Ye(g,new T1(g,d))}qr.Ma="timingevent";function S1(d,g){G.call(this,qr.Ma,d),this.size=g}v(S1,G);function Il(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function Al(){this.g=!0}Al.prototype.xa=function(){this.g=!1};function s4(d,g,E,k,L,F){d.info(function(){if(d.g)if(F)for(var Y="",Oe=F.split("&"),wt=0;wt<Oe.length;wt++){var Te=Oe[wt].split("=");if(1<Te.length){var jt=Te[0];Te=Te[1];var Lt=jt.split("_");Y=2<=Lt.length&&Lt[1]=="type"?Y+(jt+"="+Te+"&"):Y+(jt+"=redacted&")}}else Y=null;else Y=F;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+g+`
`+E+`
`+Y})}function i4(d,g,E,k,L,F,Y){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+g+`
`+E+`
`+F+" "+Y})}function Fo(d,g,E,k){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+a4(d,E)+(k?" "+k:"")})}function o4(d,g){d.info(function(){return"TIMEOUT: "+g})}Al.prototype.info=function(){};function a4(d,g){if(!d.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var k=E[d];if(!(2>k.length)){var L=k[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return $i(E)}catch{return g}}var Ju={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},C1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hm;function Zu(){}v(Zu,oe),Zu.prototype.g=function(){return new XMLHttpRequest},Zu.prototype.i=function(){return{}},hm=new Zu;function As(d,g,E,k){this.j=d,this.i=g,this.l=E,this.R=k||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new I1}function I1(){this.i=null,this.g="",this.h=!1}var A1={},fm={};function pm(d,g,E){d.L=1,d.v=rd(Kr(g)),d.m=E,d.P=!0,k1(d,null)}function k1(d,g){d.F=Date.now(),ed(d),d.A=Kr(d.v);var E=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),$1(E.i,"t",k),d.C=0,E=d.j.J,d.h=new I1,d.g=a_(d.j,E?g:null,!d.m),0<d.O&&(d.M=new um(h(d.Y,d,d.g),d.O)),g=d.U,E=d.g,k=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(Sl[0]=L.toString()),L=Sl);for(var F=0;F<L.length;F++){var Y=Kn(E,L[F],k||g.handleEvent,!1,g.h||g);if(!Y)break;g.g[Y.key]=Y}g=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),Cl(),s4(d.i,d.u,d.A,d.l,d.R,d.m)}As.prototype.ca=function(d){d=d.target;const g=this.M;g&&Gr(d)==3?g.j():this.Y(d)},As.prototype.Y=function(d){try{if(d==this.g)e:{const Lt=Gr(this.g);var g=this.g.Ba();const Bo=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Y1(this.g)))){this.J||Lt!=4||g==7||(g==8||0>=Bo?Cl(3):Cl(2)),mm(this);var E=this.g.Z();this.X=E;t:if(R1(this)){var k=Y1(this.g);d="";var L=k.length,F=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hi(this),kl(this);var Y="";break t}this.h.i=new a.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,d+=this.h.i.decode(k[g],{stream:!(F&&g==L-1)});k.length=0,this.h.g+=d,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=E==200,i4(this.i,this.u,this.A,this.l,this.R,Lt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,wt=this.g;if((Oe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Oe)){var Te=Oe;break t}}Te=null}if(E=Te)Fo(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gm(this,E);else{this.o=!1,this.s=3,Zt(12),Hi(this),kl(this);break e}}if(this.P){E=!0;let Gn;for(;!this.J&&this.C<Y.length;)if(Gn=l4(this,Y),Gn==fm){Lt==4&&(this.s=4,Zt(14),E=!1),Fo(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==A1){this.s=4,Zt(15),Fo(this.i,this.l,Y,"[Invalid Chunk]"),E=!1;break}else Fo(this.i,this.l,Gn,null),gm(this,Gn);if(R1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||Y.length!=0||this.h.h||(this.s=1,Zt(16),E=!1),this.o=this.o&&E,!E)Fo(this.i,this.l,Y,"[Invalid Chunked Response]"),Hi(this),kl(this);else if(0<Y.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),bm(jt),jt.M=!0,Zt(11))}}else Fo(this.i,this.l,Y,null),gm(this,Y);Lt==4&&Hi(this),this.o&&!this.J&&(Lt==4?r_(this.j,this):(this.o=!1,ed(this)))}else S4(this.g),E==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Hi(this),kl(this)}}}catch{}finally{}};function R1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function l4(d,g){var E=d.C,k=g.indexOf(`
`,E);return k==-1?fm:(E=Number(g.substring(E,k)),isNaN(E)?A1:(k+=1,k+E>g.length?fm:(g=g.slice(k,k+E),d.C=k+E,g)))}As.prototype.cancel=function(){this.J=!0,Hi(this)};function ed(d){d.S=Date.now()+d.I,P1(d,d.I)}function P1(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Il(h(d.ba,d),g)}function mm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}As.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(o4(this.i,this.A),this.L!=2&&(Cl(),Zt(17)),Hi(this),this.s=2,kl(this)):P1(this,this.S-d)};function kl(d){d.j.G==0||d.J||r_(d.j,d)}function Hi(d){mm(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Yu(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function gm(d,g){try{var E=d.j;if(E.G!=0&&(E.g==d||ym(E.h,d))){if(!d.K&&ym(E.h,d)&&E.G==3){try{var k=E.Da.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)cd(E),ad(E);else break e;wm(E),Zt(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=Il(h(E.Za,E),6e3));if(1>=O1(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else qi(E,11)}else if((d.K||E.g==d)&&cd(E),!b(g))for(L=E.Da.g.parse(g),g=0;g<L.length;g++){let Te=L[g];if(E.T=Te[0],Te=Te[1],E.G==2)if(Te[0]=="c"){E.K=Te[1],E.ia=Te[2];const jt=Te[3];jt!=null&&(E.la=jt,E.j.info("VER="+E.la));const Lt=Te[4];Lt!=null&&(E.Aa=Lt,E.j.info("SVER="+E.Aa));const Bo=Te[5];Bo!=null&&typeof Bo=="number"&&0<Bo&&(k=1.5*Bo,E.L=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const Gn=d.g;if(Gn){const dd=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dd){var F=k.h;F.g||dd.indexOf("spdy")==-1&&dd.indexOf("quic")==-1&&dd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(vm(F,F.h),F.h=null))}if(k.D){const Em=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Em&&(k.ya=Em,Ve(k.I,k.D,Em))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),k=E;var Y=d;if(k.qa=o_(k,k.J?k.ia:null,k.W),Y.K){M1(k.h,Y);var Oe=Y,wt=k.L;wt&&(Oe.I=wt),Oe.B&&(mm(Oe),ed(Oe)),k.g=Y}else t_(k);0<E.i.length&&ld(E)}else Te[0]!="stop"&&Te[0]!="close"||qi(E,7);else E.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?qi(E,7):_m(E):Te[0]!="noop"&&E.l&&E.l.ta(Te),E.v=0)}}Cl(4)}catch{}}var c4=class{constructor(d,g){this.g=d,this.map=g}};function N1(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function D1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function O1(d){return d.h?1:d.g?d.g.size:0}function ym(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function vm(d,g){d.g?d.g.add(g):d.h=g}function M1(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}N1.prototype.cancel=function(){if(this.i=j1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function j1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const E of d.g.values())g=g.concat(E.D);return g}return y(d.i)}function u4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var g=[],E=d.length,k=0;k<E;k++)g.push(d[k]);return g}g=[],E=0;for(k in d)g[E++]=d[k];return g}function d4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var g=[];d=d.length;for(var E=0;E<d;E++)g.push(E);return g}g=[],E=0;for(const k in d)g[E++]=k;return g}}}function L1(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var E=d4(d),k=u4(d),L=k.length,F=0;F<L;F++)g.call(void 0,k[F],E&&E[F],d)}var V1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h4(d,g){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var k=d[E].indexOf("="),L=null;if(0<=k){var F=d[E].substring(0,k);L=d[E].substring(k+1)}else F=d[E];g(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Wi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Wi){this.h=d.h,td(this,d.j),this.o=d.o,this.g=d.g,nd(this,d.s),this.l=d.l;var g=d.i,E=new Nl;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),F1(this,E),this.m=d.m}else d&&(g=String(d).match(V1))?(this.h=!1,td(this,g[1]||"",!0),this.o=Rl(g[2]||""),this.g=Rl(g[3]||"",!0),nd(this,g[4]),this.l=Rl(g[5]||"",!0),F1(this,g[6]||"",!0),this.m=Rl(g[7]||"")):(this.h=!1,this.i=new Nl(null,this.h))}Wi.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Pl(g,U1,!0),":");var E=this.g;return(E||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Pl(g,U1,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Pl(E,E.charAt(0)=="/"?m4:p4,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Pl(E,y4)),d.join("")};function Kr(d){return new Wi(d)}function td(d,g,E){d.j=E?Rl(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function nd(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function F1(d,g,E){g instanceof Nl?(d.i=g,v4(d.i,d.h)):(E||(g=Pl(g,g4)),d.i=new Nl(g,d.h))}function Ve(d,g,E){d.i.set(g,E)}function rd(d){return Ve(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Rl(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Pl(d,g,E){return typeof d=="string"?(d=encodeURI(d).replace(g,f4),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function f4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var U1=/[#\/\?@]/g,p4=/[#\?:]/g,m4=/[#\?]/g,g4=/[#\?@]/g,y4=/#/g;function Nl(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function ks(d){d.g||(d.g=new Map,d.h=0,d.i&&h4(d.i,function(g,E){d.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=Nl.prototype,t.add=function(d,g){ks(this),this.i=null,d=Uo(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(g),this.h+=1,this};function z1(d,g){ks(d),g=Uo(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function B1(d,g){return ks(d),g=Uo(d,g),d.g.has(g)}t.forEach=function(d,g){ks(this),this.g.forEach(function(E,k){E.forEach(function(L){d.call(g,L,k,this)},this)},this)},t.na=function(){ks(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let k=0;k<g.length;k++){const L=d[k];for(let F=0;F<L.length;F++)E.push(g[k])}return E},t.V=function(d){ks(this);let g=[];if(typeof d=="string")B1(this,d)&&(g=g.concat(this.g.get(Uo(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)g=g.concat(d[E])}return g},t.set=function(d,g){return ks(this),this.i=null,d=Uo(this,d),B1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function $1(d,g,E){z1(d,g),0<E.length&&(d.i=null,d.g.set(Uo(d,g),y(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var k=g[E];const F=encodeURIComponent(String(k)),Y=this.V(k);for(k=0;k<Y.length;k++){var L=F;Y[k]!==""&&(L+="="+encodeURIComponent(String(Y[k]))),d.push(L)}}return this.i=d.join("&")};function Uo(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function v4(d,g){g&&!d.j&&(ks(d),d.i=null,d.g.forEach(function(E,k){var L=k.toLowerCase();k!=L&&(z1(this,k),$1(this,L,E))},d)),d.j=g}function x4(d,g){const E=new Al;if(a.Image){const k=new Image;k.onload=m(Rs,E,"TestLoadImage: loaded",!0,g,k),k.onerror=m(Rs,E,"TestLoadImage: error",!1,g,k),k.onabort=m(Rs,E,"TestLoadImage: abort",!1,g,k),k.ontimeout=m(Rs,E,"TestLoadImage: timeout",!1,g,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else g(!1)}function _4(d,g){const E=new Al,k=new AbortController,L=setTimeout(()=>{k.abort(),Rs(E,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:k.signal}).then(F=>{clearTimeout(L),F.ok?Rs(E,"TestPingServer: ok",!0,g):Rs(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Rs(E,"TestPingServer: error",!1,g)})}function Rs(d,g,E,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(E)}catch{}}function w4(){this.g=new dm}function b4(d,g,E){const k=E||"";try{L1(d,function(L,F){let Y=L;c(L)&&(Y=$i(L)),g.push(k+F+"="+encodeURIComponent(Y))})}catch(L){throw g.push(k+"type="+encodeURIComponent("_badmap")),L}}function sd(d){this.l=d.Ub||null,this.j=d.eb||!1}v(sd,oe),sd.prototype.g=function(){return new id(this.l,this.j)},sd.prototype.i=function(d){return function(){return d}}({});function id(d,g){at.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(id,at),t=id.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Ol(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;H1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function H1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Dl(this):Ol(this),this.readyState==3&&H1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Dl(this))},t.Qa=function(d){this.g&&(this.response=d,Dl(this))},t.ga=function(){this.g&&Dl(this)};function Dl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ol(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=g.next();return d.join(`\r
`)};function Ol(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(id.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function W1(d){let g="";return M(d,function(E,k){g+=k,g+=":",g+=E,g+=`\r
`}),g}function xm(d,g,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=W1(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Ve(d,g,E))}function Xe(d){at.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Xe,at);var E4=/^https?$/i,T4=["POST","PUT"];t=Xe.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hm.g(),this.v=this.o?Ne(this.o):Ne(hm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(F){q1(this,F);return}if(d=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)E.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const F of k.keys())E.set(F,k.get(F));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(T4,g,void 0))||k||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Y]of E)this.g.setRequestHeader(F,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Q1(this),this.u=!0,this.g.send(d),this.u=!1}catch(F){q1(this,F)}};function q1(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,K1(d),od(d)}function K1(d){d.A||(d.A=!0,Ye(d,"complete"),Ye(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ye(this,"complete"),Ye(this,"abort"),od(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),od(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?G1(this):this.bb())},t.bb=function(){G1(this)};function G1(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Gr(d)!=4||d.Z()!=2)){if(d.u&&Gr(d)==4)Wr(d.Ea,0,d);else if(Ye(d,"readystatechange"),Gr(d)==4){d.h=!1;try{const Y=d.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var k;if(k=Y===0){var L=String(d.D).match(V1)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),k=!E4.test(L?L.toLowerCase():"")}E=k}if(E)Ye(d,"complete"),Ye(d,"success");else{d.m=6;try{var F=2<Gr(d)?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.Z()+"]",K1(d)}}finally{od(d)}}}}function od(d,g){if(d.g){Q1(d);const E=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||Ye(d,"ready");try{E.onreadystatechange=k}catch{}}}function Q1(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Gr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),vr(g)}};function Y1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function S4(d){const g={};d=(d.g&&2<=Gr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(b(d[k]))continue;var E=D(d[k]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=g[L]||[];g[L]=F,F.push(E)}I(g,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ml(d,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||g}function X1(d){this.Aa=0,this.i=[],this.j=new Al,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ml("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ml("baseRetryDelayMs",5e3,d),this.cb=Ml("retryDelaySeedMs",1e4,d),this.Wa=Ml("forwardChannelMaxRetries",2,d),this.wa=Ml("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new N1(d&&d.concurrentRequestLimit),this.Da=new w4,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=X1.prototype,t.la=8,t.G=1,t.connect=function(d,g,E,k){Zt(0),this.W=d,this.H=g||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.I=o_(this,null,this.W),ld(this)};function _m(d){if(J1(d),d.G==3){var g=d.U++,E=Kr(d.I);if(Ve(E,"SID",d.K),Ve(E,"RID",g),Ve(E,"TYPE","terminate"),jl(d,E),g=new As(d,d.j,g),g.L=2,g.v=rd(Kr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=g.v,E=!0),E||(g.g=a_(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ed(g)}i_(d)}function ad(d){d.g&&(bm(d),d.g.cancel(),d.g=null)}function J1(d){ad(d),d.u&&(a.clearTimeout(d.u),d.u=null),cd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function ld(d){if(!D1(d.h)&&!d.s){d.s=!0;var g=d.Ga;W||X(),j||(W(),j=!0),z.add(g,d),d.B=0}}function C4(d,g){return O1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Il(h(d.Ga,d,g),s_(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new As(this,this.j,d);let F=this.o;if(this.S&&(F?(F=S(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=e_(this,L,g),E=Kr(this.I),Ve(E,"RID",d),Ve(E,"CVER",22),this.D&&Ve(E,"X-HTTP-Session-Id",this.D),jl(this,E),F&&(this.O?g="headers="+encodeURIComponent(String(W1(F)))+"&"+g:this.m&&xm(E,this.m,F)),vm(this.h,L),this.Ua&&Ve(E,"TYPE","init"),this.P?(Ve(E,"$req",g),Ve(E,"SID","null"),L.T=!0,pm(L,E,null)):pm(L,E,g),this.G=2}}else this.G==3&&(d?Z1(this,d):this.i.length==0||D1(this.h)||Z1(this))};function Z1(d,g){var E;g?E=g.l:E=d.U++;const k=Kr(d.I);Ve(k,"SID",d.K),Ve(k,"RID",E),Ve(k,"AID",d.T),jl(d,k),d.m&&d.o&&xm(k,d.m,d.o),E=new As(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),g&&(d.i=g.D.concat(d.i)),g=e_(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),vm(d.h,E),pm(E,k,g)}function jl(d,g){d.H&&M(d.H,function(E,k){Ve(g,k,E)}),d.l&&L1({},function(E,k){Ve(g,k,E)})}function e_(d,g,E){E=Math.min(d.i.length,E);var k=d.l?h(d.l.Na,d.l,d):null;e:{var L=d.i;let F=-1;for(;;){const Y=["count="+E];F==-1?0<E?(F=L[0].g,Y.push("ofs="+F)):F=0:Y.push("ofs="+F);let Oe=!0;for(let wt=0;wt<E;wt++){let Te=L[wt].g;const jt=L[wt].map;if(Te-=F,0>Te)F=Math.max(0,L[wt].g-100),Oe=!1;else try{b4(jt,Y,"req"+Te+"_")}catch{k&&k(jt)}}if(Oe){k=Y.join("&");break e}}}return d=d.i.splice(0,E),g.D=d,k}function t_(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;W||X(),j||(W(),j=!0),z.add(g,d),d.v=0}}function wm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Il(h(d.Fa,d),s_(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,n_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Il(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),ad(this),n_(this))};function bm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function n_(d){d.g=new As(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=Kr(d.qa);Ve(g,"RID","rpc"),Ve(g,"SID",d.K),Ve(g,"AID",d.T),Ve(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ve(g,"TO",d.ja),Ve(g,"TYPE","xmlhttp"),jl(d,g),d.m&&d.o&&xm(g,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=rd(Kr(g)),E.m=null,E.P=!0,k1(E,d)}t.Za=function(){this.C!=null&&(this.C=null,ad(this),wm(this),Zt(19))};function cd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function r_(d,g){var E=null;if(d.g==g){cd(d),bm(d),d.g=null;var k=2}else if(ym(d.h,g))E=g.D,M1(d.h,g),k=1;else return;if(d.G!=0){if(g.o)if(k==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var L=d.B;k=Xu(),Ye(k,new S1(k,E)),ld(d)}else t_(d);else if(L=g.s,L==3||L==0&&0<g.X||!(k==1&&C4(d,g)||k==2&&wm(d)))switch(E&&0<E.length&&(g=d.h,g.i=g.i.concat(E)),L){case 1:qi(d,5);break;case 4:qi(d,10);break;case 3:qi(d,6);break;default:qi(d,2)}}}function s_(d,g){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*g}function qi(d,g){if(d.j.info("Error code "+g),g==2){var E=h(d.fb,d),k=d.Xa;const L=!k;k=new Wi(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||td(k,"https"),rd(k),L?x4(k.toString(),E):_4(k.toString(),E)}else Zt(2);d.G=0,d.l&&d.l.sa(g),i_(d),J1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function i_(d){if(d.G=0,d.ka=[],d.l){const g=j1(d.h);(g.length!=0||d.i.length!=0)&&(_(d.ka,g),_(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function o_(d,g,E){var k=E instanceof Wi?Kr(E):new Wi(E);if(k.g!="")g&&(k.g=g+"."+k.g),nd(k,k.s);else{var L=a.location;k=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var F=new Wi(null);k&&td(F,k),g&&(F.g=g),L&&nd(F,L),E&&(F.l=E),k=F}return E=d.D,g=d.ya,E&&g&&Ve(k,E,g),Ve(k,"VER",d.la),jl(d,k),k}function a_(d,g,E){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new Xe(new sd({eb:E})):new Xe(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function l_(){}t=l_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ud(){}ud.prototype.g=function(d,g){return new _n(d,g)};function _n(d,g){at.call(this),this.g=new X1(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!b(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!b(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new zo(this)}v(_n,at),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){_m(this.g)},_n.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=$i(d),d=E);g.i.push(new c4(g.Ya++,d)),g.G==3&&ld(g)},_n.prototype.N=function(){this.g.l=null,delete this.j,_m(this.g),delete this.g,_n.aa.N.call(this)};function c_(d){an.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const E in g){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}v(c_,an);function u_(){Is.call(this),this.status=1}v(u_,Is);function zo(d){this.g=d}v(zo,l_),zo.prototype.ua=function(){Ye(this.g,"a")},zo.prototype.ta=function(d){Ye(this.g,new c_(d))},zo.prototype.sa=function(d){Ye(this.g,new u_)},zo.prototype.ra=function(){Ye(this.g,"b")},ud.prototype.createWebChannel=ud.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,YA=function(){return new ud},QA=function(){return Xu()},GA=qr,Z0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ju.NO_ERROR=0,Ju.TIMEOUT=8,Ju.HTTP_ERROR=6,bh=Ju,C1.COMPLETE="complete",KA=C1,Ae.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",at.prototype.listen=at.prototype.K,sc=Ae,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,qA=Xe}).apply(typeof Md<"u"?Md:typeof self<"u"?self:typeof window<"u"?window:{});const yb="@firebase/firestore",vb="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new nx("@firebase/firestore");function Yo(){return Eo.logLevel}function ee(t,...e){if(Eo.logLevel<=ye.DEBUG){const n=e.map(ix);Eo.debug(`Firestore (${pl}): ${t}`,...n)}}function gs(t,...e){if(Eo.logLevel<=ye.ERROR){const n=e.map(ix);Eo.error(`Firestore (${pl}): ${t}`,...n)}}function Ya(t,...e){if(Eo.logLevel<=ye.WARN){const n=e.map(ix);Eo.warn(`Firestore (${pl}): ${t}`,...n)}}function ix(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,XA(t,r,n)}function XA(t,e,n){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gs(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||XA(e,s,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class C8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I8{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ls,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ls)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new JA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class A8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new A8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=P8(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function ey(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return me(r,s);{const i=ZA(),o=N8(i.encode(_b(t,n)),i.encode(_b(e,n)));return o!==0?o:me(r,s)}}n+=r>65535?2:1}return me(t.length,e.length)}function _b(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function N8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return me(t[n],e[n]);return me(t.length,e.length)}function Xa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=-62135596800,bb=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*bb);return new et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wb)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bb}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new et(0,0))}static max(){return new ae(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__name__";class Sr{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Sr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Sr.isNumericId(e),s=Sr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Sr.extractNumericId(e).compare(Sr.extractNumericId(n)):ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vi.fromString(e.substring(4,e.length-2))}}class $e extends Sr{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const D8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Sr{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return D8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Eb}static keyField(){return new kt([Eb])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ne(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ne(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ne(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re($e.fromString(e))}static fromName(e){return new re($e.fromString(e).popFirst(5))}static empty(){return new re($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function O8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ae.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Ai(s,re.empty(),e)}function M8(t){return new Ai(t.readTime,t.key,au)}class Ai{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ai(ae.min(),re.empty(),au)}static max(){return new Ai(ae.max(),re.empty(),au)}}function j8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==L8)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function F8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Pp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=-1;function Np(t){return t==null}function xf(t){return t===0&&1/t==-1/0}function U8(t){return typeof t=="number"&&Number.isInteger(t)&&!xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="";function z8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Tb(e)),e=B8(t.get(n),e);return Tb(e)}function B8(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case tk:n+="";break;default:n+=i}}return n}function Tb(t){return t+tk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}}class jd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??It.RED,this.left=s??It.EMPTY,this.right=i??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new It(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cb(this.data.getIterator())}getIteratorFrom(e){return new Cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Cb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new gt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rk("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const $8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=$8.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="server_timestamp",ik="__type__",ok="__previous_value__",ak="__local_write_time__";function ax(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ik])===null||n===void 0?void 0:n.stringValue)===sk}function Dp(t){const e=t.mapValue.fields[ok];return ax(e)?Dp(e):e}function lu(t){const e=ki(t.mapValue.fields[ak].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n,r,s,i,o,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const _f="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||_f}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===_f}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="__type__",ck="__max__",Ld={mapValue:{fields:{__type__:{stringValue:ck}}}},uk="__vector__",wf="value";function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ax(t)?4:q8(t)?9007199254740991:W8(t)?10:11:se(28295,{value:t})}function Ur(t,e){if(t===e)return!0;const n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lu(t).isEqual(lu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ki(s.timestampValue),a=ki(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ri(s.bytesValue).isEqual(Ri(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=nt(s.doubleValue),a=nt(i.doubleValue);return o===a?xf(o)===xf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xa(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Sb(o)!==Sb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ur(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function uu(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function Ja(t,e){if(t===e)return 0;const n=Pi(t),r=Pi(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=nt(i.integerValue||i.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ib(t.timestampValue,e.timestampValue);case 4:return Ib(lu(t),lu(e));case 5:return ey(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ri(i),l=Ri(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=me(a[c],l[c]);if(u!==0)return u}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(nt(i.latitude),nt(o.latitude));return a!==0?a:me(nt(i.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ab(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const f=i.fields||{},h=o.fields||{},m=(a=f[wf])===null||a===void 0?void 0:a.arrayValue,v=(l=h[wf])===null||l===void 0?void 0:l.arrayValue,y=me(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:Ab(m,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ld.mapValue&&o===Ld.mapValue)return 0;if(i===Ld.mapValue)return 1;if(o===Ld.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=ey(l[f],u[f]);if(h!==0)return h;const m=Ja(a[l[f]],c[u[f]]);if(m!==0)return m}return me(l.length,u.length)}(t.mapValue,e.mapValue);default:throw se(23264,{Pe:n})}}function Ib(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=ki(t),r=ki(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function Ab(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ja(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function Za(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ki(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ty(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ty(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function Eh(t){switch(Pi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dp(t);return e?16+Eh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Eh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Fi(r.fields,(i,o)=>{s+=i.length+Eh(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function kb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ny(t){return!!t&&"integerValue"in t}function lx(t){return!!t&&"arrayValue"in t}function Rb(t){return!!t&&"nullValue"in t}function Pb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Th(t){return!!t&&"mapValue"in t}function W8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lk])===null||n===void 0?void 0:n.stringValue)===uk}function Ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function q8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ck}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ic(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Th(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Fi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new dn(Ic(this.value))}}function dk(t){const e=[];return Fi(t.fields,(n,r)=>{const s=new kt([n]);if(Th(r)){const i=dk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Kt(e,0,ae.min(),ae.min(),ae.min(),dn.empty(),0)}static newFoundDocument(e,n,r,s){return new Kt(e,1,n,ae.min(),r,s,0)}static newNoDocument(e,n){return new Kt(e,2,n,ae.min(),ae.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,ae.min(),ae.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.position=e,this.inclusive=n}}function Nb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=Ja(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Db(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function K8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{}class ut extends hk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Q8(e,n,r):n==="array-contains"?new J8(e,r):n==="in"?new Z8(e,r):n==="not-in"?new e7(e,r):n==="array-contains-any"?new t7(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Y8(e,r):new X8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends hk{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ur(e,n)}matches(e){return fk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fk(t){return t.op==="and"}function pk(t){return G8(t)&&fk(t)}function G8(t){for(const e of t.filters)if(e instanceof ur)return!1;return!0}function ry(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+Za(t.value);if(pk(t))return t.filters.map(e=>ry(e)).join(",");{const e=t.filters.map(n=>ry(n)).join(",");return`${t.op}(${e})`}}function mk(t,e){return t instanceof ut?function(r,s){return s instanceof ut&&r.op===s.op&&r.field.isEqual(s.field)&&Ur(r.value,s.value)}(t,e):t instanceof ur?function(r,s){return s instanceof ur&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mk(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function gk(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(t):t instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(gk).join(" ,")+"}"}(t):"Filter"}class Q8 extends ut{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class Y8 extends ut{constructor(e,n){super(e,"in",n),this.keys=yk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class X8 extends ut{constructor(e,n){super(e,"not-in",n),this.keys=yk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class J8 extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lx(n)&&uu(n.arrayValue,this.value)}}class Z8 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class e7 extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class t7 extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function Ob(t,e=null,n=[],r=[],s=null,i=null,o=null){return new n7(t,e,n,r,s,i,o)}function cx(t){const e=le(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ry(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Np(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Za(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Za(r)).join(",")),e.Ie=n}return e.Ie}function ux(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Db(t.startAt,e.startAt)&&Db(t.endAt,e.endAt)}function sy(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function r7(t,e,n,r,s,i,o,a){return new Mu(t,e,n,r,s,i,o,a)}function Op(t){return new Mu(t)}function Mb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vk(t){return t.collectionGroup!==null}function Ac(t){const e=le(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gt(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Ef(i,r))}),n.has(kt.keyField().canonicalString())||e.Ee.push(new Ef(kt.keyField(),r))}return e.Ee}function Mr(t){const e=le(t);return e.de||(e.de=s7(e,Ac(t))),e.de}function s7(t,e){if(t.limitType==="F")return Ob(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ef(s.field,i)});const n=t.endAt?new bf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bf(t.startAt.position,t.startAt.inclusive):null;return Ob(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iy(t,e){const n=t.filters.concat([e]);return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function oy(t,e,n){return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mp(t,e){return ux(Mr(t),Mr(e))&&t.limitType===e.limitType}function xk(t){return`${cx(Mr(t))}|lt:${t.limitType}`}function Xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>gk(s)).join(", ")}]`),Np(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Za(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Za(s)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function jp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ac(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Nb(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ac(r),s)||r.endAt&&!function(o,a,l){const c=Nb(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ac(r),s))}(t,e)}function i7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _k(t){return(e,n)=>{let r=!1;for(const s of Ac(t)){const i=o7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function o7(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ja(l,c):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return nk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=new Qe(re.comparator);function ys(){return a7}const wk=new Qe(re.comparator);function ic(...t){let e=wk;for(const n of t)e=e.insert(n.key,n);return e}function bk(t){let e=wk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function so(){return kc()}function Ek(){return kc()}function kc(){return new Mo(t=>t.toString(),(t,e)=>t.isEqual(e))}const l7=new Qe(re.comparator),c7=new gt(re.comparator);function ve(...t){let e=c7;for(const n of t)e=e.add(n);return e}const u7=new gt(me);function d7(){return u7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(e)?"-0":e}}function Tk(t){return{integerValue:""+t}}function h7(t,e){return U8(e)?Tk(e):dx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this._=void 0}}function f7(t,e,n){return t instanceof du?function(s,i){const o={fields:{[ik]:{stringValue:sk},[ak]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ax(i)&&(i=Dp(i)),i&&(o.fields[ok]=i),{mapValue:o}}(n,e):t instanceof hu?Ck(t,e):t instanceof fu?Ik(t,e):function(s,i){const o=Sk(s,i),a=jb(o)+jb(s.Re);return ny(o)&&ny(s.Re)?Tk(a):dx(s.serializer,a)}(t,e)}function p7(t,e,n){return t instanceof hu?Ck(t,e):t instanceof fu?Ik(t,e):n}function Sk(t,e){return t instanceof Tf?function(r){return ny(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class du extends Lp{}class hu extends Lp{constructor(e){super(),this.elements=e}}function Ck(t,e){const n=Ak(e);for(const r of t.elements)n.some(s=>Ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class fu extends Lp{constructor(e){super(),this.elements=e}}function Ik(t,e){let n=Ak(e);for(const r of t.elements)n=n.filter(s=>!Ur(s,r));return{arrayValue:{values:n}}}class Tf extends Lp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function jb(t){return nt(t.integerValue||t.doubleValue)}function Ak(t){return lx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n){this.field=e,this.transform=n}}function g7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof hu&&s instanceof hu||r instanceof fu&&s instanceof fu?Xa(r.elements,s.elements,Ur):r instanceof Tf&&s instanceof Tf?Ur(r.Re,s.Re):r instanceof du&&s instanceof du}(t.transform,e.transform)}class y7{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vp{}function kk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hx(t.key,Bn.none()):new ju(t.key,t.data,Bn.none());{const n=t.data,r=dn.empty();let s=new gt(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ui(t.key,r,new kn(s.toArray()),Bn.none())}}function v7(t,e,n){t instanceof ju?function(s,i,o){const a=s.value.clone(),l=Vb(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ui?function(s,i,o){if(!Sh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Vb(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Rk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Rc(t,e,n,r){return t instanceof ju?function(i,o,a,l){if(!Sh(i.precondition,o))return a;const c=i.value.clone(),u=Fb(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ui?function(i,o,a,l){if(!Sh(i.precondition,o))return a;const c=Fb(i.fieldTransforms,l,o),u=o.data;return u.setAll(Rk(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Sh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function x7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Sk(r.transform,s||null);i!=null&&(n===null&&(n=dn.empty()),n.set(r.field,i))}return n||null}function Lb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xa(r,s,(i,o)=>g7(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends Vp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ui extends Vp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Rk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Vb(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,p7(o,a,n[s]))}return r}function Fb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,f7(i,o,e))}return r}class hx extends Vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _7 extends Vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&v7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ek();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=kk(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(n,r)=>Lb(n,r))&&Xa(this.baseMutations,e.baseMutations,(n,r)=>Lb(n,r))}}class fx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return l7}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new fx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,we;function T7(t){switch(t){case H.OK:return se(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function Pk(t){if(t===void 0)return gs("GRPC error has no .code"),H.UNKNOWN;switch(t){case lt.OK:return H.OK;case lt.CANCELLED:return H.CANCELLED;case lt.UNKNOWN:return H.UNKNOWN;case lt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case lt.INTERNAL:return H.INTERNAL;case lt.UNAVAILABLE:return H.UNAVAILABLE;case lt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case lt.NOT_FOUND:return H.NOT_FOUND;case lt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case lt.ABORTED:return H.ABORTED;case lt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case lt.DATA_LOSS:return H.DATA_LOSS;default:return se(39323,{code:t})}}(we=lt||(lt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=new vi([4294967295,4294967295],0);function Ub(t){const e=ZA().encode(t),n=new WA;return n.update(e),new Uint8Array(n.digest())}function zb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new vi([n,r],0),new vi([s,i],0)]}class px{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=vi.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(vi.fromNumber(r)));return s.compare(S7)===1&&(s=new vi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Ub(e),[r,s]=zb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new px(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Ub(e),[r,s]=zb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fp(ae.min(),s,new Qe(me),ys(),ve())}}class Lu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lu(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class Nk{constructor(e,n){this.targetId=e,this.Ce=n}}class Dk{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Bb{constructor(){this.Fe=0,this.Me=$b(),this.xe=Dt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ve(),n=ve(),r=ve();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new Lu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=$b()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ie(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class C7{constructor(e){this.ze=e,this.je=new Map,this.He=ys(),this.Je=Vd(),this.Ye=Vd(),this.Ze=new Qe(me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(sy(i))if(r===0){const o=new re(i.path);this.tt(n,o,Kt.newNoDocument(o,ae.min()))}else Ie(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ri(r).toUint8Array()}catch(l){if(l instanceof rk)return Ya("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new px(o,s,i)}catch(l){return Ya(l instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&sy(a.target)){const l=new re(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Kt.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=ve();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Fp(e,n,this.Ze,this.He,r);return this.He=ys(),this.Je=Vd(),this.Ye=Vd(),this.Ze=new Qe(me),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Bb,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new gt(me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new gt(me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Bb),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Vd(){return new Qe(re.comparator)}function $b(){return new Qe(re.comparator)}const I7={asc:"ASCENDING",desc:"DESCENDING"},A7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k7={and:"AND",or:"OR"};class R7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ay(t,e){return t.useProto3Json||Np(e)?e:{value:e}}function Sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ok(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function P7(t,e){return Sf(t,e.toTimestamp())}function jr(t){return Ie(!!t,49232),ae.fromTimestamp(function(n){const r=ki(n);return new et(r.seconds,r.nanos)}(t))}function mx(t,e){return ly(t,e).canonicalString()}function ly(t,e){const n=function(s){return new $e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Mk(t){const e=$e.fromString(t);return Ie(Uk(e),10190,{key:e.toString()}),e}function cy(t,e){return mx(t.databaseId,e.path)}function dg(t,e){const n=Mk(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(Lk(n))}function jk(t,e){return mx(t.databaseId,e)}function N7(t){const e=Mk(t);return e.length===4?$e.emptyPath():Lk(e)}function uy(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lk(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Hb(t,e,n){return{name:cy(t,e),fields:n.value.mapValue.fields}}function D7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Ie(u===void 0||typeof u=="string",58123),Dt.fromBase64String(u||"")):(Ie(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Dt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?H.UNKNOWN:Pk(c.code);return new ne(u,c.message||"")}(o);n=new Dk(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dg(t,r.document.name),i=jr(r.document.updateTime),o=r.document.createTime?jr(r.document.createTime):ae.min(),a=new dn({mapValue:{fields:r.document.fields}}),l=Kt.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ch(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dg(t,r.document),i=r.readTime?jr(r.readTime):ae.min(),o=Kt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ch([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dg(t,r.document),i=r.removedTargetIds||[];n=new Ch([],i,s,null)}else{if(!("filter"in e))return se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new E7(s,i),a=r.targetId;n=new Nk(a,o)}}return n}function O7(t,e){let n;if(e instanceof ju)n={update:Hb(t,e.key,e.value)};else if(e instanceof hx)n={delete:cy(t,e.key)};else if(e instanceof Ui)n={update:Hb(t,e.key,e.data),updateMask:$7(e.fieldMask)};else{if(!(e instanceof _7))return se(16599,{ft:e.type});n={verify:cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof du)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tf)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:P7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function M7(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?jr(s.updateTime):jr(i);return o.isEqual(ae.min())&&(o=jr(i)),new y7(o,s.transformResults||[])}(n,e))):[]}function j7(t,e){return{documents:[jk(t,e.path)]}}function L7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jk(t,s);const i=function(c){if(c.length!==0)return Fk(ur.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Jo(h.field),direction:U7(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ay(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function V7(t){let e=N7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(f){const h=Vk(f);return h instanceof ur&&pk(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(v){return new Ef(Zo(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Np(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new bf(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new bf(m,h)}(n.endAt)),r7(e,s,o,i,a,"F",l,c)}function F7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zo(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zo(n.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zo(n.unaryFilter.field);return ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zo(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return ut.create(Zo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(r=>Vk(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function U7(t){return I7[t]}function z7(t){return A7[t]}function B7(t){return k7[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Zo(t){return kt.fromServerFormat(t.fieldPath)}function Fk(t){return t instanceof ut?function(n){if(n.op==="=="){if(Pb(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(Rb(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pb(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(Rb(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:z7(n.op),value:n.value}}}(t):t instanceof ur?function(n){const r=n.getFilters().map(s=>Fk(s));return r.length===1?r[0]:{compositeFilter:{op:B7(n.op),filters:r}}}(t):se(54877,{filter:t})}function $7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Uk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,r,s,i=ae.min(),o=ae.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.wt=e}}function W7(t){const e=V7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(){this.Cn=new K7}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ai.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class K7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new gt($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new gt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zk=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(zk,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new el(0)}static lr(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="LruGarbageCollector",G7=1048576;function Kb([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class Q7{constructor(e){this.Er=e,this.buffer=new gt(Kb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Kb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ee(qb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?ee(qb,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.mr(3e5)})}}class X7{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Pp.le);const r=new Q7(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Wb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wb):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Yo()<=ye.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function J7(t,e){return new X7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(){this.changes=new Mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Rc(r.mutation,s,kn.empty(),et.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const s=so();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ic();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=so();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ys();const o=kc(),a=function(){return kc()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Ui)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Rc(u.mutation,c,u.mutation.getFieldMask(),et.now())):o.set(c.key,kn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new eV(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=kc();let s=new Qe((o,a)=>o-a),i=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||kn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(s.get(a.batchId)||ve()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=Ek();u.forEach(h=>{if(!i.has(h)){const m=kk(n.get(h),r.get(h));m!==null&&f.set(h,m),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(so());let a=au,l=i;return o.next(c=>B.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(u)?B.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ve())).next(u=>({batchId:a,changes:bk(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=ic();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ic();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(f,h){return new Mu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Kt.newInvalidDocument(u)))});let a=ic();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Rc(u.mutation,c,kn.empty(),et.now()),jp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return B.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:jr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:W7(s.bundledQuery),readTime:jr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.overlays=new Qe(re.comparator),this.Qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=so();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=so(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=so(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=so(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return B.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new b7(n,r));let i=this.Qr.get(n);i===void 0&&(i=ve(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.$r=new gt(yt.Ur),this.Kr=new gt(yt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new yt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new yt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new re(new $e([])),r=new yt(n,e),s=new yt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new re(new $e([])),r=new yt(n,e),s=new yt(n,e+1);let i=ve();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new yt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return re.comparator(e.key,n.key)||me(e.Zr,n.Zr)}static Wr(e,n){return me(e.Zr,n.Zr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new gt(yt.Ur)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new w7(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new yt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?ox:this.nr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(me);return n.forEach(s=>{const i=new yt(s,0),o=new yt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),B.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new yt(new re(i),0);let a=new gt(me);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Zr)),!0)},o),B.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ie(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return B.forEach(n.mutations,s=>{const i=new yt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new yt(n,0),s=this.Xr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.ii=e,this.docs=function(){return new Qe(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Kt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ys();const o=n.path,a=new re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||j8(M8(u),r)<=0||(s.has(u.key)||jp(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}si(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aV(this)}getSize(e){return B.resolve(this.size)}}class aV extends Z7{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.persistence=e,this.oi=new Mo(n=>cx(n),ux),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this._i=0,this.ai=new gx,this.targetCount=0,this.ui=el.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),B.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new el(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Tr(n),B.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.ci={},this.overlays={},this.li=new Pp(0),this.hi=!1,this.hi=!0,this.Pi=new sV,this.referenceDelegate=e(this),this.Ti=new lV(this),this.indexManager=new q7,this.remoteDocumentCache=function(s){return new oV(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new H7(n),this.Ei=new nV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new iV(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new cV(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return B.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class cV extends V8{constructor(e){super(),this.currentSequenceNumber=e}}class yx{constructor(e){this.persistence=e,this.Vi=new gx,this.mi=null}static fi(e){return new yx(e)}get gi(){if(this.mi)return this.mi;throw se(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.gi,r=>{const s=re.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return B.or([()=>B.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Cf{constructor(e,n){this.persistence=e,this.yi=new Mo(r=>z8(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=J7(this,n)}static fi(e,n){return new Cf(e,n)}di(){}Ai(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return B.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ae.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),B.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}Dr(e,n,r){return B.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ve(),s=ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new vx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return aL()?8:F8(Xt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new uV;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Yo()<=ye.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),B.resolve()):(Yo()<=ye.DEBUG&&ee("QueryEngine","Query:",Xo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Yo()<=ye.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):B.resolve())}ws(e,n){if(Mb(n))return B.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=oy(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ve(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,oy(n,null,"F")):this.Fs(e,c,n,l)}))})))}Ss(e,n,r,s){return Mb(n)||s.isEqual(ae.min())?B.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Yo()<=ye.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xo(n)),this.Fs(e,o,n,O8(s,au)).next(a=>a))})}vs(e,n){let r=new gt(_k(e));return n.forEach((s,i)=>{jp(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return Yo()<=ye.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.ys.getDocumentsMatchingQuery(e,n,Ai.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="LocalStore",hV=3e8;class fV{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Qe(me),this.Os=new Mo(i=>cx(i),ux),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function pV(t,e,n,r){return new fV(t,e,n,r)}async function $k(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ve();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function mV(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let m=B.resolve();return h.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(y=>{const _=c.docVersions.get(v);Ie(_!==null,48541),y.version.compareTo(_)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Hk(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function gV(t,e){const n=le(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((u,f)=>{const h=s.get(f);if(!h)return;a.push(n.Ti.removeMatchingKeys(i,u.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,u.addedDocuments,f)));let m=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Dt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(f,m),function(y,_,x){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=hV?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,m,u)&&a.push(n.Ti.updateTargetData(i,m))});let l=ys(),c=ve();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(yV(i,o,e.documentUpdates).next(u=>{l=u.qs,c=u.Qs})),!r.isEqual(ae.min())){const u=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.xs=s,i))}function yV(t,e,n){let r=ve(),s=ve();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ys();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee(xx,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function vV(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ox),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xV(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function dy(t,e,n){const r=le(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!gl(o))throw o;ee(xx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Gb(t,e,n){const r=le(t);let s=ae.min(),i=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=le(l),h=f.Os.get(u);return h!==void 0?B.resolve(f.xs.get(h)):f.Ti.getTargetData(c,u)}(r,o,Mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:ae.min(),n?i:ve())).next(a=>(_V(r,i7(e),a),{documents:a,$s:i})))}function _V(t,e,n){let r=t.Ns.get(e)||ae.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class Qb{constructor(){this.activeTargetIds=d7()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wV{constructor(){this.xo=new Qb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Qb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="ConnectivityMonitor";class Xb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ee(Yb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ee(Yb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd=null;function hy(){return Fd===null?Fd=function(){return 268435456+Math.round(2147483648*Math.random())}():Fd++,"0x"+Fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="RestConnection",EV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TV{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===_f?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=hy(),a=this.jo(e,n.toUriEncodedString());ee(hg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:c}=new URL(a),u=Nu(c);return this.Jo(e,a,l,r,u).then(f=>(ee(hg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ya(hg,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=EV[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class CV extends TV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=hy();return new Promise((a,l)=>{const c=new qA;c.setWithCredentials(!0),c.listenOnce(KA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case bh.NO_ERROR:const f=c.getResponseJson();ee(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case bh.TIMEOUT:ee(zt,`RPC '${e}' ${o} timed out`),l(new ne(H.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const h=c.getStatus();if(ee(zt,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const y=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(b)>=0?b:H.UNKNOWN}(v.status);l(new ne(y,v.message))}else l(new ne(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ne(H.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ee(zt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);ee(zt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",u,r,15)})}T_(e,n,r){const s=hy(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YA(),a=QA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ee(zt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const f=o.createWebChannel(u,l);let h=!1,m=!1;const v=new SV({Zo:_=>{m?ee(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(h||(ee(zt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),ee(zt,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Xo:()=>f.close()}),y=(_,x,b)=>{_.listen(x,T=>{try{b(T)}catch(C){setTimeout(()=>{throw C},0)}})};return y(f,sc.EventType.OPEN,()=>{m||(ee(zt,`RPC '${e}' stream ${s} transport opened.`),v.__())}),y(f,sc.EventType.CLOSE,()=>{m||(m=!0,ee(zt,`RPC '${e}' stream ${s} transport closed`),v.u_())}),y(f,sc.EventType.ERROR,_=>{m||(m=!0,Ya(zt,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),v.u_(new ne(H.UNAVAILABLE,"The operation could not be completed")))}),y(f,sc.EventType.MESSAGE,_=>{var x;if(!m){const b=_.data[0];Ie(!!b,16349);const T=b,C=(T==null?void 0:T.error)||((x=T[0])===null||x===void 0?void 0:x.error);if(C){ee(zt,`RPC '${e}' stream ${s} received error:`,C);const N=C.status;let M=function(A){const R=lt[A];if(R!==void 0)return Pk(R)}(N),I=C.message;M===void 0&&(M=H.INTERNAL,I="Unknown error status: "+N+" with message "+C.message),m=!0,v.u_(new ne(M,I)),f.close()}else ee(zt,`RPC '${e}' stream ${s} received:`,b),v.c_(b)}}),y(a,GA.STAT_EVENT,_=>{_.stat===Z0.PROXY?ee(zt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Z0.NOPROXY&&ee(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}}function fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){return new R7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="PersistentStream";class qk{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Wk(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new ne(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ee(Jb,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ee(Jb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IV extends qk{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=D7(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?jr(o.readTime):ae.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=uy(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=sy(l)?{documents:j7(i,l)}:{query:L7(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ok(i,o.resumeToken);const c=ay(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Sf(i,o.snapshotVersion.toTimestamp());const c=ay(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=F7(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=uy(this.serializer),n.removeTarget=e,this.L_(n)}}class AV extends qk{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=M7(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=uy(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>O7(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{}class RV extends kV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,ly(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(H.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,ly(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(H.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class PV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(gs(n),this.oa=!1):ee("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class NV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{jo(this)&&(ee(To,"Restarting streams for network reachability change."),await async function(l){const c=le(l);c.Ta.add(4),await Vu(c),c.da.set("Unknown"),c.Ta.delete(4),await zp(c)}(this))})}),this.da=new PV(r,s)}}async function zp(t){if(jo(t))for(const e of t.Ia)await e(!0)}async function Vu(t){for(const e of t.Ia)await e(!1)}function Kk(t,e){const n=le(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Ex(n)?bx(n):yl(n).M_()&&wx(n,e))}function _x(t,e){const n=le(t),r=yl(n);n.Pa.delete(e),r.M_()&&Gk(n,e),n.Pa.size===0&&(r.M_()?r.N_():jo(n)&&n.da.set("Unknown"))}function wx(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).H_(e)}function Gk(t,e){t.Aa.Ke(e),yl(t).J_(e)}function bx(t){t.Aa=new C7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.da._a()}function Ex(t){return jo(t)&&!yl(t).F_()&&t.Pa.size>0}function jo(t){return le(t).Ta.size===0}function Qk(t){t.Aa=void 0}async function DV(t){t.da.set("Online")}async function OV(t){t.Pa.forEach((e,n)=>{wx(t,e)})}async function MV(t,e){Qk(t),Ex(t)?(t.da.ca(e),bx(t)):t.da.set("Unknown")}async function jV(t,e,n){if(t.da.set("Online"),e instanceof Dk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){ee(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await If(t,r)}else if(e instanceof Ch?t.Aa.Xe(e):e instanceof Nk?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(ae.min()))try{const r=await Hk(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Pa.get(c);u&&i.Pa.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.Pa.get(l);if(!u)return;i.Pa.set(l,u.withResumeToken(Dt.EMPTY_BYTE_STRING,u.snapshotVersion)),Gk(i,l);const f=new ni(u.target,l,c,u.sequenceNumber);wx(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee(To,"Failed to raise snapshot:",r),await If(t,r)}}async function If(t,e,n){if(!gl(e))throw e;t.Ta.add(1),await Vu(t),t.da.set("Offline"),n||(n=()=>Hk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee(To,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await zp(t)})}function Yk(t,e){return e().catch(n=>If(t,n,e))}async function Bp(t){const e=le(t),n=Ni(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:ox;for(;LV(e);)try{const s=await vV(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,VV(e,s)}catch(s){await If(e,s)}Xk(e)&&Jk(e)}function LV(t){return jo(t)&&t.ha.length<10}function VV(t,e){t.ha.push(e);const n=Ni(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function Xk(t){return jo(t)&&!Ni(t).F_()&&t.ha.length>0}function Jk(t){Ni(t).start()}async function FV(t){Ni(t).ta()}async function UV(t){const e=Ni(t);for(const n of t.ha)e.Z_(n.mutations)}async function zV(t,e,n){const r=t.ha.shift(),s=fx.from(r,e,n);await Yk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Bp(t)}async function BV(t,e){e&&Ni(t).Y_&&await async function(r,s){if(function(o){return T7(o)&&o!==H.ABORTED}(s.code)){const i=r.ha.shift();Ni(r).O_(),await Yk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Bp(r)}}(t,e),Xk(t)&&Jk(t)}async function Zb(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),ee(To,"RemoteStore received new credentials");const r=jo(n);n.Ta.add(3),await Vu(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await zp(n)}async function $V(t,e){const n=le(t);e?(n.Ta.delete(2),await zp(n)):e||(n.Ta.add(2),await Vu(n),n.da.set("Unknown"))}function yl(t){return t.Ra||(t.Ra=function(n,r,s){const i=le(n);return i.ra(),new IV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:DV.bind(null,t),n_:OV.bind(null,t),i_:MV.bind(null,t),j_:jV.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),Ex(t)?bx(t):t.da.set("Unknown")):(await t.Ra.stop(),Qk(t))})),t.Ra}function Ni(t){return t.Va||(t.Va=function(n,r,s){const i=le(n);return i.ra(),new AV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:FV.bind(null,t),i_:BV.bind(null,t),X_:UV.bind(null,t),ea:zV.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Bp(t)):(await t.Va.stop(),t.ha.length>0&&(ee(To,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Tx(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sx(t,e){if(gs("AsyncQueue",`${e}: ${t}`),gl(t))return new ne(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{static emptySet(e){return new Ta(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.ma=new Qe(re.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):se(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class tl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new tl(e,n,Ta.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class WV{constructor(){this.queries=tE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=le(n),i=s.queries;s.queries=tE(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new ne(H.ABORTED,"Firestore shutting down"))}}function tE(){return new Mo(t=>xk(t),Mp)}async function Cx(t,e){const n=le(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new HV,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Sx(o,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&Ax(n)}async function Ix(t,e){const n=le(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qV(t,e){const n=le(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&Ax(n)}function KV(t,e,n){const r=le(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function Ax(t){t.ba.forEach(e=>{e.next()})}var fy,nE;(nE=fy||(fy={})).Ca="default",nE.Cache="cache";class kx{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.key=e}}class eR{constructor(e){this.key=e}}class GV{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ve(),this.mutatedKeys=ve(),this.Ha=_k(e),this.Ja=new Ta(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new eE,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,f)=>{const h=s.get(u),m=jp(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;h&&m?h.data.isEqual(m.data)?v!==y&&(r.track({type:3,doc:m}),_=!0):this.eu(h,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Ha(m,l)>0||c&&this.Ha(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),_=!0):h&&!m&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(m?(o=o.add(m),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((u,f)=>function(m,v){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:_})}};return y(m)-y(v)}(u.type,f.type)||this.Ha(u.doc,f.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,c=l!==this.za;return this.za=l,o.length!==0||c?{snapshot:new tl(this.query,e.Ja,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new eE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ve(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new eR(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new Zk(r))}),n}su(e){this.Ga=e.$s,this.ja=ve();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return tl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Rx="SyncEngine";class QV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YV{constructor(e){this.key=e,this._u=!1}}class XV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Mo(a=>xk(a),Mp),this.cu=new Map,this.lu=new Set,this.hu=new Qe(re.comparator),this.Pu=new Map,this.Tu=new gx,this.Iu={},this.Eu=new Map,this.du=el.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function JV(t,e,n=!0){const r=oR(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await tR(r,e,n,!0),s}async function ZV(t,e){const n=oR(t);await tR(n,e,!0,!1)}async function tR(t,e,n,r){const s=await xV(t.localStore,Mr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await eF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Kk(t.remoteStore,s),a}async function eF(t,e,n,r,s){t.Ru=(f,h,m)=>async function(y,_,x,b){let T=_.view.Za(x);T.Cs&&(T=await Gb(y.localStore,_.query,!1).then(({documents:I})=>_.view.Za(I,T)));const C=b&&b.targetChanges.get(_.targetId),N=b&&b.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(T,y.isPrimaryClient,C,N);return sE(y,_.targetId,M.ru),M.snapshot}(t,f,h,m);const i=await Gb(t.localStore,e,!0),o=new GV(e,i.$s),a=o.Za(i.documents),l=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);sE(t,n,c.ru);const u=new QV(e,n,o);return t.uu.set(e,u),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function tF(t,e,n){const r=le(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!Mp(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await dy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&_x(r.remoteStore,s.targetId),py(r,s.targetId)}).catch(ml)):(py(r,s.targetId),await dy(r.localStore,s.targetId,!0))}async function nF(t,e){const n=le(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_x(n.remoteStore,r.targetId))}async function rF(t,e,n){const r=uF(t);try{const s=await function(o,a){const l=le(o),c=et.now(),u=a.reduce((m,v)=>m.add(v.key),ve());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=ys(),y=ve();return l.Bs.getEntries(m,u).next(_=>{v=_,v.forEach((x,b)=>{b.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(_=>{f=_;const x=[];for(const b of a){const T=x7(b,f.get(b.key).overlayedDocument);T!=null&&x.push(new Ui(b.key,T,dk(T.value.mapValue),Bn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(_=>{h=_;const x=_.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(m,_.batchId,x)})}).then(()=>({batchId:h.batchId,changes:bk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Iu[o.currentUser.toKey()];c||(c=new Qe(me)),c=c.insert(a,l),o.Iu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Fu(r,s.changes),await Bp(r.remoteStore)}catch(s){const i=Sx(s,"Failed to persist write");n.reject(i)}}async function nR(t,e){const n=le(t);try{const r=await gV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?Ie(o._u,14607):s.removedDocuments.size>0&&(Ie(o._u,42227),o._u=!1))}),await Fu(n,r,e)}catch(r){await ml(r)}}function rE(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.ya)h.Da(a)&&(c=!0)}),c&&Ax(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sF(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new Qe(re.comparator);o=o.insert(i,Kt.newNoDocument(i,ae.min()));const a=ve().add(i),l=new Fp(ae.min(),new Map,new Qe(me),o,a);await nR(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),Px(r)}else await dy(r.localStore,e,!1).then(()=>py(r,e,n)).catch(ml)}async function iF(t,e){const n=le(t),r=e.batch.batchId;try{const s=await mV(n.localStore,e);sR(n,r,null),rR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(n,s)}catch(s){await ml(s)}}async function oF(t,e,n){const r=le(t);try{const s=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ie(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);sR(r,e,n),rR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fu(r,s)}catch(s){await ml(s)}}function rR(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function sR(t,e,n){const r=le(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function py(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||iR(t,r)})}function iR(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(_x(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Px(t))}function sE(t,e,n){for(const r of n)r instanceof Zk?(t.Tu.addReference(r.key,e),aF(t,r)):r instanceof eR?(ee(Rx,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||iR(t,r.key)):se(19791,{mu:r})}function aF(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(ee(Rx,"New document in limbo: "+n),t.lu.add(r),Px(t))}function Px(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new re($e.fromString(e)),r=t.du.next();t.Pu.set(r,new YV(n)),t.hu=t.hu.insert(n,r),Kk(t.remoteStore,new ni(Mr(Op(n.path)),r,"TargetPurposeLimboResolution",Pp.le))}}async function Fu(t,e,n){const r=le(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=vx.Rs(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,c){const u=le(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,h=>B.forEach(h.ds,m=>u.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>B.forEach(h.As,m=>u.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!gl(f))throw f;ee(xx,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=u.xs.get(h),v=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(v);u.xs=u.xs.insert(h,y)}}}(r.localStore,i))}async function lF(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){ee(Rx,"User change. New user:",e.toKey());const r=await $k(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new ne(H.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(n,r.ks)}}function cF(t,e){const n=le(t),r=n.Pu.get(e);if(r&&r._u)return ve().add(r.key);{let s=ve();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function oR(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sF.bind(null,e),e.au.j_=qV.bind(null,e.eventManager),e.au.Vu=KV.bind(null,e.eventManager),e}function uF(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oF.bind(null,e),e}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Up(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return pV(this.persistence,new dV,e.initialUser,this.serializer)}yu(e){return new Bk(yx.fi,this.serializer)}pu(e){return new wV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class dF extends Af{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ie(this.persistence.referenceDelegate instanceof Cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Y7(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Bk(r=>Cf.fi(r,n),this.serializer)}}class my{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lF.bind(null,this.syncEngine),await $V(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WV}()}createDatastore(e){const n=Up(e.databaseInfo.databaseId),r=function(i){return new CV(i)}(e.databaseInfo);return function(i,o,a,l){return new RV(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new NV(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>rE(this.syncEngine,n,0),function(){return Xb.C()?new Xb:new bV}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const f=new XV(s,i,o,a,l,c);return u&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=le(s);ee(To,"RemoteStore shutting down."),i.Ta.add(5),await Vu(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}my.provider={build:()=>new my};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="FirestoreClient";class hF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Wt.UNAUTHENTICATED,this.clientId=ek.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ee(Di,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee(Di,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pg(t,e){t.asyncQueue.verifyOperationInProgress(),ee(Di,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $k(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fF(t);ee(Di,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Zb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Zb(e.remoteStore,s)),t._onlineComponents=e}async function fF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(Di,"Using user provided OfflineComponentProvider");try{await pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await pg(t,new Af)}}else ee(Di,"Using default OfflineComponentProvider"),await pg(t,new dF(void 0));return t._offlineComponents}async function aR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(Di,"Using user provided OnlineComponentProvider"),await iE(t,t._uninitializedComponentsProvider._online)):(ee(Di,"Using default OnlineComponentProvider"),await iE(t,new my))),t._onlineComponents}function pF(t){return aR(t).then(e=>e.syncEngine)}async function kf(t){const e=await aR(t),n=e.eventManager;return n.onListen=JV.bind(null,e.syncEngine),n.onUnlisten=tF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nF.bind(null,e.syncEngine),n}function mF(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Nx({next:h=>{u.Cu(),o.enqueueAndForget(()=>Ix(i,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new ne(H.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new ne(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new kx(Op(a.path),u,{includeMetadataChanges:!0,La:!0});return Cx(i,f)}(await kf(t),t.asyncQueue,e,n,r)),r.promise}function gF(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Nx({next:h=>{u.Cu(),o.enqueueAndForget(()=>Ix(i,f)),h.fromCache&&l.source==="server"?c.reject(new ne(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new kx(a,u,{includeMetadataChanges:!0,La:!0});return Cx(i,f)}(await kf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e,n){if(!n)throw new ne(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yF(t,e,n,r){if(e===!0&&r===!0)throw new ne(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aE(t){if(!re.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lE(t){if(re.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $p(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(t);throw new ne(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firestore.googleapis.com",cE=!0;class uE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uR,this.ssl=cE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:cE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<G7)throw new ne(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S8;switch(r.type){case"firstParty":return new k8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=oE.get(n);r&&(ee("ComponentProvider","Removing Datastore"),oE.delete(n),r.terminate())}(this),Promise.resolve()}}function vF(t,e,n,r={}){var s;t=vn(t,Hp);const i=Nu(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(LA(`https://${l}`),VA("Firestore",!0)),o.host!==uR&&o.host!==l&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!wo(c,a)&&(t._setSettings(c),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Wt.MOCK_USER;else{u=J9(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ne(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Wt(h)}t._authCredentials=new C8(new JA(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class xi extends Lo{constructor(e,n,r){super(e,n,Op(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new re(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function ri(t,e,...n){if(t=Jt(t),cR("collection","path",e),t instanceof Hp){const r=$e.fromString(e,...n);return lE(r),new xi(t,null,r)}{if(!(t instanceof Gt||t instanceof xi))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return lE(r),new xi(t.firestore,null,r)}}function Rr(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=ek.newId()),cR("doc","path",e),t instanceof Hp){const r=$e.fromString(e,...n);return aE(r),new Gt(t,null,new re(r))}{if(!(t instanceof Gt||t instanceof xi))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return aE(r),new Gt(t.firestore,t instanceof xi?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="AsyncQueue";class hE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Wk(this,"async_queue_retry"),this.ec=()=>{const r=fg();r&&ee(dE,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=fg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=fg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ls;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!gl(e))throw e;ee(dE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,gs("INTERNAL UNHANDLED ERROR: ",fE(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=Tx.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&se(47125,{_c:fE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function fE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class vs extends Hp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new hE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hE(e),this._firestoreClient=void 0,await e}}}function xF(t,e){const n=typeof t=="object"?t:BA(),r=typeof t=="string"?t:_f,s=sx(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Y9("firestore");i&&vF(s,...i)}return s}function Wp(t){if(t._terminated)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_F(t),t._firestoreClient}function _F(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new H8(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,lR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new hF(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nl(Dt.fromBase64String(e))}catch(n){throw new ne(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nl(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=/^__.*__$/;class bF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class dR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{hc:t})}}class Mx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Mx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Rf(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(hR(this.hc)&&wF.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class EF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Up(e)}gc(e,n,r,s=!1){return new Mx({hc:e,methodName:n,fc:r,path:kt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gp(t){const e=t._freezeSettings(),n=Up(t._databaseId);return new EF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fR(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);Lx("Data must be an object, but it was:",o,r);const a=pR(r,o);let l,c;if(i.merge)l=new kn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=gy(e,f,n);if(!o.contains(h))throw new ne(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gR(u,h)||u.push(h)}l=new kn(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new bF(new dn(a),l,c)}class Qp extends Kp{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qp}}class jx extends Kp{_toFieldTransform(e){return new m7(e.path,new du)}isEqual(e){return e instanceof jx}}function TF(t,e,n,r){const s=t.gc(1,e,n);Lx("Data must be an object, but it was:",s,r);const i=[],o=dn.empty();Fi(r,(l,c)=>{const u=Vx(e,l,n);c=Jt(c);const f=s.Ac(u);if(c instanceof Qp)i.push(u);else{const h=Uu(c,f);h!=null&&(i.push(u),o.set(u,h))}});const a=new kn(i);return new dR(o,a,s.fieldTransforms)}function SF(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[gy(e,r,n)],l=[s];if(i.length%2!=0)throw new ne(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(gy(e,i[h])),l.push(i[h+1]);const c=[],u=dn.empty();for(let h=a.length-1;h>=0;--h)if(!gR(c,a[h])){const m=a[h];let v=l[h];v=Jt(v);const y=o.Ac(m);if(v instanceof Qp)c.push(m);else{const _=Uu(v,y);_!=null&&(c.push(m),u.set(m,_))}}const f=new kn(c);return new dR(u,f,o.fieldTransforms)}function CF(t,e,n,r=!1){return Uu(n,t.gc(r?4:3,e))}function Uu(t,e){if(mR(t=Jt(t)))return Lx("Unsupported field value:",e,t),pR(t,e);if(t instanceof Kp)return function(r,s){if(!hR(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Uu(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=et.fromDate(r);return{timestampValue:Sf(s.serializer,i)}}if(r instanceof et){const i=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sf(s.serializer,i)}}if(r instanceof Dx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nl)return{bytesValue:Ok(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ox)return function(o,a){return{mapValue:{fields:{[lk]:{stringValue:uk},[wf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return dx(a.serializer,c)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${$p(r)}`)}(t,e)}function pR(t,e){const n={};return nk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(t,(r,s)=>{const i=Uu(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function mR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Dx||t instanceof nl||t instanceof Gt||t instanceof Kp||t instanceof Ox)}function Lx(t,e,n){if(!mR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=$p(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function gy(t,e,n){if((e=Jt(e))instanceof qp)return e._internalPath;if(typeof e=="string")return Vx(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const IF=new RegExp("[~\\*/\\[\\]]");function Vx(t,e,n){if(e.search(IF)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qp(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ne(H.INVALID_ARGUMENT,a+t+l)}function gR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AF extends yR{data(){return super.data()}}function Fx(t,e){return typeof e=="string"?Vx(t,e):e instanceof qp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ux{}class kF extends Ux{}function pu(t,e,...n){let r=[];e instanceof Ux&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof zx).length,a=i.filter(l=>l instanceof Yp).length;if(o>1||o>0&&a>0)throw new ne(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Yp extends kF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yp(e,n,r)}_apply(e){const n=this._parse(e);return xR(e._query,n),new Lo(e.firestore,e.converter,iy(e._query,n))}_parse(e){const n=Gp(e.firestore);return function(i,o,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ne(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){gE(f,u);const v=[];for(const y of f)v.push(mE(l,i,y));h={arrayValue:{values:v}}}else h=mE(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||gE(f,u),h=CF(a,o,f,u==="in"||u==="not-in");return ut.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xp(t,e,n){const r=e,s=Fx("where",t);return Yp._create(s,r,n)}class zx extends Ux{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ur.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)xR(o,l),o=iy(o,l)}(e._query,n),new Lo(e.firestore,e.converter,iy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mE(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new ne(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vk(e)&&n.indexOf("/")!==-1)throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!re.isDocumentKey(r))throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kb(t,new re(r))}if(n instanceof Gt)return kb(t,n._key);throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(n)}.`)}function gE(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RF{convertValue(e,n="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[wf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>nt(o.doubleValue));return new Ox(i)}convertGeoPoint(e){return new Dx(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=ki(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Ie(Uk(r),9688,{name:e});const s=new cu(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||gs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wR extends yR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ih extends wR{data(e={}){return super.data(e)}}class bR{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ac(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ih(this._firestore,this._userDataWriter,r.key,r,new ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Ih(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Ih(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:PF(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){t=vn(t,Gt);const e=vn(t.firestore,vs);return mF(Wp(e),t._key).then(n=>TR(e,t,n))}class Bx extends RF{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function io(t){t=vn(t,Lo);const e=vn(t.firestore,vs),n=Wp(e),r=new Bx(e);return vR(t._query),gF(n,t._query).then(s=>new bR(e,r,t,s))}function $x(t,e,n){t=vn(t,Gt);const r=vn(t.firestore,vs),s=_R(t.converter,e,n);return Jp(r,[fR(Gp(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Bn.none())])}function yy(t,e,n,...r){t=vn(t,Gt);const s=vn(t.firestore,vs),i=Gp(s);let o;return o=typeof(e=Jt(e))=="string"||e instanceof qp?SF(i,"updateDoc",t._key,e,n,r):TF(i,"updateDoc",t._key,e),Jp(s,[o.toMutation(t._key,Bn.exists(!0))])}function NF(t){return Jp(vn(t.firestore,vs),[new hx(t._key,Bn.none())])}function DF(t,e){const n=vn(t.firestore,vs),r=Rr(t),s=_R(t.converter,e);return Jp(n,[fR(Gp(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function OF(t,...e){var n,r,s;t=Jt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||pE(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pE(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,u;if(t instanceof Gt)c=vn(t.firestore,vs),u=Op(t._key.path),l={next:f=>{e[o]&&e[o](TR(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=vn(t,Lo);c=vn(f.firestore,vs),u=f._query;const h=new Bx(c);l={next:m=>{e[o]&&e[o](new bR(c,h,f,m))},error:e[o+1],complete:e[o+2]},vR(t._query)}return function(h,m,v,y){const _=new Nx(y),x=new kx(m,_,v);return h.asyncQueue.enqueueAndForget(async()=>Cx(await kf(h),x)),()=>{_.Cu(),h.asyncQueue.enqueueAndForget(async()=>Ix(await kf(h),x))}}(Wp(c),u,a,l)}function Jp(t,e){return function(r,s){const i=new ls;return r.asyncQueue.enqueueAndForget(async()=>rF(await pF(r),s,i)),i.promise}(Wp(t),e)}function TR(t,e,n){const r=n.docs.get(e._key),s=new Bx(t);return new wR(t,s,e._key,r,new ac(n.hasPendingWrites,n.fromCache),e.converter)}function MF(){return new jx("serverTimestamp")}(function(e,n=!0){(function(s){pl=s})(fl),Qa(new bo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new vs(new I8(r.getProvider("auth-internal")),new R8(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ne(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),yi(yb,vb,e),yi(yb,vb,"esm2017")})();var jF="Separator",yE="horizontal",LF=["horizontal","vertical"],SR=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=yE,...s}=t,i=VF(r)?r:yE,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return p.jsx(xe.div,{"data-orientation":i,...a,...s,ref:e})});SR.displayName=jF;function VF(t){return LF.includes(t)}var CR=SR;const vy=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>p.jsx(CR,{ref:s,decorative:n,orientation:e,className:fe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));vy.displayName=CR.displayName;const Hx=w.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Hx.displayName="Textarea";var FF="firebase",UF="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(FF,UF,"app");var Pr=function(){return Pr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pr.apply(this,arguments)};function zu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function zF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function IR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BF=IR,AR=new Du("auth","Firebase",IR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new nx("@firebase/auth");function $F(t,...e){Pf.logLevel<=ye.WARN&&Pf.warn(`Auth (${fl}): ${t}`,...e)}function Ah(t,...e){Pf.logLevel<=ye.ERROR&&Pf.error(`Auth (${fl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,...e){throw Wx(t,...e)}function Lr(t,...e){return Wx(t,...e)}function kR(t,e,n){const r=Object.assign(Object.assign({},BF()),{[e]:n});return new Du("auth","Firebase",r).create(e,{appName:t.name})}function _i(t){return kR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AR.create(t,...e)}function ie(t,e,...n){if(!t)throw Wx(e,...n)}function is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ah(e),new Error(e)}function _s(t,e){t||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HF(){return vE()==="http:"||vE()==="https:"}function vE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HF()||sL()||"connection"in navigator)?navigator.onLine:!0}function qF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=tL()||iL()}get(){return WF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t,e){_s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QF=new Bu(3e4,6e4);function $u(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vo(t,e,n,r,s={}){return PR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ou(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return rL()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Nu(t.emulatorConfig.host)&&(c.credentials="include"),RR.fetch()(await DR(t,t.config.apiHost,n,a),c)})}async function PR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KF),e);try{const s=new XF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ud(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ud(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ud(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kR(t,u,c);xs(t,u)}}catch(s){if(s instanceof Es)throw s;xs(t,"network-request-failed",{message:String(s)})}}async function NR(t,e,n,r,s={}){const i=await Vo(t,e,n,r,s);return"mfaPendingCredential"in i&&xs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function DR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?qx(t.config,s):`${t.config.apiScheme}://${s}`;return GF.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function YF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),QF.get())})}}function Ud(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Lr(t,e,r);return s.customData._tokenResponse=n,s}function xE(t){return t!==void 0&&t.enterprise!==void 0}class JF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZF(t,e){return Vo(t,"GET","/v2/recaptchaConfig",$u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e){return Vo(t,"POST","/v1/accounts:delete",e)}async function Nf(t,e){return Vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tU(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),s=Kx(r);ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Pc(mg(s.auth_time)),issuedAtTime:Pc(mg(s.iat)),expirationTime:Pc(mg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function mg(t){return Number(t)*1e3}function Kx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const s=DA(n);return s?JSON.parse(s):(Ah("Failed to decode base64 JWT payload"),null)}catch(s){return Ah("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _E(t){const e=Kx(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Es&&nU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(t){var e;const n=t.auth,r=await t.getIdToken(),s=await mu(t,Nf(n,{idToken:r}));ie(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?OR(i.providerUserInfo):[],a=iU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _y(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function sU(t){const e=Jt(t);await Df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function OR(t){return t.map(e=>{var{providerId:n}=e,r=zu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(t,e){const n=await PR(t,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await DR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aU(t,e){return Vo(t,"POST","/v2/accounts:revokeToken",$u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=_E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await oU(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Sa;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=zu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _y(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tU(this,e)}reload(){return sU(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await mu(this,eU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:C,isAnonymous:N,providerData:M,stsTokenManager:I}=n;ie(T&&I,e,"internal-error");const S=Sa.fromJSON(this.name,I);ie(typeof T=="string",e,"internal-error"),Os(f,e.name),Os(h,e.name),ie(typeof C=="boolean",e,"internal-error"),ie(typeof N=="boolean",e,"internal-error"),Os(m,e.name),Os(v,e.name),Os(y,e.name),Os(_,e.name),Os(x,e.name),Os(b,e.name);const A=new nr({uid:T,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:N,photoURL:v,phoneNumber:m,tenantId:y,stsTokenManager:S,createdAt:x,lastLoginAt:b});return M&&Array.isArray(M)&&(A.providerData=M.map(R=>Object.assign({},R))),_&&(A._redirectEventId=_),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new Sa;s.updateFromServerResponse(n);const i=new nr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Df(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?OR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Sa;a.updateFromIdToken(r);const l=new nr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new _y(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function os(t){_s(t instanceof Function,"Expected a class definition");let e=wE.get(t);return e?(_s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MR.type="NONE";const bE=MR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=kh(this.userKey,s.apiKey,i),this.fullPersistenceKey=kh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nf(this.auth,{idToken:e}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,e):null}return nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ca(os(bE),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||os(bE);const o=kh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const h=await Nf(e,{idToken:u}).catch(()=>{});if(!h)break;f=await nr._fromGetAccountInfoResponse(e,h,u)}else f=nr._fromJSON(e,u);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ca(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ca(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zR(e))return"Blackberry";if(BR(e))return"Webos";if(LR(e))return"Safari";if((e.includes("chrome/")||VR(e))&&!e.includes("edge/"))return"Chrome";if(UR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jR(t=Xt()){return/firefox\//i.test(t)}function LR(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VR(t=Xt()){return/crios\//i.test(t)}function FR(t=Xt()){return/iemobile/i.test(t)}function UR(t=Xt()){return/android/i.test(t)}function zR(t=Xt()){return/blackberry/i.test(t)}function BR(t=Xt()){return/webos/i.test(t)}function Gx(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lU(t=Xt()){var e;return Gx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cU(){return oL()&&document.documentMode===10}function $R(t=Xt()){return Gx(t)||UR(t)||BR(t)||zR(t)||/windows phone/i.test(t)||FR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e=[]){let n;switch(t){case"Browser":n=EE(Xt());break;case"Worker":n=`${EE(Xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(t,e={}){return Vo(t,"GET","/v2/passwordPolicy",$u(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=6;class fU{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new uU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nf(this,{idToken:e}),r=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(tr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(_i(this));const n=e?Jt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dU(this),n=new fU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&os(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$F(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vl(t){return Jt(t)}class TE{constructor(e){this.auth=e,this.observer=null,this.addObserver=pL(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mU(t){Zp=t}function WR(t){return Zp.loadJS(t)}function gU(){return Zp.recaptchaEnterpriseScript}function yU(){return Zp.gapiScript}function vU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xU{constructor(){this.enterprise=new _U}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _U{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wU="recaptcha-enterprise",qR="NO_RECAPTCHA";class bU{constructor(e){this.type=wU,this.auth=vl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{ZF(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new JF(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;xE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(qR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&xE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=gU();l.length!==0&&(l+=a),WR(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function SE(t,e,n,r=!1,s=!1){const i=new bU(t);let o;if(s)o=qR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function EU(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await SE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await SE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e){const n=sx(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(wo(i,e??{}))return s;xs(s,"already-initialized")}return n.initialize({options:e})}function SU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(os);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CU(t,e,n){const r=vl(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=KR(e),{host:o,port:a}=IU(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(wo(c,r.config.emulator)&&wo(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Nu(o)?(LA(`${i}//${o}${l}`),VA("Auth",!0)):AU()}function KR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IU(t){const e=KR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:CE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:CE(o)}}}function CE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return NR(t,"POST","/v1/accounts:signInWithIdp",$u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="http://localhost";class So extends GR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=zu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new So(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:kU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends QR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Hu{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return So._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Hu{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Hu{constructor(){super("twitter.com")}static credential(e,n){return So._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(t,e){return NR(t,"POST","/v1/accounts:signUp",$u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await nr._fromIdTokenResponse(e,r,s),o=IE(r);return new Co({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=IE(r);return new Co({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function IE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends Es{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Of.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Of(e,n,r,s)}}function YR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Of._fromErrorAndOperation(t,i,e,r):i})}async function PU(t,e,n=!1){const r=await mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e,n=!1){const{auth:r}=t;if(tr(r.app))return Promise.reject(_i(r));const s="reauthenticate";try{const i=await mu(t,YR(r,s,e,t),n);ie(i.idToken,r,"internal-error");const o=Kx(i.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Co._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&xs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(t,e,n=!1){if(tr(t.app))return Promise.reject(_i(t));const r="signIn",s=await YR(t,r,e),i=await Co._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(t){const e=vl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MU(t,e,n){if(tr(t.app))return Promise.reject(_i(t));const r=vl(t),o=await EU(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&OU(t),l}),a=await Co._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function jU(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function LU(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}const Mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=1e3,FU=10;class JR extends XR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$R(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);cU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,FU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JR.type="LOCAL";const UU=JR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR extends XR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZR.type="SESSION";const eP=ZR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new em(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await zU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}em.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Qx("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function $U(t){Vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function HU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qU(){return tP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="firebaseLocalStorageDb",KU=1,jf="firebaseLocalStorage",rP="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tm(t,e){return t.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function GU(){const t=indexedDB.deleteDatabase(nP);return new Wu(t).toPromise()}function wy(){const t=indexedDB.open(nP,KU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jf,{keyPath:rP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jf)?e(r):(r.close(),await GU(),e(await wy()))})})}async function AE(t,e,n){const r=tm(t,!0).put({[rP]:e,value:n});return new Wu(r).toPromise()}async function QU(t,e){const n=tm(t,!1).get(e),r=await new Wu(n).toPromise();return r===void 0?null:r.value}function kE(t,e){const n=tm(t,!0).delete(e);return new Wu(n).toPromise()}const YU=800,XU=3;class sP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=em._getInstance(qU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HU(),!this.activeServiceWorker)return;this.sender=new BU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wy();return await AE(e,Mf,"1"),await kE(e,Mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>QU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=tm(s,!1).getAll();return new Wu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sP.type="LOCAL";const JU=sP;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t,e){return e?os(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends GR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ez(t){return DU(t.auth,new Yx(t),t.bypassAuthState)}function tz(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),NU(n,new Yx(t),t.bypassAuthState)}async function nz(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),PU(n,new Yx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ez;case"linkViaPopup":case"linkViaRedirect":return nz;case"reauthViaPopup":case"reauthViaRedirect":return tz;default:xs(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=new Bu(2e3,1e4);class ma extends iP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Qx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rz.get())};e()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="pendingRedirect",Rh=new Map;class iz extends iP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const r=await oz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oz(t,e){const n=cz(e),r=lz(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function az(t,e){Rh.set(t._key(),e)}function lz(t){return os(t._redirectPersistence)}function cz(t){return kh(sz,t.config.apiKey,t.name)}async function uz(t,e,n=!1){if(tr(t.app))return Promise.reject(_i(t));const r=vl(t),s=ZU(r,e),o=await new iz(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=10*60*1e3;class hz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oP(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dz&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e={}){return Vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gz=/^https?/;async function yz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pz(t);for(const n of e)try{if(vz(n))return}catch{}xs(t,"unauthorized-domain")}function vz(t){const e=xy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gz.test(n))return!1;if(mz.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new Bu(3e4,6e4);function PE(){const t=Vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _z(t){return new Promise((e,n)=>{var r,s,i;function o(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),n(Lr(t,"network-request-failed"))},timeout:xz.get()})}if(!((s=(r=Vr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Vr().gapi)===null||i===void 0)&&i.load)o();else{const a=vU("iframefcb");return Vr()[a]=()=>{gapi.load?o():n(Lr(t,"network-request-failed"))},WR(`${yU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ph=null,e})}let Ph=null;function wz(t){return Ph=Ph||_z(t),Ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=new Bu(5e3,15e3),Ez="__/auth/iframe",Tz="emulator/auth/iframe",Sz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iz(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qx(e,Tz):`https://${t.config.authDomain}/${Ez}`,r={apiKey:e.apiKey,appName:t.name,v:fl},s=Cz.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ou(r).slice(1)}`}async function Az(t){const e=await wz(t),n=Vr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:Iz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sz,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Lr(t,"network-request-failed"),a=Vr().setTimeout(()=>{i(o)},bz.get());function l(){Vr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rz=500,Pz=600,Nz="_blank",Dz="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Oz(t,e,n,r=Rz,s=Pz){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},kz),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Xt().toLowerCase();n&&(a=VR(c)?Nz:n),jR(c)&&(e=e||Dz,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(lU(c)&&a!=="_self")return Mz(e||"",a),new NE(null);const f=window.open(e||"",a,u);ie(f,t,"popup-blocked");try{f.focus()}catch{}return new NE(f)}function Mz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz="__/auth/handler",Lz="emulator/auth/handler",Vz=encodeURIComponent("fac");async function DE(t,e,n,r,s,i){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fl,eventId:s};if(e instanceof QR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",fL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof Hu){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Vz}=${encodeURIComponent(l)}`:"";return`${Fz(t)}?${Ou(a).slice(1)}${c}`}function Fz({config:t}){return t.emulator?qx(t,Lz):`https://${t.authDomain}/${jz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class Uz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eP,this._completeRedirectFn=uz,this._overrideRedirectResult=az}async _openPopup(e,n,r,s){var i;_s((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await DE(e,n,r,xy(),s);return Oz(e,o,Qx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await DE(e,n,r,xy(),s);return $U(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(_s(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Az(e),r=new hz(e);return n.register("authEvent",s=>(ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[gg];o!==void 0&&n(!!o),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $R()||LR()||Gx()}}const zz=Uz;var OE="@firebase/auth",ME="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hz(t){Qa(new bo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HR(t)},c=new pU(r,s,i,l);return SU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qa(new bo("auth-internal",e=>{const n=vl(e.getProvider("auth").getImmediate());return(r=>new Bz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(OE,ME,$z(t)),yi(OE,ME,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=5*60,qz=jA("authIdTokenMaxAge")||Wz;let jE=null;const Kz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qz)return;const s=n==null?void 0:n.token;jE!==s&&(jE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Gz(t=BA()){const e=sx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TU(t,{popupRedirectResolver:zz,persistence:[JU,UU,eP]}),r=jA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Kz(i.toString());LU(n,o,()=>o(n.currentUser)),jU(n,a=>o(a))}}const s=OA("auth");return s&&CU(n,`http://${s}`),n}function Qz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Lr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Qz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hz("Browser");const Yz={apiKey:"AIzaSyBjQwNUZFoXmRHqIZ1cEHy00zg2Bi66AoA",authDomain:"super-shop-8c46a.firebaseapp.com",projectId:"super-shop-8c46a",storageBucket:"super-shop-8c46a.appspot.com",messagingSenderId:"219933718119",appId:"1:219933718119:web:ede8046f4a117a8c1046c2",measurementId:"G-FLXFFC71TT"},aP=zA(Yz),Xz=Gz(aP),At=xF(aP),lP=w.createContext(void 0),Jz=({children:t})=>{const[e,n]=w.useState(null);w.useEffect(()=>{const c=localStorage.getItem("user");if(c){const u=JSON.parse(c);console.log("AuthContext: User loaded from localStorage:",u),n(u)}},[]),w.useEffect(()=>{if(!(e!=null&&e.id)){console.log("onSnapshot: User ID not available, skipping subscription.");return}const c=String(e.id),u=Rr(At,"users",c);console.log(`onSnapshot: Attempting to subscribe to user document with ID: ${c}`);const f=OF(u,h=>{if(h.exists()){const m=h.data(),v={...e,...m};n(v),localStorage.setItem("user",JSON.stringify(v)),console.log("onSnapshot: User data updated from Firestore:",v)}else console.log(`onSnapshot: User document with ID ${c} does not exist.`)},h=>{console.error("onSnapshot: Error listening to user document:",h)});return()=>{console.log(`onSnapshot: Unsubscribing from user document with ID: ${c}`),f()}},[e==null?void 0:e.id]);const r=async c=>{if(!c.id)throw new Error("رقم المستخدم (ID) غير موجود");if(!c.email)throw new Error("البريد الإلكتروني للمستخدم غير موجود");const u={name:c.name,id:String(c.id).trim(),email:c.email.toLowerCase().trim(),profilePicture:c.profilePicture||void 0,isAdmin:c.isAdmin||!1,points:c.points||0};console.log("Login: User data received:",c),console.log("Login: User data to store:",u),localStorage.setItem("user",JSON.stringify(u)),n(u)},s=()=>{localStorage.removeItem("user"),n(null)},i=async c=>{if(e)try{const u=Rr(At,"users",String(e.id));await $x(u,{profilePicture:c,updatedAt:new Date().toISOString()},{merge:!0})}catch(u){console.error("فشل تحديث صورة الملف الشخصي:",u)}},o=async c=>{if(!e||!e.id)throw new Error("يجب تسجيل الدخول أولاً أو معرف المستخدم غير موجود");const u=String(e.id),f=Rr(At,"users",u);try{await yy(f,{points:c}),n(h=>h&&{...h,points:c})}catch(h){console.error("فشل تحديث النقاط:",h)}},a=async()=>{if(e!=null&&e.id)try{const c=Rr(At,"users",String(e.id)),u=await ER(c);if(u.exists()){const f=u.data(),h={...e,...f};n(h),localStorage.setItem("user",JSON.stringify(h))}}catch(c){throw console.error("فشل تحديث بيانات المستخدم:",c),c}},l=async c=>{if(!e||!e.id)throw new Error("يجب تسجيل الدخول أولاً أو معرف المستخدم غير موجود");const u=String(e.id),f=Rr(At,"users",u),h={};try{c.profilePicture!==void 0&&c.profilePicture!==e.profilePicture&&(h.profilePicture=c.profilePicture),c.name&&c.name!==e.name&&(h.name=c.name),c.email&&c.email!==e.email&&(h.email=c.email),Object.keys(h).length>0&&(await yy(f,h),n(m=>{if(!m)return null;const v={...m,...h};return localStorage.setItem("user",JSON.stringify(v)),v}))}catch(m){throw console.error("فشل تحديث بيانات المستخدم:",m),m}};return p.jsx(lP.Provider,{value:{user:e,login:r,logout:s,updateProfilePicture:i,updatePoints:o,refreshUserData:a,updateUserData:l},children:t})},zi=()=>{const t=w.useContext(lP);if(!t)throw new Error("يجب استخدام useAuth داخل AuthProvider");return t},Zz=()=>{const t=ll(),e=Oo(),{toast:n}=LC(),{user:r,updatePoints:s}=zi(),[i,o]=w.useState({socialLink:"",additionalInfo:""}),[a,l]=w.useState({serviceId:"",points:0,quantity:0}),[c,u]=w.useState(!1),f=a.points;w.useEffect(()=>{const v=new URLSearchParams(t.search),y=v.get("service")||"",_=parseFloat(v.get("points")||"0"),x=parseInt(v.get("quantity")||"0",10);if(!y||_===0){e("/services"),n({title:"خطأ",description:"يرجى اختيار خدمة أولاً",variant:"destructive"});return}l({serviceId:y,points:_,quantity:x}),console.log("Payment Page - Extracted Service Info:",{serviceId:y,points:_,quantity:x})},[t,e,n]);const h=v=>{const{name:y,value:_}=v.target;o(x=>({...x,[y]:_}))},m=async v=>{if(v.preventDefault(),u(!0),!i.socialLink){n({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"}),u(!1);return}if((r==null?void 0:r.points)<f){n({title:"خطأ",description:`لا يكفي رصيد النقاط لديك. تحتاج إلى ${f} نقطة وليس لديك سوى ${r==null?void 0:r.points} نقطة`,variant:"destructive"}),u(!1);return}if((r==null?void 0:r.points)<a.points){n({title:"خطأ",description:"لا يكفي رصيد النقاط لديك",variant:"destructive"}),u(!1);return}try{if(console.log("User data before update:",r),console.log("Service info:",a),console.log("Total points to deduct:",f),!r||!r.id||r.points===void 0)throw new Error("Invalid user data");const y=String(r.id).trim();if(!y||y==="undefined"||y==="null")throw new Error("User ID is not valid");const _=r.points-f;await s(_),console.log(`Points updated successfully! Deducted ${f} points. New balance: ${_}`);const x={userId:r.id,userName:r.name||"غير معروف",userEmail:r.email||"غير معروف",serviceId:a.serviceId,quantity:a.quantity,totalPointsUsed:f,socialLink:i.socialLink,additionalInfo:i.additionalInfo||null,timestamp:MF(),status:"قيد التنفيذ",rejectionReason:null};await DF(ri(At,"orders"),x),console.log("Order submitted to Firestore:",x),n({title:"تم استلام الطلب!",description:`تم خصم ${f} نقطة من رصيدك. سنقوم بمعالجة طلبك قريباً.`}),setTimeout(()=>e("/"),2e3),u(!1)}catch(y){console.error("حدث خطأ أثناء معالجة الطلب:",y),n({title:"خطأ",description:"حدث خطأ أثناء معالجة طلبك، يرجى المحاولة لاحقًا",variant:"destructive"}),u(!1)}};return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[p.jsx("main",{className:"flex-grow py-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[p.jsx("div",{className:"mb-8",children:p.jsx(ze,{to:"/services",className:"inline-flex items-center text-gray-600 hover:text-smm-purple transition-colors text-sm font-medium",children:"← العودة إلى الخدمات"})}),p.jsxs("div",{className:"text-center mb-10",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"أكمل طلبك"}),p.jsx("p",{className:"text-gray-600 text-lg",children:"املأ التفاصيل الخاصة بك لتقديم طلبك"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsx(St,{className:"shadow-lg rounded-lg",children:p.jsxs("form",{onSubmit:m,children:[p.jsxs($t,{className:"border-b border-gray-200 pb-4",children:[p.jsx(Ht,{className:"text-2xl font-semibold text-gray-800",children:"معلوماتك"}),p.jsx(Ap,{className:"text-gray-600",children:"سنستخدم هذه المعلومات لمعالجة طلبك"})]}),p.jsxs(Ct,{className:"space-y-6 pt-6",children:[p.jsx("div",{className:"grid grid-cols-1 gap-6",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"socialLink",className:"text-gray-700 font-medium",children:["رابط وسائل التواصل الاجتماعي",p.jsx("span",{className:"text-sm text-gray-500 ml-1 font-normal",children:"(رابط إلى ملفك الشخصي/منشورك)"})]}),p.jsx(In,{id:"socialLink",name:"socialLink",placeholder:"https://instagram.com/yourusername",value:i.socialLink,onChange:h,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(An,{htmlFor:"additionalInfo",className:"text-gray-700 font-medium",children:"معلومات إضافية (اختياري)"}),p.jsx(Hx,{id:"additionalInfo",name:"additionalInfo",placeholder:"أي متطلبات أو أسئلة محددة؟",value:i.additionalInfo,onChange:h,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})]}),p.jsx(mf,{className:"pt-6",children:p.jsx(Me,{type:"submit",className:"w-full bg-gradient-smm hover:opacity-90 text-lg py-3",disabled:c,children:c?"جاري المعالجة...":"إكمال الطلب"})})]})})}),p.jsxs("div",{children:[p.jsxs(St,{className:"shadow-lg rounded-lg",children:[p.jsx($t,{className:"border-b border-gray-200 pb-4",children:p.jsx(Ht,{className:"text-2xl font-semibold text-gray-800",children:"ملخص الطلب"})}),p.jsx(Ct,{className:"space-y-4 pt-6",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:"معرف الخدمة:"}),p.jsx("span",{className:"font-medium text-gray-800",children:a.serviceId})]}),a.quantity>0&&p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:"الكمية:"}),p.jsx("span",{className:"font-medium text-gray-800",children:a.quantity})]}),p.jsx(vy,{}),p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:"المجموع الفرعي:"}),p.jsxs("span",{className:"font-medium text-gray-800",children:[f," نقاط"]})]}),p.jsxs("div",{className:"flex justify-between text-gray-700",children:[p.jsx("span",{children:"رسوم المعالجة:"}),p.jsx("span",{className:"font-medium text-gray-800",children:"0 نقاط"})]}),p.jsx(vy,{}),p.jsxs("div",{className:"flex justify-between font-bold text-gray-800 text-xl",children:[p.jsx("span",{children:"الإجمالي:"}),p.jsxs("span",{children:[f," نقاط"]})]})]})}),p.jsx(mf,{className:"flex flex-col items-start space-y-4 pt-6",children:p.jsxs("div",{className:"text-sm text-gray-600",children:[p.jsx("p",{className:"font-semibold mb-2 text-gray-700",children:"ملاحظات الطلب:"}),p.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[p.jsx("li",{children:"يبدأ التسليم خلال 24 ساعة"}),p.jsx("li",{children:"لا يتطلب كلمة مرور"}),p.jsx("li",{children:"آمن ومضمون 100%"})]})]})})]}),p.jsx("div",{className:"mt-6 p-4 bg-gray-100 rounded-md border border-gray-200",children:p.jsxs("p",{className:"text-sm text-gray-700",children:[p.jsx("span",{className:"font-semibold block mb-1 text-gray-800",children:"هل تحتاج مساعدة؟"}),"إذا كان لديك أي أسئلة أو تحتاج إلى مساعدة، اتصل بفريق الدعم لدينا على"," ",p.jsx("a",{href:"mailto:uusheko@gmail.com",className:"text-smm-purple hover:underline",children:"uusheko@gmail.com"})]})})]})]})]})}),p.jsx(Vi,{})]})},eB=()=>{const t=ll();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},tB=()=>p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[p.jsxs("main",{className:"flex-grow",children:[p.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-center shadow-lg",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4 animate-fade-in-up",children:"عن متجرنا المميز"}),p.jsx("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto opacity-90 animate-fade-in-up delay-200",children:"اكتشف قصتنا، مهمتنا، والأشخاص الشغوفين وراء نجاحنا."})]})}),p.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12",children:[p.jsxs("div",{className:"md:w-1/2",children:[p.jsx("h2",{className:"text-4xl font-bold mb-6 text-gray-800 dark:text-white",children:"قصتنا"}),p.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-4 leading-relaxed",children:"تأسس متجرنا المميز في [السنة] بهدف بسيط: توفير [منتجات/خدمات] عالية الجودة لمجتمعنا. ما بدأ كمشروع صغير نما ليصبح اسمًا موثوقًا به، معروفًا بالتزامنا بالتميز ورضا العملاء."}),p.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed",children:"على مر السنين، قمنا بتوسيع عروضنا وحققنا إنجازات جديدة، لكن قيمنا الأساسية لا تزال كما هي. نؤمن ببناء علاقات دائمة مع عملائنا وإحداث تأثير إيجابي."})]}),p.jsx("div",{className:"md:w-1/2",children:p.jsx("img",{src:"/placeholder.svg",alt:"Our Story",className:"rounded-lg shadow-xl w-full h-auto object-cover transform hover:scale-105 transition-transform duration-300"})})]})})}),p.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-800",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-12",children:[p.jsxs("div",{className:"md:w-1/2",children:[p.jsx("h2",{className:"text-4xl font-bold mb-6 text-gray-800 dark:text-white",children:"مهمتنا"}),p.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-4 leading-relaxed",children:"مهمتنا هي [بيان مهمتك]. نسعى جاهدين لـ [الجوانب الرئيسية لمهمتك، مثل: تقديم قيمة استثنائية، تعزيز الابتكار، دعم المجتمعات المحلية]."}),p.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed",children:"نحن ملتزمون بـ [جانب رئيسي آخر من مهمتك]. كل قرار نتخذه يسترشد بالتزامنا بـ [القيمة الأساسية المتعلقة بالمهمة]."})]}),p.jsx("div",{className:"md:w-1/2",children:p.jsx("img",{src:"/placeholder.svg",alt:"Our Mission",className:"rounded-lg shadow-xl w-full h-auto object-cover transform hover:scale-105 transition-transform duration-300"})})]})})})]}),p.jsx(Vi,{})]}),nB=()=>{const{user:t}=zi(),[e,n]=w.useState([]),[r,s]=w.useState(!0),[i,o]=w.useState("");w.useEffect(()=>{(async()=>{if(!t||!t.id){s(!1),o("يرجى تسجيل الدخول لعرض طلباتك.");return}try{const c=ri(At,"orders"),u=pu(c,Xp("userId","==",t.id)),h=(await io(u)).docs.map(m=>({firebaseId:m.id,...m.data()}));n(h)}catch(c){console.error("حدث خطأ أثناء جلب طلبات المستخدم:",c),o("حدث خطأ أثناء جلب طلباتك. يرجى المحاولة لاحقًا.")}finally{s(!1)}})()},[t]);const a=l=>{try{if(l!=null&&l.toDate)return new Date(l.toDate()).toLocaleDateString()}catch{return"N/A"}return"N/A"};return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[p.jsx("main",{className:"flex-grow py-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8",children:"تتبع طلباتك"}),r&&p.jsx("p",{className:"text-center text-gray-600",children:"جاري تحميل الطلبات..."}),i&&p.jsx("p",{className:"text-center text-red-500",children:i}),!r&&!i&&e.length===0&&p.jsx("p",{className:"text-center text-gray-600",children:"لا توجد لديك طلبات حاليًا."}),!r&&!i&&e.length>0&&p.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.map(l=>p.jsxs(St,{className:"shadow-lg rounded-lg",children:[p.jsxs($t,{className:"border-b border-gray-200 pb-4",children:[p.jsxs(Ht,{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[p.jsx(cf,{className:"w-5 h-5 text-smm-purple"}),"الطلب #",l.firebaseId.substring(0,8),"..."]}),p.jsxs(Ap,{className:"text-gray-600 mt-1",children:["تفاصيل طلبك للخدمة: ",l.serviceId]})]}),p.jsxs(Ct,{className:"space-y-4 pt-6",children:[p.jsxs("div",{className:"flex items-center justify-between text-gray-700",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(rc,{className:"w-4 h-4 text-gray-500"}),"معرف الخدمة:"]}),p.jsx("span",{className:"font-medium text-gray-800",children:l.serviceId})]}),p.jsxs("div",{className:"flex items-center justify-between text-gray-700",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(cf,{className:"w-4 h-4 text-gray-500"}),"الكمية:"]}),p.jsx("span",{className:"font-medium text-gray-800",children:l.quantity})]}),p.jsxs("div",{className:"flex items-center justify-between text-gray-700",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(M0,{className:"w-4 h-4 text-gray-500"}),"النقاط المستخدمة:"]}),p.jsx("span",{className:"font-medium text-gray-800",children:l.totalPointsUsed})]}),p.jsxs("div",{className:"flex items-center justify-between text-gray-700",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(V0,{className:"w-4 h-4 text-gray-500"}),"الرابط الاجتماعي:"]}),p.jsx("span",{className:"font-medium text-gray-800 break-all",children:l.socialLink})]}),p.jsxs("div",{className:"flex items-center justify-between text-gray-700",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(nc,{className:"w-4 h-4 text-gray-500"}),"تاريخ الطلب:"]}),p.jsx("span",{className:"font-medium text-gray-800",children:a(l.timestamp)})]}),p.jsxs("div",{className:"flex items-center justify-between text-gray-700",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[l.status==="قيد التنفيذ"&&p.jsx(_h,{className:"w-4 h-4 text-yellow-600"}),l.status==="مقبول"&&p.jsx(O0,{className:"w-4 h-4 text-green-600"}),l.status==="مرفوض"&&p.jsx(fa,{className:"w-4 h-4 text-red-600"}),"الحالة:"]}),p.jsx("span",{className:`font-bold text-lg ${l.status==="قيد التنفيذ"?"text-yellow-600":l.status==="مقبول"?"text-green-600":"text-red-600"}`,children:l.status})]}),l.rejectionReason&&p.jsxs("div",{className:"flex items-start gap-2 text-sm text-red-500 mt-2",children:[p.jsx(fa,{className:"w-4 h-4 flex-shrink-0"}),p.jsx("span",{className:"font-semibold",children:"سبب الرفض:"})," ",l.rejectionReason]})]})]},l.firebaseId))})]})}),p.jsx(Vi,{})]})},rB={};var by=null;function sB(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return rB.randomBytes(t)}catch{}if(!by)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return by(t)}function iB(t){by=t}function Xx(t,e){if(t=t||Jx,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(Lf(sB(gu),gu)),n.join("")}function cP(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=Jx;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function r(s){rr(function(){try{s(null,Xx(t))}catch(i){s(i)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(s,i){r(function(o,a){if(o){i(o);return}s(a)})})}function uP(t,e){if(typeof e>"u"&&(e=Jx),typeof e=="number"&&(e=Xx(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return Ey(t,e)}function dP(t,e,n,r){function s(i){typeof t=="string"&&typeof e=="number"?cP(e,function(o,a){Ey(t,a,i,r)}):typeof t=="string"&&typeof e=="string"?Ey(t,e,i,r):rr(i.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(i,o){s(function(a,l){if(a){o(a);return}i(l)})})}function hP(t,e){for(var n=t.length^e.length,r=0;r<t.length;++r)n|=t.charCodeAt(r)^e.charCodeAt(r);return n===0}function oB(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:hP(uP(t,e.substring(0,e.length-31)),e)}function aB(t,e,n,r){function s(i){if(typeof t!="string"||typeof e!="string"){rr(i.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){rr(i.bind(this,null,!1));return}dP(t,e.substring(0,29),function(o,a){o?i(o):i(null,hP(a,e))},r)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(i,o){s(function(a,l){if(a){o(a);return}i(l)})})}function lB(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function cB(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function uB(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return fP(t)>72}var rr=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function fP(t){for(var e=0,n=0,r=0;r<t.length;++r)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320?(++r,e+=4):e+=3;return e}function dB(t){for(var e=0,n,r,s=new Array(fP(t)),i=0,o=t.length;i<o;++i)n=t.charCodeAt(i),n<128?s[e++]=n:n<2048?(s[e++]=n>>6|192,s[e++]=n&63|128):(n&64512)===55296&&((r=t.charCodeAt(i+1))&64512)===56320?(n=65536+((n&1023)<<10)+(r&1023),++i,s[e++]=n>>18|240,s[e++]=n>>12&63|128,s[e++]=n>>6&63|128,s[e++]=n&63|128):(s[e++]=n>>12|224,s[e++]=n>>6&63|128,s[e++]=n&63|128);return s}var Ho="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ms=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Lf(t,e){var n=0,r=[],s,i;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(s=t[n++]&255,r.push(Ho[s>>2&63]),s=(s&3)<<4,n>=e){r.push(Ho[s&63]);break}if(i=t[n++]&255,s|=i>>4&15,r.push(Ho[s&63]),s=(i&15)<<2,n>=e){r.push(Ho[s&63]);break}i=t[n++]&255,s|=i>>6&3,r.push(Ho[s&63]),r.push(Ho[i&63])}return r.join("")}function pP(t,e){var n=0,r=t.length,s=0,i=[],o,a,l,c,u,f;if(e<=0)throw Error("Illegal len: "+e);for(;n<r-1&&s<e&&(f=t.charCodeAt(n++),o=f<Ms.length?Ms[f]:-1,f=t.charCodeAt(n++),a=f<Ms.length?Ms[f]:-1,!(o==-1||a==-1||(u=o<<2>>>0,u|=(a&48)>>4,i.push(String.fromCharCode(u)),++s>=e||n>=r)||(f=t.charCodeAt(n++),l=f<Ms.length?Ms[f]:-1,l==-1)||(u=(a&15)<<4>>>0,u|=(l&60)>>2,i.push(String.fromCharCode(u)),++s>=e||n>=r)));)f=t.charCodeAt(n++),c=f<Ms.length?Ms[f]:-1,u=(l&3)<<6>>>0,u|=c,i.push(String.fromCharCode(u)),++s;var h=[];for(n=0;n<s;n++)h.push(i[n].charCodeAt(0));return h}var gu=16,Jx=10,hB=16,fB=100,LE=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],VE=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],mP=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function yu(t,e,n,r){var s,i=t[e],o=t[e+1];return i^=n[0],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[1],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[2],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[3],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[4],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[5],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[6],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[7],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[8],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[9],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[10],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[11],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[12],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[13],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[14],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[15],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[16],t[e]=o^n[hB+1],t[e+1]=i,t}function ea(t,e){for(var n=0,r=0;n<4;++n)r=r<<8|t[e]&255,e=(e+1)%t.length;return{key:r,offp:e}}function FE(t,e,n){for(var r=0,s=[0,0],i=e.length,o=n.length,a,l=0;l<i;l++)a=ea(t,r),r=a.offp,e[l]=e[l]^a.key;for(l=0;l<i;l+=2)s=yu(s,0,e,n),e[l]=s[0],e[l+1]=s[1];for(l=0;l<o;l+=2)s=yu(s,0,e,n),n[l]=s[0],n[l+1]=s[1]}function pB(t,e,n,r){for(var s=0,i=[0,0],o=n.length,a=r.length,l,c=0;c<o;c++)l=ea(e,s),s=l.offp,n[c]=n[c]^l.key;for(s=0,c=0;c<o;c+=2)l=ea(t,s),s=l.offp,i[0]^=l.key,l=ea(t,s),s=l.offp,i[1]^=l.key,i=yu(i,0,n,r),n[c]=i[0],n[c+1]=i[1];for(c=0;c<a;c+=2)l=ea(t,s),s=l.offp,i[0]^=l.key,l=ea(t,s),s=l.offp,i[1]^=l.key,i=yu(i,0,n,r),r[c]=i[0],r[c+1]=i[1]}function UE(t,e,n,r,s){var i=mP.slice(),o=i.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),r){rr(r.bind(this,a));return}else throw a;if(e.length!==gu)if(a=Error("Illegal salt length: "+e.length+" != "+gu),r){rr(r.bind(this,a));return}else throw a;n=1<<n>>>0;var l,c,u=0,f;typeof Int32Array=="function"?(l=new Int32Array(LE),c=new Int32Array(VE)):(l=LE.slice(),c=VE.slice()),pB(e,t,l,c);function h(){if(s&&s(u/n),u<n)for(var v=Date.now();u<n&&(u=u+1,FE(t,l,c),FE(e,l,c),!(Date.now()-v>fB)););else{for(u=0;u<64;u++)for(f=0;f<o>>1;f++)yu(i,f<<1,l,c);var y=[];for(u=0;u<o;u++)y.push((i[u]>>24&255)>>>0),y.push((i[u]>>16&255)>>>0),y.push((i[u]>>8&255)>>>0),y.push((i[u]&255)>>>0);if(r){r(null,y);return}else return y}r&&rr(h)}if(typeof r<"u")h();else for(var m;;)if(typeof(m=h())<"u")return m||[]}function Ey(t,e,n,r){var s;if(typeof t!="string"||typeof e!="string")if(s=Error("Invalid string / salt: Not a string"),n){rr(n.bind(this,s));return}else throw s;var i,o;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(s=Error("Invalid salt version: "+e.substring(0,2)),n){rr(n.bind(this,s));return}else throw s;if(e.charAt(2)==="$")i="\0",o=3;else{if(i=e.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||e.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+e.substring(2,4)),n){rr(n.bind(this,s));return}else throw s;o=4}if(e.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),n){rr(n.bind(this,s));return}else throw s;var a=parseInt(e.substring(o,o+1),10)*10,l=parseInt(e.substring(o+1,o+2),10),c=a+l,u=e.substring(o+3,o+25);t+=i>="a"?"\0":"";var f=dB(t),h=pP(u,gu);function m(v){var y=[];return y.push("$2"),i>="a"&&y.push(i),y.push("$"),c<10&&y.push("0"),y.push(c.toString()),y.push("$"),y.push(Lf(h,h.length)),y.push(Lf(v,mP.length*4-1)),y.join("")}if(typeof n>"u")return m(UE(f,h,c));UE(f,h,c,function(v,y){v?n(v,null):n(null,m(y))},r)}function mB(t,e){return Lf(t,e)}function gB(t,e){return pP(t,e)}const Ty={setRandomFallback:iB,genSaltSync:Xx,genSalt:cP,hashSync:uP,hash:dP,compareSync:oB,compare:aB,getRounds:lB,getSalt:cB,truncates:uB,encodeBase64:mB,decodeBase64:gB},yB=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[o,a]=w.useState(""),[l,c]=w.useState(!1),[u,f]=w.useState(!1),[h,m]=w.useState(!1),v=Oo(),{login:y}=zi(),_=C=>/^[A-Za-z]+$/.test(C),x=C=>/^[A-Za-z._%+-]+[A-Za-z._%+-]*@[A-Za-z.-]+\.[A-Za-z]{2,}$/.test(C),b=C=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(C),T=async C=>{if(C.preventDefault(),!t||!n||!s||!o){De.error("يرجى ملء جميع الحقول");return}if(!_(t)){De.error("الاسم يجب أن يحتوي فقط على حروف إنجليزية بدون فوارز أو مسافات");return}if(!x(n)){De.error("البريد الإلكتروني غير صالح. يجب أن لا يبدأ برقم");return}if(!b(s)){De.error("كلمة المرور يجب أن تكون على الأقل 8 أحرف وتحتوي على حروف وأرقام");return}if(s!==o){De.error("كلمتا المرور غير متطابقتين");return}try{const N=ri(At,"users"),M=pu(N,Xp("email","==",n));if(!(await io(M)).empty){De.error("هذا البريد الإلكتروني مسجل مسبقاً");return}const A=(await MU(Xz,n,s)).user,R=await Ty.genSalt(10),D=await Ty.hash(s,R),O={id:A.uid,name:t,email:n,password:D,isVerified:!0,isAdmin:h,points:0,createdAt:new Date};console.log("Storing user data in Firestore:",O),await $x(Rr(At,"users",A.uid),O),y({name:t,id:A.uid,email:n,points:0});const P=localStorage.getItem("user");console.log("User stored in localStorage after signup:",P),De.success("تم التسجيل بنجاح!"),v("/")}catch(N){console.error("حدث خطأ أثناء التسجيل:",N);let M="حدث خطأ، يرجى المحاولة لاحقًا";N.code==="auth/email-already-in-use"?M="هذا البريد الإلكتروني مسجل مسبقاً":N.code==="auth/invalid-email"?M="البريد الإلكتروني غير صالح":N.code==="auth/weak-password"?M="كلمة المرور ضعيفة. يجب أن تكون على الأقل 6 أحرف":N.code==="auth/network-request-failed"?M="فشل الاتصال بالإنترنت. يرجى التحقق من اتصالك":N.code==="permission-denied"&&(M="لا يوجد إذن للقيام بهذه العملية. يرجى التحقق من إعدادات الإذن"),De.error(M)}};return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[p.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-lg dark:bg-gray-800 dark:text-white",children:[p.jsx("h2",{className:"text-3xl font-extrabold text-center mb-8 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"تسجيل حساب جديد"}),p.jsxs("form",{className:"space-y-6",onSubmit:T,children:[p.jsxs("div",{className:"relative group",children:[p.jsx(An,{htmlFor:"name",className:"text-gray-700 dark:text-gray-300",children:"الاسم"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none group-focus-within:text-blue-500 transition-colors duration-200",children:p.jsx(Nr,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),p.jsx(In,{id:"name",type:"text",value:t,onChange:C=>e(C.target.value),required:!0,className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),p.jsxs("div",{className:"relative group",children:[p.jsx(An,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300",children:"البريد الإلكتروني"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none group-focus-within:text-blue-500 transition-colors duration-200",children:p.jsx(pa,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),p.jsx(In,{id:"email",type:"email",value:n,onChange:C=>r(C.target.value),required:!0,className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),p.jsxs("div",{className:"relative group",children:[p.jsx(An,{htmlFor:"password",className:"text-gray-700 dark:text-gray-300",children:"كلمة المرور"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none group-focus-within:text-blue-500 transition-colors duration-200",children:p.jsx(yI,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),p.jsx(In,{id:"password",type:l?"text":"password",value:s,onChange:C=>i(C.target.value),required:!0,className:"pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),p.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-200",children:l?p.jsx(j0,{className:"h-5 w-5"}):p.jsx(L0,{className:"h-5 w-5"})})]})]}),p.jsxs("div",{className:"relative group",children:[p.jsx(An,{htmlFor:"confirm-password",className:"text-gray-700 dark:text-gray-300",children:"تأكيد كلمة المرور"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none group-focus-within:text-blue-500 transition-colors duration-200",children:p.jsx(YD,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),p.jsx(In,{id:"confirm-password",type:u?"text":"password",value:o,onChange:C=>a(C.target.value),required:!0,className:"pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),p.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-200",children:u?p.jsx(j0,{className:"h-5 w-5"}):p.jsx(L0,{className:"h-5 w-5"})})]})]}),p.jsx("div",{className:"flex items-center"}),p.jsx(Me,{type:"submit",className:"w-full py-2 px-4 rounded-md text-white font-semibold bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 transition-all duration-300 ease-in-out transform hover:-translate-y-1 shadow-md hover:shadow-lg",children:"تسجيل"})]}),p.jsxs("p",{className:"mt-6 text-center text-gray-600 dark:text-gray-400",children:["هل لديك حساب بالفعل؟ ",p.jsx(ze,{to:"/login",className:"text-blue-600 hover:underline dark:text-blue-400 font-medium",children:"سجل دخولك"})]})]})}),p.jsx(Vi,{})]})},vB=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(!1),o=Oo(),{login:a}=zi(),l=f=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(f),c=f=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(f),u=async f=>{if(f.preventDefault(),!t||!n){De.error("يرجى ملء جميع الحقول");return}if(!l(t)){De.error("البريد الإلكتروني غير صالح");return}if(!c(n)){De.error("كلمة المرور يجب أن تكون على الأقل 8 أحرف وتحتوي على حروف وأرقام");return}try{const h=ri(At,"users"),m=pu(h,Xp("email","==",t)),v=await io(m);if(v.empty){De.error("البريد الإلكتروني أو كلمة المرور غير صحيحة");return}const y=v.docs[0].data();if(console.log("User data from Firestore:",y),!y.password){De.error("كلمة المرور غير موجودة في قاعدة البيانات");return}if(!await Ty.compare(n,y.password)){De.error("كلمة المرور غير صحيحة");return}if(!y.isVerified){De.error("حسابك غير مفعّل. يرجى التحقق من بريدك الإلكتروني");return}a({name:y.name,id:y.id,email:y.email,profilePicture:y.profilePicture||void 0,isAdmin:y.isAdmin||!1,points:y.points||0}),o("/")}catch(h){console.error("حدث خطأ أثناء التسجيل:",h),De.error("حدث خطأ، يرجى المحاولة لاحقًا")}};return p.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[p.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-lg dark:bg-gray-800 dark:text-white",children:[p.jsx("h2",{className:"text-3xl font-extrabold text-center mb-8 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"تسجيل الدخول"}),p.jsxs("form",{className:"space-y-6",onSubmit:u,children:[p.jsxs("div",{className:"relative group",children:[p.jsx(An,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300",children:"البريد الإلكتروني"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none group-focus-within:text-blue-500 transition-colors duration-200",children:p.jsx(pa,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),p.jsx(In,{id:"email",type:"email",value:t,onChange:f=>e(f.target.value),required:!0,className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]})]}),p.jsxs("div",{className:"relative group",children:[p.jsx(An,{htmlFor:"password",className:"text-gray-700 dark:text-gray-300",children:"كلمة المرور"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none group-focus-within:text-blue-500 transition-colors duration-200",children:p.jsx(yI,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),p.jsx(In,{id:"password",type:s?"text":"password",value:n,onChange:f=>r(f.target.value),required:!0,className:"pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),p.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-200",children:s?p.jsx(j0,{className:"h-5 w-5"}):p.jsx(L0,{className:"h-5 w-5"})})]})]}),p.jsx(Me,{type:"submit",className:"w-full py-2 px-4 rounded-md text-white font-semibold bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 transition-all duration-300 ease-in-out transform hover:-translate-y-1 shadow-md hover:shadow-lg",children:"دخول"})]}),p.jsxs("p",{className:"mt-6 text-center text-gray-600 dark:text-gray-400",children:["ليس لديك حساب؟ ",p.jsx(ze,{to:"/signup",className:"text-blue-600 hover:underline dark:text-blue-400 font-medium",children:"أنشئ حساب جديد"})]})]})}),p.jsx(Vi,{})]})},Sy=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{className:"relative w-full overflow-auto",children:p.jsx("table",{ref:n,className:fe("w-full caption-bottom text-sm",t),...e})}));Sy.displayName="Table";const Cy=w.forwardRef(({className:t,...e},n)=>p.jsx("thead",{ref:n,className:fe("[&_tr]:border-b",t),...e}));Cy.displayName="TableHeader";const Iy=w.forwardRef(({className:t,...e},n)=>p.jsx("tbody",{ref:n,className:fe("[&_tr:last-child]:border-0",t),...e}));Iy.displayName="TableBody";const xB=w.forwardRef(({className:t,...e},n)=>p.jsx("tfoot",{ref:n,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));xB.displayName="TableFooter";const lc=w.forwardRef(({className:t,...e},n)=>p.jsx("tr",{ref:n,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));lc.displayName="TableRow";const bt=w.forwardRef(({className:t,...e},n)=>p.jsx("th",{ref:n,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));bt.displayName="TableHead";const Et=w.forwardRef(({className:t,...e},n)=>p.jsx("td",{ref:n,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Et.displayName="TableCell";const _B=w.forwardRef(({className:t,...e},n)=>p.jsx("caption",{ref:n,className:fe("mt-4 text-sm text-muted-foreground",t),...e}));_B.displayName="TableCaption";/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qu(t){return t+.5|0}const si=(t,e,n)=>Math.max(Math.min(t,n),e);function cc(t){return si(qu(t*2.55),0,255)}function wi(t){return si(qu(t*255),0,255)}function ns(t){return si(qu(t/2.55)/100,0,1)}function zE(t){return si(qu(t*100),0,100)}const Mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ay=[..."0123456789ABCDEF"],wB=t=>Ay[t&15],bB=t=>Ay[(t&240)>>4]+Ay[t&15],zd=t=>(t&240)>>4===(t&15),EB=t=>zd(t.r)&&zd(t.g)&&zd(t.b)&&zd(t.a);function TB(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Mn[t[1]]*17,g:255&Mn[t[2]]*17,b:255&Mn[t[3]]*17,a:e===5?Mn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Mn[t[1]]<<4|Mn[t[2]],g:Mn[t[3]]<<4|Mn[t[4]],b:Mn[t[5]]<<4|Mn[t[6]],a:e===9?Mn[t[7]]<<4|Mn[t[8]]:255})),n}const SB=(t,e)=>t<255?e(t):"";function CB(t){var e=EB(t)?wB:bB;return t?"#"+e(t.r)+e(t.g)+e(t.b)+SB(t.a,e):void 0}const IB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gP(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function AB(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function kB(t,e,n){const r=gP(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function RB(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Zx(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=RB(n,r,s,u,i),l=l*60+.5),[l|0,c||0,a]}function e1(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(wi)}function t1(t,e,n){return e1(gP,t,e,n)}function PB(t,e,n){return e1(kB,t,e,n)}function NB(t,e,n){return e1(AB,t,e,n)}function yP(t){return(t%360+360)%360}function DB(t){const e=IB.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?cc(+e[5]):wi(+e[5]));const s=yP(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=PB(s,i,o):e[1]==="hsv"?r=NB(s,i,o):r=t1(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function OB(t,e){var n=Zx(t);n[0]=yP(n[0]+e),n=t1(n),t.r=n[0],t.g=n[1],t.b=n[2]}function MB(t){if(!t)return;const e=Zx(t),n=e[0],r=zE(e[1]),s=zE(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${ns(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const BE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$E={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jB(){const t={},e=Object.keys($E),n=Object.keys(BE);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,BE[i]);i=parseInt($E[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let Bd;function LB(t){Bd||(Bd=jB(),Bd.transparent=[0,0,0,0]);const e=Bd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const VB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function FB(t){const e=VB.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?cc(o):si(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?cc(r):si(r,0,255)),s=255&(e[4]?cc(s):si(s,0,255)),i=255&(e[6]?cc(i):si(i,0,255)),{r,g:s,b:i,a:n}}}function UB(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ns(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const yg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Wo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function zB(t,e,n){const r=Wo(ns(t.r)),s=Wo(ns(t.g)),i=Wo(ns(t.b));return{r:wi(yg(r+n*(Wo(ns(e.r))-r))),g:wi(yg(s+n*(Wo(ns(e.g))-s))),b:wi(yg(i+n*(Wo(ns(e.b))-i))),a:t.a+n*(e.a-t.a)}}function $d(t,e,n){if(t){let r=Zx(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=t1(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function vP(t,e){return t&&Object.assign(e||{},t)}function HE(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=wi(t[3]))):(e=vP(t,{r:0,g:0,b:0,a:1}),e.a=wi(e.a)),e}function BB(t){return t.charAt(0)==="r"?FB(t):DB(t)}class vu{constructor(e){if(e instanceof vu)return e;const n=typeof e;let r;n==="object"?r=HE(e):n==="string"&&(r=TB(e)||LB(e)||BB(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=vP(this._rgb);return e&&(e.a=ns(e.a)),e}set rgb(e){this._rgb=HE(e)}rgbString(){return this._valid?UB(this._rgb):void 0}hexString(){return this._valid?CB(this._rgb):void 0}hslString(){return this._valid?MB(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=zB(this._rgb,e._rgb,n)),this}clone(){return new vu(this.rgb)}alpha(e){return this._rgb.a=wi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=qu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $d(this._rgb,2,e),this}darken(e){return $d(this._rgb,2,-e),this}saturate(e){return $d(this._rgb,1,e),this}desaturate(e){return $d(this._rgb,1,-e),this}rotate(e){return OB(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yr(){}const $B=(()=>{let t=0;return()=>t++})();function Qt(t){return t==null}function Rt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Se(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ws(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function _r(t,e){return ws(t)?t:e}function Re(t,e){return typeof t>"u"?e:t}const HB=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,xP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Be(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ke(t,e,n,r){let s,i,o;if(Rt(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(Se(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function Vf(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Ff(t){if(Rt(t))return t.map(Ff);if(Se(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Ff(t[n[s]]);return e}return t}function _P(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function WB(t,e,n,r){if(!_P(t))return;const s=e[t],i=n[t];Se(s)&&Se(i)?xu(s,i,r):e[t]=Ff(i)}function xu(t,e,n){const r=Rt(e)?e:[e],s=r.length;if(!Se(t))return t;n=n||{};const i=n.merger||WB;let o;for(let a=0;a<s;++a){if(o=r[a],!Se(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,n)}return t}function Nc(t,e){return xu(t,e,{merger:qB})}function qB(t,e,n){if(!_P(t))return;const r=e[t],s=n[t];Se(r)&&Se(s)?Nc(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ff(s))}const WE={"":t=>t,x:t=>t.x,y:t=>t.y};function KB(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function GB(t){const e=KB(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function _u(t,e){return(WE[e]||(WE[e]=GB(e)))(t)}function n1(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Uf=t=>typeof t<"u",Oi=t=>typeof t=="function",qE=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function QB(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const _t=Math.PI,dt=2*_t,zf=Number.POSITIVE_INFINITY,YB=_t/180,mt=_t/2,Ki=_t/4,KE=_t*2/3,GE=Math.log10,QE=Math.sign;function XB(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function JB(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Bf(t){return!JB(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function oo(t){return t*(_t/180)}function ZB(t){return t*(180/_t)}function wP(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*_t&&(i+=dt),{angle:i,distance:s}}function e$(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Gi(t){return(t%dt+dt)%dt}function $f(t,e,n,r){const s=Gi(t),i=Gi(e),o=Gi(n),a=Gi(i-s),l=Gi(o-s),c=Gi(s-i),u=Gi(s-o);return s===i||s===o||r&&i===o||a>l&&c<u}function Un(t,e,n){return Math.max(e,Math.min(n,t))}function t$(t){return Un(t,-32768,32767)}function uc(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function r1(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ky=(t,e,n,r)=>r1(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),n$=(t,e,n)=>r1(t,n,r=>t[r][e]>=n);function r$(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const bP=["push","pop","shift","splice","unshift"];function s$(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),bP.forEach(n=>{const r="_onData"+n1(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function YE(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(bP.forEach(i=>{delete t[i]}),delete t._chartjs)}function i$(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const EP=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function TP(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,EP.call(window,()=>{r=!1,t.apply(e,n)}))}}function o$(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const SP=t=>t==="start"?"left":t==="end"?"right":"center",wn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,a$=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Hd=t=>t===0||t===1,XE=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*dt/n)),JE=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*dt/n)+1,Dc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*mt)+1,easeOutSine:t=>Math.sin(t*mt),easeInOutSine:t=>-.5*(Math.cos(_t*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Hd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Hd(t)?t:XE(t,.075,.3),easeOutElastic:t=>Hd(t)?t:JE(t,.075,.3),easeInOutElastic(t){return Hd(t)?t:t<.5?.5*XE(t*2,.1125,.45):.5+.5*JE(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Dc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Dc.easeInBounce(t*2)*.5:Dc.easeOutBounce(t*2-1)*.5+.5};function CP(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ZE(t){return CP(t)?t:new vu(t)}function vg(t){return CP(t)?t:new vu(t).saturate(.5).darken(.1).hexString()}const l$=["x","y","borderWidth","radius","tension"],c$=["color","borderColor","backgroundColor"];function u$(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:c$},numbers:{type:"number",properties:l$}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function d$(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const e2=new Map;function h$(t,e){e=e||{};const n=t+JSON.stringify(e);let r=e2.get(n);return r||(r=new Intl.NumberFormat(t,e),e2.set(n,r)),r}function IP(t,e,n){return h$(e,n).format(t)}const AP={values(t){return Rt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=f$(t,n)}const o=GE(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),IP(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(GE(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?AP.numeric.call(this,t,e,n):""}};function f$(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var p$={formatters:AP};function m$(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:p$.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Io=Object.create(null),Ry=Object.create(null);function Oc(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function xg(t,e,n){return typeof e=="string"?xu(Oc(t,e),n):xu(Oc(t,""),e)}class g${constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>vg(s.backgroundColor),this.hoverBorderColor=(r,s)=>vg(s.borderColor),this.hoverColor=(r,s)=>vg(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return xg(this,e,n)}get(e){return Oc(this,e)}describe(e,n){return xg(Ry,e,n)}override(e,n){return xg(Io,e,n)}route(e,n,r,s){const i=Oc(this,e),o=Oc(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return Se(l)?Object.assign({},c,l):Re(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var it=new g$({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[u$,d$,m$]);function y$(t){return!t||Qt(t.size)||Qt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function t2(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Qi(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function n2(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function r2(t,e,n,r){kP(t,e,n,r,null)}function kP(t,e,n,r,s){let i,o,a,l,c,u,f,h;const m=e.pointStyle,v=e.rotation,y=e.radius;let _=(v||0)*YB;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,r,s/2,y,0,0,dt):t.arc(n,r,y,0,dt),t.closePath();break;case"triangle":u=s?s/2:y,t.moveTo(n+Math.sin(_)*u,r-Math.cos(_)*y),_+=KE,t.lineTo(n+Math.sin(_)*u,r-Math.cos(_)*y),_+=KE,t.lineTo(n+Math.sin(_)*u,r-Math.cos(_)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(_+Ki)*l,f=Math.cos(_+Ki)*(s?s/2-c:l),a=Math.sin(_+Ki)*l,h=Math.sin(_+Ki)*(s?s/2-c:l),t.arc(n-f,r-a,c,_-_t,_-mt),t.arc(n+h,r-o,c,_-mt,_),t.arc(n+f,r+a,c,_,_+mt),t.arc(n-h,r+o,c,_+mt,_+_t),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*y,u=s?s/2:l,t.rect(n-u,r-l,2*u,2*l);break}_+=Ki;case"rectRot":f=Math.cos(_)*(s?s/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,h=Math.sin(_)*(s?s/2:y),t.moveTo(n-f,r-a),t.lineTo(n+h,r-o),t.lineTo(n+f,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":_+=Ki;case"cross":f=Math.cos(_)*(s?s/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,h=Math.sin(_)*(s?s/2:y),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":f=Math.cos(_)*(s?s/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,h=Math.sin(_)*(s?s/2:y),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),_+=Ki,f=Math.cos(_)*(s?s/2:y),o=Math.cos(_)*y,a=Math.sin(_)*y,h=Math.sin(_)*(s?s/2:y),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(_)*y,a=Math.sin(_)*y,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(s?s/2:y),r+Math.sin(_)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function RP(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function s1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function i1(t){t.restore()}function v$(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Qt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function x$(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function _$(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Hf(t,e,n,r,s,i={}){const o=Rt(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,v$(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&_$(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Qt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),x$(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function Py(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*_t,_t,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,_t,mt,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,mt,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-mt,!0),t.lineTo(n+o.topLeft,r)}const w$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,b$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function E$(t,e){const n=(""+t).match(w$);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const T$=t=>+t||0;function o1(t,e){const n={},r=Se(e),s=r?Object.keys(e):e,i=Se(t)?r?o=>Re(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=T$(i(o));return n}function S$(t){return o1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Mc(t){return o1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function dr(t){const e=S$(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function pn(t,e){t=t||{},e=e||it.font;let n=Re(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Re(t.style,e.style);r&&!(""+r).match(b$)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Re(t.family,e.family),lineHeight:E$(Re(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Re(t.weight,e.weight),string:""};return s.string=y$(s),s}function Wd(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function C$(t,e,n){const{min:r,max:s}=t,i=xP(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function xl(t,e){return Object.assign(Object.create(t),e)}function a1(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=OP("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>a1([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return NP(a,l,()=>O$(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return i2(a).includes(l)},ownKeys(a){return i2(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function rl(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:PP(t,r),setContext:i=>rl(t,i,n,r),override:i=>rl(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return NP(i,o,()=>A$(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function PP(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Oi(n)?n:()=>n,isIndexable:Oi(r)?r:()=>r}}const I$=(t,e)=>t?t+n1(e):e,l1=(t,e)=>Se(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function NP(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function A$(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Oi(a)&&o.isScriptable(e)&&(a=k$(e,a,t,n)),Rt(a)&&a.length&&(a=R$(e,a,t,o.isIndexable)),l1(e,a)&&(a=rl(a,s,i&&i[e],o)),a}function k$(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),l1(t,l)&&(l=c1(s._scopes,s,t,l)),l}function R$(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(Se(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=c1(c,s,t,u);e.push(rl(f,i,o&&o[t],a))}}return e}function DP(t,e,n){return Oi(t)?t(e,n):t}const P$=(t,e)=>t===!0?e:typeof t=="string"?_u(e,t):void 0;function N$(t,e,n,r,s){for(const i of e){const o=P$(n,i);if(o){t.add(o);const a=DP(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function c1(t,e,n,r){const s=e._rootScopes,i=DP(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=s2(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=s2(a,o,i,l,r),l===null)?!1:a1(Array.from(a),[""],s,i,()=>D$(e,n,r))}function s2(t,e,n,r,s){for(;n;)n=N$(t,e,n,r,s);return n}function D$(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Rt(s)&&Se(n)?n:s||{}}function O$(t,e,n,r){let s;for(const i of e)if(s=OP(I$(i,t),n),typeof s<"u")return l1(t,s)?c1(n,r,t,s):s}function OP(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function i2(t){let e=t._keys;return e||(e=t._keys=M$(t._scopes)),e}function M$(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function u1(){return typeof window<"u"&&typeof document<"u"}function d1(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wf(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const nm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function j$(t,e){return nm(t).getPropertyValue(e)}const L$=["top","right","bottom","left"];function po(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=L$[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const V$=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function F$(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(V$(s,i,t.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function eo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=nm(n),i=s.boxSizing==="border-box",o=po(s,"padding"),a=po(s,"border","width"),{x:l,y:c,box:u}=F$(t,n),f=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:m,height:v}=e;return i&&(m-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-f)/m*n.width/r),y:Math.round((c-h)/v*n.height/r)}}function U$(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&d1(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=nm(i),l=po(a,"border","width"),c=po(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Wf(a.maxWidth,i,"clientWidth"),s=Wf(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||zf,maxHeight:s||zf}}const qd=t=>Math.round(t*10)/10;function z$(t,e,n,r){const s=nm(t),i=po(s,"margin"),o=Wf(s.maxWidth,t,"clientWidth")||zf,a=Wf(s.maxHeight,t,"clientHeight")||zf,l=U$(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const h=po(s,"border","width"),m=po(s,"padding");c-=m.width+h.width,u-=m.height+h.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=qd(Math.min(c,o,l.maxWidth)),u=qd(Math.min(u,a,l.maxHeight)),c&&!u&&(u=qd(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=qd(Math.floor(u*r))),{width:c,height:u}}function o2(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const B$=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};u1()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function a2(t,e){const n=j$(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const $$=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},H$=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Aa(t,e,n){return t?$$(e,n):H$()}function MP(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function jP(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Kd(t,e,n){return t.options.clip?t[n]:e[n]}function W$(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Kd(n,e,"left"),right:Kd(n,e,"right"),top:Kd(r,e,"top"),bottom:Kd(r,e,"bottom")}:e}function q$(t,e){const n=e._clip;if(n.disabled)return!1;const r=W$(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class K${constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=EP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Jr=new K$;const l2="transparent",G$={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=ZE(t||l2),s=r.valid&&ZE(e||l2);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Q${constructor(e,n,r,s){const i=n[r];s=Wd([e.to,s,i,e.from]);const o=Wd([e.from,i,s]);this._active=!0,this._fn=e.fn||G$[e.type||typeof o],this._easing=Dc[e.easing]||Dc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Wd([e.to,n,s,e.from]),this._from=Wd([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class LP{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Se(e))return;const n=Object.keys(it.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Se(i))return;const o={};for(const a of n)o[a]=i[a];(Rt(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=X$(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&Y$(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let f=i[c];const h=r.get(c);if(f)if(h&&f.active()){f.update(h,u,a);continue}else f.cancel();if(!h||!h.duration){e[c]=u;continue}i[c]=f=new Q$(h,e,c,u),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Jr.add(this._chart,r),!0}}function Y$(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function X$(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function c2(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function J$(t,e,n){if(n===!1)return!1;const r=c2(t,n),s=c2(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function Z$(t){let e,n,r,s;return Se(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function VP(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function u2(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],ws(c)&&(i||e===0||QE(e)===QE(c))&&(e+=c)}return!u&&!r.all?0:e}function eH(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[i]:t[u]};return a}function _g(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function tH(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function nH(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function rH(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function d2(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function h2(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,u=tH(i,o,r),f=e.length;let h;for(let m=0;m<f;++m){const v=e[m],{[l]:y,[c]:_}=v,x=v._stacks||(v._stacks={});h=x[c]=rH(s,u,y),h[a]=_,h._top=d2(h,o,!0,r.type),h._bottom=d2(h,o,!1,r.type);const b=h._visualValues||(h._visualValues={});b[a]=_}}function wg(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function sH(t,e){return xl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function iH(t,e,n){return xl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Kl(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const bg=t=>t==="reset"||t==="none",f2=(t,e)=>e?t:Object.assign({},t),oH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:VP(n,!0),values:null};class jc{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=_g(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Kl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,h,m,v)=>f==="x"?h:f==="r"?v:m,i=n.xAxisID=Re(r.xAxisID,wg(e,"x")),o=n.yAxisID=Re(r.yAxisID,wg(e,"y")),a=n.rAxisID=Re(r.rAxisID,wg(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),u=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&YE(this._data,this),e._stacked&&Kl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Se(n)){const s=this._cachedMeta;this._data=eH(n,s)}else if(r!==n){if(r){YE(r,this);const s=this._cachedMeta;Kl(s),s._parsed=[]}n&&Object.isExtensible(n)&&s$(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=_g(n.vScale,n),n.stack!==r.stack&&(s=!0,Kl(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(h2(this,n._parsed),n._stacked=_g(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,f,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{Rt(s[e])?h=this.parseArrayData(r,s,e,n):Se(s[e])?h=this.parseObjectData(r,s,e,n):h=this.parsePrimitiveData(r,s,e,n);const m=()=>f[a]===null||c&&f[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=f=h[u],l&&(m()&&(l=!1),c=f);r._sorted=l}o&&h2(this,h)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,f=new Array(s);let h,m,v;for(h=0,m=s;h<m;++h)v=h+r,f[h]={[a]:u||i.parse(c[v],v),[l]:o.parse(n[v],v)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,u,f;for(l=0,c=s;l<c;++l)u=l+r,f=n[u],a[l]={x:i.parse(f[0],u),y:o.parse(f[1],u)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,f,h,m;for(u=0,f=s;u<f;++u)h=u+r,m=n[h],c[u]={x:i.parse(_u(m,a),h),y:o.parse(_u(m,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:VP(s,!0),values:n._stacks[e.axis]._visualValues};return u2(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=u2(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=oH(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=nH(a);let h,m;function v(){m=s[h];const y=m[a.axis];return!ws(m[e.axis])||u>y||f<y}for(h=0;h<o&&!(!v()&&(this.updateRangeFromParsed(c,e,m,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!v()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],ws(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Z$(Re(this.options.clip,J$(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const f=s[u];f.hidden||(f.active&&c?o.push(f):f.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=iH(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=sH(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&Uf(r);if(a)return f2(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),m=Object.keys(it.elements[e]),v=()=>this.getContext(r,s,n),y=c.resolveNamedOptions(h,m,v,f);return y.$shared&&(y.$shared=l,i[o]=Object.freeze(f2(y,l))),y}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(e,r,n))}const c=new LP(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||bg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){bg(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!bg(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Kl(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ue(jc,"defaults",{}),ue(jc,"datasetElementType",null),ue(jc,"dataElementType",null);function aH(t,e,n){let r=1,s=1,i=0,o=0;if(e<dt){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),f=Math.cos(l),h=Math.sin(l),m=(T,C,N)=>$f(T,a,l,!0)?1:Math.max(C,C*n,N,N*n),v=(T,C,N)=>$f(T,a,l,!0)?-1:Math.min(C,C*n,N,N*n),y=m(0,c,f),_=m(mt,u,h),x=v(_t,c,f),b=v(_t+mt,u,h);r=(y-x)/2,s=(_-b)/2,i=-(y+x)/2,o=-(_+b)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class dc extends jc{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(Se(r[e])){const{key:l="value"}=this._parsing;i=c=>+_u(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return oo(this.options.rotation-90)}_getCircumference(){return oo(this.options.circumference)}_getRotationExtents(){let e=dt,n=-dt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(HB(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:v,offsetY:y}=aH(f,u,l),_=(r.width-o)/h,x=(r.height-o)/m,b=Math.max(Math.min(_,x)/2,0),T=xP(this.options.radius,b),C=Math.max(T*l,0),N=(T-C)/this._getVisibleDatasetWeightTotal();this.offsetX=v*T,this.offsetY=y*T,s.total=this.calculateTotal(),this.outerRadius=T-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/dt)}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=i&&c.animateScale,m=h?0:this.innerRadius,v=h?0:this.outerRadius,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);let x=this._getRotation(),b;for(b=0;b<n;++b)x+=this._circumference(b,i);for(b=n;b<n+r;++b){const T=this._circumference(b,i),C=e[b],N={x:u+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+T,circumference:T,outerRadius:v,innerRadius:m};_&&(N.options=y||this.resolveDataElementOptions(b,C.active?"active":s)),x+=T,this.updateElement(C,b,N,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?dt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=IP(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,o,a,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Re(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ue(dc,"id","doughnut"),ue(dc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ue(dc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ue(dc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Ny extends dc{}ue(Ny,"id","pie"),ue(Ny,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Yi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class h1{constructor(e){ue(this,"options");this.options=e||{}}static override(e){Object.assign(h1.prototype,e)}init(){}formats(){return Yi()}parse(){return Yi()}format(){return Yi()}add(){return Yi()}diff(){return Yi()}startOf(){return Yi()}endOf(){return Yi()}}var lH={_date:h1};function cH(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const c=a._reversePixels?n$:ky;if(r){if(s._sharedOptions){const u=i[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const h=c(i,e,n-f),m=c(i,e,n+f);return{lo:h.lo,hi:m.hi}}}}else{const u=c(i,e,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:h}=t,m=h.slice(0,u.lo+1).reverse().findIndex(y=>!Qt(y[f.axis]));u.lo-=Math.max(0,m);const v=h.slice(u.hi).findIndex(y=>!Qt(y[f.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:i.length-1}}function Ku(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:f,hi:h}=cH(i[a],e,o,s);for(let m=f;m<=h;++m){const v=u[m];v.skip||r(v,c,m)}}}function uH(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Eg(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Ku(t,n,e,function(a,l,c){!s&&!RP(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function dH(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:f}=wP(o,{x:e.x,y:e.y});$f(f,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Ku(t,n,e,i),s}function hH(t,e,n,r,s,i){let o=[];const a=uH(n);let l=Number.POSITIVE_INFINITY;function c(u,f,h){const m=u.inRange(e.x,e.y,s);if(r&&!m)return;const v=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(v))&&!m)return;const _=a(e,v);_<l?(o=[{element:u,datasetIndex:f,index:h}],l=_):_===l&&o.push({element:u,datasetIndex:f,index:h})}return Ku(t,n,e,c),o}function Tg(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?dH(t,e,n,s):hH(t,e,n,r,s,i)}function p2(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ku(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var fH={evaluateInteractionItems:Ku,modes:{index(t,e,n,r){const s=eo(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Eg(t,s,i,r,o):Tg(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const s=eo(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Eg(t,s,i,r,o):Tg(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const s=eo(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Eg(t,s,i,r,o)},nearest(t,e,n,r){const s=eo(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Tg(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=eo(e,t);return p2(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=eo(e,t);return p2(t,s,"y",n.intersect,r)}}};const FP=["left","top","right","bottom"];function Gl(t,e){return t.filter(n=>n.pos===e)}function m2(t,e){return t.filter(n=>FP.indexOf(n.pos)===-1&&n.box.axis===e)}function Ql(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function pH(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function mH(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!FP.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function gH(t,e){const n=mH(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=u?u*s:l&&e.availableHeight)}return n}function yH(t){const e=pH(t),n=Ql(e.filter(c=>c.box.fullSize),!0),r=Ql(Gl(e,"left"),!0),s=Ql(Gl(e,"right")),i=Ql(Gl(e,"top"),!0),o=Ql(Gl(e,"bottom")),a=m2(e,"x"),l=m2(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Gl(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function g2(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function UP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function vH(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!Se(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&UP(o,i.getPadding());const a=Math.max(0,e.outerWidth-g2(o,t,"left","right")),l=Math.max(0,e.outerHeight-g2(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function xH(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function _H(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function hc(t,e,n,r){const s=[];let i,o,a,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,_H(a.horizontal,e));const{same:f,other:h}=vH(e,n,a,r);c|=f&&s.length,u=u||h,l.fullSize||s.push(a)}return c&&hc(s,e,n,r)||u}function Gd(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function y2(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*u,h=c.size||l.height;Uf(c.start)&&(o=c.start),l.fullSize?Gd(l,s.left,o,n.outerWidth-s.right-s.left,h):Gd(l,e.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*u,h=c.size||l.width;Uf(c.start)&&(i=c.start),l.fullSize?Gd(l,i,s.top,h,n.outerHeight-s.bottom-s.top):Gd(l,i,e.top+c.placed,h,f),c.start=i,c.placed+=f,i=l.right}}e.x=i,e.y=o}var ii={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=dr(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=yH(t.boxes),l=a.vertical,c=a.horizontal;ke(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,_)=>_.box.options&&_.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},s);UP(h,dr(r));const m=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),v=gH(l.concat(c),f);hc(a.fullSize,m,f,v),hc(l,m,f,v),hc(c,m,f,v)&&hc(l,m,f,v),xH(m),y2(a.leftAndTop,m,f,v),m.x+=m.w,m.y+=m.h,y2(a.rightAndBottom,m,f,v),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ke(a.chartArea,y=>{const _=y.box;Object.assign(_,t.chartArea),_.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class zP{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class wH extends zP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Nh="$chartjs",bH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},v2=t=>t===null||t==="";function EH(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Nh]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",v2(s)){const i=a2(t,"width");i!==void 0&&(t.width=i)}if(v2(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=a2(t,"height");i!==void 0&&(t.height=i)}return t}const BP=B$?{passive:!0}:!1;function TH(t,e,n){t&&t.addEventListener(e,n,BP)}function SH(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,BP)}function CH(t,e){const n=bH[t.type]||t.type,{x:r,y:s}=eo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function qf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function IH(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||qf(a.addedNodes,r),o=o&&!qf(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function AH(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||qf(a.removedNodes,r),o=o&&!qf(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const wu=new Map;let x2=0;function $P(){const t=window.devicePixelRatio;t!==x2&&(x2=t,wu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function kH(t,e){wu.size||window.addEventListener("resize",$P),wu.set(t,e)}function RH(t){wu.delete(t),wu.size||window.removeEventListener("resize",$P)}function PH(t,e,n){const r=t.canvas,s=r&&d1(r);if(!s)return;const i=TP((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(s),kH(t,i),o}function Sg(t,e,n){n&&n.disconnect(),e==="resize"&&RH(t)}function NH(t,e,n){const r=t.canvas,s=TP(i=>{t.ctx!==null&&n(CH(i,t))},t);return TH(r,e,s),s}class DH extends zP{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(EH(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Nh])return!1;const r=n[Nh].initial;["height","width"].forEach(i=>{const o=r[i];Qt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Nh],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:IH,detach:AH,resize:PH}[n]||NH;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Sg,detach:Sg,resize:Sg}[n]||SH)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return z$(e,n,r,s)}isAttached(e){const n=e&&d1(e);return!!(n&&n.isConnected)}}function OH(t){return!u1()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?wH:DH}var ih;let Gu=(ih=class{constructor(){ue(this,"x");ue(this,"y");ue(this,"active",!1);ue(this,"options");ue(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Bf(this.x)&&Bf(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},ue(ih,"defaults",{}),ue(ih,"defaultRoutes"),ih);function MH(t,e){const n=t.options.ticks,r=jH(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?VH(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return FH(e,c,i,o/s),c;const u=LH(i,e,s);if(o>0){let f,h;const m=o>1?Math.round((l-a)/(o-1)):null;for(Qd(e,c,u,Qt(m)?0:a-m,a),f=0,h=o-1;f<h;f++)Qd(e,c,u,i[f],i[f+1]);return Qd(e,c,u,l,Qt(m)?e.length:l+m),c}return Qd(e,c,u),c}function jH(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function LH(t,e,n){const r=UH(t),s=e.length/n;if(!r)return Math.max(s,1);const i=XB(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function VH(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function FH(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function Qd(t,e,n,r,s){const i=Re(r,0),o=Math.min(Re(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*n))}function UH(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const zH=t=>t==="left"?"right":t==="right"?"left":t,_2=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,w2=(t,e)=>Math.min(e||t,t);function b2(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function BH(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function $H(t,e){ke(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Yl(t){return t.drawTicks?t.tickLength:0}function E2(t,e){if(!t.display)return 0;const n=pn(t.font,e),r=dr(t.padding);return(Rt(t.text)?t.text.length:1)*n.lineHeight+r.height}function HH(t,e){return xl(t,{scale:e,type:"scale"})}function WH(t,e,n){return xl(t,{tick:n,index:e,type:"tick"})}function qH(t,e,n){let r=SP(t);return(n&&e!=="right"||!n&&e==="right")&&(r=zH(r)),r}function KH(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let f=0,h,m,v;const y=o-s,_=a-i;if(t.isHorizontal()){if(m=wn(r,i,a),Se(n)){const x=Object.keys(n)[0],b=n[x];v=u[x].getPixelForValue(b)+y-e}else n==="center"?v=(c.bottom+c.top)/2+y-e:v=_2(t,n,e);h=a-i}else{if(Se(n)){const x=Object.keys(n)[0],b=n[x];m=u[x].getPixelForValue(b)-_+e}else n==="center"?m=(c.left+c.right)/2-_+e:m=_2(t,n,e);v=wn(r,o,s),f=n==="left"?-mt:mt}return{titleX:m,titleY:v,maxWidth:h,rotation:f}}class rm extends Gu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=_r(e,Number.POSITIVE_INFINITY),n=_r(n,Number.NEGATIVE_INFINITY),r=_r(r,Number.POSITIVE_INFINITY),s=_r(s,Number.NEGATIVE_INFINITY),{min:_r(e,r),max:_r(n,s),minDefined:ws(e),maxDefined:ws(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:_r(n,_r(r,n)),max:_r(r,_r(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=C$(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?b2(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=MH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Be(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=w2(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,m=Un(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),f+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-Yl(e.grid)-n.padding-E2(e.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=ZB(Math.min(Math.asin(Un((u.highest.height+6)/a,-1,1)),Math.asin(Un(l/c,-1,1))-Math.asin(Un(h/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=E2(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=Yl(i)+l):(e.height=this.maxHeight,e.width=Yl(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:h}=this._getLabelSizes(),m=r.padding*2,v=oo(this.labelRotation),y=Math.cos(v),_=Math.sin(v);if(a){const x=r.mirror?0:_*f.width+y*h.height;e.height=Math.min(this.maxHeight,e.height+x+m)}else{const x=r.mirror?0:y*f.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+x+m)}this._calculatePadding(c,u,_,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;l?c?(h=s*e.width,m=r*n.height):(h=r*e.height,m=s*n.width):i==="start"?m=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,m=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let u=n.height/2,f=e.height/2;i==="start"?(u=0,f=e.height):i==="end"&&(u=n.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Qt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=b2(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/w2(n,r));let c=0,u=0,f,h,m,v,y,_,x,b,T,C,N;for(f=0;f<n;f+=l){if(v=e[f].label,y=this._resolveTickFontOptions(f),s.font=_=y.string,x=i[_]=i[_]||{data:{},gc:[]},b=y.lineHeight,T=C=0,!Qt(v)&&!Rt(v))T=t2(s,x.data,x.gc,T,v),C=b;else if(Rt(v))for(h=0,m=v.length;h<m;++h)N=v[h],!Qt(N)&&!Rt(N)&&(T=t2(s,x.data,x.gc,T,N),C+=b);o.push(T),a.push(C),c=Math.max(T,c),u=Math.max(C,u)}$H(i,n);const M=o.indexOf(c),I=a.indexOf(u),S=A=>({width:o[A]||0,height:a[A]||0});return{first:S(0),last:S(n-1),widest:S(M),highest:S(I),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return t$(this._alignToPixels?Qi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=WH(this.getContext(),e,r))}return this.$context||(this.$context=HH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=oo(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=Yl(i),m=[],v=a.setContext(this.getContext()),y=v.display?v.width:0,_=y/2,x=function(U){return Qi(r,U,y)};let b,T,C,N,M,I,S,A,R,D,O,P;if(o==="top")b=x(this.bottom),I=this.bottom-h,A=b-_,D=x(e.top)+_,P=e.bottom;else if(o==="bottom")b=x(this.top),D=e.top,P=x(e.bottom)-_,I=b+_,A=this.top+h;else if(o==="left")b=x(this.right),M=this.right-h,S=b-_,R=x(e.left)+_,O=e.right;else if(o==="right")b=x(this.left),R=e.left,O=x(e.right)-_,M=b+_,S=this.left+h;else if(n==="x"){if(o==="center")b=x((e.top+e.bottom)/2+.5);else if(Se(o)){const U=Object.keys(o)[0],W=o[U];b=x(this.chart.scales[U].getPixelForValue(W))}D=e.top,P=e.bottom,I=b+_,A=I+h}else if(n==="y"){if(o==="center")b=x((e.left+e.right)/2);else if(Se(o)){const U=Object.keys(o)[0],W=o[U];b=x(this.chart.scales[U].getPixelForValue(W))}M=b-_,S=M-h,R=e.left,O=e.right}const q=Re(s.ticks.maxTicksLimit,f),V=Math.max(1,Math.ceil(f/q));for(T=0;T<f;T+=V){const U=this.getContext(T),W=i.setContext(U),j=a.setContext(U),z=W.lineWidth,X=W.color,J=j.dash||[],Z=j.dashOffset,G=W.tickWidth,_e=W.tickColor,Le=W.tickBorderDash||[],pe=W.tickBorderDashOffset;C=BH(this,T,l),C!==void 0&&(N=Qi(r,C,z),c?M=S=R=O=N:I=A=D=P=N,m.push({tx1:M,ty1:I,tx2:S,ty2:A,x1:R,y1:D,x2:O,y2:P,width:z,color:X,borderDash:J,borderDashOffset:Z,tickWidth:G,tickColor:_e,tickBorderDash:Le,tickBorderDashOffset:pe}))}return this._ticksLength=f,this._borderValue=b,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=i,h=Yl(r.grid),m=h+u,v=f?-u:m,y=-oo(this.labelRotation),_=[];let x,b,T,C,N,M,I,S,A,R,D,O,P="middle";if(s==="top")M=this.bottom-v,I=this._getXAxisLabelAlignment();else if(s==="bottom")M=this.top+v,I=this._getXAxisLabelAlignment();else if(s==="left"){const V=this._getYAxisLabelAlignment(h);I=V.textAlign,N=V.x}else if(s==="right"){const V=this._getYAxisLabelAlignment(h);I=V.textAlign,N=V.x}else if(n==="x"){if(s==="center")M=(e.top+e.bottom)/2+m;else if(Se(s)){const V=Object.keys(s)[0],U=s[V];M=this.chart.scales[V].getPixelForValue(U)+m}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")N=(e.left+e.right)/2-m;else if(Se(s)){const V=Object.keys(s)[0],U=s[V];N=this.chart.scales[V].getPixelForValue(U)}I=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const q=this._getLabelSizes();for(x=0,b=a.length;x<b;++x){T=a[x],C=T.label;const V=i.setContext(this.getContext(x));S=this.getPixelForTick(x)+i.labelOffset,A=this._resolveTickFontOptions(x),R=A.lineHeight,D=Rt(C)?C.length:1;const U=D/2,W=V.color,j=V.textStrokeColor,z=V.textStrokeWidth;let X=I;o?(N=S,I==="inner"&&(x===b-1?X=this.options.reverse?"left":"right":x===0?X=this.options.reverse?"right":"left":X="center"),s==="top"?c==="near"||y!==0?O=-D*R+R/2:c==="center"?O=-q.highest.height/2-U*R+R:O=-q.highest.height+R/2:c==="near"||y!==0?O=R/2:c==="center"?O=q.highest.height/2-U*R:O=q.highest.height-D*R,f&&(O*=-1),y!==0&&!V.showLabelBackdrop&&(N+=R/2*Math.sin(y))):(M=S,O=(1-D)*R/2);let J;if(V.showLabelBackdrop){const Z=dr(V.backdropPadding),G=q.heights[x],_e=q.widths[x];let Le=O-Z.top,pe=0-Z.left;switch(P){case"middle":Le-=G/2;break;case"bottom":Le-=G;break}switch(I){case"center":pe-=_e/2;break;case"right":pe-=_e;break;case"inner":x===b-1?pe-=_e:x>0&&(pe-=_e/2);break}J={left:pe,top:Le,width:_e+Z.width,height:G+Z.height,color:V.backdropColor}}_.push({label:C,font:A,textOffset:O,options:{rotation:y,color:W,strokeColor:j,strokeWidth:z,textAlign:X,textBaseline:P,translation:[N,M],backdrop:J}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-oo(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,h;this.isHorizontal()?(c=Qi(e,this.left,o)-o/2,u=Qi(e,this.right,a)+a/2,f=h=l):(f=Qi(e,this.top,o)-o/2,h=Qi(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,f),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&s1(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Hf(r,c,0,u,l,a)}s&&i1(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=pn(r.font),o=dr(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Se(n)?(l+=o.bottom,Rt(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:f,rotation:h}=KH(this,l,n,a);Hf(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:qH(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Re(e.grid&&e.grid.z,-1),s=Re(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==rm.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return pn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Yd{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;YH(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,GH(e,o,r),this.override&&it.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in it[s]&&(delete it[s][r],this.override&&delete Io[r])}}function GH(t,e,n){const r=xu(Object.create(null),[n?it.get(n):{},it.get(e),t.defaults]);it.set(e,r),t.defaultRoutes&&QH(e,t.defaultRoutes),t.descriptors&&it.describe(e,t.descriptors)}function QH(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");it.route(i,s,l,a)})}function YH(t){return"id"in t&&"defaults"in t}class XH{constructor(){this.controllers=new Yd(jc,"datasets",!0),this.elements=new Yd(Gu,"elements"),this.plugins=new Yd(Object,"plugins"),this.scales=new Yd(rm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):ke(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=n1(e);Be(r["before"+s],[],r),n[e](r),Be(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Tr=new XH;class JH{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(Be(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Re(r.options&&r.options.plugins,{}),i=ZH(r);return s===!1&&!n?[]:tW(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function ZH(t){const e={},n=[],r=Object.keys(Tr.plugins.items);for(let i=0;i<r.length;i++)n.push(Tr.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function eW(t,e){return!e&&t===!1?null:t===!0?{}:t}function tW(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=eW(r[l],s);c!==null&&i.push({plugin:a,options:nW(t.config,{plugin:a,local:n[l]},c,o)})}return i}function nW(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dy(t,e){const n=it.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function rW(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function sW(t,e){return t===e?"_index_":"_value_"}function T2(t){if(t==="x"||t==="y"||t==="r")return t}function iW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Oy(t,...e){if(T2(t))return t;for(const n of e){const r=n.axis||iW(n.position)||t.length>1&&T2(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function S2(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function oW(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return S2(t,"x",n[0])||S2(t,"y",n[0])}return{}}function aW(t,e){const n=Io[t.type]||{scales:{}},r=e.scales||{},s=Dy(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Se(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Oy(o,a,oW(o,t),it.scales[a.type]),c=sW(l,s),u=n.scales||{};i[o]=Nc(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Dy(a,e),u=(Io[a]||{}).scales||{};Object.keys(u).forEach(f=>{const h=rW(f,l),m=o[h+"AxisID"]||h;i[m]=i[m]||Object.create(null),Nc(i[m],[{axis:h},r[m],u[f]])})}),Object.keys(i).forEach(o=>{const a=i[o];Nc(a,[it.scales[a.type],it.scale])}),i}function HP(t){const e=t.options||(t.options={});e.plugins=Re(e.plugins,{}),e.scales=aW(t,e)}function WP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function lW(t){return t=t||{},t.data=WP(t.data),HP(t),t}const C2=new Map,qP=new Set;function Xd(t,e){let n=C2.get(t);return n||(n=e(),C2.set(t,n),qP.add(n)),n}const Xl=(t,e,n)=>{const r=_u(e,n);r!==void 0&&t.add(r)};class cW{constructor(e){this._config=lW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=WP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),HP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Xd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Xd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Xd(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(f=>Xl(l,e,f))),u.forEach(f=>Xl(l,s,f)),u.forEach(f=>Xl(l,Io[i]||{},f)),u.forEach(f=>Xl(l,it,f)),u.forEach(f=>Xl(l,Ry,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),qP.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Io[n]||{},it.datasets[n]||{},{type:n},it,Ry]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=I2(this._resolverCache,e,s);let l=o;if(dW(o,n)){i.$shared=!1,r=Oi(r)?r():r;const c=this.createResolver(e,r,a);l=rl(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=I2(this._resolverCache,e,r);return Se(n)?rl(i,n,void 0,s):i}}function I2(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:a1(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const uW=t=>Se(t)&&Object.getOwnPropertyNames(t).some(e=>Oi(t[e]));function dW(t,e){const{isScriptable:n,isIndexable:r}=PP(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Oi(a)||uW(a))||o&&Rt(a))return!0}return!1}var hW="4.4.9";const fW=["top","bottom","left","right","chartArea"];function A2(t,e){return t==="top"||t==="bottom"||fW.indexOf(t)===-1&&e==="x"}function k2(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function R2(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Be(n&&n.onComplete,[t],e)}function pW(t){const e=t.chart,n=e.options.animation;Be(n&&n.onProgress,[t],e)}function KP(t){return u1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Dh={},P2=t=>{const e=KP(t);return Object.values(Dh).filter(n=>n.canvas===e).pop()};function mW(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function gW(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var js;let sm=(js=class{static register(...e){Tr.add(...e),N2()}static unregister(...e){Tr.remove(...e),N2()}constructor(e,n){const r=this.config=new cW(n),s=KP(e),i=P2(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||OH(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=$B(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new JH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=o$(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Dh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Jr.listen(this,"complete",R2),Jr.listen(this,"progress",pW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Qt(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Tr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():o2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return n2(this.canvas,this.ctx),this}stop(){return Jr.stop(this),this}resize(e,n){Jr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,o2(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Be(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ke(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Oy(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ke(i,o=>{const a=o.options,l=a.id,c=Oy(l,a),u=Re(a.type,o.dtype);(a.position===void 0||A2(a.position,c)!==A2(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===u)f=r[l];else{const h=Tr.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,e)}),ke(s,(o,a)=>{o||delete r[a]}),ke(r,o=>{ii.configure(this,o,o.options),ii.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(k2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||Dy(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Tr.getController(a),{datasetElementType:c,dataElementType:u}=it.datasets[a];Object.assign(l,{dataElementType:Tr.getElement(u),datasetElementType:c&&Tr.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ke(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||ke(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(k2("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ke(this.scales,e=>{ii.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!qE(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;mW(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!qE(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ii.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ke(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Oi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Jr.has(this)?this.attached&&!Jr.running(this)&&Jr.start(this):(this.draw(),R2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=q$(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&s1(n,s),e.controller.draw(),s&&i1(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return RP(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=fH.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=xl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Uf(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Jr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),n2(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Dh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};ke(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ke(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ke(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Vf(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=QB(e),c=gW(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Be(i.onHover,[e,a,this],this),l&&Be(i.onClick,[e,a,this],this));const u=!Vf(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},ue(js,"defaults",it),ue(js,"instances",Dh),ue(js,"overrides",Io),ue(js,"registry",Tr),ue(js,"version",hW),ue(js,"getChart",P2),js);function N2(){return ke(sm.instances,t=>t._plugins.invalidate())}function yW(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(i,o,a,r-c,n+c),l>s?(c=s/l,t.arc(i,o,l,n+c,r-c,!0)):t.arc(i,o,s,n+mt,r-mt),t.closePath(),t.clip()}function vW(t){return o1(t,["outerStart","outerEnd","innerStart","innerEnd"])}function xW(t,e,n,r){const s=vW(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,r*e/2),a=l=>{const c=(n-Math.min(i,l))*r/2;return Un(l,0,Math.min(i,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Un(s.innerStart,0,o),innerEnd:Un(s.innerEnd,0,o)}}function qo(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Kf(t,e,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,f=Math.max(e.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let m=0;const v=s-l;if(r){const V=u>0?u-r:0,U=f>0?f-r:0,W=(V+U)/2,j=W!==0?v*W/(W+r):v;m=(v-j)/2}const y=Math.max(.001,v*f-n/_t)/f,_=(v-y)/2,x=l+_+m,b=s-_-m,{outerStart:T,outerEnd:C,innerStart:N,innerEnd:M}=xW(e,h,f,b-x),I=f-T,S=f-C,A=x+T/I,R=b-C/S,D=h+N,O=h+M,P=x+N/D,q=b-M/O;if(t.beginPath(),i){const V=(A+R)/2;if(t.arc(o,a,f,A,V),t.arc(o,a,f,V,R),C>0){const z=qo(S,R,o,a);t.arc(z.x,z.y,C,R,b+mt)}const U=qo(O,b,o,a);if(t.lineTo(U.x,U.y),M>0){const z=qo(O,q,o,a);t.arc(z.x,z.y,M,b+mt,q+Math.PI)}const W=(b-M/h+(x+N/h))/2;if(t.arc(o,a,h,b-M/h,W,!0),t.arc(o,a,h,W,x+N/h,!0),N>0){const z=qo(D,P,o,a);t.arc(z.x,z.y,N,P+Math.PI,x-mt)}const j=qo(I,x,o,a);if(t.lineTo(j.x,j.y),T>0){const z=qo(I,A,o,a);t.arc(z.x,z.y,T,x-mt,A)}}else{t.moveTo(o,a);const V=Math.cos(A)*f+o,U=Math.sin(A)*f+a;t.lineTo(V,U);const W=Math.cos(R)*f+o,j=Math.sin(R)*f+a;t.lineTo(W,j)}t.closePath()}function _W(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){Kf(t,e,n,r,l,s);for(let c=0;c<i;++c)t.fill();isNaN(a)||(l=o+(a%dt||dt))}return Kf(t,e,n,r,l,s),t.fill(),l}function wW(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:h}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=h,m?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let v=e.endAngle;if(i){Kf(t,e,n,r,v,s);for(let y=0;y<i;++y)t.stroke();isNaN(a)||(v=o+(a%dt||dt))}m&&yW(t,e,v),i||(Kf(t,e,n,r,v,s),t.stroke())}class fc extends Gu{constructor(n){super();ue(this,"circumference");ue(this,"endAngle");ue(this,"fullCircles");ue(this,"innerRadius");ue(this,"outerRadius");ue(this,"pixelMargin");ue(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=wP(i,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,v=Re(h,c-l),y=$f(o,l,c)&&l!==c,_=v>=dt||y,x=uc(a,u+m,f+m);return _&&x}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,f=(i+o)/2,h=(a+l+u+c)/2;return{x:r+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>dt?Math.floor(s/dt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(_t,s||0)),u=i*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,_W(n,this,u,o,a),wW(n,this,u,o,a),n.restore()}}ue(fc,"id","arc"),ue(fc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ue(fc,"defaultRoutes",{backgroundColor:"backgroundColor"}),ue(fc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});const D2=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},bW=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class O2 extends Gu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Be(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=pn(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=D2(r,i);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let f=e;i.textAlign="left",i.textBaseline="middle";let h=-1,m=-u;return this.legendItems.forEach((v,y)=>{const _=r+n/2+i.measureText(v.text).width;(y===0||c[c.length-1]+_+2*a>o)&&(f+=u,c[c.length-(y>0?0:1)]=0,m+=u,h++),l[y]={left:0,top:m,row:h,width:_,height:s},c[c.length-1]+=_+a}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let f=a,h=0,m=0,v=0,y=0;return this.legendItems.forEach((_,x)=>{const{itemWidth:b,itemHeight:T}=EW(r,n,i,_,s);x>0&&m+T+2*a>u&&(f+=h+a,c.push({width:h,height:m}),v+=h+a,y++,h=m=0),l[x]={left:v,top:m,col:y,width:b,height:T},h=Math.max(h,b),m+=T+a}),f+=h,c.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Aa(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=wn(r,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=wn(r,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=wn(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=wn(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;s1(e,this),this._draw(),i1(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=it.color,l=Aa(e.rtl,this.left,this.width),c=pn(o.font),{padding:u}=o,f=c.size,h=f/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:v,boxHeight:y,itemHeight:_}=D2(o,f),x=function(M,I,S){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;s.save();const A=Re(S.lineWidth,1);if(s.fillStyle=Re(S.fillStyle,a),s.lineCap=Re(S.lineCap,"butt"),s.lineDashOffset=Re(S.lineDashOffset,0),s.lineJoin=Re(S.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=Re(S.strokeStyle,a),s.setLineDash(Re(S.lineDash,[])),o.usePointStyle){const R={radius:y*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:A},D=l.xPlus(M,v/2),O=I+h;kP(s,R,D,O,o.pointStyleWidth&&v)}else{const R=I+Math.max((f-y)/2,0),D=l.leftForLtr(M,v),O=Mc(S.borderRadius);s.beginPath(),Object.values(O).some(P=>P!==0)?Py(s,{x:D,y:R,w:v,h:y,radius:O}):s.rect(D,R,v,y),s.fill(),A!==0&&s.stroke()}s.restore()},b=function(M,I,S){Hf(s,S.text,M,I+_/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},T=this.isHorizontal(),C=this._computeTitleHeight();T?m={x:wn(i,this.left+u,this.right-r[0]),y:this.top+u+C,line:0}:m={x:this.left+u,y:wn(i,this.top+C+u,this.bottom-n[0].height),line:0},MP(this.ctx,e.textDirection);const N=_+u;this.legendItems.forEach((M,I)=>{s.strokeStyle=M.fontColor,s.fillStyle=M.fontColor;const S=s.measureText(M.text).width,A=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),R=v+h+S;let D=m.x,O=m.y;l.setWidth(this.width),T?I>0&&D+R+u>this.right&&(O=m.y+=N,m.line++,D=m.x=wn(i,this.left+u,this.right-r[m.line])):I>0&&O+N>this.bottom&&(D=m.x=D+n[m.line].width+u,m.line++,O=m.y=wn(i,this.top+C+u,this.bottom-n[m.line].height));const P=l.x(D);if(x(P,O,M),D=a$(A,D+v+h,T?D+R:this.right,e.rtl),b(l.x(D),O,M),T)m.x+=R+u;else if(typeof M.text!="string"){const q=c.lineHeight;m.y+=GP(M,q)+u}else m.y+=N}),jP(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=pn(n.font),s=dr(n.padding);if(!n.display)return;const i=Aa(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=s.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,f=wn(e.align,f,this.right-h);else{const v=this.columnSizes.reduce((y,_)=>Math.max(y,_.height),0);u=c+wn(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const m=wn(a,f,f+h);o.textAlign=i.textAlign(SP(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Hf(o,n.text,m,u,r)}_computeTitleHeight(){const e=this.options.title,n=pn(e.font),r=dr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(uc(e,this.left,this.right)&&uc(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],uc(e,s.left,s.left+s.width)&&uc(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!CW(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=bW(s,r);s&&!i&&Be(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Be(n.onHover,[e,r,this],this)}else r&&Be(n.onClick,[e,r,this],this)}}function EW(t,e,n,r,s){const i=TW(r,t,e,n),o=SW(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function TW(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function SW(t,e,n){let r=t;return typeof e.text!="string"&&(r=GP(e,n)),r}function GP(t,e){const n=t.text?t.text.length:0;return e*n}function CW(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var IW={id:"legend",_element:O2,start(t,e,n){const r=t.legend=new O2({ctx:t.ctx,options:n,chart:t});ii.configure(t,r,n),ii.addBox(t,r)},stop(t){ii.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ii.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=dr(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const pc={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=e$(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function br(t,e){return e&&(Rt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Zr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function AW(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function M2(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=pn(e.bodyFont),c=pn(e.titleFont),u=pn(e.footerFont),f=i.length,h=s.length,m=r.length,v=dr(e.padding);let y=v.height,_=0,x=r.reduce((C,N)=>C+N.before.length+N.lines.length+N.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=m*C+(x-m)*l.lineHeight+(x-1)*e.bodySpacing}h&&(y+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let b=0;const T=function(C){_=Math.max(_,n.measureText(C).width+b)};return n.save(),n.font=c.string,ke(t.title,T),n.font=l.string,ke(t.beforeBody.concat(t.afterBody),T),b=e.displayColors?o+2+e.boxPadding:0,ke(r,C=>{ke(C.before,T),ke(C.lines,T),ke(C.after,T)}),b=0,n.font=u.string,ke(t.footer,T),n.restore(),_+=v.width,{width:_,height:y}}function kW(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function RW(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function PW(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),RW(c,t,e,n)&&(c="center"),c}function j2(t,e,n){const r=n.yAlign||e.yAlign||kW(t,n);return{xAlign:n.xAlign||e.xAlign||PW(t,e,n,r),yAlign:r}}function NW(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function DW(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function L2(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:m}=Mc(o);let v=NW(e,a);const y=DW(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(u,h)+s:a==="right"&&(v+=Math.max(f,m)+s),{x:Un(v,0,r.width-e.width),y:Un(y,0,r.height-e.height)}}function Jd(t,e,n){const r=dr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function V2(t){return br([],Zr(t))}function OW(t,e,n){return xl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function F2(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const QP={beforeTitle:Yr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Yr,beforeBody:Yr,beforeLabel:Yr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Qt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Yr,afterBody:Yr,beforeFooter:Yr,footer:Yr,afterFooter:Yr};function ln(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?QP[e].call(n,r):s}class My extends Gu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new LP(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=OW(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=ln(r,"beforeTitle",this,e),i=ln(r,"title",this,e),o=ln(r,"afterTitle",this,e);let a=[];return a=br(a,Zr(s)),a=br(a,Zr(i)),a=br(a,Zr(o)),a}getBeforeBody(e,n){return V2(ln(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return ke(e,i=>{const o={before:[],lines:[],after:[]},a=F2(r,i);br(o.before,Zr(ln(a,"beforeLabel",this,i))),br(o.lines,ln(a,"label",this,i)),br(o.after,Zr(ln(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return V2(ln(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=ln(r,"beforeFooter",this,e),i=ln(r,"footer",this,e),o=ln(r,"afterFooter",this,e);let a=[];return a=br(a,Zr(s)),a=br(a,Zr(i)),a=br(a,Zr(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(AW(this.chart,n[l]));return e.filter&&(a=a.filter((u,f,h)=>e.filter(u,f,h,r))),e.itemSort&&(a=a.sort((u,f)=>e.itemSort(u,f,r))),ke(a,u=>{const f=F2(e.callbacks,u);s.push(ln(f,"labelColor",this,u)),i.push(ln(f,"labelPointStyle",this,u)),o.push(ln(f,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=pc[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=M2(this,r),c=Object.assign({},a,l),u=j2(this.chart,r,c),f=L2(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=Mc(a),{x:h,y:m}=e,{width:v,height:y}=n;let _,x,b,T,C,N;return i==="center"?(C=m+y/2,s==="left"?(_=h,x=_-o,T=C+o,N=C-o):(_=h+v,x=_+o,T=C-o,N=C+o),b=_):(s==="left"?x=h+Math.max(l,u)+o:s==="right"?x=h+v-Math.max(c,f)-o:x=this.caretX,i==="top"?(T=m,C=T-o,_=x-o,b=x+o):(T=m+y,C=T+o,_=x+o,b=x-o),N=T),{x1:_,x2:x,x3:b,y1:T,y2:C,y3:N}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=Aa(r.rtl,this.x,this.width);for(e.x=Jd(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=pn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,u=pn(i.bodyFont),f=Jd(this,"left",i),h=s.x(f),m=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+m;if(i.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=s.leftForLtr(h,c)+c/2,x=v+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,r2(e,y,_,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,r2(e,y,_,x)}else{e.lineWidth=Se(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=s.leftForLtr(h,c),_=s.leftForLtr(s.xPlus(h,1),c-2),x=Mc(o.borderRadius);Object.values(x).some(b=>b!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Py(e,{x:y,y:v,w:c,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Py(e,{x:_,y:v+1,w:c-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,v,c,l),e.strokeRect(y,v,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,f=pn(r.bodyFont);let h=f.lineHeight,m=0;const v=Aa(r.rtl,this.x,this.width),y=function(S){n.fillText(S,v.x(e.x+m),e.y+h/2),e.y+=h+i},_=v.textAlign(o);let x,b,T,C,N,M,I;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Jd(this,_,r),n.fillStyle=r.bodyColor,ke(this.beforeBody,y),m=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,C=0,M=s.length;C<M;++C){for(x=s[C],b=this.labelTextColors[C],n.fillStyle=b,ke(x.before,y),T=x.lines,a&&T.length&&(this._drawColorBox(n,e,C,v,r),h=Math.max(f.lineHeight,l)),N=0,I=T.length;N<I;++N)y(T[N]),h=f.lineHeight;ke(x.after,y)}m=0,h=f.lineHeight,ke(this.afterBody,y),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Aa(r.rtl,this.x,this.width);for(e.x=Jd(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=pn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:v}=Mc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+c,l+u-v),n.quadraticCurveTo(a+c,l+u,a+c-v,l+u),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+m,l+u),n.quadraticCurveTo(a,l+u,a,l+u-m),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=pc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=M2(this,e),l=Object.assign({},o,this._size),c=j2(n,e,l),u=L2(e,l,c,n);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=dr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),MP(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),jP(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!Vf(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!Vf(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=pc[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}ue(My,"positioners",pc);var MW={id:"tooltip",_element:My,positioners:pc,afterInit(t,e,n){n&&(t.tooltip=new My({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:QP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const im={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hn=Object.keys(im);function U2(t,e){return t-e}function z2(t,e){if(Qt(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ws(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Bf(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function B2(t,e,n,r){const s=hn.length;for(let i=hn.indexOf(t);i<s-1;++i){const o=im[hn[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return hn[i]}return hn[s-1]}function jW(t,e,n,r,s){for(let i=hn.length-1;i>=hn.indexOf(n);i--){const o=hn[i];if(im[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return hn[n?hn.indexOf(n):0]}function LW(t){for(let e=hn.indexOf(t)+1,n=hn.length;e<n;++e)if(im[hn[e]].common)return hn[e]}function $2(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=r1(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function VW(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function H2(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:VW(t,r,s,n)}class Gf extends rm{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new lH._date(e.adapters.date);s.init(n),Nc(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:z2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ws(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=ws(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=r$(s,i,o);return this._unit=n.unit||(r.autoSkip?B2(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):jW(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:LW(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),H2(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Un(n,0,o),r=Un(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||B2(i.minUnit,n,r,this._getLabelCapacity(n)),a=Re(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=Bf(l)||l===!0,u={};let f=n,h,m;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<r;h=+e.add(h,a,o),m++)$2(u,h,v);return(h===r||s.bounds==="ticks"||m===1)&&$2(u,h,v),Object.keys(u).sort(U2).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Be(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],f=c&&a[c],h=r[n],m=c&&f&&h&&h.major;return this._adapter.format(e,s||(m?f:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=oo(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,H2(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(z2(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return i$(e.sort(U2))}}ue(Gf,"id","time"),ue(Gf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Zd(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=ky(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=ky(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class W2 extends Gf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Zd(n,this.min),this._tableRange=Zd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Zd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Zd(this._table,r*this._tableRange+this._minPos,!0)}}ue(W2,"id","timeseries"),ue(W2,"defaults",Gf.defaults);const YP="label";function q2(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function FW(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function XP(t,e){t.labels=e}function JP(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YP;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function UW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YP;const n={labels:[],datasets:[]};return XP(n,t.labels),JP(n,t.datasets,e),n}function zW(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:f,...h}=t,m=w.useRef(null),v=w.useRef(null),y=()=>{m.current&&(v.current=new sm(m.current,{type:o,data:UW(a,i),options:l&&{...l},plugins:c}),q2(e,v.current))},_=()=>{q2(e,null),v.current&&(v.current.destroy(),v.current=null)};return w.useEffect(()=>{!s&&v.current&&l&&FW(v.current,l)},[s,l]),w.useEffect(()=>{!s&&v.current&&XP(v.current.config.data,a.labels)},[s,a.labels]),w.useEffect(()=>{!s&&v.current&&a.datasets&&JP(v.current.config.data,a.datasets,i)},[s,a.datasets]),w.useEffect(()=>{v.current&&(s?(_(),setTimeout(y)):v.current.update(f))},[s,l,a.labels,a.datasets,f]),w.useEffect(()=>{v.current&&(_(),setTimeout(y))},[o]),w.useEffect(()=>(y(),()=>_()),[]),Q.createElement("canvas",{ref:m,role:"img",height:n,width:r,...h},u)}const BW=w.forwardRef(zW);function $W(t,e){return sm.register(e),w.forwardRef((n,r)=>Q.createElement(BW,{...n,ref:r,type:t}))}const HW=$W("pie",Ny);sm.register(fc,MW,IW);const WW=()=>{const{user:t,updatePoints:e}=zi(),n=Oo(),[r,s]=w.useState([]),[i,o]=w.useState([]),[a,l]=w.useState(""),[c,u]=w.useState({}),[f,h]=w.useState({}),[m,v]=w.useState("users"),y=r.length,_=i.length,x=i.filter(V=>V.status==="قيد التنفيذ").length,b=i.filter(V=>V.status==="مقبول").length,T=i.filter(V=>V.status==="مرفوض").length,C=r.filter(V=>{var j;const U=(j=V.createdAt)==null?void 0:j.toDate();if(!U)return!1;const W=new Date;return U.getDate()===W.getDate()&&U.getMonth()===W.getMonth()&&U.getFullYear()===W.getFullYear()}).length,[N,M]=w.useState([]),I={labels:["مقبول","قيد التنفيذ","مرفوض"],datasets:[{data:[b,x,T],backgroundColor:["#22c55e","#eab308","#ef4444"],hoverBackgroundColor:["#15803d","#b45309","#991b1b"]}]},S={responsive:!0,plugins:{legend:{position:"top",labels:{boxWidth:20,font:{size:14}}},tooltip:{bodyFont:{size:14},titleFont:{size:16}}}};if(w.useEffect(()=>{t?(async()=>{try{const U=ri(At,"users"),j=(await io(U)).docs.map(G=>({firebaseId:G.id,...G.data()}));s(j);const z=ri(At,"orders"),J=(await io(z)).docs.map(G=>({firebaseId:G.id,...G.data()}));o(J);const Z=[];j.forEach(G=>{G.createdAt instanceof et&&Z.push({id:`user-${G.firebaseId}`,type:"تسجيل مستخدم",description:`مستخدم جديد سجل: ${G.name||G.email||"غير معروف"}`,timestamp:G.createdAt.toDate(),icon:p.jsx(Vw,{className:"w-5 h-5 text-blue-500"})})}),J.forEach(G=>{G.timestamp instanceof et&&(Z.push({id:`order-new-${G.firebaseId}`,type:"طلب جديد",description:`تم تقديم طلب جديد بواسطة ${G.userName||G.userEmail||"غير معروف"}`,timestamp:G.timestamp.toDate(),icon:p.jsx(Lw,{className:"w-5 h-5 text-green-500"})}),G.status&&G.status!=="قيد التنفيذ"&&Z.push({id:`order-status-${G.firebaseId}`,type:"تحديث طلب",description:`تم تحديث حالة الطلب #${G.firebaseId.substring(0,5)} إلى: ${G.status}`,timestamp:G.timestamp.toDate(),icon:p.jsx(XD,{className:"w-5 h-5 text-purple-500"})}))}),Z.sort((G,_e)=>_e.timestamp.getTime()-G.timestamp.getTime()),M(Z.slice(0,5))}catch(U){console.error("حدث خطأ أثناء جلب البيانات:",U),De.error("حدث خطأ أثناء جلب البيانات")}})():n("/")},[t,n]),!t)return null;const A=async V=>{if(window.confirm("هل أنت متأكد أنك تريد حذف هذا المستخدم؟"))try{const U=Rr(At,"users",V);await NF(U),s(W=>W.filter(j=>j.firebaseId!==V)),De.success("تم حذف المستخدم بنجاح")}catch(U){console.error("فشل الحذف:",U),De.error("حدث خطأ أثناء حذف المستخدم")}},R=async(V,U)=>{try{const W=Rr(At,"users",V),j=await ER(W);if(j.exists()){const z=j.data(),X=typeof z.points=="number"?z.points:0,J=Math.max(X+U,0);await $x(W,{points:J},{merge:!0}),t&&t.id===z.firebaseId&&e(J),s(Z=>Z.map(G=>G.firebaseId===V?{...G,points:J}:G)),De.success(`تم ${U>0?"زيادة":"خصم"} النقاط بنجاح`)}else De.error("المستخدم غير موجود")}catch(W){console.error("حدث خطأ أثناء تحديث النقاط:",W),De.error("حدث خطأ، يرجى المحاولة لاحقًا")}},D=async(V="")=>{try{const U=ri(At,"users");let W;if(V.trim()){const X=V.toLowerCase().trim();W=pu(U,Xp("email","==",X))}else W=pu(U);const z=(await io(W)).docs.map(X=>({firebaseId:X.id,...X.data()}));s(z),V.trim()&&z.length===0?De.error("المستخدم غير موجود"):!V.trim()&&z.length>0&&De.info("تم عرض جميع المستخدمين.")}catch(U){console.error("حدث خطأ أثناء جلب البيانات:",U),De.error("حدث خطأ أثناء جلب البيانات")}};w.useEffect(()=>{t?(D(),(async()=>{try{const U=ri(At,"orders"),j=(await io(U)).docs.map(z=>({firebaseId:z.id,...z.data()}));o(j)}catch(U){console.error("حدث خطأ أثناء جلب الطلبات:",U),De.error("حدث خطأ أثناء جلب الطلبات")}})()):n("/")},[t,n]),w.useEffect(()=>{const V=setTimeout(()=>{D(a)},500);return()=>{clearTimeout(V)}},[a]);const O=async(V,U,W=null)=>{try{const j=Rr(At,"orders",V);await yy(j,{status:U,rejectionReason:W}),o(z=>z.map(X=>X.firebaseId===V?{...X,status:U,rejectionReason:W}:X)),De.success(`تم تحديث حالة الطلب إلى: ${U}`)}catch(j){console.error("حدث خطأ أثناء تحديث حالة الطلب:",j),De.error("حدث خطأ أثناء تحديث حالة الطلب")}},P=V=>{const U=Math.floor((new Date().getTime()-V.getTime())/1e3);let W=U/31536e3;return W>1?Math.floor(W)+" سنة":(W=U/2592e3,W>1?Math.floor(W)+" شهر":(W=U/86400,W>1?Math.floor(W)+" يوم":(W=U/3600,W>1?Math.floor(W)+" ساعة":(W=U/60,W>1?Math.floor(W)+" دقيقة":Math.floor(U)+" ثانية"))))},q=V=>{try{if(V instanceof et)return new Date(V.toDate()).toLocaleDateString()}catch{return"N/A"}return"N/A"};return p.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 font-cairo",children:[p.jsx("div",{className:"flex-grow container mx-auto px-8 py-10",children:p.jsxs(St,{className:"w-full shadow-xl border border-gray-100 rounded-xl overflow-hidden",children:[p.jsx($t,{className:"bg-gradient-to-r from-blue-600 to-purple-700 text-white rounded-t-xl py-6",children:p.jsx(Ht,{className:"text-4xl font-extrabold text-center tracking-wide",children:"لوحة التحكم الإدارية"})}),p.jsxs(Ct,{className:"p-8 bg-white",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8",children:[p.jsxs(St,{className:"shadow-lg border border-gray-200 rounded-xl transform hover:scale-105 transition-transform duration-200 ease-in-out",children:[p.jsx($t,{className:"bg-blue-600 text-white rounded-t-xl py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(iO,{className:"w-6 h-6"}),p.jsx(Ht,{className:"text-xl font-bold",children:"إجمالي المستخدمين"})]})}),p.jsx(Ct,{className:"p-6 text-center",children:p.jsx("span",{className:"text-4xl font-extrabold text-blue-600",children:y})})]}),p.jsxs(St,{className:"shadow-lg border border-gray-200 rounded-xl transform hover:scale-105 transition-transform duration-200 ease-in-out",children:[p.jsx($t,{className:"bg-green-600 text-white rounded-t-xl py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Lw,{className:"w-6 h-6"}),p.jsx(Ht,{className:"text-xl font-bold",children:"إجمالي الطلبات"})]})}),p.jsx(Ct,{className:"p-6 text-center",children:p.jsx("span",{className:"text-4xl font-extrabold text-green-600",children:_})})]}),p.jsxs(St,{className:"shadow-lg border border-gray-200 rounded-xl transform hover:scale-105 transition-transform duration-200 ease-in-out",children:[p.jsx($t,{className:"bg-yellow-600 text-white rounded-t-xl py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(_h,{className:"w-6 h-6"}),p.jsx(Ht,{className:"text-xl font-bold",children:"قيد التنفيذ"})]})}),p.jsx(Ct,{className:"p-6 text-center",children:p.jsx("span",{className:"text-4xl font-extrabold text-yellow-600",children:x})})]}),p.jsxs(St,{className:"shadow-lg border border-gray-200 rounded-xl transform hover:scale-105 transition-transform duration-200 ease-in-out",children:[p.jsx($t,{className:"bg-red-600 text-white rounded-t-xl py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(fa,{className:"w-6 h-6"}),p.jsx(Ht,{className:"text-xl font-bold",children:"المرفوضة"})]})}),p.jsx(Ct,{className:"p-6 text-center",children:p.jsx("span",{className:"text-4xl font-extrabold text-red-600",children:T})})]}),p.jsxs(St,{className:"shadow-lg border border-gray-200 rounded-xl transform hover:scale-105 transition-transform duration-200 ease-in-out",children:[p.jsx($t,{className:"bg-green-600 text-white rounded-t-xl py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(O0,{className:"w-6 h-6"}),p.jsx(Ht,{className:"text-xl font-bold",children:"المقبولة"})]})}),p.jsx(Ct,{className:"p-6 text-center",children:p.jsx("span",{className:"text-4xl font-extrabold text-green-600",children:b})})]}),p.jsxs(St,{className:"shadow-lg border border-gray-200 rounded-xl transform hover:scale-105 transition-transform duration-200 ease-in-out",children:[p.jsx($t,{className:"bg-pink-600 text-white rounded-t-xl py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Vw,{className:"w-6 h-6"}),p.jsx(Ht,{className:"text-xl font-bold",children:"مستخدمون جدد اليوم"})]})}),p.jsx(Ct,{className:"p-6 text-center",children:p.jsx("span",{className:"text-4xl font-extrabold text-pink-600",children:C})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsxs(St,{className:"shadow-lg border border-gray-200 rounded-xl",children:[p.jsx($t,{className:"bg-gray-50 rounded-t-xl py-4",children:p.jsx(Ht,{className:"text-2xl font-bold text-gray-800 text-center",children:"إحصائيات الطلبات"})}),p.jsx(Ct,{className:"p-6 flex justify-center items-center",children:p.jsx("div",{className:"w-full max-w-md h-80",children:p.jsx(HW,{data:I,options:S})})})]})}),p.jsxs(St,{className:"shadow-lg border border-gray-200 rounded-xl",children:[p.jsx($t,{className:"bg-gray-50 rounded-t-xl py-4",children:p.jsx(Ht,{className:"text-2xl font-bold text-gray-800 text-center",children:"آخر الأنشطة"})}),p.jsx(Ct,{className:"p-6",children:p.jsx("ul",{className:"space-y-4",children:N.length>0?N.map(V=>p.jsxs("li",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg shadow-sm",children:[V.icon,p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-900",children:V.description}),p.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[p.jsx(JD,{className:"w-3 h-3"})," ",P(V.timestamp)]})]})]},V.id)):p.jsx("p",{className:"text-center text-gray-500",children:"لا توجد أنشطة حديثة لعرضها."})})})]})]}),p.jsxs(RA,{value:m,className:"w-full",onValueChange:v,children:[p.jsxs(tx,{className:"grid w-full grid-cols-2 bg-gray-100 rounded-xl p-2 mb-8 shadow-inner",children:[p.jsx($s,{value:"users",className:`rounded-lg text-xl py-4 transition-all duration-200 ${m==="users"?"bg-blue-600 text-white shadow-md":"text-gray-700 hover:bg-gray-200"}`,children:"إدارة المستخدمين"}),p.jsx($s,{value:"orders",className:`rounded-lg text-xl py-4 transition-all duration-200 ${m==="orders"?"bg-red-600 text-white shadow-md":"text-gray-700 hover:bg-gray-200"}`,children:"إدارة الطلبات"})]}),p.jsx(gf,{value:"users",className:"mt-8",children:p.jsxs(St,{className:"shadow-lg border border-gray-200 rounded-xl",children:[p.jsx($t,{className:"bg-gray-50 rounded-t-xl py-4",children:p.jsx(Ht,{className:"text-2xl font-bold text-gray-800 text-center",children:"إدارة المستخدمين"})}),p.jsxs(Ct,{className:"p-6",children:[p.jsx("div",{className:"mb-8 flex flex-col sm:flex-row justify-between items-center gap-6",children:p.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-3",children:[p.jsx(In,{type:"text",placeholder:"بحث عن المستخدم من خلال البريد الإلكتروني",value:a,onChange:V=>l(V.target.value),className:"flex-grow border-gray-300 focus:border-blue-500 focus:ring-blue-500 p-3 rounded-md"}),p.jsxs(Me,{onClick:()=>D(a),variant:"default",className:"bg-blue-600 hover:bg-blue-700 text-white shadow-sm",size:"sm",children:[p.jsx(nO,{className:"w-4 h-4 mr-2"}),"بحث"]})]})}),p.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:p.jsxs(Sy,{children:[p.jsx(Cy,{className:"bg-gray-100",children:p.jsxs(lc,{children:[p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5 w-[150px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(Nr,{className:"w-5 h-5 text-gray-700"})," الاسم"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5 w-[200px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(pa,{className:"w-5 h-5 text-gray-700"})," البريد الإلكتروني"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5 w-[120px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(nc,{className:"w-5 h-5 text-gray-700"})," تاريخ التسجيل"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5 w-[80px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(M0,{className:"w-5 h-5 text-gray-700"})," النقاط"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5 w-[200px]",children:"الإجراءات"})]})}),p.jsx(Iy,{children:r.map(V=>p.jsxs(lc,{className:"hover:bg-blue-50 transition-colors duration-150 border-b border-gray-100 last:border-b-0",children:[p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[150px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(Nr,{className:"w-4 h-4 text-gray-600"})," ",V.name||"بدون اسم"]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[200px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(pa,{className:"w-4 h-4 text-gray-600"})," ",V.email||"بدون بريد"]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[120px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(nc,{className:"w-4 h-4 text-gray-600"})," ",q(V.createdAt)]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[80px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(M0,{className:"w-4 h-4 text-gray-600"})," ",V.points||0]})}),p.jsx(Et,{className:"text-right py-4 px-4 w-[200px]",children:p.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-end",children:[p.jsx(Me,{onClick:()=>A(V.firebaseId),variant:"destructive",size:"sm",className:"shadow-md hover:shadow-lg transition-shadow",children:"حذف"}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(In,{type:"number",placeholder:"نقاط",className:"w-24 text-xs text-right border-gray-300 focus:border-blue-500 focus:ring-blue-500 p-2 rounded-md shadow-sm",value:c[String(V.firebaseId)]||"",onChange:U=>u(W=>({...W||{},[String(V.firebaseId)]:U.target.value}))}),p.jsx(Me,{onClick:()=>{R(V.firebaseId,parseInt(c[V.firebaseId],10)||0)},variant:"outline",size:"sm",className:"bg-green-500 text-white hover:bg-green-600 shadow-sm hover:shadow-md",children:"+"}),p.jsx(Me,{onClick:()=>{R(V.firebaseId,-(parseInt(c[V.firebaseId],10)||0))},variant:"outline",size:"sm",className:"bg-red-500 text-white hover:bg-red-600 shadow-sm hover:shadow-md",children:"-"})]})]})})]},V.firebaseId))})]})})]})]})}),p.jsx(gf,{value:"orders",className:"mt-8",children:p.jsxs(St,{className:"shadow-lg border border-gray-200 rounded-xl",children:[p.jsx($t,{className:"bg-gray-50 rounded-t-xl py-4",children:p.jsx(Ht,{className:"text-2xl font-bold text-gray-800 text-center",children:"إدارة الطلبات"})}),p.jsx(Ct,{className:"p-6",children:p.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:p.jsxs(Sy,{children:[p.jsx(Cy,{className:"bg-gray-100",children:p.jsxs(lc,{children:[p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(rc,{className:"w-5 h-5 text-gray-700"})," معرف الطلب"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(Nr,{className:"w-5 h-5 text-gray-700"})," اسم المستخدم"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(pa,{className:"w-5 h-5 text-gray-700"})," البريد الإلكتروني للمستخدم"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(cf,{className:"w-5 h-5 text-gray-700"})," معرف الخدمة"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(rc,{className:"w-5 h-5 text-gray-700"})," الكمية"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(V0,{className:"w-5 h-5 text-gray-700"})," الرابط الاجتماعي"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5 w-[150px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(jw,{className:"w-5 h-5 text-gray-700"})," معلومات إضافية"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5 w-[120px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(nc,{className:"w-5 h-5 text-gray-700"})," تاريخ الطلب"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5 w-[100px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(_h,{className:"w-5 h-5 text-gray-700"})," الحالة"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5 w-[150px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(fa,{className:"w-5 h-5 text-gray-700"})," سبب الرفض"]})}),p.jsx(bt,{className:"text-right text-base font-bold text-gray-800 py-4 px-5 w-[150px]",children:"الإجراءات"})]})}),p.jsx(Iy,{children:i.map(V=>p.jsxs(lc,{className:"hover:bg-red-50 transition-colors duration-150 border-b border-gray-100 last:border-b-0",children:[p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[100px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(rc,{className:"w-4 h-4 text-gray-600"})," ",V.firebaseId.substring(0,8),"..."]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[120px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(Nr,{className:"w-4 h-4 text-gray-600"})," ",V.userName]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[150px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(pa,{className:"w-4 h-4 text-gray-600"})," ",V.userEmail]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[100px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(cf,{className:"w-4 h-4 text-gray-600"})," ",V.serviceId]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[80px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(rc,{className:"w-4 h-4 text-gray-600"})," ",V.quantity]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[150px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(V0,{className:"w-4 h-4 text-gray-600"}),V.socialLink?p.jsx("a",{href:V.socialLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate max-w-[120px] block",title:V.socialLink,children:V.socialLink.length>20?`${V.socialLink.substring(0,17)}...`:V.socialLink}):"لا يوجد"]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[150px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(jw,{className:"w-4 h-4 text-gray-600"}),p.jsx("span",{className:"truncate max-w-[120px] block",title:V.additionalInfo||"لا يوجد",children:V.additionalInfo||"لا يوجد"})]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[120px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx(nc,{className:"w-4 h-4 text-gray-600"})," ",q(V.timestamp)]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[100px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[V.status==="قيد التنفيذ"&&p.jsx(_h,{className:"w-4 h-4 text-yellow-600"}),V.status==="مقبول"&&p.jsx(O0,{className:"w-4 h-4 text-green-600"}),V.status==="مرفوض"&&p.jsx(fa,{className:"w-4 h-4 text-red-600"}),p.jsx("span",{className:`font-bold ${V.status==="قيد التنفيذ"?"text-yellow-600":V.status==="مقبول"?"text-green-600":"text-red-600"}`,children:V.status})]})}),p.jsx(Et,{className:"text-right text-sm text-gray-900 py-4 px-4 w-[150px]",children:p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[V.rejectionReason&&p.jsx(fa,{className:"w-4 h-4 text-red-500"}),V.rejectionReason||"لا يوجد"]})}),p.jsx(Et,{className:"text-right py-4 px-4 w-[150px]",children:p.jsx("div",{className:"flex flex-col gap-2 items-end",children:V.status==="قيد التنفيذ"&&p.jsxs(p.Fragment,{children:[p.jsx(Me,{onClick:()=>O(V.firebaseId,"مقبول"),variant:"default",className:"bg-green-600 hover:bg-green-700 text-white shadow-sm hover:shadow-md",size:"sm",children:"قبول"}),p.jsx(Hx,{placeholder:"سبب الرفض (اختياري)",className:"w-full text-xs text-right border-gray-300 focus:border-blue-500 focus:ring-blue-500 p-2 rounded-md shadow-sm",value:f[String(V.firebaseId)]||"",onChange:U=>h(W=>({...W||{},[String(V.firebaseId)]:U.target.value}))}),p.jsx(Me,{onClick:()=>O(V.firebaseId,"مرفوض",f[V.firebaseId]||"لا يوجد سبب"),variant:"destructive",size:"sm",className:"shadow-sm hover:shadow-md",children:"رفض"})]})})})]},V.firebaseId))})]})})})]})})]})]})]})}),p.jsx(Vi,{})]})};var f1="Avatar",[qW,LK]=cl(f1),[KW,ZP]=qW(f1),eN=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=w.useState("idle");return p.jsx(KW,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:p.jsx(xe.span,{...r,ref:e})})});eN.displayName=f1;var tN="AvatarImage",nN=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=ZP(tN,n),a=GW(r,i.referrerPolicy),l=st(c=>{s(c),o.onImageLoadingStatusChange(c)});return ar(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(xe.img,{...i,ref:e,src:r}):null});nN.displayName=tN;var rN="AvatarFallback",sN=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=ZP(rN,n),[o,a]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?p.jsx(xe.span,{...s,ref:e}):null});sN.displayName=rN;function GW(t,e){const[n,r]=w.useState("idle");return ar(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var iN=eN,oN=nN,aN=sN;const jy=w.forwardRef(({className:t,...e},n)=>p.jsx(iN,{ref:n,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));jy.displayName=iN.displayName;const QW=w.forwardRef(({className:t,...e},n)=>p.jsx(oN,{ref:n,className:fe("aspect-square h-full w-full",t),...e}));QW.displayName=oN.displayName;const Ly=w.forwardRef(({className:t,...e},n)=>p.jsx(aN,{ref:n,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ly.displayName=aN.displayName;var Cg="focusScope.autoFocusOnMount",Ig="focusScope.autoFocusOnUnmount",K2={bubbles:!1,cancelable:!0},YW="FocusScope",lN=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=w.useState(null),c=st(s),u=st(i),f=w.useRef(null),h=tt(e,y=>l(y)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let y=function(T){if(m.paused||!a)return;const C=T.target;a.contains(C)?f.current=C:Vs(f.current,{select:!0})},_=function(T){if(m.paused||!a)return;const C=T.relatedTarget;C!==null&&(a.contains(C)||Vs(f.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const N of T)N.removedNodes.length>0&&Vs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const b=new MutationObserver(x);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),b.disconnect()}}},[r,a,m.paused]),w.useEffect(()=>{if(a){Q2.add(m);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(Cg,K2);a.addEventListener(Cg,c),a.dispatchEvent(x),x.defaultPrevented||(XW(nq(cN(a)),{select:!0}),document.activeElement===y&&Vs(a))}return()=>{a.removeEventListener(Cg,c),setTimeout(()=>{const x=new CustomEvent(Ig,K2);a.addEventListener(Ig,u),a.dispatchEvent(x),x.defaultPrevented||Vs(y??document.body,{select:!0}),a.removeEventListener(Ig,u),Q2.remove(m)},0)}}},[a,c,u,m]);const v=w.useCallback(y=>{if(!n&&!r||m.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(_&&x){const b=y.currentTarget,[T,C]=JW(b);T&&C?!y.shiftKey&&x===C?(y.preventDefault(),n&&Vs(T,{select:!0})):y.shiftKey&&x===T&&(y.preventDefault(),n&&Vs(C,{select:!0})):x===b&&y.preventDefault()}},[n,r,m.paused]);return p.jsx(xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});lN.displayName=YW;function XW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Vs(r,{select:e}),document.activeElement!==n)return}function JW(t){const e=cN(t),n=G2(e,t),r=G2(e.reverse(),t);return[n,r]}function cN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function G2(t,e){for(const n of t)if(!ZW(n,{upTo:e}))return n}function ZW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eq(t){return t instanceof HTMLInputElement&&"select"in t}function Vs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&eq(t)&&e&&t.select()}}var Q2=tq();function tq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Y2(t,e),t.unshift(e)},remove(e){var n;t=Y2(t,e),(n=t[0])==null||n.resume()}}}function Y2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function nq(t){return t.filter(e=>e.tagName!=="A")}var Ag=0;function rq(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??X2()),document.body.insertAdjacentElement("beforeend",t[1]??X2()),Ag++,()=>{Ag===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ag--}},[])}function X2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Oh="right-scroll-bar-position",Mh="width-before-scroll-bar",sq="with-scroll-bars-hidden",iq="--removed-body-scroll-bar-size";function kg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function oq(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var aq=typeof window<"u"?w.useLayoutEffect:w.useEffect,J2=new WeakMap;function lq(t,e){var n=oq(null,function(r){return t.forEach(function(s){return kg(s,r)})});return aq(function(){var r=J2.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||kg(a,null)}),i.forEach(function(a){s.has(a)||kg(a,o)})}J2.set(n,t)},[t]),n}function cq(t){return t}function uq(t,e){e===void 0&&(e=cq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function dq(t){t===void 0&&(t={});var e=uq(null);return e.options=Pr({async:!0,ssr:!1},t),e}var uN=function(t){var e=t.sideCar,n=zu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Pr({},n))};uN.isSideCarExport=!0;function hq(t,e){return t.useMedium(e),uN}var dN=dq(),Rg=function(){},om=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Rg,onWheelCapture:Rg,onTouchMoveCapture:Rg}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,v=t.inert,y=t.allowPinchZoom,_=t.as,x=_===void 0?"div":_,b=t.gapMode,T=zu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,N=lq([n,e]),M=Pr(Pr({},T),s);return w.createElement(w.Fragment,null,u&&w.createElement(C,{sideCar:dN,removeScrollBar:c,shards:f,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?w.cloneElement(w.Children.only(a),Pr(Pr({},M),{ref:N})):w.createElement(x,Pr({},M,{className:l,ref:N}),a))});om.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};om.classNames={fullWidth:Mh,zeroRight:Oh};var fq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fq();return e&&t.setAttribute("nonce",e),t}function mq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=pq())&&(mq(e,n),gq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vq=function(){var t=yq();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},hN=function(){var t=vq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},xq={left:0,top:0,right:0,gap:0},Pg=function(t){return parseInt(t||"",10)||0},_q=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Pg(n),Pg(r),Pg(s)]},wq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xq;var e=_q(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},bq=hN(),ka="data-scroll-locked",Eq=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(sq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ka,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Mh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Oh," .").concat(Oh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mh," .").concat(Mh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ka,`] {
    `).concat(iq,": ").concat(a,`px;
  }
`)},Z2=function(){var t=parseInt(document.body.getAttribute(ka)||"0",10);return isFinite(t)?t:0},Tq=function(){w.useEffect(function(){return document.body.setAttribute(ka,(Z2()+1).toString()),function(){var t=Z2()-1;t<=0?document.body.removeAttribute(ka):document.body.setAttribute(ka,t.toString())}},[])},Sq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Tq();var i=w.useMemo(function(){return wq(s)},[s]);return w.createElement(bq,{styles:Eq(i,!e,s,n?"":"!important")})},Vy=!1;if(typeof window<"u")try{var eh=Object.defineProperty({},"passive",{get:function(){return Vy=!0,!0}});window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{Vy=!1}var Ko=Vy?{passive:!1}:!1,Cq=function(t){return t.tagName==="TEXTAREA"},fN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Cq(t)&&n[e]==="visible")},Iq=function(t){return fN(t,"overflowY")},Aq=function(t){return fN(t,"overflowX")},eT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=pN(t,r);if(s){var i=mN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Rq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},pN=function(t,e){return t==="v"?Iq(e):Aq(e)},mN=function(t,e){return t==="v"?kq(e):Rq(e)},Pq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Nq=function(t,e,n,r,s){var i=Pq(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,f=0,h=0;do{var m=mN(t,a),v=m[0],y=m[1],_=m[2],x=y-_-i*v;(v||x)&&pN(t,a)&&(f+=x,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(c=!0),c},th=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tT=function(t){return[t.deltaX,t.deltaY]},nT=function(t){return t&&"current"in t?t.current:t},Dq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Oq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Mq=0,Go=[];function jq(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(Mq++)[0],i=w.useState(hN)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=zF([t.lockRef.current],(t.shards||[]).map(nT),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=th(y),b=n.current,T="deltaX"in y?y.deltaX:b[0]-x[0],C="deltaY"in y?y.deltaY:b[1]-x[1],N,M=y.target,I=Math.abs(T)>Math.abs(C)?"h":"v";if("touches"in y&&I==="h"&&M.type==="range")return!1;var S=eT(I,M);if(!S)return!0;if(S?N=I:(N=I==="v"?"h":"v",S=eT(I,M)),!S)return!1;if(!r.current&&"changedTouches"in y&&(T||C)&&(r.current=N),!N)return!0;var A=r.current||N;return Nq(A,_,y,A==="h"?T:C,!0)},[]),l=w.useCallback(function(y){var _=y;if(!(!Go.length||Go[Go.length-1]!==i)){var x="deltaY"in _?tT(_):th(_),b=e.current.filter(function(N){return N.name===_.type&&(N.target===_.target||_.target===N.shadowParent)&&Dq(N.delta,x)})[0];if(b&&b.should){_.cancelable&&_.preventDefault();return}if(!b){var T=(o.current.shards||[]).map(nT).filter(Boolean).filter(function(N){return N.contains(_.target)}),C=T.length>0?a(_,T[0]):!o.current.noIsolation;C&&_.cancelable&&_.preventDefault()}}},[]),c=w.useCallback(function(y,_,x,b){var T={name:y,delta:_,target:x,should:b,shadowParent:Lq(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(C){return C!==T})},1)},[]),u=w.useCallback(function(y){n.current=th(y),r.current=void 0},[]),f=w.useCallback(function(y){c(y.type,tT(y),y.target,a(y,t.lockRef.current))},[]),h=w.useCallback(function(y){c(y.type,th(y),y.target,a(y,t.lockRef.current))},[]);w.useEffect(function(){return Go.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ko),document.addEventListener("touchmove",l,Ko),document.addEventListener("touchstart",u,Ko),function(){Go=Go.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Ko),document.removeEventListener("touchmove",l,Ko),document.removeEventListener("touchstart",u,Ko)}},[]);var m=t.removeScrollBar,v=t.inert;return w.createElement(w.Fragment,null,v?w.createElement(i,{styles:Oq(s)}):null,m?w.createElement(Sq,{gapMode:t.gapMode}):null)}function Lq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Vq=hq(dN,jq);var gN=w.forwardRef(function(t,e){return w.createElement(om,Pr({},t,{ref:e,sideCar:Vq}))});gN.classNames=om.classNames;var Fq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qo=new WeakMap,nh=new WeakMap,rh={},Ng=0,yN=function(t){return t&&(t.host||yN(t.parentNode))},Uq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=yN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},zq=function(t,e,n,r){var s=Uq(e,Array.isArray(t)?t:[t]);rh[n]||(rh[n]=new WeakMap);var i=rh[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",y=(Qo.get(h)||0)+1,_=(i.get(h)||0)+1;Qo.set(h,y),i.set(h,_),o.push(h),y===1&&v&&nh.set(h,!0),_===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(e),a.clear(),Ng++,function(){o.forEach(function(f){var h=Qo.get(f)-1,m=i.get(f)-1;Qo.set(f,h),i.set(f,m),h||(nh.has(f)||f.removeAttribute(r),nh.delete(f)),m||f.removeAttribute(n)}),Ng--,Ng||(Qo=new WeakMap,Qo=new WeakMap,nh=new WeakMap,rh={})}},Bq=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Fq(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),zq(r,s,n,"aria-hidden")):function(){return null}},p1="Dialog",[vN,VK]=cl(p1),[$q,fr]=vN(p1),xN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=w.useRef(null),l=w.useRef(null),[c=!1,u]=gp({prop:r,defaultProp:s,onChange:i});return p.jsx($q,{scope:e,triggerRef:a,contentRef:l,contentId:Sc(),titleId:Sc(),descriptionId:Sc(),open:c,onOpenChange:u,onOpenToggle:w.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};xN.displayName=p1;var _N="DialogTrigger",Hq=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(_N,n),i=tt(e,s.triggerRef);return p.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":y1(s.open),...r,ref:i,onClick:he(t.onClick,s.onOpenToggle)})});Hq.displayName=_N;var m1="DialogPortal",[Wq,wN]=vN(m1,{forceMount:void 0}),bN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=fr(m1,e);return p.jsx(Wq,{scope:e,forceMount:n,children:w.Children.map(r,o=>p.jsx(hr,{present:n||i.open,children:p.jsx(jv,{asChild:!0,container:s,children:o})}))})};bN.displayName=m1;var Qf="DialogOverlay",EN=w.forwardRef((t,e)=>{const n=wN(Qf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=fr(Qf,t.__scopeDialog);return i.modal?p.jsx(hr,{present:r||i.open,children:p.jsx(qq,{...s,ref:e})}):null});EN.displayName=Qf;var qq=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(Qf,n);return p.jsx(gN,{as:qa,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(xe.div,{"data-state":y1(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ao="DialogContent",TN=w.forwardRef((t,e)=>{const n=wN(Ao,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=fr(Ao,t.__scopeDialog);return p.jsx(hr,{present:r||i.open,children:i.modal?p.jsx(Kq,{...s,ref:e}):p.jsx(Gq,{...s,ref:e})})});TN.displayName=Ao;var Kq=w.forwardRef((t,e)=>{const n=fr(Ao,t.__scopeDialog),r=w.useRef(null),s=tt(e,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return Bq(i)},[]),p.jsx(SN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:he(t.onFocusOutside,i=>i.preventDefault())})}),Gq=w.forwardRef((t,e)=>{const n=fr(Ao,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return p.jsx(SN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),SN=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=fr(Ao,n),l=w.useRef(null),c=tt(e,l);return rq(),p.jsxs(p.Fragment,{children:[p.jsx(lN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(mp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":y1(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Qq,{titleId:a.titleId}),p.jsx(Xq,{contentRef:l,descriptionId:a.descriptionId})]})]})}),g1="DialogTitle",CN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(g1,n);return p.jsx(xe.h2,{id:s.titleId,...r,ref:e})});CN.displayName=g1;var IN="DialogDescription",AN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(IN,n);return p.jsx(xe.p,{id:s.descriptionId,...r,ref:e})});AN.displayName=IN;var kN="DialogClose",RN=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(kN,n);return p.jsx(xe.button,{type:"button",...r,ref:e,onClick:he(t.onClick,()=>s.onOpenChange(!1))})});RN.displayName=kN;function y1(t){return t?"open":"closed"}var PN="DialogTitleWarning",[FK,NN]=uD(PN,{contentName:Ao,titleName:g1,docsSlug:"dialog"}),Qq=({titleId:t})=>{const e=NN(PN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Yq="DialogDescriptionWarning",Xq=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NN(Yq).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Jq=xN,Zq=bN,DN=EN,ON=TN,MN=CN,jN=AN,eK=RN;const tK=Jq,nK=Zq,LN=w.forwardRef(({className:t,...e},n)=>p.jsx(DN,{ref:n,className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));LN.displayName=DN.displayName;const VN=w.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(nK,{children:[p.jsx(LN,{}),p.jsxs(ON,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(eK,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(_p,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));VN.displayName=ON.displayName;const FN=({className:t,...e})=>p.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});FN.displayName="DialogHeader";const UN=({className:t,...e})=>p.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});UN.displayName="DialogFooter";const zN=w.forwardRef(({className:t,...e},n)=>p.jsx(MN,{ref:n,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));zN.displayName=MN.displayName;const BN=w.forwardRef(({className:t,...e},n)=>p.jsx(jN,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));BN.displayName=jN.displayName;function rK(t,[e,n]){return Math.min(n,Math.max(e,t))}function sK(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var v1="ScrollArea",[$N,UK]=cl(v1),[iK,Wn]=$N(v1),HN=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=w.useState(null),[c,u]=w.useState(null),[f,h]=w.useState(null),[m,v]=w.useState(null),[y,_]=w.useState(null),[x,b]=w.useState(0),[T,C]=w.useState(0),[N,M]=w.useState(!1),[I,S]=w.useState(!1),A=tt(e,D=>l(D)),R=Jv(s);return p.jsx(iK,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:M,scrollbarY:y,onScrollbarYChange:_,scrollbarYEnabled:I,onScrollbarYEnabledChange:S,onCornerWidthChange:b,onCornerHeightChange:C,children:p.jsx(xe.div,{dir:R,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});HN.displayName=v1;var WN="ScrollAreaViewport",qN=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...o}=t,a=Wn(WN,n),l=w.useRef(null),c=tt(e,l,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),p.jsx(xe.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:mK({asChild:s,children:r},u=>p.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});qN.displayName=WN;var Br="ScrollAreaScrollbar",x1=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Wn(Br,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return w.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?p.jsx(oK,{...r,ref:e,forceMount:n}):s.type==="scroll"?p.jsx(aK,{...r,ref:e,forceMount:n}):s.type==="auto"?p.jsx(KN,{...r,ref:e,forceMount:n}):s.type==="always"?p.jsx(_1,{...r,ref:e}):null});x1.displayName=Br;var oK=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Wn(Br,t.__scopeScrollArea),[i,o]=w.useState(!1);return w.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),p.jsx(hr,{present:n||i,children:p.jsx(KN,{"data-state":i?"visible":"hidden",...r,ref:e})})}),aK=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Wn(Br,t.__scopeScrollArea),i=t.orientation==="horizontal",o=lm(()=>l("SCROLL_END"),100),[a,l]=sK("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),w.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const m=c[u];f!==m&&(l("SCROLL"),o()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[s.viewport,i,l,o]),p.jsx(hr,{present:n||a!=="hidden",children:p.jsx(_1,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:he(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:he(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),KN=w.forwardRef((t,e)=>{const n=Wn(Br,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=w.useState(!1),a=t.orientation==="horizontal",l=lm(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return sl(n.viewport,l),sl(n.content,l),p.jsx(hr,{present:r||i,children:p.jsx(_1,{"data-state":i?"visible":"hidden",...s,ref:e})})}),_1=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Wn(Br,t.__scopeScrollArea),i=w.useRef(null),o=w.useRef(0),[a,l]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=JN(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return fK(h,o.current,a,m)}return n==="horizontal"?p.jsx(lK,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=rT(h,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?p.jsx(cK,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=rT(h,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),lK=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Wn(Br,t.__scopeScrollArea),[o,a]=w.useState(),l=w.useRef(null),c=tt(e,l,i.onScrollbarXChange);return w.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(QN,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":am(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),e4(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Xf(o.paddingLeft),paddingEnd:Xf(o.paddingRight)}})}})}),cK=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Wn(Br,t.__scopeScrollArea),[o,a]=w.useState(),l=w.useRef(null),c=tt(e,l,i.onScrollbarYChange);return w.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(QN,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":am(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),e4(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Xf(o.paddingTop),paddingEnd:Xf(o.paddingBottom)}})}})}),[uK,GN]=$N(Br),QN=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,m=Wn(Br,n),[v,y]=w.useState(null),_=tt(e,A=>y(A)),x=w.useRef(null),b=w.useRef(""),T=m.viewport,C=r.content-r.viewport,N=st(u),M=st(l),I=lm(f,10);function S(A){if(x.current){const R=A.clientX-x.current.left,D=A.clientY-x.current.top;c({x:R,y:D})}}return w.useEffect(()=>{const A=R=>{const D=R.target;(v==null?void 0:v.contains(D))&&N(R,C)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[T,v,C,N]),w.useEffect(M,[r,M]),sl(v,I),sl(m.content,I),p.jsx(uK,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:st(i),onThumbPointerUp:st(o),onThumbPositionChange:M,onThumbPointerDown:st(a),children:p.jsx(xe.div,{...h,ref:_,style:{position:"absolute",...h.style},onPointerDown:he(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),x.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),S(A))}),onPointerMove:he(t.onPointerMove,S),onPointerUp:he(t.onPointerUp,A=>{const R=A.target;R.hasPointerCapture(A.pointerId)&&R.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Yf="ScrollAreaThumb",YN=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=GN(Yf,t.__scopeScrollArea);return p.jsx(hr,{present:n||s.hasThumb,children:p.jsx(dK,{ref:e,...r})})}),dK=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Wn(Yf,n),o=GN(Yf,n),{onThumbPositionChange:a}=o,l=tt(e,f=>o.onThumbChange(f)),c=w.useRef(),u=lm(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(u(),!c.current){const m=pK(f,a);c.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,u,a]),p.jsx(xe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:he(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,y=f.clientY-m.top;o.onThumbPointerDown({x:v,y})}),onPointerUp:he(t.onPointerUp,o.onThumbPointerUp)})});YN.displayName=Yf;var w1="ScrollAreaCorner",XN=w.forwardRef((t,e)=>{const n=Wn(w1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(hK,{...t,ref:e}):null});XN.displayName=w1;var hK=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Wn(w1,n),[i,o]=w.useState(0),[a,l]=w.useState(0),c=!!(i&&a);return sl(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),sl(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?p.jsx(xe.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Xf(t){return t?parseInt(t,10):0}function JN(t,e){const n=t/e;return isNaN(n)?0:n}function am(t){const e=JN(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function fK(t,e,n,r="ltr"){const s=am(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return ZN([l,c],f)(t)}function rT(t,e,n="ltr"){const r=am(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=rK(t,l);return ZN([0,o],[0,a])(c)}function ZN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function e4(t,e){return t>0&&t<e}var pK=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function lm(t,e){const n=st(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function sl(t,e){const n=st(e);ar(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function mK(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const s=w.Children.only(r);return w.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var t4=HN,gK=qN,yK=XN;const n4=w.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(t4,{ref:r,className:fe("relative overflow-hidden",t),...n,children:[p.jsx(gK,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(r4,{}),p.jsx(yK,{})]}));n4.displayName=t4.displayName;const r4=w.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(x1,{ref:r,orientation:e,className:fe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(YN,{className:"relative flex-1 rounded-full bg-border"})}));r4.displayName=x1.displayName;const sh=[{name:"User",icon:Nr},{name:"Cat",icon:pI},{name:"Dog",icon:mI},{name:"Bird",icon:fI},{name:"Fish",icon:gI},{name:"Rabbit",icon:vI}],vK=({user:t,onLogout:e,onClose:n})=>{var b,T;const{updateUserData:r}=zi(),[s,i]=w.useState(!1),[o,a]=w.useState(t.name),[l,c]=w.useState(t.email),[u,f]=w.useState(t.profilePicture||"User"),[h,m]=w.useState(!1),[v,y]=w.useState(null);w.useEffect(()=>{a(t.name),c(t.email);const C=sh.find(N=>N.name===t.profilePicture);f(C?C.name:"User")},[t,s]);const _=async()=>{m(!0),y(null);try{await r({name:o,email:l,profilePicture:u}),i(!1)}catch(C){console.error("فشل حفظ التغييرات:",C),y(C.message||"فشل حفظ التغييرات. يرجى المحاولة مرة أخرى.")}finally{m(!1)}},x=((b=sh.find(C=>C.name===(t.profilePicture||u)))==null?void 0:b.icon)||Nr;return p.jsxs("div",{className:"fixed top-0 right-0 h-full w-72 bg-white dark:bg-gray-800 shadow-xl z-50 p-6 border-l border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out flex flex-col",children:[p.jsx(Me,{variant:"ghost",size:"icon",onClick:n,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:p.jsx(_p,{className:"h-5 w-5"})}),p.jsxs("div",{className:"flex flex-col items-center mt-12 mb-8 flex-grow",children:[p.jsx(jy,{className:"h-24 w-24 mb-4 border-2 border-blue-500 dark:border-blue-400",children:p.jsx(Ly,{className:"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 text-4xl font-semibold",children:p.jsx(x,{className:"h-16 w-16"})})}),p.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:t.name}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:[p.jsx("span",{className:"font-semibold",children:"ID:"})," ",t.id]}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:t.email}),t.points!==void 0&&p.jsxs("div",{className:"flex items-center text-lg font-semibold text-yellow-600 dark:text-yellow-400 mt-4 p-2 bg-yellow-50 dark:bg-yellow-950 rounded-md",children:[p.jsx(sO,{className:"h-5 w-5 mr-2 fill-current"}),p.jsxs("span",{children:["النقاط: ",t.points]})]}),p.jsxs(Me,{variant:"outline",className:"mt-6 w-full flex items-center justify-center text-blue-600 dark:text-blue-400 border-blue-600 dark:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900",onClick:()=>i(!0),children:[p.jsx(rO,{className:"h-4 w-4 mr-2"}),"تعديل الملف الشخصي"]})]}),p.jsx("div",{className:"w-full px-6 pb-6",children:p.jsxs(Me,{onClick:e,className:"w-full bg-red-600 text-white py-2 rounded-md hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 transition-colors duration-300 flex items-center justify-center font-semibold shadow-md",children:[p.jsx(ZD,{className:"h-5 w-5 mr-2"}),"تسجيل الخروج"]})}),p.jsx(tK,{open:s,onOpenChange:i,children:p.jsxs(VN,{className:"sm:max-w-[425px] dark:bg-gray-900 dark:text-white",children:[p.jsxs(FN,{children:[p.jsx(zN,{children:"تعديل الملف الشخصي"}),p.jsx(BN,{children:"قم بإجراء تغييرات على ملفك الشخصي هنا. انقر فوق حفظ عند الانتهاء."})]}),p.jsxs("div",{className:"grid gap-4 py-4",children:[p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx(jy,{className:"h-24 w-24 border-2 border-blue-500 dark:border-blue-400",children:p.jsx(Ly,{className:"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 text-4xl font-semibold",children:Q.createElement(((T=sh.find(C=>C.name===u))==null?void 0:T.icon)||Nr,{className:"h-16 w-16"})})}),p.jsx(An,{className:"text-center",children:"اختر أيقونة ملفك الشخصي"}),p.jsx(n4,{className:"h-24 w-full rounded-md border p-4 dark:border-gray-700",children:p.jsx("div",{className:"grid grid-cols-4 gap-2",children:sh.map(C=>p.jsx(Me,{variant:u===C.name?"default":"outline",size:"icon",onClick:()=>f(C.name),className:"h-12 w-12",children:Q.createElement(C.icon,{className:"h-6 w-6"})},C.name))})})]}),p.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[p.jsx(An,{htmlFor:"name",className:"text-right",children:"الاسم"}),p.jsx(In,{id:"name",value:o,onChange:C=>a(C.target.value),className:"col-span-3 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),p.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[p.jsx(An,{htmlFor:"email",className:"text-right",children:"البريد الإلكتروني"}),p.jsx(In,{id:"email",value:l,onChange:C=>c(C.target.value),className:"col-span-3 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),v&&p.jsx("p",{className:"text-red-500 text-sm col-span-4 text-center",children:v})]}),p.jsxs(UN,{children:[p.jsx(Me,{onClick:()=>i(!1),variant:"outline",className:"dark:border-gray-600 dark:text-white",children:"إلغاء"}),p.jsx(Me,{onClick:_,disabled:h,className:"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800",children:h?"جاري الحفظ...":"حفظ التغييرات"})]})]})})]})},xK=[{name:"User",icon:Nr},{name:"Cat",icon:pI},{name:"Dog",icon:mI},{name:"Bird",icon:fI},{name:"Fish",icon:gI},{name:"Rabbit",icon:vI}],_K=({setIsSidebarOpen:t})=>{var o;const[e,n]=w.useState(!1),{user:r}=zi(),s=()=>n(!e);w.useEffect(()=>{const a=localStorage.getItem("user");if(a&&r){const l=JSON.parse(a);l.points!==void 0&&(r.points=l.points)}},[r]);const i=((o=xK.find(a=>a.name===(r==null?void 0:r.profilePicture)))==null?void 0:o.icon)||Nr;return p.jsxs("nav",{className:"w-full py-4 bg-white dark:bg-gray-900 shadow-sm relative z-50",children:[p.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[p.jsx(ze,{to:"/",className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Super Shop"}),p.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[p.jsx(ze,{to:"/",className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 transition-colors",children:"الرئيسية"}),p.jsx(ze,{to:"/services",className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 transition-colors",children:"الخدمات"}),p.jsx(ze,{to:"/about-us",className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 transition-colors",children:"من نحن"}),p.jsx(ze,{to:"/order-tracking",className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 transition-colors",children:"تتبع الطلبات"}),(r==null?void 0:r.isAdmin)&&p.jsx(ze,{to:"/dashboard",className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 transition-colors",children:"لوحة التحكم"}),!r&&p.jsx(ze,{to:"/login",className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 transition-colors",children:"تسجيل الدخول"}),r&&p.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full",children:[p.jsx(Mw,{className:"w-5 h-5 text-yellow-500 mr-1"}),p.jsxs("span",{className:"text-sm font-medium text-gray-800 dark:text-white",children:[r==null?void 0:r.points," نقاط"]}),p.jsx("button",{className:"ml-2 p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:p.jsx(tO,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]}),p.jsx(Me,{asChild:!0,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 transition-all duration-300",children:p.jsx(ze,{to:"/services",children:"ابدأ الآن"})}),r&&p.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>t(!0),className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:Q.createElement(i,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})]}),p.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[r&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:[p.jsx(Mw,{className:"w-4 h-4 text-yellow-500 mr-1"}),p.jsx("span",{className:"text-xs font-medium text-gray-800 dark:text-white",children:r==null?void 0:r.points})]}),p.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>t(!0),className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:Q.createElement(i,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})]}),p.jsx(Me,{variant:"ghost",size:"icon",onClick:s,children:e?p.jsx(_p,{className:"text-gray-700 dark:text-gray-200"}):p.jsx(eO,{className:"text-gray-700 dark:text-gray-200"})})]})]}),e&&p.jsx("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-white dark:bg-gray-900 shadow-md z-50 py-4 px-4",children:p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsx(ze,{to:"/",onClick:s,className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 px-4 py-2 transition-colors",children:"الرئيسية"}),p.jsx(ze,{to:"/services",onClick:s,className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 px-4 py-2 transition-colors",children:"الخدمات"}),p.jsx(ze,{to:"/about-us",onClick:s,className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 px-4 py-2 transition-colors",children:"من نحن"}),p.jsx(ze,{to:"/order-tracking",onClick:s,className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 px-4 py-2 transition-colors",children:"تتبع الطلبات"}),(r==null?void 0:r.isAdmin)&&p.jsx(ze,{to:"/dashboard",onClick:s,className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 px-4 py-2 transition-colors",children:"لوحة التحكم"}),!r&&p.jsx(ze,{to:"/login",onClick:s,className:"text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400 px-4 py-2 transition-colors",children:"تسجيل الدخول"}),p.jsx(Me,{asChild:!0,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 transition-all duration-300 w-full",children:p.jsx(ze,{to:"/services",onClick:s,children:"ابدأ الآن"})})]})})]})},wK=new p9,bK=()=>{const[t,e]=w.useState(!1),{user:n,logout:r}=zi(),s=Oo(),i=()=>{r(),e(!1),s("/login")};return p.jsx(g9,{client:wK,children:p.jsxs(Wj,{children:[p.jsx(zO,{}),p.jsx(gM,{}),p.jsx(_K,{setIsSidebarOpen:e}),p.jsxs(B3,{children:[p.jsx(wr,{path:"/",element:p.jsx(x9,{})}),p.jsx(wr,{path:"/services",element:p.jsx(z9,{})}),p.jsx(wr,{path:"/payment",element:p.jsx(Zz,{})}),p.jsx(wr,{path:"/about-us",element:p.jsx(tB,{})}),p.jsx(wr,{path:"/order-tracking",element:p.jsx(nB,{})}),p.jsx(wr,{path:"/signup",element:p.jsx(yB,{})}),p.jsx(wr,{path:"/login",element:p.jsx(vB,{})}),p.jsx(wr,{path:"/dashboard",element:p.jsx(WW,{})}),p.jsx(wr,{path:"*",element:p.jsx(eB,{})})]}),t&&n&&p.jsx(vK,{user:n,onLogout:i,onClose:()=>e(!1)})]})})};Dg.createRoot(document.getElementById("root")).render(p.jsx(Q3,{children:p.jsx(Jz,{children:p.jsx(bK,{})})}));

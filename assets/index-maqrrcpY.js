var Vy=t=>{throw TypeError(t)};var qh=(t,e,n)=>e.has(t)||Vy("Cannot "+n);var U=(t,e,n)=>(qh(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?Vy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ue=(t,e,n,r)=>(qh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(qh(t,e,"access private method"),n);var Rc=(t,e,n,r)=>({set _(s){ue(t,e,s,n)},get _(){return U(t,e,r)}});function aC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ww(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _w={exports:{}},Od={},Ew={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),lC=Symbol.for("react.portal"),cC=Symbol.for("react.fragment"),uC=Symbol.for("react.strict_mode"),dC=Symbol.for("react.profiler"),hC=Symbol.for("react.provider"),fC=Symbol.for("react.context"),pC=Symbol.for("react.forward_ref"),mC=Symbol.for("react.suspense"),gC=Symbol.for("react.memo"),yC=Symbol.for("react.lazy"),Fy=Symbol.iterator;function vC(t){return t===null||typeof t!="object"?null:(t=Fy&&t[Fy]||t["@@iterator"],typeof t=="function"?t:null)}var bw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tw=Object.assign,Iw={};function Qo(t,e,n){this.props=t,this.context=e,this.refs=Iw,this.updater=n||bw}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sw(){}Sw.prototype=Qo.prototype;function Rm(t,e,n){this.props=t,this.context=e,this.refs=Iw,this.updater=n||bw}var Pm=Rm.prototype=new Sw;Pm.constructor=Rm;Tw(Pm,Qo.prototype);Pm.isPureReactComponent=!0;var Uy=Array.isArray,Cw=Object.prototype.hasOwnProperty,Nm={current:null},Aw={key:!0,ref:!0,__self:!0,__source:!0};function Rw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Cw.call(e,r)&&!Aw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:zl,type:t,key:i,ref:o,props:s,_owner:Nm.current}}function xC(t,e){return{$$typeof:zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function km(t){return typeof t=="object"&&t!==null&&t.$$typeof===zl}function wC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $y=/\/+/g;function Gh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wC(""+t.key):e.toString(36)}function su(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zl:case lC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gh(o,0):r,Uy(s)?(n="",t!=null&&(n=t.replace($y,"$&/")+"/"),su(s,e,n,"",function(u){return u})):s!=null&&(km(s)&&(s=xC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($y,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Uy(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Gh(i,a);o+=su(i,e,n,l,s)}else if(l=vC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Gh(i,a++),o+=su(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pc(t,e,n){if(t==null)return t;var r=[],s=0;return su(t,r,"","",function(i){return e.call(n,i,s++)}),r}function _C(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},iu={transition:null},EC={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:iu,ReactCurrentOwner:Nm};function Pw(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Pc,forEach:function(t,e,n){Pc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pc(t,function(){e++}),e},toArray:function(t){return Pc(t,function(e){return e})||[]},only:function(t){if(!km(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Qo;he.Fragment=cC;he.Profiler=dC;he.PureComponent=Rm;he.StrictMode=uC;he.Suspense=mC;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EC;he.act=Pw;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Nm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Cw.call(e,l)&&!Aw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zl,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:fC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hC,_context:t},t.Consumer=t};he.createElement=Rw;he.createFactory=function(t){var e=Rw.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:pC,render:t}};he.isValidElement=km;he.lazy=function(t){return{$$typeof:yC,_payload:{_status:-1,_result:t},_init:_C}};he.memo=function(t,e){return{$$typeof:gC,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=iu.transition;iu.transition={};try{t()}finally{iu.transition=e}};he.unstable_act=Pw;he.useCallback=function(t,e){return Vt.current.useCallback(t,e)};he.useContext=function(t){return Vt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Vt.current.useEffect(t,e)};he.useId=function(){return Vt.current.useId()};he.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Vt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};he.useRef=function(t){return Vt.current.useRef(t)};he.useState=function(t){return Vt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Vt.current.useTransition()};he.version="18.3.1";Ew.exports=he;var b=Ew.exports;const W=ww(b),Nw=aC({__proto__:null,default:W},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC=b,TC=Symbol.for("react.element"),IC=Symbol.for("react.fragment"),SC=Object.prototype.hasOwnProperty,CC=bC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AC={key:!0,ref:!0,__self:!0,__source:!0};function kw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)SC.call(e,r)&&!AC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:TC,type:t,key:i,ref:o,props:s,_owner:CC.current}}Od.Fragment=IC;Od.jsx=kw;Od.jsxs=kw;_w.exports=Od;var f=_w.exports,$f={},Ow={exports:{}},un={},Dw={exports:{}},jw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var X=L.length;L.push(B);e:for(;0<X;){var K=X-1>>>1,J=L[K];if(0<s(J,B))L[K]=B,L[X]=J,X=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],X=L.pop();if(X!==B){L[0]=X;e:for(var K=0,J=L.length,te=J>>>1;K<te;){var Ce=2*(K+1)-1,et=L[Ce],ve=Ce+1,yt=L[ve];if(0>s(et,X))ve<J&&0>s(yt,et)?(L[K]=yt,L[ve]=X,K=ve):(L[K]=et,L[Ce]=X,K=Ce);else if(ve<J&&0>s(yt,X))L[K]=yt,L[ve]=X,K=ve;else break e}}return B}function s(L,B){var X=L.sortIndex-B.sortIndex;return X!==0?X:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,h=3,y=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function N(L){if(v=!1,I(L),!w)if(n(l)!==null)w=!0,Z(D);else{var B=n(u);B!==null&&le(N,B.startTime-L)}}function D(L,B){w=!1,v&&(v=!1,x(T),T=-1),y=!0;var X=h;try{for(I(B),p=n(l);p!==null&&(!(p.expirationTime>B)||L&&!k());){var K=p.callback;if(typeof K=="function"){p.callback=null,h=p.priorityLevel;var J=K(p.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(l)&&r(l),I(B)}else r(l);p=n(l)}if(p!==null)var te=!0;else{var Ce=n(u);Ce!==null&&le(N,Ce.startTime-B),te=!1}return te}finally{p=null,h=X,y=!1}}var M=!1,C=null,T=-1,A=5,R=-1;function k(){return!(t.unstable_now()-R<A)}function O(){if(C!==null){var L=t.unstable_now();R=L;var B=!0;try{B=C(!0,L)}finally{B?P():(M=!1,C=null)}}else M=!1}var P;if(typeof _=="function")P=function(){_(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,se=q.port2;q.port1.onmessage=O,P=function(){se.postMessage(null)}}else P=function(){E(O,0)};function Z(L){C=L,M||(M=!0,P())}function le(L,B){T=E(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,Z(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var X=h;h=B;try{return L()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=h;h=L;try{return B()}finally{h=X}},t.unstable_scheduleCallback=function(L,B,X){var K=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,L={id:d++,callback:B,priorityLevel:L,startTime:X,expirationTime:J,sortIndex:-1},X>K?(L.sortIndex=X,e(u,L),n(l)===null&&L===n(u)&&(v?(x(T),T=-1):v=!0,le(N,X-K))):(L.sortIndex=J,e(l,L),w||y||(w=!0,Z(D))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var B=h;return function(){var X=h;h=B;try{return L.apply(this,arguments)}finally{h=X}}}})(jw);Dw.exports=jw;var RC=Dw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC=b,cn=RC;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mw=new Set,ol={};function Ai(t,e){Po(t,e),Po(t+"Capture",e)}function Po(t,e){for(ol[t]=e,t=0;t<e.length;t++)Mw.add(e[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zf=Object.prototype.hasOwnProperty,NC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zy={},By={};function kC(t){return zf.call(By,t)?!0:zf.call(zy,t)?!1:NC.test(t)?By[t]=!0:(zy[t]=!0,!1)}function OC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DC(t,e,n,r){if(e===null||typeof e>"u"||OC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function Dm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Om,Dm);mt[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Om,Dm);mt[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Om,Dm);mt[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function jm(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DC(e,n,s,r)&&(n=null),r||s===null?kC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jr=PC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),Lw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Wf=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),Fw=Symbol.for("react.offscreen"),Hy=Symbol.iterator;function Sa(t){return t===null||typeof t!="object"?null:(t=Hy&&t[Hy]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Kh;function Ma(t){if(Kh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kh=e&&e[1]||""}return`
`+Kh+t}var Qh=!1;function Yh(t,e){if(!t||Qh)return"";Qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ma(t):""}function jC(t){switch(t.tag){case 5:return Ma(t.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return t=Yh(t.type,!1),t;case 11:return t=Yh(t.type.render,!1),t;case 1:return t=Yh(t.type,!0),t;default:return""}}function qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yi:return"Fragment";case Qi:return"Portal";case Bf:return"Profiler";case Mm:return"StrictMode";case Hf:return"Suspense";case Wf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vw:return(t.displayName||"Context")+".Consumer";case Lw:return(t._context.displayName||"Context")+".Provider";case Lm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vm:return e=t.displayName||null,e!==null?e:qf(t.type)||"Memo";case Yr:e=t._payload,t=t._init;try{return qf(t(e))}catch{}}return null}function MC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qf(e);case 8:return e===Mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function As(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LC(t){var e=Uw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kc(t){t._valueTracker||(t._valueTracker=LC(t))}function $w(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Uw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gf(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Wy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=As(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zw(t,e){e=e.checked,e!=null&&jm(t,"checked",e,!1)}function Kf(t,e){zw(t,e);var n=As(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qf(t,e.type,As(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qf(t,e,n){(e!=="number"||Nu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var La=Array.isArray;function lo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+As(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(La(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:As(n)}}function Bw(t,e){var n=As(e.value),r=As(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ky(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oc,Ww=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oc=Oc||document.createElement("div"),Oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VC=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(t){VC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ha[e]=Ha[t]})});function qw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ha.hasOwnProperty(t)&&Ha[t]?(""+e).trim():e+"px"}function Gw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var FC=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jf(t,e){if(e){if(FC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Zf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function Fm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tp=null,co=null,uo=null;function Qy(t){if(t=Wl(t)){if(typeof tp!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Vd(e),tp(t.stateNode,t.type,e))}}function Kw(t){co?uo?uo.push(t):uo=[t]:co=t}function Qw(){if(co){var t=co,e=uo;if(uo=co=null,Qy(t),e)for(t=0;t<e.length;t++)Qy(e[t])}}function Yw(t,e){return t(e)}function Xw(){}var Xh=!1;function Jw(t,e,n){if(Xh)return t(e,n);Xh=!0;try{return Yw(t,e,n)}finally{Xh=!1,(co!==null||uo!==null)&&(Xw(),Qw())}}function ll(t,e){var n=t.stateNode;if(n===null)return null;var r=Vd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var np=!1;if(Tr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){np=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{np=!1}function UC(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Wa=!1,ku=null,Ou=!1,rp=null,$C={onError:function(t){Wa=!0,ku=t}};function zC(t,e,n,r,s,i,o,a,l){Wa=!1,ku=null,UC.apply($C,arguments)}function BC(t,e,n,r,s,i,o,a,l){if(zC.apply(this,arguments),Wa){if(Wa){var u=ku;Wa=!1,ku=null}else throw Error(z(198));Ou||(Ou=!0,rp=u)}}function Ri(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yy(t){if(Ri(t)!==t)throw Error(z(188))}function HC(t){var e=t.alternate;if(!e){if(e=Ri(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Yy(s),t;if(i===r)return Yy(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function e_(t){return t=HC(t),t!==null?t_(t):null}function t_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=t_(t);if(e!==null)return e;t=t.sibling}return null}var n_=cn.unstable_scheduleCallback,Xy=cn.unstable_cancelCallback,WC=cn.unstable_shouldYield,qC=cn.unstable_requestPaint,Ge=cn.unstable_now,GC=cn.unstable_getCurrentPriorityLevel,Um=cn.unstable_ImmediatePriority,r_=cn.unstable_UserBlockingPriority,Du=cn.unstable_NormalPriority,KC=cn.unstable_LowPriority,s_=cn.unstable_IdlePriority,Dd=null,Zn=null;function QC(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Dd,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:JC,YC=Math.log,XC=Math.LN2;function JC(t){return t>>>=0,t===0?32:31-(YC(t)/XC|0)|0}var Dc=64,jc=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ju(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Va(a):(i&=o,i!==0&&(r=Va(i)))}else o=n&~s,o!==0?r=Va(o):i!==0&&(r=Va(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),s=1<<n,r|=t[n],e&=~s;return r}function ZC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-kn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ZC(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function sp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i_(){var t=Dc;return Dc<<=1,!(Dc&4194240)&&(Dc=64),t}function Jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function tA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-kn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $m(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var be=0;function o_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a_,zm,l_,c_,u_,ip=!1,Mc=[],fs=null,ps=null,ms=null,cl=new Map,ul=new Map,Jr=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jy(t,e){switch(t){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(e.pointerId)}}function Aa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wl(e),e!==null&&zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function rA(t,e,n,r,s){switch(e){case"focusin":return fs=Aa(fs,t,e,n,r,s),!0;case"dragenter":return ps=Aa(ps,t,e,n,r,s),!0;case"mouseover":return ms=Aa(ms,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return cl.set(i,Aa(cl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ul.set(i,Aa(ul.get(i)||null,t,e,n,r,s)),!0}return!1}function d_(t){var e=ri(t.target);if(e!==null){var n=Ri(e);if(n!==null){if(e=n.tag,e===13){if(e=Zw(n),e!==null){t.blockedOn=e,u_(t.priority,function(){l_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ou(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=op(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ep=r,n.target.dispatchEvent(r),ep=null}else return e=Wl(n),e!==null&&zm(e),t.blockedOn=n,!1;e.shift()}return!0}function Zy(t,e,n){ou(t)&&n.delete(e)}function sA(){ip=!1,fs!==null&&ou(fs)&&(fs=null),ps!==null&&ou(ps)&&(ps=null),ms!==null&&ou(ms)&&(ms=null),cl.forEach(Zy),ul.forEach(Zy)}function Ra(t,e){t.blockedOn===e&&(t.blockedOn=null,ip||(ip=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,sA)))}function dl(t){function e(s){return Ra(s,t)}if(0<Mc.length){Ra(Mc[0],t);for(var n=1;n<Mc.length;n++){var r=Mc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fs!==null&&Ra(fs,t),ps!==null&&Ra(ps,t),ms!==null&&Ra(ms,t),cl.forEach(e),ul.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)d_(n),n.blockedOn===null&&Jr.shift()}var ho=jr.ReactCurrentBatchConfig,Mu=!0;function iA(t,e,n,r){var s=be,i=ho.transition;ho.transition=null;try{be=1,Bm(t,e,n,r)}finally{be=s,ho.transition=i}}function oA(t,e,n,r){var s=be,i=ho.transition;ho.transition=null;try{be=4,Bm(t,e,n,r)}finally{be=s,ho.transition=i}}function Bm(t,e,n,r){if(Mu){var s=op(t,e,n,r);if(s===null)cf(t,e,r,Lu,n),Jy(t,r);else if(rA(s,t,e,n,r))r.stopPropagation();else if(Jy(t,r),e&4&&-1<nA.indexOf(t)){for(;s!==null;){var i=Wl(s);if(i!==null&&a_(i),i=op(t,e,n,r),i===null&&cf(t,e,r,Lu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cf(t,e,r,null,n)}}var Lu=null;function op(t,e,n,r){if(Lu=null,t=Fm(r),t=ri(t),t!==null)if(e=Ri(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lu=t,null}function h_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GC()){case Um:return 1;case r_:return 4;case Du:case KC:return 16;case s_:return 536870912;default:return 16}default:return 16}}var cs=null,Hm=null,au=null;function f_(){if(au)return au;var t,e=Hm,n=e.length,r,s="value"in cs?cs.value:cs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return au=s.slice(t,1<r?1-r:void 0)}function lu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lc(){return!0}function ev(){return!1}function dn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lc:ev,this.isPropagationStopped=ev,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),e}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wm=dn(Yo),Hl=Fe({},Yo,{view:0,detail:0}),aA=dn(Hl),Zh,ef,Pa,jd=Fe({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pa&&(Pa&&t.type==="mousemove"?(Zh=t.screenX-Pa.screenX,ef=t.screenY-Pa.screenY):ef=Zh=0,Pa=t),Zh)},movementY:function(t){return"movementY"in t?t.movementY:ef}}),tv=dn(jd),lA=Fe({},jd,{dataTransfer:0}),cA=dn(lA),uA=Fe({},Hl,{relatedTarget:0}),tf=dn(uA),dA=Fe({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),hA=dn(dA),fA=Fe({},Yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pA=dn(fA),mA=Fe({},Yo,{data:0}),nv=dn(mA),gA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vA[t])?!!e[t]:!1}function qm(){return xA}var wA=Fe({},Hl,{key:function(t){if(t.key){var e=gA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qm,charCode:function(t){return t.type==="keypress"?lu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_A=dn(wA),EA=Fe({},jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rv=dn(EA),bA=Fe({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qm}),TA=dn(bA),IA=Fe({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),SA=dn(IA),CA=Fe({},jd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AA=dn(CA),RA=[9,13,27,32],Gm=Tr&&"CompositionEvent"in window,qa=null;Tr&&"documentMode"in document&&(qa=document.documentMode);var PA=Tr&&"TextEvent"in window&&!qa,p_=Tr&&(!Gm||qa&&8<qa&&11>=qa),sv=" ",iv=!1;function m_(t,e){switch(t){case"keyup":return RA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xi=!1;function NA(t,e){switch(t){case"compositionend":return g_(e);case"keypress":return e.which!==32?null:(iv=!0,sv);case"textInput":return t=e.data,t===sv&&iv?null:t;default:return null}}function kA(t,e){if(Xi)return t==="compositionend"||!Gm&&m_(t,e)?(t=f_(),au=Hm=cs=null,Xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p_&&e.locale!=="ko"?null:e.data;default:return null}}var OA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OA[t.type]:e==="textarea"}function y_(t,e,n,r){Kw(r),e=Vu(e,"onChange"),0<e.length&&(n=new Wm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ga=null,hl=null;function DA(t){A_(t,0)}function Md(t){var e=eo(t);if($w(e))return t}function jA(t,e){if(t==="change")return e}var v_=!1;if(Tr){var nf;if(Tr){var rf="oninput"in document;if(!rf){var av=document.createElement("div");av.setAttribute("oninput","return;"),rf=typeof av.oninput=="function"}nf=rf}else nf=!1;v_=nf&&(!document.documentMode||9<document.documentMode)}function lv(){Ga&&(Ga.detachEvent("onpropertychange",x_),hl=Ga=null)}function x_(t){if(t.propertyName==="value"&&Md(hl)){var e=[];y_(e,hl,t,Fm(t)),Jw(DA,e)}}function MA(t,e,n){t==="focusin"?(lv(),Ga=e,hl=n,Ga.attachEvent("onpropertychange",x_)):t==="focusout"&&lv()}function LA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Md(hl)}function VA(t,e){if(t==="click")return Md(e)}function FA(t,e){if(t==="input"||t==="change")return Md(e)}function UA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:UA;function fl(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zf.call(e,s)||!jn(t[s],e[s]))return!1}return!0}function cv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uv(t,e){var n=cv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cv(n)}}function w_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?w_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function __(){for(var t=window,e=Nu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nu(t.document)}return e}function Km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $A(t){var e=__(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&w_(n.ownerDocument.documentElement,n)){if(r!==null&&Km(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=uv(n,i);var o=uv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zA=Tr&&"documentMode"in document&&11>=document.documentMode,Ji=null,ap=null,Ka=null,lp=!1;function dv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lp||Ji==null||Ji!==Nu(r)||(r=Ji,"selectionStart"in r&&Km(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ka&&fl(Ka,r)||(Ka=r,r=Vu(ap,"onSelect"),0<r.length&&(e=new Wm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ji)))}function Vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zi={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},sf={},E_={};Tr&&(E_=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function Ld(t){if(sf[t])return sf[t];if(!Zi[t])return t;var e=Zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E_)return sf[t]=e[n];return t}var b_=Ld("animationend"),T_=Ld("animationiteration"),I_=Ld("animationstart"),S_=Ld("transitionend"),C_=new Map,hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){C_.set(t,e),Ai(e,[t])}for(var of=0;of<hv.length;of++){var af=hv[of],BA=af.toLowerCase(),HA=af[0].toUpperCase()+af.slice(1);zs(BA,"on"+HA)}zs(b_,"onAnimationEnd");zs(T_,"onAnimationIteration");zs(I_,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(S_,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function fv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BC(r,e,void 0,t),t.currentTarget=null}function A_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;fv(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;fv(s,a,u),i=l}}}if(Ou)throw t=rp,Ou=!1,rp=null,t}function Pe(t,e){var n=e[fp];n===void 0&&(n=e[fp]=new Set);var r=t+"__bubble";n.has(r)||(R_(e,t,2,!1),n.add(r))}function lf(t,e,n){var r=0;e&&(r|=4),R_(n,t,r,e)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function pl(t){if(!t[Fc]){t[Fc]=!0,Mw.forEach(function(n){n!=="selectionchange"&&(WA.has(n)||lf(n,!1,t),lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fc]||(e[Fc]=!0,lf("selectionchange",!1,e))}}function R_(t,e,n,r){switch(h_(e)){case 1:var s=iA;break;case 4:s=oA;break;default:s=Bm}n=s.bind(null,e,n,t),s=void 0,!np||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function cf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ri(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Jw(function(){var u=i,d=Fm(n),p=[];e:{var h=C_.get(t);if(h!==void 0){var y=Wm,w=t;switch(t){case"keypress":if(lu(n)===0)break e;case"keydown":case"keyup":y=_A;break;case"focusin":w="focus",y=tf;break;case"focusout":w="blur",y=tf;break;case"beforeblur":case"afterblur":y=tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=cA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=TA;break;case b_:case T_:case I_:y=hA;break;case S_:y=SA;break;case"scroll":y=aA;break;case"wheel":y=AA;break;case"copy":case"cut":case"paste":y=pA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=rv}var v=(e&4)!==0,E=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var _=u,I;_!==null;){I=_;var N=I.stateNode;if(I.tag===5&&N!==null&&(I=N,x!==null&&(N=ll(_,x),N!=null&&v.push(ml(_,N,I)))),E)break;_=_.return}0<v.length&&(h=new y(h,w,null,n,d),p.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==ep&&(w=n.relatedTarget||n.fromElement)&&(ri(w)||w[Ir]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?ri(w):null,w!==null&&(E=Ri(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(v=tv,N="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=rv,N="onPointerLeave",x="onPointerEnter",_="pointer"),E=y==null?h:eo(y),I=w==null?h:eo(w),h=new v(N,_+"leave",y,n,d),h.target=E,h.relatedTarget=I,N=null,ri(d)===u&&(v=new v(x,_+"enter",w,n,d),v.target=I,v.relatedTarget=E,N=v),E=N,y&&w)t:{for(v=y,x=w,_=0,I=v;I;I=$i(I))_++;for(I=0,N=x;N;N=$i(N))I++;for(;0<_-I;)v=$i(v),_--;for(;0<I-_;)x=$i(x),I--;for(;_--;){if(v===x||x!==null&&v===x.alternate)break t;v=$i(v),x=$i(x)}v=null}else v=null;y!==null&&pv(p,h,y,v,!1),w!==null&&E!==null&&pv(p,E,w,v,!0)}}e:{if(h=u?eo(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var D=jA;else if(ov(h))if(v_)D=FA;else{D=LA;var M=MA}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=VA);if(D&&(D=D(t,u))){y_(p,D,n,d);break e}M&&M(t,h,u),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Qf(h,"number",h.value)}switch(M=u?eo(u):window,t){case"focusin":(ov(M)||M.contentEditable==="true")&&(Ji=M,ap=u,Ka=null);break;case"focusout":Ka=ap=Ji=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,dv(p,n,d);break;case"selectionchange":if(zA)break;case"keydown":case"keyup":dv(p,n,d)}var C;if(Gm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Xi?m_(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(p_&&n.locale!=="ko"&&(Xi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Xi&&(C=f_()):(cs=d,Hm="value"in cs?cs.value:cs.textContent,Xi=!0)),M=Vu(u,T),0<M.length&&(T=new nv(T,t,null,n,d),p.push({event:T,listeners:M}),C?T.data=C:(C=g_(n),C!==null&&(T.data=C)))),(C=PA?NA(t,n):kA(t,n))&&(u=Vu(u,"onBeforeInput"),0<u.length&&(d=new nv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=C))}A_(p,e)})}function ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ll(t,n),i!=null&&r.unshift(ml(t,i,s)),i=ll(t,e),i!=null&&r.push(ml(t,i,s))),t=t.return}return r}function $i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ll(n,i),l!=null&&o.unshift(ml(n,l,a))):s||(l=ll(n,i),l!=null&&o.push(ml(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qA=/\r\n?/g,GA=/\u0000|\uFFFD/g;function mv(t){return(typeof t=="string"?t:""+t).replace(qA,`
`).replace(GA,"")}function Uc(t,e,n){if(e=mv(e),mv(t)!==e&&n)throw Error(z(425))}function Fu(){}var cp=null,up=null;function dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(t){return gv.resolve(null).then(t).catch(YA)}:hp;function YA(t){setTimeout(function(){throw t})}function uf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);dl(e)}function gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Xo,gl="__reactProps$"+Xo,Ir="__reactContainer$"+Xo,fp="__reactEvents$"+Xo,XA="__reactListeners$"+Xo,JA="__reactHandles$"+Xo;function ri(t){var e=t[Jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ir]||n[Jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yv(t);t!==null;){if(n=t[Jn])return n;t=yv(t)}return e}t=n,n=t.parentNode}return null}function Wl(t){return t=t[Jn]||t[Ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Vd(t){return t[gl]||null}var pp=[],to=-1;function Bs(t){return{current:t}}function De(t){0>to||(t.current=pp[to],pp[to]=null,to--)}function Se(t,e){to++,pp[to]=t.current,t.current=e}var Rs={},Pt=Bs(Rs),qt=Bs(!1),pi=Rs;function No(t,e){var n=t.type.contextTypes;if(!n)return Rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(t){return t=t.childContextTypes,t!=null}function Uu(){De(qt),De(Pt)}function vv(t,e,n){if(Pt.current!==Rs)throw Error(z(168));Se(Pt,e),Se(qt,n)}function P_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,MC(t)||"Unknown",s));return Fe({},n,r)}function $u(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rs,pi=Pt.current,Se(Pt,t),Se(qt,qt.current),!0}function xv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=P_(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,De(qt),De(Pt),Se(Pt,t)):De(qt),Se(qt,n)}var yr=null,Fd=!1,df=!1;function N_(t){yr===null?yr=[t]:yr.push(t)}function ZA(t){Fd=!0,N_(t)}function Hs(){if(!df&&yr!==null){df=!0;var t=0,e=be;try{var n=yr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,Fd=!1}catch(s){throw yr!==null&&(yr=yr.slice(t+1)),n_(Um,Hs),s}finally{be=e,df=!1}}return null}var no=[],ro=0,zu=null,Bu=0,fn=[],pn=0,mi=null,vr=1,xr="";function ei(t,e){no[ro++]=Bu,no[ro++]=zu,zu=t,Bu=e}function k_(t,e,n){fn[pn++]=vr,fn[pn++]=xr,fn[pn++]=mi,mi=t;var r=vr;t=xr;var s=32-kn(r)-1;r&=~(1<<s),n+=1;var i=32-kn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,vr=1<<32-kn(e)+s|n<<s|r,xr=i+t}else vr=1<<i|n<<s|r,xr=t}function Qm(t){t.return!==null&&(ei(t,1),k_(t,1,0))}function Ym(t){for(;t===zu;)zu=no[--ro],no[ro]=null,Bu=no[--ro],no[ro]=null;for(;t===mi;)mi=fn[--pn],fn[pn]=null,xr=fn[--pn],fn[pn]=null,vr=fn[--pn],fn[pn]=null}var on=null,rn=null,Me=!1,Cn=null;function O_(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,rn=gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mi!==null?{id:vr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,rn=null,!0):!1;default:return!1}}function mp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gp(t){if(Me){var e=rn;if(e){var n=e;if(!wv(t,e)){if(mp(t))throw Error(z(418));e=gs(n.nextSibling);var r=on;e&&wv(t,e)?O_(r,n):(t.flags=t.flags&-4097|2,Me=!1,on=t)}}else{if(mp(t))throw Error(z(418));t.flags=t.flags&-4097|2,Me=!1,on=t}}}function _v(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function $c(t){if(t!==on)return!1;if(!Me)return _v(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dp(t.type,t.memoizedProps)),e&&(e=rn)){if(mp(t))throw D_(),Error(z(418));for(;e;)O_(t,e),e=gs(e.nextSibling)}if(_v(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=gs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=on?gs(t.stateNode.nextSibling):null;return!0}function D_(){for(var t=rn;t;)t=gs(t.nextSibling)}function ko(){rn=on=null,Me=!1}function Xm(t){Cn===null?Cn=[t]:Cn.push(t)}var eR=jr.ReactCurrentBatchConfig;function Na(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function zc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ev(t){var e=t._init;return e(t._payload)}function j_(t){function e(x,_){if(t){var I=x.deletions;I===null?(x.deletions=[_],x.flags|=16):I.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function s(x,_){return x=ws(x,_),x.index=0,x.sibling=null,x}function i(x,_,I){return x.index=I,t?(I=x.alternate,I!==null?(I=I.index,I<_?(x.flags|=2,_):I):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,I,N){return _===null||_.tag!==6?(_=vf(I,x.mode,N),_.return=x,_):(_=s(_,I),_.return=x,_)}function l(x,_,I,N){var D=I.type;return D===Yi?d(x,_,I.props.children,N,I.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Yr&&Ev(D)===_.type)?(N=s(_,I.props),N.ref=Na(x,_,I),N.return=x,N):(N=mu(I.type,I.key,I.props,null,x.mode,N),N.ref=Na(x,_,I),N.return=x,N)}function u(x,_,I,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=xf(I,x.mode,N),_.return=x,_):(_=s(_,I.children||[]),_.return=x,_)}function d(x,_,I,N,D){return _===null||_.tag!==7?(_=fi(I,x.mode,N,D),_.return=x,_):(_=s(_,I),_.return=x,_)}function p(x,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=vf(""+_,x.mode,I),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:return I=mu(_.type,_.key,_.props,null,x.mode,I),I.ref=Na(x,null,_),I.return=x,I;case Qi:return _=xf(_,x.mode,I),_.return=x,_;case Yr:var N=_._init;return p(x,N(_._payload),I)}if(La(_)||Sa(_))return _=fi(_,x.mode,I,null),_.return=x,_;zc(x,_)}return null}function h(x,_,I,N){var D=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:a(x,_,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Nc:return I.key===D?l(x,_,I,N):null;case Qi:return I.key===D?u(x,_,I,N):null;case Yr:return D=I._init,h(x,_,D(I._payload),N)}if(La(I)||Sa(I))return D!==null?null:d(x,_,I,N,null);zc(x,I)}return null}function y(x,_,I,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(I)||null,a(_,x,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Nc:return x=x.get(N.key===null?I:N.key)||null,l(_,x,N,D);case Qi:return x=x.get(N.key===null?I:N.key)||null,u(_,x,N,D);case Yr:var M=N._init;return y(x,_,I,M(N._payload),D)}if(La(N)||Sa(N))return x=x.get(I)||null,d(_,x,N,D,null);zc(_,N)}return null}function w(x,_,I,N){for(var D=null,M=null,C=_,T=_=0,A=null;C!==null&&T<I.length;T++){C.index>T?(A=C,C=null):A=C.sibling;var R=h(x,C,I[T],N);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(x,C),_=i(R,_,T),M===null?D=R:M.sibling=R,M=R,C=A}if(T===I.length)return n(x,C),Me&&ei(x,T),D;if(C===null){for(;T<I.length;T++)C=p(x,I[T],N),C!==null&&(_=i(C,_,T),M===null?D=C:M.sibling=C,M=C);return Me&&ei(x,T),D}for(C=r(x,C);T<I.length;T++)A=y(C,x,T,I[T],N),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),_=i(A,_,T),M===null?D=A:M.sibling=A,M=A);return t&&C.forEach(function(k){return e(x,k)}),Me&&ei(x,T),D}function v(x,_,I,N){var D=Sa(I);if(typeof D!="function")throw Error(z(150));if(I=D.call(I),I==null)throw Error(z(151));for(var M=D=null,C=_,T=_=0,A=null,R=I.next();C!==null&&!R.done;T++,R=I.next()){C.index>T?(A=C,C=null):A=C.sibling;var k=h(x,C,R.value,N);if(k===null){C===null&&(C=A);break}t&&C&&k.alternate===null&&e(x,C),_=i(k,_,T),M===null?D=k:M.sibling=k,M=k,C=A}if(R.done)return n(x,C),Me&&ei(x,T),D;if(C===null){for(;!R.done;T++,R=I.next())R=p(x,R.value,N),R!==null&&(_=i(R,_,T),M===null?D=R:M.sibling=R,M=R);return Me&&ei(x,T),D}for(C=r(x,C);!R.done;T++,R=I.next())R=y(C,x,T,R.value,N),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),_=i(R,_,T),M===null?D=R:M.sibling=R,M=R);return t&&C.forEach(function(O){return e(x,O)}),Me&&ei(x,T),D}function E(x,_,I,N){if(typeof I=="object"&&I!==null&&I.type===Yi&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Nc:e:{for(var D=I.key,M=_;M!==null;){if(M.key===D){if(D=I.type,D===Yi){if(M.tag===7){n(x,M.sibling),_=s(M,I.props.children),_.return=x,x=_;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Yr&&Ev(D)===M.type){n(x,M.sibling),_=s(M,I.props),_.ref=Na(x,M,I),_.return=x,x=_;break e}n(x,M);break}else e(x,M);M=M.sibling}I.type===Yi?(_=fi(I.props.children,x.mode,N,I.key),_.return=x,x=_):(N=mu(I.type,I.key,I.props,null,x.mode,N),N.ref=Na(x,_,I),N.return=x,x=N)}return o(x);case Qi:e:{for(M=I.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(x,_.sibling),_=s(_,I.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=xf(I,x.mode,N),_.return=x,x=_}return o(x);case Yr:return M=I._init,E(x,_,M(I._payload),N)}if(La(I))return w(x,_,I,N);if(Sa(I))return v(x,_,I,N);zc(x,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(x,_.sibling),_=s(_,I),_.return=x,x=_):(n(x,_),_=vf(I,x.mode,N),_.return=x,x=_),o(x)):n(x,_)}return E}var Oo=j_(!0),M_=j_(!1),Hu=Bs(null),Wu=null,so=null,Jm=null;function Zm(){Jm=so=Wu=null}function eg(t){var e=Hu.current;De(Hu),t._currentValue=e}function yp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){Wu=t,Jm=so=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(Jm!==t)if(t={context:t,memoizedValue:e,next:null},so===null){if(Wu===null)throw Error(z(308));so=t,Wu.dependencies={lanes:0,firstContext:t}}else so=so.next=t;return e}var si=null;function tg(t){si===null?si=[t]:si.push(t)}function L_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,tg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xr=!1;function ng(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ys(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Sr(t,n)}return s=r.interleaved,s===null?(e.next=e,tg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Sr(t,n)}function cu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$m(t,n)}}function bv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qu(t,e,n,r){var s=t.updateQueue;Xr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(h=e,y=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){p=w.call(y,p,h);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(y,p,h):w,h==null)break e;p=Fe({},p,h);break e;case 2:Xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=p):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);yi|=o,t.lanes=o,t.memoizedState=p}}function Tv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var ql={},er=Bs(ql),yl=Bs(ql),vl=Bs(ql);function ii(t){if(t===ql)throw Error(z(174));return t}function rg(t,e){switch(Se(vl,e),Se(yl,t),Se(er,ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xf(e,t)}De(er),Se(er,e)}function Do(){De(er),De(yl),De(vl)}function F_(t){ii(vl.current);var e=ii(er.current),n=Xf(e,t.type);e!==n&&(Se(yl,t),Se(er,n))}function sg(t){yl.current===t&&(De(er),De(yl))}var Le=Bs(0);function Gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hf=[];function ig(){for(var t=0;t<hf.length;t++)hf[t]._workInProgressVersionPrimary=null;hf.length=0}var uu=jr.ReactCurrentDispatcher,ff=jr.ReactCurrentBatchConfig,gi=0,Ve=null,nt=null,at=null,Ku=!1,Qa=!1,xl=0,tR=0;function Et(){throw Error(z(321))}function og(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function ag(t,e,n,r,s,i){if(gi=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uu.current=t===null||t.memoizedState===null?iR:oR,t=n(r,s),Qa){i=0;do{if(Qa=!1,xl=0,25<=i)throw Error(z(301));i+=1,at=nt=null,e.updateQueue=null,uu.current=aR,t=n(r,s)}while(Qa)}if(uu.current=Qu,e=nt!==null&&nt.next!==null,gi=0,at=nt=Ve=null,Ku=!1,e)throw Error(z(300));return t}function lg(){var t=xl!==0;return xl=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ve.memoizedState=at=t:at=at.next=t,at}function vn(){if(nt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=at===null?Ve.memoizedState:at.next;if(e!==null)at=e,nt=t;else{if(t===null)throw Error(z(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},at===null?Ve.memoizedState=at=t:at=at.next=t}return at}function wl(t,e){return typeof e=="function"?e(t):e}function pf(t){var e=vn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=nt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((gi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Ve.lanes|=d,yi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,jn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,yi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mf(t){var e=vn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jn(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function U_(){}function $_(t,e){var n=Ve,r=vn(),s=e(),i=!jn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,cg(H_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,_l(9,B_.bind(null,n,r,s,e),void 0,null),lt===null)throw Error(z(349));gi&30||z_(n,e,s)}return s}function z_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B_(t,e,n,r){e.value=n,e.getSnapshot=r,W_(e)&&q_(t)}function H_(t,e,n){return n(function(){W_(e)&&q_(t)})}function W_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function q_(t){var e=Sr(t,1);e!==null&&On(e,t,1,-1)}function Iv(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:t},e.queue=t,t=t.dispatch=sR.bind(null,Ve,t),[e.memoizedState,t]}function _l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function G_(){return vn().memoizedState}function du(t,e,n,r){var s=Gn();Ve.flags|=t,s.memoizedState=_l(1|e,n,void 0,r===void 0?null:r)}function Ud(t,e,n,r){var s=vn();r=r===void 0?null:r;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,r!==null&&og(r,o.deps)){s.memoizedState=_l(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=_l(1|e,n,i,r)}function Sv(t,e){return du(8390656,8,t,e)}function cg(t,e){return Ud(2048,8,t,e)}function K_(t,e){return Ud(4,2,t,e)}function Q_(t,e){return Ud(4,4,t,e)}function Y_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X_(t,e,n){return n=n!=null?n.concat([t]):null,Ud(4,4,Y_.bind(null,e,t),n)}function ug(){}function J_(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&og(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Z_(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&og(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eE(t,e,n){return gi&21?(jn(n,e)||(n=i_(),Ve.lanes|=n,yi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function nR(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=ff.transition;ff.transition={};try{t(!1),e()}finally{be=n,ff.transition=r}}function tE(){return vn().memoizedState}function rR(t,e,n){var r=xs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nE(t))rE(e,n);else if(n=L_(t,e,n,r),n!==null){var s=Lt();On(n,t,r,s),sE(n,e,r)}}function sR(t,e,n){var r=xs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nE(t))rE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jn(a,o)){var l=e.interleaved;l===null?(s.next=s,tg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=L_(t,e,s,r),n!==null&&(s=Lt(),On(n,t,r,s),sE(n,e,r))}}function nE(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function rE(t,e){Qa=Ku=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$m(t,n)}}var Qu={readContext:yn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},iR={readContext:yn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:Sv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,du(4194308,4,Y_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return du(4194308,4,t,e)},useInsertionEffect:function(t,e){return du(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rR.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:Iv,useDebugValue:ug,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=Iv(!1),e=t[0];return t=nR.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=Gn();if(Me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),lt===null)throw Error(z(349));gi&30||z_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Sv(H_.bind(null,r,i,t),[t]),r.flags|=2048,_l(9,B_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gn(),e=lt.identifierPrefix;if(Me){var n=xr,r=vr;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oR={readContext:yn,useCallback:J_,useContext:yn,useEffect:cg,useImperativeHandle:X_,useInsertionEffect:K_,useLayoutEffect:Q_,useMemo:Z_,useReducer:pf,useRef:G_,useState:function(){return pf(wl)},useDebugValue:ug,useDeferredValue:function(t){var e=vn();return eE(e,nt.memoizedState,t)},useTransition:function(){var t=pf(wl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:$_,useId:tE,unstable_isNewReconciler:!1},aR={readContext:yn,useCallback:J_,useContext:yn,useEffect:cg,useImperativeHandle:X_,useInsertionEffect:K_,useLayoutEffect:Q_,useMemo:Z_,useReducer:mf,useRef:G_,useState:function(){return mf(wl)},useDebugValue:ug,useDeferredValue:function(t){var e=vn();return nt===null?e.memoizedState=t:eE(e,nt.memoizedState,t)},useTransition:function(){var t=mf(wl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:$_,useId:tE,unstable_isNewReconciler:!1};function bn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $d={isMounted:function(t){return(t=t._reactInternals)?Ri(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=xs(t),i=Er(r,s);i.payload=e,n!=null&&(i.callback=n),e=ys(t,i,s),e!==null&&(On(e,t,s,r),cu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=xs(t),i=Er(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ys(t,i,s),e!==null&&(On(e,t,s,r),cu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=xs(t),s=Er(n,r);s.tag=2,e!=null&&(s.callback=e),e=ys(t,s,r),e!==null&&(On(e,t,r,n),cu(e,t,r))}};function Cv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!fl(n,r)||!fl(s,i):!0}function iE(t,e,n){var r=!1,s=Rs,i=e.contextType;return typeof i=="object"&&i!==null?i=yn(i):(s=Gt(e)?pi:Pt.current,r=e.contextTypes,i=(r=r!=null)?No(t,s):Rs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$d,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Av(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$d.enqueueReplaceState(e,e.state,null)}function xp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ng(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=yn(i):(i=Gt(e)?pi:Pt.current,s.context=No(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$d.enqueueReplaceState(s,s.state,null),qu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,e){try{var n="",r=e;do n+=jC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lR=typeof WeakMap=="function"?WeakMap:Map;function oE(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xu||(Xu=!0,Pp=r),wp(t,e)},n}function aE(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){wp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wp(t,e),typeof r!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ER.bind(null,t,e,n),e.then(t,t))}function Pv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,ys(n,e,1))),n.lanes|=1),t)}var cR=jr.ReactCurrentOwner,Ht=!1;function jt(t,e,n,r){e.child=t===null?M_(e,null,n,r):Oo(e,t.child,n,r)}function kv(t,e,n,r,s){n=n.render;var i=e.ref;return fo(e,s),r=ag(t,e,n,r,i,s),n=lg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cr(t,e,s)):(Me&&n&&Qm(e),e.flags|=1,jt(t,e,r,s),e.child)}function Ov(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!vg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,lE(t,e,i,r,s)):(t=mu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(o,r)&&t.ref===e.ref)return Cr(t,e,s)}return e.flags|=1,t=ws(i,r),t.ref=e.ref,t.return=e,e.child=t}function lE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(fl(i,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Cr(t,e,s)}return _p(t,e,n,r,s)}function cE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(oo,tn),tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(oo,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Se(oo,tn),tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Se(oo,tn),tn|=r;return jt(t,e,s,n),e.child}function uE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _p(t,e,n,r,s){var i=Gt(n)?pi:Pt.current;return i=No(e,i),fo(e,s),n=ag(t,e,n,r,i,s),r=lg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cr(t,e,s)):(Me&&r&&Qm(e),e.flags|=1,jt(t,e,n,s),e.child)}function Dv(t,e,n,r,s){if(Gt(n)){var i=!0;$u(e)}else i=!1;if(fo(e,s),e.stateNode===null)hu(t,e),iE(e,n,r),xp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yn(u):(u=Gt(n)?pi:Pt.current,u=No(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Av(e,o,r,u),Xr=!1;var h=e.memoizedState;o.state=h,qu(e,r,o,s),l=e.memoizedState,a!==r||h!==l||qt.current||Xr?(typeof d=="function"&&(vp(e,n,d,r),l=e.memoizedState),(a=Xr||Cv(e,n,a,r,h,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,V_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:bn(e.type,a),o.props=u,p=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yn(l):(l=Gt(n)?pi:Pt.current,l=No(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==l)&&Av(e,o,r,l),Xr=!1,h=e.memoizedState,o.state=h,qu(e,r,o,s);var w=e.memoizedState;a!==p||h!==w||qt.current||Xr?(typeof y=="function"&&(vp(e,n,y,r),w=e.memoizedState),(u=Xr||Cv(e,n,u,r,h,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ep(t,e,n,r,i,s)}function Ep(t,e,n,r,s,i){uE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&xv(e,n,!1),Cr(t,e,i);r=e.stateNode,cR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oo(e,t.child,null,i),e.child=Oo(e,null,a,i)):jt(t,e,a,i),e.memoizedState=r.state,s&&xv(e,n,!0),e.child}function dE(t){var e=t.stateNode;e.pendingContext?vv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vv(t,e.context,!1),rg(t,e.containerInfo)}function jv(t,e,n,r,s){return ko(),Xm(s),e.flags|=256,jt(t,e,n,r),e.child}var bp={dehydrated:null,treeContext:null,retryLane:0};function Tp(t){return{baseLanes:t,cachePool:null,transitions:null}}function hE(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Se(Le,s&1),t===null)return gp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hd(o,r,0,null),t=fi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tp(n),e.memoizedState=bp,t):dg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return uR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ws(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ws(a,i):(i=fi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Tp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=bp,r}return i=t.child,t=i.sibling,r=ws(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dg(t,e){return e=Hd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bc(t,e,n,r){return r!==null&&Xm(r),Oo(e,t.child,null,n),t=dg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gf(Error(z(422))),Bc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Hd({mode:"visible",children:r.children},s,0,null),i=fi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oo(e,t.child,null,o),e.child.memoizedState=Tp(o),e.memoizedState=bp,i);if(!(e.mode&1))return Bc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=gf(i,r,void 0),Bc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=lt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Sr(t,s),On(r,t,s,-1))}return yg(),r=gf(Error(z(421))),Bc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,rn=gs(s.nextSibling),on=e,Me=!0,Cn=null,t!==null&&(fn[pn++]=vr,fn[pn++]=xr,fn[pn++]=mi,vr=t.id,xr=t.overflow,mi=e),e=dg(e,r.children),e.flags|=4096,e)}function Mv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yp(t.return,e,n)}function yf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function fE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(jt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mv(t,n,e);else if(t.tag===19)Mv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),yf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}yf(e,!0,n,null,i);break;case"together":yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dR(t,e,n){switch(e.tag){case 3:dE(e),ko();break;case 5:F_(e);break;case 1:Gt(e.type)&&$u(e);break;case 4:rg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Se(Hu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?hE(t,e,n):(Se(Le,Le.current&1),t=Cr(t,e,n),t!==null?t.sibling:null);Se(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,cE(t,e,n)}return Cr(t,e,n)}var pE,Ip,mE,gE;pE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ip=function(){};mE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ii(er.current);var i=null;switch(n){case"input":s=Gf(t,s),r=Gf(t,r),i=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":s=Yf(t,s),r=Yf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fu)}Jf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ol.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ol.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};gE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ka(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hR(t,e,n){var r=e.pendingProps;switch(Ym(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Gt(e.type)&&Uu(),bt(e),null;case 3:return r=e.stateNode,Do(),De(qt),De(Pt),ig(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($c(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cn!==null&&(Op(Cn),Cn=null))),Ip(t,e),bt(e),null;case 5:sg(e);var s=ii(vl.current);if(n=e.type,t!==null&&e.stateNode!=null)mE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return bt(e),null}if(t=ii(er.current),$c(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jn]=e,r[gl]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Fa.length;s++)Pe(Fa[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Wy(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":Gy(r,i),Pe("invalid",r)}Jf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Uc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Uc(r.textContent,a,t),s=["children",""+a]):ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":kc(r),qy(r,i,!0);break;case"textarea":kc(r),Ky(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Jn]=e,t[gl]=r,pE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zf(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Fa.length;s++)Pe(Fa[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":Wy(t,r),s=Gf(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":Gy(t,r),s=Yf(t,r),Pe("invalid",t);break;default:s=r}Jf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Gw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ww(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&al(t,l):typeof l=="number"&&al(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ol.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Pe("scroll",t):l!=null&&jm(t,i,l,o))}switch(n){case"input":kc(t),qy(t,r,!1);break;case"textarea":kc(t),Ky(t);break;case"option":r.value!=null&&t.setAttribute("value",""+As(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?lo(t,!!r.multiple,i,!1):r.defaultValue!=null&&lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)gE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ii(vl.current),ii(er.current),$c(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jn]=e,(i=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:Uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=e,e.stateNode=r}return bt(e),null;case 13:if(De(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&rn!==null&&e.mode&1&&!(e.flags&128))D_(),ko(),e.flags|=98560,i=!1;else if(i=$c(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Jn]=e}else ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),i=!1}else Cn!==null&&(Op(Cn),Cn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?rt===0&&(rt=3):yg())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return Do(),Ip(t,e),t===null&&pl(e.stateNode.containerInfo),bt(e),null;case 10:return eg(e.type._context),bt(e),null;case 17:return Gt(e.type)&&Uu(),bt(e),null;case 19:if(De(Le),i=e.memoizedState,i===null)return bt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ka(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gu(t),o!==null){for(e.flags|=128,ka(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Mo&&(e.flags|=128,r=!0,ka(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Me)return bt(e),null}else 2*Ge()-i.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,r=!0,ka(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Le.current,Se(Le,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return gg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function fR(t,e){switch(Ym(e),e.tag){case 1:return Gt(e.type)&&Uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(),De(qt),De(Pt),ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sg(e),null;case 13:if(De(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Le),null;case 4:return Do(),null;case 10:return eg(e.type._context),null;case 22:case 23:return gg(),null;case 24:return null;default:return null}}var Hc=!1,Ct=!1,pR=typeof WeakSet=="function"?WeakSet:Set,Q=null;function io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Sp(t,e,n){try{n()}catch(r){We(t,e,r)}}var Lv=!1;function mR(t,e){if(cp=Mu,t=__(),Km(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,h=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)h=p,p=y;for(;;){if(p===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(y=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(up={focusedElem:t,selectionRange:n},Mu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:bn(e.type,v),E);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(N){We(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return w=Lv,Lv=!1,w}function Ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sp(e,n,i)}s=s.next}while(s!==r)}}function zd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yE(t){var e=t.alternate;e!==null&&(t.alternate=null,yE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jn],delete e[gl],delete e[fp],delete e[XA],delete e[JA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vE(t){return t.tag===5||t.tag===3||t.tag===4}function Vv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fu));else if(r!==4&&(t=t.child,t!==null))for(Ap(t,e,n),t=t.sibling;t!==null;)Ap(t,e,n),t=t.sibling}function Rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rp(t,e,n),t=t.sibling;t!==null;)Rp(t,e,n),t=t.sibling}var ut=null,Sn=!1;function Hr(t,e,n){for(n=n.child;n!==null;)xE(t,e,n),n=n.sibling}function xE(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Dd,n)}catch{}switch(n.tag){case 5:Ct||io(n,e);case 6:var r=ut,s=Sn;ut=null,Hr(t,e,n),ut=r,Sn=s,ut!==null&&(Sn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Sn?(t=ut,n=n.stateNode,t.nodeType===8?uf(t.parentNode,n):t.nodeType===1&&uf(t,n),dl(t)):uf(ut,n.stateNode));break;case 4:r=ut,s=Sn,ut=n.stateNode.containerInfo,Sn=!0,Hr(t,e,n),ut=r,Sn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Sp(n,e,o),s=s.next}while(s!==r)}Hr(t,e,n);break;case 1:if(!Ct&&(io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}Hr(t,e,n);break;case 21:Hr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Hr(t,e,n),Ct=r):Hr(t,e,n);break;default:Hr(t,e,n)}}function Fv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pR),e.forEach(function(r){var s=TR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,Sn=!1;break e;case 3:ut=a.stateNode.containerInfo,Sn=!0;break e;case 4:ut=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(ut===null)throw Error(z(160));xE(i,o,s),ut=null,Sn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){We(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wE(e,t),e=e.sibling}function wE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Wn(t),r&4){try{Ya(3,t,t.return),zd(3,t)}catch(v){We(t,t.return,v)}try{Ya(5,t,t.return)}catch(v){We(t,t.return,v)}}break;case 1:En(e,t),Wn(t),r&512&&n!==null&&io(n,n.return);break;case 5:if(En(e,t),Wn(t),r&512&&n!==null&&io(n,n.return),t.flags&32){var s=t.stateNode;try{al(s,"")}catch(v){We(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&zw(s,i),Zf(a,o);var u=Zf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?Gw(s,p):d==="dangerouslySetInnerHTML"?Ww(s,p):d==="children"?al(s,p):jm(s,d,p,u)}switch(a){case"input":Kf(s,i);break;case"textarea":Bw(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?lo(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?lo(s,!!i.multiple,i.defaultValue,!0):lo(s,!!i.multiple,i.multiple?[]:"",!1))}s[gl]=i}catch(v){We(t,t.return,v)}}break;case 6:if(En(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){We(t,t.return,v)}}break;case 3:if(En(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dl(e.containerInfo)}catch(v){We(t,t.return,v)}break;case 4:En(e,t),Wn(t);break;case 13:En(e,t),Wn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pg=Ge())),r&4&&Fv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(u=Ct)||d,En(e,t),Ct=u):En(e,t),Wn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(p=Q=d;Q!==null;){switch(h=Q,y=h.child,h.tag){case 0:case 11:case 14:case 15:Ya(4,h,h.return);break;case 1:io(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){We(r,n,v)}}break;case 5:io(h,h.return);break;case 22:if(h.memoizedState!==null){$v(p);continue}}y!==null?(y.return=h,Q=y):$v(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qw("display",o))}catch(v){We(t,t.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){We(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:En(e,t),Wn(t),r&4&&Fv(t);break;case 21:break;default:En(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vE(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(al(s,""),r.flags&=-33);var i=Vv(t);Rp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Vv(t);Ap(t,a,o);break;default:throw Error(z(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gR(t,e,n){Q=t,_E(t)}function _E(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Hc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=Hc;var u=Ct;if(Hc=o,(Ct=l)&&!u)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?zv(s):l!==null?(l.return=o,Q=l):zv(s);for(;i!==null;)Q=i,_E(i),i=i.sibling;Q=s,Hc=a,Ct=u}Uv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):Uv(t)}}function Uv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||zd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Tv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&dl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ct||e.flags&512&&Cp(e)}catch(h){We(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function $v(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function zv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zd(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){We(e,s,l)}}var i=e.return;try{Cp(e)}catch(l){We(e,i,l)}break;case 5:var o=e.return;try{Cp(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var yR=Math.ceil,Yu=jr.ReactCurrentDispatcher,hg=jr.ReactCurrentOwner,gn=jr.ReactCurrentBatchConfig,ge=0,lt=null,Xe=null,pt=0,tn=0,oo=Bs(0),rt=0,El=null,yi=0,Bd=0,fg=0,Xa=null,zt=null,pg=0,Mo=1/0,gr=null,Xu=!1,Pp=null,vs=null,Wc=!1,us=null,Ju=0,Ja=0,Np=null,fu=-1,pu=0;function Lt(){return ge&6?Ge():fu!==-1?fu:fu=Ge()}function xs(t){return t.mode&1?ge&2&&pt!==0?pt&-pt:eR.transition!==null?(pu===0&&(pu=i_()),pu):(t=be,t!==0||(t=window.event,t=t===void 0?16:h_(t.type)),t):1}function On(t,e,n,r){if(50<Ja)throw Ja=0,Np=null,Error(z(185));Bl(t,n,r),(!(ge&2)||t!==lt)&&(t===lt&&(!(ge&2)&&(Bd|=n),rt===4&&Zr(t,pt)),Kt(t,r),n===1&&ge===0&&!(e.mode&1)&&(Mo=Ge()+500,Fd&&Hs()))}function Kt(t,e){var n=t.callbackNode;eA(t,e);var r=ju(t,t===lt?pt:0);if(r===0)n!==null&&Xy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xy(n),e===1)t.tag===0?ZA(Bv.bind(null,t)):N_(Bv.bind(null,t)),QA(function(){!(ge&6)&&Hs()}),n=null;else{switch(o_(r)){case 1:n=Um;break;case 4:n=r_;break;case 16:n=Du;break;case 536870912:n=s_;break;default:n=Du}n=RE(n,EE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function EE(t,e){if(fu=-1,pu=0,ge&6)throw Error(z(327));var n=t.callbackNode;if(po()&&t.callbackNode!==n)return null;var r=ju(t,t===lt?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zu(t,r);else{e=r;var s=ge;ge|=2;var i=TE();(lt!==t||pt!==e)&&(gr=null,Mo=Ge()+500,hi(t,e));do try{wR();break}catch(a){bE(t,a)}while(!0);Zm(),Yu.current=i,ge=s,Xe!==null?e=0:(lt=null,pt=0,e=rt)}if(e!==0){if(e===2&&(s=sp(t),s!==0&&(r=s,e=kp(t,s))),e===1)throw n=El,hi(t,0),Zr(t,r),Kt(t,Ge()),n;if(e===6)Zr(t,r);else{if(s=t.current.alternate,!(r&30)&&!vR(s)&&(e=Zu(t,r),e===2&&(i=sp(t),i!==0&&(r=i,e=kp(t,i))),e===1))throw n=El,hi(t,0),Zr(t,r),Kt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:ti(t,zt,gr);break;case 3:if(Zr(t,r),(r&130023424)===r&&(e=pg+500-Ge(),10<e)){if(ju(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hp(ti.bind(null,t,zt,gr),e);break}ti(t,zt,gr);break;case 4:if(Zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-kn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yR(r/1960))-r,10<r){t.timeoutHandle=hp(ti.bind(null,t,zt,gr),r);break}ti(t,zt,gr);break;case 5:ti(t,zt,gr);break;default:throw Error(z(329))}}}return Kt(t,Ge()),t.callbackNode===n?EE.bind(null,t):null}function kp(t,e){var n=Xa;return t.current.memoizedState.isDehydrated&&(hi(t,e).flags|=256),t=Zu(t,e),t!==2&&(e=zt,zt=n,e!==null&&Op(e)),t}function Op(t){zt===null?zt=t:zt.push.apply(zt,t)}function vR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~fg,e&=~Bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function Bv(t){if(ge&6)throw Error(z(327));po();var e=ju(t,0);if(!(e&1))return Kt(t,Ge()),null;var n=Zu(t,e);if(t.tag!==0&&n===2){var r=sp(t);r!==0&&(e=r,n=kp(t,r))}if(n===1)throw n=El,hi(t,0),Zr(t,e),Kt(t,Ge()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ti(t,zt,gr),Kt(t,Ge()),null}function mg(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Mo=Ge()+500,Fd&&Hs())}}function vi(t){us!==null&&us.tag===0&&!(ge&6)&&po();var e=ge;ge|=1;var n=gn.transition,r=be;try{if(gn.transition=null,be=1,t)return t()}finally{be=r,gn.transition=n,ge=e,!(ge&6)&&Hs()}}function gg(){tn=oo.current,De(oo)}function hi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KA(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Ym(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uu();break;case 3:Do(),De(qt),De(Pt),ig();break;case 5:sg(r);break;case 4:Do();break;case 13:De(Le);break;case 19:De(Le);break;case 10:eg(r.type._context);break;case 22:case 23:gg()}n=n.return}if(lt=t,Xe=t=ws(t.current,null),pt=tn=e,rt=0,El=null,fg=Bd=yi=0,zt=Xa=null,si!==null){for(e=0;e<si.length;e++)if(n=si[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}si=null}return t}function bE(t,e){do{var n=Xe;try{if(Zm(),uu.current=Qu,Ku){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ku=!1}if(gi=0,at=nt=Ve=null,Qa=!1,xl=0,hg.current=null,n===null||n.return===null){rt=1,El=e,Xe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Pv(o);if(y!==null){y.flags&=-257,Nv(y,o,a,i,e),y.mode&1&&Rv(i,u,e),e=y,l=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Rv(i,u,e),yg();break e}l=Error(z(426))}}else if(Me&&a.mode&1){var E=Pv(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Nv(E,o,a,i,e),Xm(jo(l,a));break e}}i=l=jo(l,a),rt!==4&&(rt=2),Xa===null?Xa=[i]:Xa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=oE(i,l,e);bv(i,x);break e;case 1:a=l;var _=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(vs===null||!vs.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=aE(i,a,e);bv(i,N);break e}}i=i.return}while(i!==null)}SE(n)}catch(D){e=D,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function TE(){var t=Yu.current;return Yu.current=Qu,t===null?Qu:t}function yg(){(rt===0||rt===3||rt===2)&&(rt=4),lt===null||!(yi&268435455)&&!(Bd&268435455)||Zr(lt,pt)}function Zu(t,e){var n=ge;ge|=2;var r=TE();(lt!==t||pt!==e)&&(gr=null,hi(t,e));do try{xR();break}catch(s){bE(t,s)}while(!0);if(Zm(),ge=n,Yu.current=r,Xe!==null)throw Error(z(261));return lt=null,pt=0,rt}function xR(){for(;Xe!==null;)IE(Xe)}function wR(){for(;Xe!==null&&!WC();)IE(Xe)}function IE(t){var e=AE(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?SE(t):Xe=e,hg.current=null}function SE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fR(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Xe=null;return}}else if(n=hR(n,e,tn),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);rt===0&&(rt=5)}function ti(t,e,n){var r=be,s=gn.transition;try{gn.transition=null,be=1,_R(t,e,n,r)}finally{gn.transition=s,be=r}return null}function _R(t,e,n,r){do po();while(us!==null);if(ge&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(tA(t,i),t===lt&&(Xe=lt=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,RE(Du,function(){return po(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gn.transition,gn.transition=null;var o=be;be=1;var a=ge;ge|=4,hg.current=null,mR(t,n),wE(n,t),$A(up),Mu=!!cp,up=cp=null,t.current=n,gR(n),qC(),ge=a,be=o,gn.transition=i}else t.current=n;if(Wc&&(Wc=!1,us=t,Ju=s),i=t.pendingLanes,i===0&&(vs=null),QC(n.stateNode),Kt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xu)throw Xu=!1,t=Pp,Pp=null,t;return Ju&1&&t.tag!==0&&po(),i=t.pendingLanes,i&1?t===Np?Ja++:(Ja=0,Np=t):Ja=0,Hs(),null}function po(){if(us!==null){var t=o_(Ju),e=gn.transition,n=be;try{if(gn.transition=null,be=16>t?16:t,us===null)var r=!1;else{if(t=us,us=null,Ju=0,ge&6)throw Error(z(331));var s=ge;for(ge|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Ya(8,d,i)}var p=d.child;if(p!==null)p.return=d,Q=p;else for(;Q!==null;){d=Q;var h=d.sibling,y=d.return;if(yE(d),d===u){Q=null;break}if(h!==null){h.return=y,Q=h;break}Q=y}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ya(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Q=x;break e}Q=i.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Q=I;else e:for(o=_;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zd(9,a)}}catch(D){We(a,a.return,D)}if(a===o){Q=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Q=N;break e}Q=a.return}}if(ge=s,Hs(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Dd,t)}catch{}r=!0}return r}finally{be=n,gn.transition=e}}return!1}function Hv(t,e,n){e=jo(n,e),e=oE(t,e,1),t=ys(t,e,1),e=Lt(),t!==null&&(Bl(t,1,e),Kt(t,e))}function We(t,e,n){if(t.tag===3)Hv(t,t,n);else for(;e!==null;){if(e.tag===3){Hv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vs===null||!vs.has(r))){t=jo(n,t),t=aE(e,t,1),e=ys(e,t,1),t=Lt(),e!==null&&(Bl(e,1,t),Kt(e,t));break}}e=e.return}}function ER(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(pt&n)===n&&(rt===4||rt===3&&(pt&130023424)===pt&&500>Ge()-pg?hi(t,0):fg|=n),Kt(t,e)}function CE(t,e){e===0&&(t.mode&1?(e=jc,jc<<=1,!(jc&130023424)&&(jc=4194304)):e=1);var n=Lt();t=Sr(t,e),t!==null&&(Bl(t,e,n),Kt(t,n))}function bR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CE(t,n)}function TR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),CE(t,n)}var AE;AE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,dR(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Me&&e.flags&1048576&&k_(e,Bu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hu(t,e),t=e.pendingProps;var s=No(e,Pt.current);fo(e,n),s=ag(null,e,r,t,s,n);var i=lg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(i=!0,$u(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ng(e),s.updater=$d,e.stateNode=s,s._reactInternals=e,xp(e,r,t,n),e=Ep(null,e,r,!0,i,n)):(e.tag=0,Me&&i&&Qm(e),jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=SR(r),t=bn(r,t),s){case 0:e=_p(null,e,r,t,n);break e;case 1:e=Dv(null,e,r,t,n);break e;case 11:e=kv(null,e,r,t,n);break e;case 14:e=Ov(null,e,r,bn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),_p(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),Dv(t,e,r,s,n);case 3:e:{if(dE(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,V_(t,e),qu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=jo(Error(z(423)),e),e=jv(t,e,r,n,s);break e}else if(r!==s){s=jo(Error(z(424)),e),e=jv(t,e,r,n,s);break e}else for(rn=gs(e.stateNode.containerInfo.firstChild),on=e,Me=!0,Cn=null,n=M_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===s){e=Cr(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return F_(e),t===null&&gp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,dp(r,s)?o=null:i!==null&&dp(r,i)&&(e.flags|=32),uE(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&gp(e),null;case 13:return hE(t,e,n);case 4:return rg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oo(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),kv(t,e,r,s,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Se(Hu,r._currentValue),r._currentValue=o,i!==null)if(jn(i.value,o)){if(i.children===s.children&&!qt.current){e=Cr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Er(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),yp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,fo(e,n),s=yn(s),r=r(s),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,s=bn(r,e.pendingProps),s=bn(r.type,s),Ov(t,e,r,s,n);case 15:return lE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),hu(t,e),e.tag=1,Gt(r)?(t=!0,$u(e)):t=!1,fo(e,n),iE(e,r,s),xp(e,r,s,n),Ep(null,e,r,!0,t,n);case 19:return fE(t,e,n);case 22:return cE(t,e,n)}throw Error(z(156,e.tag))};function RE(t,e){return n_(t,e)}function IR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new IR(t,e,n,r)}function vg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SR(t){if(typeof t=="function")return vg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lm)return 11;if(t===Vm)return 14}return 2}function ws(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")vg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yi:return fi(n.children,s,i,e);case Mm:o=8,s|=8;break;case Bf:return t=mn(12,n,e,s|2),t.elementType=Bf,t.lanes=i,t;case Hf:return t=mn(13,n,e,s),t.elementType=Hf,t.lanes=i,t;case Wf:return t=mn(19,n,e,s),t.elementType=Wf,t.lanes=i,t;case Fw:return Hd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lw:o=10;break e;case Vw:o=9;break e;case Lm:o=11;break e;case Vm:o=14;break e;case Yr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=mn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fi(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function Hd(t,e,n,r){return t=mn(22,t,r,e),t.elementType=Fw,t.lanes=n,t.stateNode={isHidden:!1},t}function vf(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function xf(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jh(0),this.expirationTimes=Jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xg(t,e,n,r,s,i,o,a,l){return t=new CR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ng(i),t}function AR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PE(t){if(!t)return Rs;t=t._reactInternals;e:{if(Ri(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Gt(n))return P_(t,n,e)}return e}function NE(t,e,n,r,s,i,o,a,l){return t=xg(n,r,!0,t,s,i,o,a,l),t.context=PE(null),n=t.current,r=Lt(),s=xs(n),i=Er(r,s),i.callback=e??null,ys(n,i,s),t.current.lanes=s,Bl(t,s,r),Kt(t,r),t}function Wd(t,e,n,r){var s=e.current,i=Lt(),o=xs(s);return n=PE(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ys(s,e,o),t!==null&&(On(t,s,o,i),cu(t,s,o)),o}function ed(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wg(t,e){Wv(t,e),(t=t.alternate)&&Wv(t,e)}function RR(){return null}var kE=typeof reportError=="function"?reportError:function(t){console.error(t)};function _g(t){this._internalRoot=t}qd.prototype.render=_g.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Wd(t,e,null,null)};qd.prototype.unmount=_g.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vi(function(){Wd(null,t,null,null)}),e[Ir]=null}};function qd(t){this._internalRoot=t}qd.prototype.unstable_scheduleHydration=function(t){if(t){var e=c_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&d_(t)}};function Eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qv(){}function PR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ed(o);i.call(u)}}var o=NE(e,r,t,0,null,!1,!1,"",qv);return t._reactRootContainer=o,t[Ir]=o.current,pl(t.nodeType===8?t.parentNode:t),vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ed(l);a.call(u)}}var l=xg(t,0,!1,null,null,!1,!1,"",qv);return t._reactRootContainer=l,t[Ir]=l.current,pl(t.nodeType===8?t.parentNode:t),vi(function(){Wd(e,l,n,r)}),l}function Kd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ed(o);a.call(l)}}Wd(e,o,t,s)}else o=PR(n,e,t,s,r);return ed(o)}a_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&($m(e,n|1),Kt(e,Ge()),!(ge&6)&&(Mo=Ge()+500,Hs()))}break;case 13:vi(function(){var r=Sr(t,1);if(r!==null){var s=Lt();On(r,t,1,s)}}),wg(t,1)}};zm=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Lt();On(e,t,134217728,n)}wg(t,134217728)}};l_=function(t){if(t.tag===13){var e=xs(t),n=Sr(t,e);if(n!==null){var r=Lt();On(n,t,e,r)}wg(t,e)}};c_=function(){return be};u_=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};tp=function(t,e,n){switch(e){case"input":if(Kf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Vd(r);if(!s)throw Error(z(90));$w(r),Kf(r,s)}}}break;case"textarea":Bw(t,n);break;case"select":e=n.value,e!=null&&lo(t,!!n.multiple,e,!1)}};Yw=mg;Xw=vi;var NR={usingClientEntryPoint:!1,Events:[Wl,eo,Vd,Kw,Qw,mg]},Oa={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kR={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=e_(t),t===null?null:t.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||RR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Dd=qc.inject(kR),Zn=qc}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NR;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eg(e))throw Error(z(200));return AR(t,e,null,n)};un.createRoot=function(t,e){if(!Eg(t))throw Error(z(299));var n=!1,r="",s=kE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=xg(t,1,!1,null,null,n,!1,r,s),t[Ir]=e.current,pl(t.nodeType===8?t.parentNode:t),new _g(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=e_(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return vi(t)};un.hydrate=function(t,e,n){if(!Gd(e))throw Error(z(200));return Kd(null,t,e,!0,n)};un.hydrateRoot=function(t,e,n){if(!Eg(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=kE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=NE(e,null,t,1,n??null,s,!1,i,o),t[Ir]=e.current,pl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new qd(e)};un.render=function(t,e,n){if(!Gd(e))throw Error(z(200));return Kd(null,t,e,!1,n)};un.unmountComponentAtNode=function(t){if(!Gd(t))throw Error(z(40));return t._reactRootContainer?(vi(function(){Kd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ir]=null})}),!0):!1};un.unstable_batchedUpdates=mg;un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Kd(t,e,n,!1,r)};un.version="18.3.1-next-f1338f8080-20240426";function OE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OE)}catch(t){console.error(t)}}OE(),Ow.exports=un;var Gl=Ow.exports;const DE=ww(Gl);var Gv=Gl;$f.createRoot=Gv.createRoot,$f.hydrateRoot=Gv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}var ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ds||(ds={}));const Kv="popstate";function OR(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Pi(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Dp("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:td(i))}function r(s,i){bg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return jR(e,n,r,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DR(){return Math.random().toString(36).substr(2,8)}function Qv(t,e){return{usr:t.state,key:t.key,idx:e}}function Dp(t,e,n,r){return n===void 0&&(n=null),bl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pi(e):e,{state:n,key:e&&e.key||r||DR()})}function td(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ds.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(bl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=ds.Pop;let E=d(),x=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:x})}function h(E,x){a=ds.Push;let _=Dp(v.location,E,x);n&&n(_,E),u=d()+1;let I=Qv(_,u),N=v.createHref(_);try{o.pushState(I,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(N)}i&&l&&l({action:a,location:v.location,delta:1})}function y(E,x){a=ds.Replace;let _=Dp(v.location,E,x);n&&n(_,E),u=d();let I=Qv(_,u),N=v.createHref(_);o.replaceState(I,"",N),i&&l&&l({action:a,location:v.location,delta:0})}function w(E){let x=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof E=="string"?E:td(E);return _=_.replace(/ $/,"%20"),Ze(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let v={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Kv,p),l=E,()=>{s.removeEventListener(Kv,p),l=null}},createHref(E){return e(s,E)},createURL:w,encodeLocation(E){let x=w(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:y,go(E){return o.go(E)}};return v}var Yv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yv||(Yv={}));function MR(t,e,n){return n===void 0&&(n="/"),LR(t,e,n,!1)}function LR(t,e,n,r){let s=typeof e=="string"?Pi(e):e,i=Tg(s.pathname||"/",n);if(i==null)return null;let o=jE(t);VR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=QR(i);a=GR(o[l],u,r)}return a}function jE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=_s([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jE(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:WR(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ME(i.path))s(i,o,l)}),e}function ME(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ME(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function VR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FR=/^:[\w-]+$/,UR=3,$R=2,zR=1,BR=10,HR=-2,Xv=t=>t==="*";function WR(t,e){let n=t.split("/"),r=n.length;return n.some(Xv)&&(r+=HR),e&&(r+=$R),n.filter(s=>!Xv(s)).reduce((s,i)=>s+(FR.test(i)?UR:i===""?zR:BR),r)}function qR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function GR(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=Jv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=Jv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:_s([i,p.pathname]),pathnameBase:ZR(_s([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=_s([i,p.pathnameBase]))}return o}function Jv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let v=a[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[p];return y&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function KR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function QR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Pi(t):t;return{pathname:n?n.startsWith("/")?n:XR(n,e):e,search:eP(r),hash:tP(s)}}function XR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LE(t,e){let n=JR(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function VE(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Pi(t):(s=bl({},t),Ze(!s.pathname||!s.pathname.includes("?"),wf("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),wf("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),wf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}a=p>=0?e[p]:"/"}let l=YR(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const _s=t=>t.join("/").replace(/\/\/+/g,"/"),ZR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FE=["post","put","patch","delete"];new Set(FE);const rP=["get",...FE];new Set(rP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}const Ig=b.createContext(null),sP=b.createContext(null),Ni=b.createContext(null),Qd=b.createContext(null),ki=b.createContext({outlet:null,matches:[],isDataRoute:!1}),UE=b.createContext(null);function iP(t,e){let{relative:n}=e===void 0?{}:e;Kl()||Ze(!1);let{basename:r,navigator:s}=b.useContext(Ni),{hash:i,pathname:o,search:a}=zE(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:_s([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Kl(){return b.useContext(Qd)!=null}function Jo(){return Kl()||Ze(!1),b.useContext(Qd).location}function $E(t){b.useContext(Ni).static||b.useLayoutEffect(t)}function Zo(){let{isDataRoute:t}=b.useContext(ki);return t?vP():oP()}function oP(){Kl()||Ze(!1);let t=b.useContext(Ig),{basename:e,future:n,navigator:r}=b.useContext(Ni),{matches:s}=b.useContext(ki),{pathname:i}=Jo(),o=JSON.stringify(LE(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return $E(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=VE(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:_s([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,i,t])}function zE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Ni),{matches:s}=b.useContext(ki),{pathname:i}=Jo(),o=JSON.stringify(LE(s,r.v7_relativeSplatPath));return b.useMemo(()=>VE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function aP(t,e){return lP(t,e)}function lP(t,e,n,r){Kl()||Ze(!1);let{navigator:s}=b.useContext(Ni),{matches:i}=b.useContext(ki),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Jo(),d;if(e){var p;let E=typeof e=="string"?Pi(e):e;l==="/"||(p=E.pathname)!=null&&p.startsWith(l)||Ze(!1),d=E}else d=u;let h=d.pathname||"/",y=h;if(l!=="/"){let E=l.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=MR(t,{pathname:y}),v=fP(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:_s([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:_s([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&v?b.createElement(Qd.Provider,{value:{location:Tl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ds.Pop}},v):v}function cP(){let t=yP(),e=nP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const uP=b.createElement(cP,null);class dP extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(ki.Provider,{value:this.props.routeContext},b.createElement(UE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hP(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(Ig);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ki.Provider,{value:e},r)}function fP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:h,errors:y}=n,w=p.route.loader&&h[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let y,w=!1,v=null,E=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,v=p.route.errorElement||uP,l&&(u<0&&h===0?(w=!0,E=null):u===h&&(w=!0,E=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),_=()=>{let I;return y?I=v:w?I=E:p.route.Component?I=b.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=d,b.createElement(hP,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?b.createElement(dP,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var BE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BE||{}),nd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nd||{});function pP(t){let e=b.useContext(Ig);return e||Ze(!1),e}function mP(t){let e=b.useContext(sP);return e||Ze(!1),e}function gP(t){let e=b.useContext(ki);return e||Ze(!1),e}function HE(t){let e=gP(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function yP(){var t;let e=b.useContext(UE),n=mP(nd.UseRouteError),r=HE(nd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vP(){let{router:t}=pP(BE.UseNavigateStable),e=HE(nd.UseNavigateStable),n=b.useRef(!1);return $E(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Tl({fromRouteId:e},i)))},[t,e])}function qn(t){Ze(!1)}function xP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ds.Pop,navigator:i,static:o=!1,future:a}=t;Kl()&&Ze(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:Tl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Pi(r));let{pathname:d="/",search:p="",hash:h="",state:y=null,key:w="default"}=r,v=b.useMemo(()=>{let E=Tg(d,l);return E==null?null:{location:{pathname:E,search:p,hash:h,state:y,key:w},navigationType:s}},[l,d,p,h,y,w,s]);return v==null?null:b.createElement(Ni.Provider,{value:u},b.createElement(Qd.Provider,{children:n,value:v}))}function wP(t){let{children:e,location:n}=t;return aP(jp(e),n)}new Promise(()=>{});function jp(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,jp(r.props.children,i));return}r.type!==qn&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function _P(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function EP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bP(t,e){return t.button===0&&(!e||e==="_self")&&!EP(t)}const TP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IP="6";try{window.__reactRouterVersion=IP}catch{}const SP="startTransition",Zv=Nw[SP];function CP(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=OR({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(p=>{u&&Zv?Zv(()=>l(p)):l(p)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(xP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const AP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:p}=e,h=_P(e,TP),{basename:y}=b.useContext(Ni),w,v=!1;if(typeof u=="string"&&RP.test(u)&&(w=u,AP))try{let I=new URL(window.location.href),N=u.startsWith("//")?new URL(I.protocol+u):new URL(u),D=Tg(N.pathname,y);N.origin===I.origin&&D!=null?u=D+N.search+N.hash:v=!0}catch{}let E=iP(u,{relative:s}),x=PP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:p});function _(I){r&&r(I),I.defaultPrevented||x(I)}return b.createElement("a",Mp({},h,{href:w||E,onClick:v||i?r:_,ref:n,target:l}))});var ex;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ex||(ex={}));var tx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tx||(tx={}));function PP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Zo(),u=Jo(),d=zE(t,{relative:o});return b.useCallback(p=>{if(bP(p,n)){p.preventDefault();let h=r!==void 0?r:td(u)===td(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}const NP=1,kP=1e6;let _f=0;function OP(){return _f=(_f+1)%Number.MAX_SAFE_INTEGER,_f.toString()}const Ef=new Map,nx=t=>{if(Ef.has(t))return;const e=setTimeout(()=>{Ef.delete(t),Za({type:"REMOVE_TOAST",toastId:t})},kP);Ef.set(t,e)},DP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,NP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?nx(n):t.toasts.forEach(r=>{nx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},gu=[];let yu={toasts:[]};function Za(t){yu=DP(yu,t),gu.forEach(e=>{e(yu)})}function jP({...t}){const e=OP(),n=s=>Za({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Za({type:"DISMISS_TOAST",toastId:e});return Za({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function WE(){const[t,e]=b.useState(yu);return b.useEffect(()=>(gu.push(e),()=>{const n=gu.indexOf(e);n>-1&&gu.splice(n,1)}),[t]),{...t,toast:jP,dismiss:n=>Za({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function MP(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function qE(...t){return e=>t.forEach(n=>MP(n,e))}function Qt(...t){return b.useCallback(qE(...t),t)}function LP(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:h,children:y,...w}=p,v=(h==null?void 0:h[t][l])||a,E=b.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:y})}function d(p,h){const y=(h==null?void 0:h[t][l])||a,w=b.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,VP(s,...e)]}function VP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Il=b.forwardRef((t,e)=>{const{children:n,...r}=t,s=b.Children.toArray(n),i=s.find(FP);if(i){const o=i.props.children,a=s.map(l=>l===i?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return f.jsx(Lp,{...r,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,a):null})}return f.jsx(Lp,{...r,ref:e,children:n})});Il.displayName="Slot";var Lp=b.forwardRef((t,e)=>{const{children:n,...r}=t;if(b.isValidElement(n)){const s=$P(n);return b.cloneElement(n,{...UP(r,n.props),ref:e?qE(e,s):s})}return b.Children.count(n)>1?b.Children.only(null):null});Lp.displayName="SlotClone";var GE=({children:t})=>f.jsx(f.Fragment,{children:t});function FP(t){return b.isValidElement(t)&&t.type===GE}function UP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $P(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function KE(t){const e=t+"CollectionProvider",[n,r]=LP(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:v}=y,E=W.useRef(null),x=W.useRef(new Map).current;return f.jsx(s,{scope:w,itemMap:x,collectionRef:E,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=W.forwardRef((y,w)=>{const{scope:v,children:E}=y,x=i(a,v),_=Qt(w,x.collectionRef);return f.jsx(Il,{ref:_,children:E})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=W.forwardRef((y,w)=>{const{scope:v,children:E,...x}=y,_=W.useRef(null),I=Qt(w,_),N=i(u,v);return W.useEffect(()=>(N.itemMap.set(_,{ref:_,...x}),()=>void N.itemMap.delete(_))),f.jsx(Il,{[d]:"",ref:I,children:E})});p.displayName=u;function h(y){const w=i(t+"CollectionConsumer",y);return W.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((N,D)=>x.indexOf(N.ref.current)-x.indexOf(D.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},h,r]}function Ql(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const u=p=>{var x;const{scope:h,children:y,...w}=p,v=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,E=b.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:y})};u.displayName=i+"Provider";function d(p,h){var v;const y=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,w=b.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,zP(s,...e)]}function zP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var BP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],je=BP.reduce((t,e)=>{const n=b.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Il:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function QE(t,e){t&&Gl.flushSync(()=>t.dispatchEvent(e))}function Mn(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function HP(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var WP="DismissableLayer",Vp="dismissableLayer.update",qP="dismissableLayer.pointerDownOutside",GP="dismissableLayer.focusOutside",rx,YE=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sg=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=b.useContext(YE),[d,p]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=b.useState({}),w=Qt(e,C=>p(C)),v=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(E),_=d?v.indexOf(d):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,N=_>=x,D=QP(C=>{const T=C.target,A=[...u.branches].some(R=>R.contains(T));!N||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),M=YP(C=>{const T=C.target;[...u.branches].some(R=>R.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return HP(C=>{_===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(rx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),sx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=rx)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),sx())},[d,u]),b.useEffect(()=>{const C=()=>y({});return document.addEventListener(Vp,C),()=>document.removeEventListener(Vp,C)},[]),f.jsx(je.div,{...l,ref:w,style:{pointerEvents:I?N?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,D.onPointerDownCapture)})});Sg.displayName=WP;var KP="DismissableLayerBranch",XE=b.forwardRef((t,e)=>{const n=b.useContext(YE),r=b.useRef(null),s=Qt(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(je.div,{...t,ref:s})});XE.displayName=KP;function QP(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){JE(qP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function YP(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&JE(GP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sx(){const t=new CustomEvent(Vp);document.dispatchEvent(t)}function JE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?QE(s,i):s.dispatchEvent(i)}var XP=Sg,JP=XE,Ps=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},ZP="Portal",ZE=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);Ps(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?DE.createPortal(f.jsx(je.div,{...r,ref:e}),o):null});ZE.displayName=ZP;function e4(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Yl=t=>{const{present:e,children:n}=t,r=t4(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=Qt(r.ref,n4(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};Yl.displayName="Presence";function t4(t){const[e,n]=b.useState(),r=b.useRef({}),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=e4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Gc(r.current);i.current=a==="mounted"?u:"none"},[a]),Ps(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,y=Gc(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ps(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=y=>{const v=Gc(r.current).includes(y.animationName);if(y.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=y=>{y.target===e&&(i.current=Gc(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Gc(t){return(t==null?void 0:t.animationName)||"none"}function n4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Yd({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=r4({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Mn(n),l=b.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,l]}function r4({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,s=b.useRef(r),i=Mn(e);return b.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var s4="VisuallyHidden",Xd=b.forwardRef((t,e)=>f.jsx(je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Xd.displayName=s4;var i4=Xd,Cg="ToastProvider",[Ag,o4,a4]=KE("Toast"),[eb,sM]=Ql("Toast",[a4]),[l4,Jd]=eb(Cg),tb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=b.useState(null),[u,d]=b.useState(0),p=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cg}\`. Expected non-empty \`string\`.`),f.jsx(Ag.Provider,{scope:e,children:f.jsx(l4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(y=>y+1),[]),onToastRemove:b.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:o})})};tb.displayName=Cg;var nb="ToastViewport",c4=["F8"],Fp="toast.viewportPause",Up="toast.viewportResume",rb=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=c4,label:s="Notifications ({hotkey})",...i}=t,o=Jd(nb,n),a=o4(n),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),p=b.useRef(null),h=Qt(e,p,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;b.useEffect(()=>{const E=x=>{var I;r.length!==0&&r.every(N=>x[N]||x.code===N)&&((I=p.current)==null||I.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),b.useEffect(()=>{const E=l.current,x=p.current;if(w&&E&&x){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Fp);x.dispatchEvent(M),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Up);x.dispatchEvent(M),o.isClosePausedRef.current=!1}},N=M=>{!E.contains(M.relatedTarget)&&I()},D=()=>{E.contains(document.activeElement)||I()};return E.addEventListener("focusin",_),E.addEventListener("focusout",N),E.addEventListener("pointermove",_),E.addEventListener("pointerleave",D),window.addEventListener("blur",_),window.addEventListener("focus",I),()=>{E.removeEventListener("focusin",_),E.removeEventListener("focusout",N),E.removeEventListener("pointermove",_),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",_),window.removeEventListener("focus",I)}}},[w,o.isClosePausedRef]);const v=b.useCallback(({tabbingDirection:E})=>{const _=a().map(I=>{const N=I.ref.current,D=[N,...E4(N)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?_.reverse():_).flat()},[a]);return b.useEffect(()=>{const E=p.current;if(E){const x=_=>{var D,M,C;const I=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!I){const T=document.activeElement,A=_.shiftKey;if(_.target===E&&A){(D=u.current)==null||D.focus();return}const O=v({tabbingDirection:A?"backwards":"forwards"}),P=O.findIndex(q=>q===T);bf(O.slice(P+1))?_.preventDefault():A?(M=u.current)==null||M.focus():(C=d.current)==null||C.focus()}};return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)}},[a,v]),f.jsxs(JP,{ref:l,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&f.jsx($p,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});bf(E)}}),f.jsx(Ag.Slot,{scope:n,children:f.jsx(je.ol,{tabIndex:-1,...i,ref:h})}),w&&f.jsx($p,{ref:d,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});bf(E)}})]})});rb.displayName=nb;var sb="ToastFocusProxy",$p=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Jd(sb,n);return f.jsx(Xd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});$p.displayName=sb;var Zd="Toast",u4="toast.swipeStart",d4="toast.swipeMove",h4="toast.swipeCancel",f4="toast.swipeEnd",ib=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Yd({prop:r,defaultProp:s,onChange:i});return f.jsx(Yl,{present:n||a,children:f.jsx(g4,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Mn(t.onPause),onResume:Mn(t.onResume),onSwipeStart:xe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:xe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});ib.displayName=Zd;var[p4,m4]=eb(Zd,{onClose(){}}),g4=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:y,...w}=t,v=Jd(Zd,n),[E,x]=b.useState(null),_=Qt(e,q=>x(q)),I=b.useRef(null),N=b.useRef(null),D=s||v.duration,M=b.useRef(0),C=b.useRef(D),T=b.useRef(0),{onToastAdd:A,onToastRemove:R}=v,k=Mn(()=>{var se;(E==null?void 0:E.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),O=b.useCallback(q=>{!q||q===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(k,q))},[k]);b.useEffect(()=>{const q=v.viewport;if(q){const se=()=>{O(C.current),u==null||u()},Z=()=>{const le=new Date().getTime()-M.current;C.current=C.current-le,window.clearTimeout(T.current),l==null||l()};return q.addEventListener(Fp,Z),q.addEventListener(Up,se),()=>{q.removeEventListener(Fp,Z),q.removeEventListener(Up,se)}}},[v.viewport,D,l,u,O]),b.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(D)},[i,D,v.isClosePausedRef,O]),b.useEffect(()=>(A(),()=>R()),[A,R]);const P=b.useMemo(()=>E?hb(E):null,[E]);return v.viewport?f.jsxs(f.Fragment,{children:[P&&f.jsx(y4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),f.jsx(p4,{scope:n,onClose:k,children:Gl.createPortal(f.jsx(Ag.ItemSlot,{scope:n,children:f.jsx(XP,{asChild:!0,onEscapeKeyDown:xe(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:xe(t.onPointerDown,q=>{q.button===0&&(I.current={x:q.clientX,y:q.clientY})}),onPointerMove:xe(t.onPointerMove,q=>{if(!I.current)return;const se=q.clientX-I.current.x,Z=q.clientY-I.current.y,le=!!N.current,L=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,X=L?B(0,se):0,K=L?0:B(0,Z),J=q.pointerType==="touch"?10:2,te={x:X,y:K},Ce={originalEvent:q,delta:te};le?(N.current=te,Kc(d4,p,Ce,{discrete:!1})):ix(te,v.swipeDirection,J)?(N.current=te,Kc(u4,d,Ce,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(se)>J||Math.abs(Z)>J)&&(I.current=null)}),onPointerUp:xe(t.onPointerUp,q=>{const se=N.current,Z=q.target;if(Z.hasPointerCapture(q.pointerId)&&Z.releasePointerCapture(q.pointerId),N.current=null,I.current=null,se){const le=q.currentTarget,L={originalEvent:q,delta:se};ix(se,v.swipeDirection,v.swipeThreshold)?Kc(f4,y,L,{discrete:!0}):Kc(h4,h,L,{discrete:!0}),le.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),y4=t=>{const{__scopeToast:e,children:n,...r}=t,s=Jd(Zd,e),[i,o]=b.useState(!1),[a,l]=b.useState(!1);return w4(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(ZE,{asChild:!0,children:f.jsx(Xd,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},v4="ToastTitle",ob=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(je.div,{...r,ref:e})});ob.displayName=v4;var x4="ToastDescription",ab=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(je.div,{...r,ref:e})});ab.displayName=x4;var lb="ToastAction",cb=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(db,{altText:n,asChild:!0,children:f.jsx(Rg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${lb}\`. Expected non-empty \`string\`.`),null)});cb.displayName=lb;var ub="ToastClose",Rg=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=m4(ub,n);return f.jsx(db,{asChild:!0,children:f.jsx(je.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,s.onClose)})})});Rg.displayName=ub;var db=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function hb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...hb(r))}}),e}function Kc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?QE(s,i):s.dispatchEvent(i)}var ix=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function w4(t=()=>{}){const e=Mn(t);Ps(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _4(t){return t.nodeType===t.ELEMENT_NODE}function E4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var b4=tb,fb=rb,pb=ib,mb=ob,gb=ab,yb=cb,vb=Rg;function xb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=xb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=xb(t))&&(r&&(r+=" "),r+=e);return r}const ox=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ax=wb,Pg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ax(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=i==null?void 0:i[u];if(d===null)return null;const h=ox(d)||ox(p);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[p,h]=d;return h===void 0||(u[p]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:h,...y}=d;return Object.entries(y).every(w=>{let[v,E]=w;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...u,p,h]:u},[]);return ax(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_b=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...I4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_b("lucide",s),...a},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(S4,{ref:i,iconNode:e,className:_b(`lucide-${T4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Yt("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=Yt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Yt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Yt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Yt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Yt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=Yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=Yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ng="-",O4=t=>{const e=j4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ng);return a[0]===""&&a.length!==1&&a.shift(),Ib(a,e)||D4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Ib=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Ib(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ng);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ux=/^\[(.+)\]$/,D4=t=>{if(ux.test(t)){const e=ux.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},j4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return L4(Object.entries(t.classGroups),n).forEach(([i,o])=>{Hp(o,r,i,e)}),r},Hp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:dx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(M4(s)){Hp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Hp(o,dx(e,i),n,r)})})},dx=(t,e)=>{let n=t;return e.split(Ng).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},M4=t=>t.isThemeGetter,L4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,V4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Sb="!",F4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,p;for(let E=0;E<a.length;E++){let x=a[E];if(u===0){if(x===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(x==="/"){p=E;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?a:a.substring(d),y=h.startsWith(Sb),w=y?h.substring(1):h,v=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},U4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},$4=t=>({cache:V4(t.cacheSize),parseClassName:F4(t),...O4(t)}),z4=/\s+/,B4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(z4);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:y}=n(u);let w=!!y,v=r(w?h.substring(0,y):h);if(!v){if(!w){a=u+(a.length>0?" "+a:a);continue}if(v=r(h),!v){a=u+(a.length>0?" "+a:a);continue}w=!1}const E=U4(d).join(":"),x=p?E+Sb:E,_=x+v;if(i.includes(_))continue;i.push(_);const I=s(v,w);for(let N=0;N<I.length;++N){const D=I[N];i.push(x+D)}a=u+(a.length>0?" "+a:a)}return a};function H4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Cb(e))&&(r&&(r+=" "),r+=n);return r}const Cb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Cb(t[r]))&&(n&&(n+=" "),n+=e);return n};function W4(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,p)=>p(d),t());return n=$4(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=B4(l,n);return s(l,d),d}return function(){return i(H4.apply(null,arguments))}}const Re=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ab=/^\[(?:([a-z-]+):)?(.+)\]$/i,q4=/^\d+\/\d+$/,G4=new Set(["px","full","screen"]),K4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Y4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=t=>mo(t)||G4.has(t)||q4.test(t),Wr=t=>ea(t,"length",oN),mo=t=>!!t&&!Number.isNaN(Number(t)),If=t=>ea(t,"number",mo),Da=t=>!!t&&Number.isInteger(Number(t)),Z4=t=>t.endsWith("%")&&mo(t.slice(0,-1)),ce=t=>Ab.test(t),qr=t=>K4.test(t),eN=new Set(["length","size","percentage"]),tN=t=>ea(t,eN,Rb),nN=t=>ea(t,"position",Rb),rN=new Set(["image","url"]),sN=t=>ea(t,rN,lN),iN=t=>ea(t,"",aN),ja=()=>!0,ea=(t,e,n)=>{const r=Ab.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},oN=t=>Q4.test(t)&&!Y4.test(t),Rb=()=>!1,aN=t=>X4.test(t),lN=t=>J4.test(t),cN=()=>{const t=Re("colors"),e=Re("spacing"),n=Re("blur"),r=Re("brightness"),s=Re("borderColor"),i=Re("borderRadius"),o=Re("borderSpacing"),a=Re("borderWidth"),l=Re("contrast"),u=Re("grayscale"),d=Re("hueRotate"),p=Re("invert"),h=Re("gap"),y=Re("gradientColorStops"),w=Re("gradientColorStopPositions"),v=Re("inset"),E=Re("margin"),x=Re("opacity"),_=Re("padding"),I=Re("saturate"),N=Re("scale"),D=Re("sepia"),M=Re("skew"),C=Re("space"),T=Re("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ce,e],O=()=>[ce,e],P=()=>["",pr,Wr],q=()=>["auto",mo,ce],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ce],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[mo,ce];return{cacheSize:500,separator:":",theme:{colors:[ja],spacing:[pr,Wr],blur:["none","",qr,ce],brightness:K(),borderColor:[t],borderRadius:["none","","full",qr,ce],borderSpacing:O(),borderWidth:P(),contrast:K(),grayscale:B(),hueRotate:K(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Z4,Wr],inset:k(),margin:k(),opacity:K(),padding:O(),saturate:K(),scale:K(),sepia:B(),skew:K(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[qr]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Da,ce]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Da,ce]}],"grid-cols":[{"grid-cols":[ja]}],"col-start-end":[{col:["auto",{span:["full",Da,ce]},ce]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[ja]}],"row-start-end":[{row:["auto",{span:[Da,ce]},ce]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[qr]},qr]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",qr,Wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",If]}],"font-family":[{font:[ja]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",mo,If]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,Wr]}],"underline-offset":[{"underline-offset":["auto",pr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),nN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[pr,ce]}],"outline-w":[{outline:[pr,Wr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[pr,Wr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",qr,iN]}],"shadow-color":[{shadow:[ja]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qr,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[I]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Da,ce]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pr,Wr,If]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uN=W4(cN);function $e(...t){return uN(wb(t))}const dN=b4,Pb=b.forwardRef(({className:t,...e},n)=>f.jsx(fb,{ref:n,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Pb.displayName=fb.displayName;const hN=Pg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Nb=b.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(pb,{ref:r,className:$e(hN({variant:e}),t),...n}));Nb.displayName=pb.displayName;const fN=b.forwardRef(({className:t,...e},n)=>f.jsx(yb,{ref:n,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));fN.displayName=yb.displayName;const kb=b.forwardRef(({className:t,...e},n)=>f.jsx(vb,{ref:n,className:$e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(Tb,{className:"h-4 w-4"})}));kb.displayName=vb.displayName;const Ob=b.forwardRef(({className:t,...e},n)=>f.jsx(mb,{ref:n,className:$e("text-sm font-semibold",t),...e}));Ob.displayName=mb.displayName;const Db=b.forwardRef(({className:t,...e},n)=>f.jsx(gb,{ref:n,className:$e("text-sm opacity-90",t),...e}));Db.displayName=gb.displayName;function pN(){const{toasts:t}=WE();return f.jsxs(dN,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(Nb,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(Ob,{children:n}),r&&f.jsx(Db,{children:r})]}),s,f.jsx(kb,{})]},e)}),f.jsx(Pb,{})]})}var hx=["light","dark"],mN="(prefers-color-scheme: dark)",gN=b.createContext(void 0),yN={setTheme:t=>{},themes:[]},vN=()=>{var t;return(t=b.useContext(gN))!=null?t:yN};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?hx.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(w,v=!1,E=!0)=>{let x=o?o[w]:w,_=v?w+"|| ''":`'${x}'`,I="";return s&&E&&!v&&hx.includes(w)&&(I+=`d.style.colorScheme = '${w}';`),n==="class"?v||x?I+=`c.add(${_})`:I+="null":x&&(I+=`d[s](n,${_})`),I},y=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${mN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${p}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:y}})});var xN=t=>{switch(t){case"success":return EN;case"info":return TN;case"warning":return bN;case"error":return IN;default:return null}},wN=Array(12).fill(0),_N=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},wN.map((e,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),EN=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bN=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TN=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),IN=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),SN=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Wp=1,CN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Wp++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(RN(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Wp++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},en=new CN,AN=(t,e)=>{let n=(e==null?void 0:e.id)||Wp++;return en.addToast({title:t,...e,id:n}),n},RN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",PN=AN,NN=()=>en.toasts,ke=Object.assign(PN,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:NN});function kN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}kN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Qc(t){return t.label!==void 0}var ON=3,DN="32px",jN=4e3,MN=356,LN=14,VN=20,FN=200;function UN(...t){return t.filter(Boolean).join(" ")}var $N=t=>{var e,n,r,s,i,o,a,l,u,d;let{invert:p,toast:h,unstyled:y,interacting:w,setHeights:v,visibleToasts:E,heights:x,index:_,toasts:I,expanded:N,removeToast:D,defaultRichColors:M,closeButton:C,style:T,cancelButtonStyle:A,actionButtonStyle:R,className:k="",descriptionClassName:O="",duration:P,position:q,gap:se,loadingIcon:Z,expandByDefault:le,classNames:L,icons:B,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:K,cn:J}=t,[te,Ce]=W.useState(!1),[et,ve]=W.useState(!1),[yt,Un]=W.useState(!1),[$n,Xt]=W.useState(!1),[lr,zn]=W.useState(0),[xn,cr]=W.useState(0),Lr=W.useRef(null),wn=W.useRef(null),ca=_===0,ua=_+1<=E,Ke=h.type,Bn=h.dismissible!==!1,hc=h.className||"",Nh=h.descriptionClassName||"",Vr=W.useMemo(()=>x.findIndex(ie=>ie.toastId===h.id)||0,[x,h.id]),da=W.useMemo(()=>{var ie;return(ie=h.closeButton)!=null?ie:C},[h.closeButton,C]),ha=W.useMemo(()=>h.duration||P||jN,[h.duration,P]),Qe=W.useRef(0),ze=W.useRef(0),Qs=W.useRef(0),ur=W.useRef(null),[fa,kh]=q.split("-"),Fr=W.useMemo(()=>x.reduce((ie,Te,Ee)=>Ee>=Vr?ie:ie+Te.height,0),[x,Vr]),pa=SN(),fc=h.invert||p,Ys=Ke==="loading";ze.current=W.useMemo(()=>Vr*se+Fr,[Vr,Fr]),W.useEffect(()=>{Ce(!0)},[]),W.useLayoutEffect(()=>{if(!te)return;let ie=wn.current,Te=ie.style.height;ie.style.height="auto";let Ee=ie.getBoundingClientRect().height;ie.style.height=Te,cr(Ee),v(vt=>vt.find(Ut=>Ut.toastId===h.id)?vt.map(Ut=>Ut.toastId===h.id?{...Ut,height:Ee}:Ut):[{toastId:h.id,height:Ee,position:h.position},...vt])},[te,h.title,h.description,v,h.id]);let Hn=W.useCallback(()=>{ve(!0),zn(ze.current),v(ie=>ie.filter(Te=>Te.toastId!==h.id)),setTimeout(()=>{D(h)},FN)},[h,D,v,ze]);W.useEffect(()=>{if(h.promise&&Ke==="loading"||h.duration===1/0||h.type==="loading")return;let ie,Te=ha;return N||w||K&&pa?(()=>{if(Qs.current<Qe.current){let Ee=new Date().getTime()-Qe.current;Te=Te-Ee}Qs.current=new Date().getTime()})():Te!==1/0&&(Qe.current=new Date().getTime(),ie=setTimeout(()=>{var Ee;(Ee=h.onAutoClose)==null||Ee.call(h,h),Hn()},Te)),()=>clearTimeout(ie)},[N,w,le,h,ha,Hn,h.promise,Ke,K,pa]),W.useEffect(()=>{let ie=wn.current;if(ie){let Te=ie.getBoundingClientRect().height;return cr(Te),v(Ee=>[{toastId:h.id,height:Te,position:h.position},...Ee]),()=>v(Ee=>Ee.filter(vt=>vt.toastId!==h.id))}},[v,h.id]),W.useEffect(()=>{h.delete&&Hn()},[Hn,h.delete]);function Oh(){return B!=null&&B.loading?W.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},B.loading):Z?W.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},Z):W.createElement(_N,{visible:Ke==="loading"})}return W.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:wn,className:J(k,hc,L==null?void 0:L.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Ke],(n=h==null?void 0:h.classNames)==null?void 0:n[Ke]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:M,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":te,"data-promise":!!h.promise,"data-removed":et,"data-visible":ua,"data-y-position":fa,"data-x-position":kh,"data-index":_,"data-front":ca,"data-swiping":yt,"data-dismissible":Bn,"data-type":Ke,"data-invert":fc,"data-swipe-out":$n,"data-expanded":!!(N||le&&te),style:{"--index":_,"--toasts-before":_,"--z-index":I.length-_,"--offset":`${et?lr:ze.current}px`,"--initial-height":le?"auto":`${xn}px`,...T,...h.style},onPointerDown:ie=>{Ys||!Bn||(Lr.current=new Date,zn(ze.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(Un(!0),ur.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Te,Ee,vt;if($n||!Bn)return;ur.current=null;let Ut=Number(((ie=wn.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ur=new Date().getTime()-((Te=Lr.current)==null?void 0:Te.getTime()),dr=Math.abs(Ut)/Ur;if(Math.abs(Ut)>=VN||dr>.11){zn(ze.current),(Ee=h.onDismiss)==null||Ee.call(h,h),Hn(),Xt(!0);return}(vt=wn.current)==null||vt.style.setProperty("--swipe-amount","0px"),Un(!1)},onPointerMove:ie=>{var Te;if(!ur.current||!Bn)return;let Ee=ie.clientY-ur.current.y,vt=ie.clientX-ur.current.x,Ut=(fa==="top"?Math.min:Math.max)(0,Ee),Ur=ie.pointerType==="touch"?10:2;Math.abs(Ut)>Ur?(Te=wn.current)==null||Te.style.setProperty("--swipe-amount",`${Ee}px`):Math.abs(vt)>Ur&&(ur.current=null)}},da&&!h.jsx?W.createElement("button",{"aria-label":X,"data-disabled":Ys,"data-close-button":!0,onClick:Ys||!Bn?()=>{}:()=>{var ie;Hn(),(ie=h.onDismiss)==null||ie.call(h,h)},className:J(L==null?void 0:L.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||W.isValidElement(h.title)?h.jsx||h.title:W.createElement(W.Fragment,null,Ke||h.icon||h.promise?W.createElement("div",{"data-icon":"",className:J(L==null?void 0:L.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Oh():null,h.type!=="loading"?h.icon||(B==null?void 0:B[Ke])||xN(Ke):null):null,W.createElement("div",{"data-content":"",className:J(L==null?void 0:L.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:J(L==null?void 0:L.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?W.createElement("div",{"data-description":"",className:J(O,Nh,L==null?void 0:L.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),W.isValidElement(h.cancel)?h.cancel:h.cancel&&Qc(h.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:ie=>{var Te,Ee;Qc(h.cancel)&&Bn&&((Ee=(Te=h.cancel).onClick)==null||Ee.call(Te,ie),Hn())},className:J(L==null?void 0:L.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,W.isValidElement(h.action)?h.action:h.action&&Qc(h.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:ie=>{var Te,Ee;Qc(h.action)&&(ie.defaultPrevented||((Ee=(Te=h.action).onClick)==null||Ee.call(Te,ie),Hn()))},className:J(L==null?void 0:L.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function fx(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var zN=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:p,visibleToasts:h=ON,toastOptions:y,dir:w=fx(),gap:v=LN,loadingIcon:E,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:I,cn:N=UN}=t,[D,M]=W.useState([]),C=W.useMemo(()=>Array.from(new Set([n].concat(D.filter(K=>K.position).map(K=>K.position)))),[D,n]),[T,A]=W.useState([]),[R,k]=W.useState(!1),[O,P]=W.useState(!1),[q,se]=W.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=W.useRef(null),le=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=W.useRef(null),B=W.useRef(!1),X=W.useCallback(K=>{var J;(J=D.find(te=>te.id===K.id))!=null&&J.delete||en.dismiss(K.id),M(te=>te.filter(({id:Ce})=>Ce!==K.id))},[D]);return W.useEffect(()=>en.subscribe(K=>{if(K.dismiss){M(J=>J.map(te=>te.id===K.id?{...te,delete:!0}:te));return}setTimeout(()=>{DE.flushSync(()=>{M(J=>{let te=J.findIndex(Ce=>Ce.id===K.id);return te!==-1?[...J.slice(0,te),{...J[te],...K},...J.slice(te+1)]:[K,...J]})})})}),[]),W.useEffect(()=>{if(l!=="system"){se(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{se(K?"dark":"light")})},[l]),W.useEffect(()=>{D.length<=1&&k(!1)},[D]),W.useEffect(()=>{let K=J=>{var te,Ce;r.every(et=>J[et]||J.code===et)&&(k(!0),(te=Z.current)==null||te.focus()),J.code==="Escape"&&(document.activeElement===Z.current||(Ce=Z.current)!=null&&Ce.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),W.useEffect(()=>{if(Z.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[Z.current]),D.length?W.createElement("section",{"aria-label":`${_} ${le}`,tabIndex:-1},C.map((K,J)=>{var te;let[Ce,et]=K.split("-");return W.createElement("ol",{key:K,dir:w==="auto"?fx():w,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Ce,"data-x-position":et,style:{"--front-toast-height":`${((te=T[0])==null?void 0:te.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||DN,"--width":`${MN}px`,"--gap":`${v}px`,...p},onBlur:ve=>{B.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=ve.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{O||k(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},D.filter(ve=>!ve.position&&J===0||ve.position===K).map((ve,yt)=>{var Un,$n;return W.createElement($N,{key:ve.id,icons:x,index:yt,toast:ve,defaultRichColors:u,duration:(Un=y==null?void 0:y.duration)!=null?Un:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:h,closeButton:($n=y==null?void 0:y.closeButton)!=null?$n:i,interacting:O,position:K,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:X,toasts:D.filter(Xt=>Xt.position==ve.position),heights:T.filter(Xt=>Xt.position==ve.position),setHeights:A,expandByDefault:s,gap:v,loadingIcon:E,expanded:R,pauseWhenPageIsHidden:I,cn:N})}))})):null};const BN=({...t})=>{const{theme:e="system"}=vN();return f.jsx(zN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var HN=Nw.useId||(()=>{}),WN=0;function jb(t){const[e,n]=b.useState(HN());return Ps(()=>{t||n(r=>r??String(WN++))},[t]),t||(e?`radix-${e}`:"")}const qN=["top","right","bottom","left"],Ns=Math.min,nn=Math.max,rd=Math.round,Yc=Math.floor,ks=t=>({x:t,y:t}),GN={left:"right",right:"left",bottom:"top",top:"bottom"},KN={start:"end",end:"start"};function qp(t,e,n){return nn(t,Ns(e,n))}function Ar(t,e){return typeof t=="function"?t(e):t}function Rr(t){return t.split("-")[0]}function ta(t){return t.split("-")[1]}function kg(t){return t==="x"?"y":"x"}function Og(t){return t==="y"?"height":"width"}function Os(t){return["top","bottom"].includes(Rr(t))?"y":"x"}function Dg(t){return kg(Os(t))}function QN(t,e,n){n===void 0&&(n=!1);const r=ta(t),s=Dg(t),i=Og(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=sd(o)),[o,sd(o)]}function YN(t){const e=sd(t);return[Gp(t),e,Gp(e)]}function Gp(t){return t.replace(/start|end/g,e=>KN[e])}function XN(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function JN(t,e,n,r){const s=ta(t);let i=XN(Rr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Gp)))),i}function sd(t){return t.replace(/left|right|bottom|top/g,e=>GN[e])}function ZN(t){return{top:0,right:0,bottom:0,left:0,...t}}function Mb(t){return typeof t!="number"?ZN(t):{top:t,right:t,bottom:t,left:t}}function id(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function px(t,e,n){let{reference:r,floating:s}=t;const i=Os(e),o=Dg(e),a=Og(o),l=Rr(e),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-s.width,y:p};break;default:y={x:r.x,y:r.y}}switch(ta(e)){case"start":y[o]-=h*(n&&u?-1:1);break;case"end":y[o]+=h*(n&&u?-1:1);break}return y}const ek=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=px(u,r,l),h=r,y={},w=0;for(let v=0;v<a.length;v++){const{name:E,fn:x}=a[v],{x:_,y:I,data:N,reset:D}=await x({x:d,y:p,initialPlacement:r,placement:h,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,p=I??p,y={...y,[E]:{...y[E],...N}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:p}=px(u,h,l)),v=-1)}return{x:d,y:p,placement:h,strategy:s,middlewareData:y}};async function Sl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:y=0}=Ar(e,t),w=Mb(y),E=a[h?p==="floating"?"reference":"floating":p],x=id(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},D=id(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:I,strategy:l}):_);return{top:(x.top-D.top+w.top)/N.y,bottom:(D.bottom-x.bottom+w.bottom)/N.y,left:(x.left-D.left+w.left)/N.x,right:(D.right-x.right+w.right)/N.x}}const tk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Ar(t,e)||{};if(u==null)return{};const p=Mb(d),h={x:n,y:r},y=Dg(s),w=Og(y),v=await o.getDimensions(u),E=y==="y",x=E?"top":"left",_=E?"bottom":"right",I=E?"clientHeight":"clientWidth",N=i.reference[w]+i.reference[y]-h[y]-i.floating[w],D=h[y]-i.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=M?M[I]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[I]||i.floating[w]);const T=N/2-D/2,A=C/2-v[w]/2-1,R=Ns(p[x],A),k=Ns(p[_],A),O=R,P=C-v[w]-k,q=C/2-v[w]/2+T,se=qp(O,q,P),Z=!l.arrow&&ta(s)!=null&&q!==se&&i.reference[w]/2-(q<O?R:k)-v[w]/2<0,le=Z?q<O?q-O:q-P:0;return{[y]:h[y]+le,data:{[y]:se,centerOffset:q-se-le,...Z&&{alignmentOffset:le}},reset:Z}}}),nk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...E}=Ar(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Rr(s),_=Os(a),I=Rr(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=h||(I||!v?[sd(a)]:YN(a)),M=w!=="none";!h&&M&&D.push(...JN(a,v,w,N));const C=[a,...D],T=await Sl(e,E),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[x]),p){const q=QN(s,o,N);A.push(T[q[0]],T[q[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(q=>q<=0)){var k,O;const q=(((k=i.flip)==null?void 0:k.index)||0)+1,se=C[q];if(se)return{data:{index:q,overflows:R},reset:{placement:se}};let Z=(O=R.filter(le=>le.overflows[0]<=0).sort((le,L)=>le.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!Z)switch(y){case"bestFit":{var P;const le=(P=R.filter(L=>{if(M){const B=Os(L.placement);return B===_||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,X)=>B+X,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:P[0];le&&(Z=le);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function mx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function gx(t){return qN.some(e=>t[e]>=0)}const rk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ar(t,e);switch(r){case"referenceHidden":{const i=await Sl(e,{...s,elementContext:"reference"}),o=mx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gx(o)}}}case"escaped":{const i=await Sl(e,{...s,altBoundary:!0}),o=mx(i,n.floating);return{data:{escapedOffsets:o,escaped:gx(o)}}}default:return{}}}}};async function sk(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Rr(n),a=ta(n),l=Os(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,p=Ar(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof w=="number"&&(y=a==="end"?w*-1:w),l?{x:y*d,y:h*u}:{x:h*u,y:y*d}}const ik=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await sk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},ok=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x,y:_}=E;return{x,y:_}}},...l}=Ar(t,e),u={x:n,y:r},d=await Sl(e,l),p=Os(Rr(s)),h=kg(p);let y=u[h],w=u[p];if(i){const E=h==="y"?"top":"left",x=h==="y"?"bottom":"right",_=y+d[E],I=y-d[x];y=qp(_,y,I)}if(o){const E=p==="y"?"top":"left",x=p==="y"?"bottom":"right",_=w+d[E],I=w-d[x];w=qp(_,w,I)}const v=a.fn({...e,[h]:y,[p]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:i,[p]:o}}}}}},ak=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ar(t,e),d={x:n,y:r},p=Os(s),h=kg(p);let y=d[h],w=d[p];const v=Ar(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const I=h==="y"?"height":"width",N=i.reference[h]-i.floating[I]+E.mainAxis,D=i.reference[h]+i.reference[I]-E.mainAxis;y<N?y=N:y>D&&(y=D)}if(u){var x,_;const I=h==="y"?"width":"height",N=["top","left"].includes(Rr(s)),D=i.reference[p]-i.floating[I]+(N&&((x=o.offset)==null?void 0:x[p])||0)+(N?0:E.crossAxis),M=i.reference[p]+i.reference[I]+(N?0:((_=o.offset)==null?void 0:_[p])||0)-(N?E.crossAxis:0);w<D?w=D:w>M&&(w=M)}return{[h]:y,[p]:w}}}},lk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Ar(t,e),d=await Sl(e,u),p=Rr(s),h=ta(s),y=Os(s)==="y",{width:w,height:v}=i.floating;let E,x;p==="top"||p==="bottom"?(E=p,x=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,E=h==="end"?"top":"bottom");const _=v-d.top-d.bottom,I=w-d.left-d.right,N=Ns(v-d[E],_),D=Ns(w-d[x],I),M=!e.middlewareData.shift;let C=N,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),M&&!h){const R=nn(d.left,0),k=nn(d.right,0),O=nn(d.top,0),P=nn(d.bottom,0);y?T=w-2*(R!==0||k!==0?R+k:nn(d.left,d.right)):C=v-2*(O!==0||P!==0?O+P:nn(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:C});const A=await o.getDimensions(a.floating);return w!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function eh(){return typeof window<"u"}function na(t){return Lb(t)?(t.nodeName||"").toLowerCase():"#document"}function an(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ar(t){var e;return(e=(Lb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Lb(t){return eh()?t instanceof Node||t instanceof an(t).Node:!1}function Ln(t){return eh()?t instanceof Element||t instanceof an(t).Element:!1}function ir(t){return eh()?t instanceof HTMLElement||t instanceof an(t).HTMLElement:!1}function yx(t){return!eh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof an(t).ShadowRoot}function Xl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Vn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function ck(t){return["table","td","th"].includes(na(t))}function th(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function jg(t){const e=Mg(),n=Ln(t)?Vn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function uk(t){let e=Ds(t);for(;ir(e)&&!Lo(e);){if(jg(e))return e;if(th(e))return null;e=Ds(e)}return null}function Mg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lo(t){return["html","body","#document"].includes(na(t))}function Vn(t){return an(t).getComputedStyle(t)}function nh(t){return Ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ds(t){if(na(t)==="html")return t;const e=t.assignedSlot||t.parentNode||yx(t)&&t.host||ar(t);return yx(e)?e.host:e}function Vb(t){const e=Ds(t);return Lo(e)?t.ownerDocument?t.ownerDocument.body:t.body:ir(e)&&Xl(e)?e:Vb(e)}function Cl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Vb(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=an(s);if(i){const a=Kp(o);return e.concat(o,o.visualViewport||[],Xl(s)?s:[],a&&n?Cl(a):[])}return e.concat(s,Cl(s,[],n))}function Kp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Fb(t){const e=Vn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ir(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=rd(n)!==i||rd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Lg(t){return Ln(t)?t:t.contextElement}function go(t){const e=Lg(t);if(!ir(e))return ks(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Fb(e);let o=(i?rd(n.width):n.width)/r,a=(i?rd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const dk=ks(0);function Ub(t){const e=an(t);return!Mg()||!e.visualViewport?dk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==an(t)?!1:e}function xi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Lg(t);let o=ks(1);e&&(r?Ln(r)&&(o=go(r)):o=go(t));const a=hk(i,n,r)?Ub(i):ks(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const h=an(i),y=r&&Ln(r)?an(r):r;let w=h,v=Kp(w);for(;v&&r&&y!==w;){const E=go(v),x=v.getBoundingClientRect(),_=Vn(v),I=x.left+(v.clientLeft+parseFloat(_.paddingLeft))*E.x,N=x.top+(v.clientTop+parseFloat(_.paddingTop))*E.y;l*=E.x,u*=E.y,d*=E.x,p*=E.y,l+=I,u+=N,w=an(v),v=Kp(w)}}return id({width:d,height:p,x:l,y:u})}function fk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ar(r),a=e?th(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=ks(1);const d=ks(0),p=ir(r);if((p||!p&&!i)&&((na(r)!=="body"||Xl(o))&&(l=nh(r)),ir(r))){const h=xi(r);u=go(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function pk(t){return Array.from(t.getClientRects())}function Qp(t,e){const n=nh(t).scrollLeft;return e?e.left+n:xi(ar(t)).left+n}function mk(t){const e=ar(t),n=nh(t),r=t.ownerDocument.body,s=nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Qp(t);const a=-n.scrollTop;return Vn(r).direction==="rtl"&&(o+=nn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function gk(t,e){const n=an(t),r=ar(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Mg();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function yk(t,e){const n=xi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ir(t)?go(t):ks(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function vx(t,e,n){let r;if(e==="viewport")r=gk(t,n);else if(e==="document")r=mk(ar(t));else if(Ln(e))r=yk(e,n);else{const s=Ub(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return id(r)}function $b(t,e){const n=Ds(t);return n===e||!Ln(n)||Lo(n)?!1:Vn(n).position==="fixed"||$b(n,e)}function vk(t,e){const n=e.get(t);if(n)return n;let r=Cl(t,[],!1).filter(a=>Ln(a)&&na(a)!=="body"),s=null;const i=Vn(t).position==="fixed";let o=i?Ds(t):t;for(;Ln(o)&&!Lo(o);){const a=Vn(o),l=jg(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Xl(o)&&!l&&$b(t,o))?r=r.filter(d=>d!==o):s=a,o=Ds(o)}return e.set(t,r),r}function xk(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?th(e)?[]:vk(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const p=vx(e,d,s);return u.top=nn(p.top,u.top),u.right=Ns(p.right,u.right),u.bottom=Ns(p.bottom,u.bottom),u.left=nn(p.left,u.left),u},vx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wk(t){const{width:e,height:n}=Fb(t);return{width:e,height:n}}function _k(t,e,n){const r=ir(e),s=ar(e),i=n==="fixed",o=xi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ks(0);if(r||!r&&!i)if((na(e)!=="body"||Xl(s))&&(a=nh(e)),r){const y=xi(e,!0,i,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else s&&(l.x=Qp(s));let u=0,d=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();d=y.top+a.scrollTop,u=y.left+a.scrollLeft-Qp(s,y)}const p=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:p,y:h,width:o.width,height:o.height}}function Sf(t){return Vn(t).position==="static"}function xx(t,e){if(!ir(t)||Vn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ar(t)===n&&(n=n.ownerDocument.body),n}function zb(t,e){const n=an(t);if(th(t))return n;if(!ir(t)){let s=Ds(t);for(;s&&!Lo(s);){if(Ln(s)&&!Sf(s))return s;s=Ds(s)}return n}let r=xx(t,e);for(;r&&ck(r)&&Sf(r);)r=xx(r,e);return r&&Lo(r)&&Sf(r)&&!jg(r)?n:r||uk(t)||n}const Ek=async function(t){const e=this.getOffsetParent||zb,n=this.getDimensions,r=await n(t.floating);return{reference:_k(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bk(t){return Vn(t).direction==="rtl"}const Tk={convertOffsetParentRelativeRectToViewportRelativeRect:fk,getDocumentElement:ar,getClippingRect:xk,getOffsetParent:zb,getElementRects:Ek,getClientRects:pk,getDimensions:wk,getScale:go,isElement:Ln,isRTL:bk};function Ik(t,e){let n=null,r;const s=ar(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:p,height:h}=t.getBoundingClientRect();if(a||e(),!p||!h)return;const y=Yc(d),w=Yc(s.clientWidth-(u+p)),v=Yc(s.clientHeight-(d+h)),E=Yc(u),_={rootMargin:-y+"px "+-w+"px "+-v+"px "+-E+"px",threshold:nn(0,Ns(1,l))||1};let I=!0;function N(D){const M=D[0].intersectionRatio;if(M!==l){if(!I)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I=!1}try{n=new IntersectionObserver(N,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,_)}n.observe(t)}return o(!0),i}function Sk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Lg(t),d=s||i?[...u?Cl(u):[],...Cl(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const p=u&&a?Ik(u,n):null;let h=-1,y=null;o&&(y=new ResizeObserver(x=>{let[_]=x;_&&_.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var I;(I=y)==null||I.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let w,v=l?xi(t):null;l&&E();function E(){const x=xi(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,w=requestAnimationFrame(E)}return n(),()=>{var x;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),p==null||p(),(x=y)==null||x.disconnect(),y=null,l&&cancelAnimationFrame(w)}}const Ck=ik,Ak=ok,Rk=nk,Pk=lk,Nk=rk,wx=tk,kk=ak,Ok=(t,e,n)=>{const r=new Map,s={platform:Tk,...n},i={...s.platform,_c:r};return ek(t,e,{...s,platform:i})};var vu=typeof document<"u"?b.useLayoutEffect:b.useEffect;function od(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!od(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!od(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Bb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _x(t,e){const n=Bb(t);return Math.round(e*n)/n}function Cf(t){const e=b.useRef(t);return vu(()=>{e.current=t}),e}function Dk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,p]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,y]=b.useState(r);od(h,r)||y(r);const[w,v]=b.useState(null),[E,x]=b.useState(null),_=b.useCallback(L=>{L!==M.current&&(M.current=L,v(L))},[]),I=b.useCallback(L=>{L!==C.current&&(C.current=L,x(L))},[]),N=i||w,D=o||E,M=b.useRef(null),C=b.useRef(null),T=b.useRef(d),A=l!=null,R=Cf(l),k=Cf(s),O=Cf(u),P=b.useCallback(()=>{if(!M.current||!C.current)return;const L={placement:e,strategy:n,middleware:h};k.current&&(L.platform=k.current),Ok(M.current,C.current,L).then(B=>{const X={...B,isPositioned:O.current!==!1};q.current&&!od(T.current,X)&&(T.current=X,Gl.flushSync(()=>{p(X)}))})},[h,e,n,k,O]);vu(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[u]);const q=b.useRef(!1);vu(()=>(q.current=!0,()=>{q.current=!1}),[]),vu(()=>{if(N&&(M.current=N),D&&(C.current=D),N&&D){if(R.current)return R.current(N,D,P);P()}},[N,D,P,R,A]);const se=b.useMemo(()=>({reference:M,floating:C,setReference:_,setFloating:I}),[_,I]),Z=b.useMemo(()=>({reference:N,floating:D}),[N,D]),le=b.useMemo(()=>{const L={position:n,left:0,top:0};if(!Z.floating)return L;const B=_x(Z.floating,d.x),X=_x(Z.floating,d.y);return a?{...L,transform:"translate("+B+"px, "+X+"px)",...Bb(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:X}},[n,a,Z.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:P,refs:se,elements:Z,floatingStyles:le}),[d,P,se,Z,le])}const jk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?wx({element:r.current,padding:s}).fn(n):{}:r?wx({element:r,padding:s}).fn(n):{}}}},Mk=(t,e)=>({...Ck(t),options:[t,e]}),Lk=(t,e)=>({...Ak(t),options:[t,e]}),Vk=(t,e)=>({...kk(t),options:[t,e]}),Fk=(t,e)=>({...Rk(t),options:[t,e]}),Uk=(t,e)=>({...Pk(t),options:[t,e]}),$k=(t,e)=>({...Nk(t),options:[t,e]}),zk=(t,e)=>({...jk(t),options:[t,e]});var Bk="Arrow",Hb=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(je.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Hb.displayName=Bk;var Hk=Hb;function Wk(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:h,children:y,...w}=p,v=(h==null?void 0:h[t][l])||a,E=b.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:y})}function d(p,h){const y=(h==null?void 0:h[t][l])||a,w=b.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,qk(s,...e)]}function qk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Wb(t){const[e,n]=b.useState(void 0);return Ps(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var qb="Popper",[Gb,Kb]=Wk(qb),[oM,Qb]=Gb(qb),Yb="PopperAnchor",Xb=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Qb(Yb,n),o=b.useRef(null),a=Qt(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(je.div,{...s,ref:a})});Xb.displayName=Yb;var Vg="PopperContent",[Gk,Kk]=Gb(Vg),Jb=b.forwardRef((t,e)=>{var yt,Un,$n,Xt,lr,zn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:w,...v}=t,E=Qb(Vg,n),[x,_]=b.useState(null),I=Qt(e,xn=>_(xn)),[N,D]=b.useState(null),M=Wb(N),C=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,P={padding:R,boundary:k.filter(Yk),altBoundary:O},{refs:q,floatingStyles:se,placement:Z,isPositioned:le,middlewareData:L}=Dk({strategy:"fixed",placement:A,whileElementsMounted:(...xn)=>Sk(...xn,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[Mk({mainAxis:s+T,alignmentAxis:o}),l&&Lk({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Vk():void 0,...P}),l&&Fk({...P}),Uk({...P,apply:({elements:xn,rects:cr,availableWidth:Lr,availableHeight:wn})=>{const{width:ca,height:ua}=cr.reference,Ke=xn.floating.style;Ke.setProperty("--radix-popper-available-width",`${Lr}px`),Ke.setProperty("--radix-popper-available-height",`${wn}px`),Ke.setProperty("--radix-popper-anchor-width",`${ca}px`),Ke.setProperty("--radix-popper-anchor-height",`${ua}px`)}}),N&&zk({element:N,padding:a}),Xk({arrowWidth:C,arrowHeight:T}),h&&$k({strategy:"referenceHidden",...P})]}),[B,X]=tT(Z),K=Mn(w);Ps(()=>{le&&(K==null||K())},[le,K]);const J=(yt=L.arrow)==null?void 0:yt.x,te=(Un=L.arrow)==null?void 0:Un.y,Ce=(($n=L.arrow)==null?void 0:$n.centerOffset)!==0,[et,ve]=b.useState();return Ps(()=>{x&&ve(window.getComputedStyle(x).zIndex)},[x]),f.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:le?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[(Xt=L.transformOrigin)==null?void 0:Xt.x,(lr=L.transformOrigin)==null?void 0:lr.y].join(" "),...((zn=L.hide)==null?void 0:zn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(Gk,{scope:n,placedSide:B,onArrowChange:D,arrowX:J,arrowY:te,shouldHideArrow:Ce,children:f.jsx(je.div,{"data-side":B,"data-align":X,...v,ref:I,style:{...v.style,animation:le?void 0:"none"}})})})});Jb.displayName=Vg;var Zb="PopperArrow",Qk={top:"bottom",right:"left",bottom:"top",left:"right"},eT=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Kk(Zb,r),o=Qk[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(Hk,{...s,ref:n,style:{...s.style,display:"block"}})})});eT.displayName=Zb;function Yk(t){return t!==null}var Xk=t=>({name:"transformOrigin",options:t,fn(e){var E,x,_;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=tT(n),p={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,y=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let w="",v="";return u==="bottom"?(w=o?p:`${h}px`,v=`${-l}px`):u==="top"?(w=o?p:`${h}px`,v=`${r.floating.height+l}px`):u==="right"?(w=`${-l}px`,v=o?p:`${y}px`):u==="left"&&(w=`${r.floating.width+l}px`,v=o?p:`${y}px`),{data:{x:w,y:v}}}});function tT(t){const[e,n="center"]=t.split("-");return[e,n]}var Jk=Xb,Zk=Jb,e3=eT,[rh,aM]=Ql("Tooltip",[Kb]),Fg=Kb(),nT="TooltipProvider",t3=700,Ex="tooltip.open",[n3,rT]=rh(nT),sT=t=>{const{__scopeTooltip:e,delayDuration:n=t3,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=b.useState(!0),l=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),f.jsx(n3,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};sT.displayName=nT;var iT="Tooltip",[lM,sh]=rh(iT),Yp="TooltipTrigger",r3=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=sh(Yp,n),i=rT(Yp,n),o=Fg(n),a=b.useRef(null),l=Qt(e,a,s.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),p=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),f.jsx(Jk,{asChild:!0,...o,children:f.jsx(je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:xe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:xe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:xe(t.onBlur,s.onClose),onClick:xe(t.onClick,s.onClose)})})});r3.displayName=Yp;var s3="TooltipPortal",[cM,i3]=rh(s3,{forceMount:void 0}),Vo="TooltipContent",oT=b.forwardRef((t,e)=>{const n=i3(Vo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=sh(Vo,t.__scopeTooltip);return f.jsx(Yl,{present:r||o.open,children:o.disableHoverableContent?f.jsx(aT,{side:s,...i,ref:e}):f.jsx(o3,{side:s,...i,ref:e})})}),o3=b.forwardRef((t,e)=>{const n=sh(Vo,t.__scopeTooltip),r=rT(Vo,t.__scopeTooltip),s=b.useRef(null),i=Qt(e,s),[o,a]=b.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,h=b.useCallback(()=>{a(null),p(!1)},[p]),y=b.useCallback((w,v)=>{const E=w.currentTarget,x={x:w.clientX,y:w.clientY},_=u3(x,E.getBoundingClientRect()),I=d3(x,_),N=h3(v.getBoundingClientRect()),D=p3([...I,...N]);a(D),p(!0)},[p]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const w=E=>y(E,d),v=E=>y(E,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",v)}}},[l,d,y,h]),b.useEffect(()=>{if(o){const w=v=>{const E=v.target,x={x:v.clientX,y:v.clientY},_=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),I=!f3(x,o);_?h():I&&(h(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,u,h]),f.jsx(aT,{...t,ref:i})}),[a3,l3]=rh(iT,{isInside:!1}),aT=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=sh(Vo,n),u=Fg(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(Ex,d),()=>document.removeEventListener(Ex,d)),[d]),b.useEffect(()=>{if(l.trigger){const p=h=>{const y=h.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),f.jsx(Sg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:f.jsxs(Zk,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(GE,{children:r}),f.jsx(a3,{scope:n,isInside:!0,children:f.jsx(i4,{id:l.contentId,role:"tooltip",children:s||r})})]})})});oT.displayName=Vo;var lT="TooltipArrow",c3=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fg(n);return l3(lT,n).isInside?null:f.jsx(e3,{...s,...r,ref:e})});c3.displayName=lT;function u3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function d3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function h3(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function f3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function p3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),m3(e)}function m3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var g3=sT,cT=oT;const y3=g3,v3=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(cT,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));v3.displayName=cT.displayName;var ih=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oh=typeof window>"u"||"Deno"in globalThis;function Tn(){}function x3(t,e){return typeof t=="function"?t(e):t}function w3(t){return typeof t=="number"&&t>=0&&t!==1/0}function _3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bx(t,e){return typeof t=="function"?t(e):t}function E3(t,e){return typeof t=="function"?t(e):t}function Tx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ug(o,e.options))return!1}else if(!Rl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Ix(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Al(e.options.mutationKey)!==Al(i))return!1}else if(!Rl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ug(t,e){return((e==null?void 0:e.queryKeyHashFn)||Al)(t)}function Al(t){return JSON.stringify(t,(e,n)=>Xp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Rl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Rl(t[n],e[n])):!1}function uT(t,e){if(t===e)return t;const n=Sx(t)&&Sx(e);if(n||Xp(t)&&Xp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=uT(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Sx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xp(t){if(!Cx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Cx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Cx(t){return Object.prototype.toString.call(t)==="[object Object]"}function b3(t){return new Promise(e=>{setTimeout(e,t)})}function T3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uT(t,e):e}function I3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function S3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var $g=Symbol();function dT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===$g?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var li,ss,_o,hw,C3=(hw=class extends ih{constructor(){super();we(this,li);we(this,ss);we(this,_o);ue(this,_o,e=>{if(!oh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,ss)||this.setEventListener(U(this,_o))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ss))==null||e.call(this),ue(this,ss,void 0))}setEventListener(e){var n;ue(this,_o,e),(n=U(this,ss))==null||n.call(this),ue(this,ss,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,li)!==e&&(ue(this,li,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,li)=="boolean"?U(this,li):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},li=new WeakMap,ss=new WeakMap,_o=new WeakMap,hw),hT=new C3,Eo,is,bo,fw,A3=(fw=class extends ih{constructor(){super();we(this,Eo,!0);we(this,is);we(this,bo);ue(this,bo,e=>{if(!oh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,is)||this.setEventListener(U(this,bo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,is))==null||e.call(this),ue(this,is,void 0))}setEventListener(e){var n;ue(this,bo,e),(n=U(this,is))==null||n.call(this),ue(this,is,e(this.setOnline.bind(this)))}setOnline(e){U(this,Eo)!==e&&(ue(this,Eo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Eo)}},Eo=new WeakMap,is=new WeakMap,bo=new WeakMap,fw),ad=new A3;function R3(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function P3(t){return Math.min(1e3*2**t,3e4)}function fT(t){return(t??"online")==="online"?ad.isOnline():!0}var pT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Af(t){return t instanceof pT}function mT(t){let e=!1,n=0,r=!1,s;const i=R3(),o=v=>{var E;r||(h(new pT(v)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>hT.isFocused()&&(t.networkMode==="always"||ad.isOnline())&&t.canRun(),d=()=>fT(t.networkMode)&&t.canRun(),p=v=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,v),s==null||s(),i.resolve(v))},h=v=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,v),s==null||s(),i.reject(v))},y=()=>new Promise(v=>{var E;s=x=>{(r||u())&&v(x)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),w=()=>{if(r)return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(p).catch(x=>{var M;if(r)return;const _=t.retry??(oh?0:3),I=t.retryDelay??P3,N=typeof I=="function"?I(n,x):I,D=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,x);if(e||!D){h(x);return}n++,(M=t.onFail)==null||M.call(t,n,x),b3(N).then(()=>u()?void 0:y()).then(()=>{e?h(x):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():y().then(w),i)}}function N3(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Mt=N3(),ci,pw,gT=(pw=class{constructor(){we(this,ci)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),w3(this.gcTime)&&ue(this,ci,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oh?1/0:5*60*1e3))}clearGcTimeout(){U(this,ci)&&(clearTimeout(U(this,ci)),ue(this,ci,void 0))}},ci=new WeakMap,pw),To,Io,hn,It,Ul,ui,In,mr,mw,k3=(mw=class extends gT{constructor(n){super();we(this,In);we(this,To);we(this,Io);we(this,hn);we(this,It);we(this,Ul);we(this,ui);ue(this,ui,!1),ue(this,Ul,n.defaultOptions),this.setOptions(n.options),this.observers=[],ue(this,hn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ue(this,To,D3(this.options)),this.state=n.state??U(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,It))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Ul),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,hn).remove(this)}setData(n,r){const s=T3(this.state.data,n,this.options);return _t(this,In,mr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){_t(this,In,mr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,It))==null?void 0:s.promise;return(i=U(this,It))==null||i.cancel(n),r?r.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,To))}isActive(){return this.observers.some(n=>E3(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$g||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!_3(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,It))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,It))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,hn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,It)&&(U(this,ui)?U(this,It).cancel({revert:!0}):U(this,It).cancelRetry()),this.scheduleGc()),U(this,hn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,In,mr).call(this,{type:"invalidate"})}fetch(n,r){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,It))return U(this,It).continueRetry(),U(this,It).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ue(this,ui,!0),s.signal)})},o=()=>{const h=dT(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),ue(this,ui,!1),this.options.persister?this.options.persister(h,y,this):h(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),ue(this,Io,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&_t(this,In,mr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=h=>{var y,w,v,E;Af(h)&&h.silent||_t(this,In,mr).call(this,{type:"error",error:h}),Af(h)||((w=(y=U(this,hn).config).onError)==null||w.call(y,h,this),(E=(v=U(this,hn).config).onSettled)==null||E.call(v,this.state.data,h,this)),this.scheduleGc()};return ue(this,It,mT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var y,w,v,E;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(w=(y=U(this,hn).config).onSuccess)==null||w.call(y,h,this),(E=(v=U(this,hn).config).onSettled)==null||E.call(v,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,y)=>{_t(this,In,mr).call(this,{type:"failed",failureCount:h,error:y})},onPause:()=>{_t(this,In,mr).call(this,{type:"pause"})},onContinue:()=>{_t(this,In,mr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,It).start()}},To=new WeakMap,Io=new WeakMap,hn=new WeakMap,It=new WeakMap,Ul=new WeakMap,ui=new WeakMap,In=new WeakSet,mr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...O3(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Af(i)&&i.revert&&U(this,Io)?{...U(this,Io),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Mt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,hn).notify({query:this,type:"updated",action:n})})},mw);function O3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function D3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qn,gw,j3=(gw=class extends ih{constructor(e={}){super();we(this,Qn);this.config=e,ue(this,Qn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ug(s,n);let o=this.get(i);return o||(o=new k3({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Qn).has(e.queryHash)||(U(this,Qn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Qn).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Qn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Qn).get(e)}getAll(){return[...U(this,Qn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Tx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Tx(e,r)):n}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qn=new WeakMap,gw),Yn,Dt,di,Xn,Qr,yw,M3=(yw=class extends gT{constructor(n){super();we(this,Xn);we(this,Yn);we(this,Dt);we(this,di);this.mutationId=n.mutationId,ue(this,Dt,n.mutationCache),ue(this,Yn,[]),this.state=n.state||L3(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Yn).includes(n)||(U(this,Yn).push(n),this.clearGcTimeout(),U(this,Dt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ue(this,Yn,U(this,Yn).filter(r=>r!==n)),this.scheduleGc(),U(this,Dt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Yn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Dt).remove(this))}continue(){var n;return((n=U(this,di))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,p,h,y,w,v,E,x,_,I,N,D,M,C,T;ue(this,di,mT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{_t(this,Xn,Qr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{_t(this,Xn,Qr).call(this,{type:"pause"})},onContinue:()=>{_t(this,Xn,Qr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Dt).canRun(this)}));const r=this.state.status==="pending",s=!U(this,di).canStart();try{if(!r){_t(this,Xn,Qr).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=U(this,Dt).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&_t(this,Xn,Qr).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const A=await U(this,di).start();return await((d=(u=U(this,Dt).config).onSuccess)==null?void 0:d.call(u,A,n,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,A,n,this.state.context)),await((w=(y=U(this,Dt).config).onSettled)==null?void 0:w.call(y,A,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,A,null,n,this.state.context)),_t(this,Xn,Qr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(x=U(this,Dt).config).onError)==null?void 0:_.call(x,A,n,this.state.context,this)),await((N=(I=this.options).onError)==null?void 0:N.call(I,A,n,this.state.context)),await((M=(D=U(this,Dt).config).onSettled)==null?void 0:M.call(D,void 0,A,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,A,n,this.state.context)),A}finally{_t(this,Xn,Qr).call(this,{type:"error",error:A})}}finally{U(this,Dt).runNext(this)}}},Yn=new WeakMap,Dt=new WeakMap,di=new WeakMap,Xn=new WeakSet,Qr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mt.batch(()=>{U(this,Yn).forEach(s=>{s.onMutationUpdate(n)}),U(this,Dt).notify({mutation:this,type:"updated",action:n})})},yw);function L3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zt,$l,vw,V3=(vw=class extends ih{constructor(e={}){super();we(this,Zt);we(this,$l);this.config=e,ue(this,Zt,new Map),ue(this,$l,Date.now())}build(e,n,r){const s=new M3({mutationCache:this,mutationId:++Rc(this,$l)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Xc(e),r=U(this,Zt).get(n)??[];r.push(e),U(this,Zt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Xc(e);if(U(this,Zt).has(n)){const s=(r=U(this,Zt).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?U(this,Zt).delete(n):U(this,Zt).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,Zt).get(Xc(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,Zt).get(Xc(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,Zt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ix(n,r))}findAll(e={}){return this.getAll().filter(n=>Ix(e,n))}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Mt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Tn))))}},Zt=new WeakMap,$l=new WeakMap,vw);function Xc(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Ax(t){return{onFetch:(e,n)=>{var d,p,h,y,w;const r=e.options,s=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const E=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=dT(e.options,e.fetchOptions),_=async(I,N,D)=>{if(v)return Promise.reject();if(N==null&&I.pages.length)return Promise.resolve(I);const M={queryKey:e.queryKey,pageParam:N,direction:D?"backward":"forward",meta:e.options.meta};E(M);const C=await x(M),{maxPages:T}=e.options,A=D?S3:I3;return{pages:A(I.pages,C,T),pageParams:A(I.pageParams,N,T)}};if(s&&i.length){const I=s==="backward",N=I?F3:Rx,D={pages:i,pageParams:o},M=N(r,D);a=await _(D,M,I)}else{const I=t??i.length;do{const N=l===0?o[0]??r.initialPageParam:Rx(r,a);if(l>0&&N==null)break;a=await _(a,N),l++}while(l<I)}return a};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Rx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function F3(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var He,os,as,So,Co,ls,Ao,Ro,xw,U3=(xw=class{constructor(t={}){we(this,He);we(this,os);we(this,as);we(this,So);we(this,Co);we(this,ls);we(this,Ao);we(this,Ro);ue(this,He,t.queryCache||new j3),ue(this,os,t.mutationCache||new V3),ue(this,as,t.defaultOptions||{}),ue(this,So,new Map),ue(this,Co,new Map),ue(this,ls,0)}mount(){Rc(this,ls)._++,U(this,ls)===1&&(ue(this,Ao,hT.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,He).onFocus())})),ue(this,Ro,ad.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,He).onOnline())})))}unmount(){var t,e;Rc(this,ls)._--,U(this,ls)===0&&((t=U(this,Ao))==null||t.call(this),ue(this,Ao,void 0),(e=U(this,Ro))==null||e.call(this),ue(this,Ro,void 0))}isFetching(t){return U(this,He).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,os).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,He).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,He).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(bx(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,He).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,He).get(r.queryHash),i=s==null?void 0:s.state.data,o=x3(e,i);if(o!==void 0)return U(this,He).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Mt.batch(()=>U(this,He).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,He).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,He);Mt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,He),r={type:"active",...t};return Mt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Mt.batch(()=>U(this,He).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(t={},e={}){return Mt.batch(()=>{if(U(this,He).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Mt.batch(()=>U(this,He).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Tn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Tn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,He).build(this,e);return n.isStaleByTime(bx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tn).catch(Tn)}fetchInfiniteQuery(t){return t.behavior=Ax(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tn).catch(Tn)}ensureInfiniteQueryData(t){return t.behavior=Ax(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ad.isOnline()?U(this,os).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,He)}getMutationCache(){return U(this,os)}getDefaultOptions(){return U(this,as)}setDefaultOptions(t){ue(this,as,t)}setQueryDefaults(t,e){U(this,So).set(Al(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,So).values()];let n={};return e.forEach(r=>{Rl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,Co).set(Al(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Co).values()];let n={};return e.forEach(r=>{Rl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,as).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ug(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===$g&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,as).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,He).clear(),U(this,os).clear()}},He=new WeakMap,os=new WeakMap,as=new WeakMap,So=new WeakMap,Co=new WeakMap,ls=new WeakMap,Ao=new WeakMap,Ro=new WeakMap,xw),$3=b.createContext(void 0),z3=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx($3.Provider,{value:t,children:e}));const B3=Pg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ft=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Il:"button";return f.jsx(o,{className:$e(B3({variant:e,size:n,className:t})),ref:i,...s})});ft.displayName="Button";const H3=()=>{};var Px={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},W3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(h=64)),r.push(n[d],n[p],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new q3;const h=i<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),p!==64){const w=u<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class q3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G3=function(t){const e=yT(t);return vT.encodeByteArray(e,!0)},ld=function(t){return G3(t).replace(/\./g,"")},xT=function(t){try{return vT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=()=>K3().__FIREBASE_DEFAULTS__,Y3=()=>{if(typeof process>"u"||typeof Px>"u")return;const t=Px.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xT(t[1]);return e&&JSON.parse(e)},ah=()=>{try{return H3()||Q3()||Y3()||X3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wT=t=>{var e,n;return(n=(e=ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},J3=t=>{const e=wT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_T=()=>{var t;return(t=ah())===null||t===void 0?void 0:t.config},ET=t=>{var e;return(e=ah())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){return t.endsWith(".cloudworkstations.dev")}async function bT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ld(JSON.stringify(n)),ld(JSON.stringify(o)),""].join(".")}const el={};function t6(){const t={prod:[],emulator:[]};for(const e of Object.keys(el))el[e]?t.emulator.push(e):t.prod.push(e);return t}function n6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Nx=!1;function TT(t,e){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||el[t]===e||el[t]||Nx)return;el[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=t6().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,y){h.setAttribute("width","24"),h.setAttribute("id",y),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Nx=!0,o()},h}function d(h,y){h.setAttribute("id",y),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function p(){const h=n6(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),x=n("preprendIcon"),_=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const I=h.element;a(I),d(E,v);const N=u();l(_,x),I.append(_,w,E,N),document.body.appendChild(I)}i?(w.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function s6(){var t;const e=(t=ah())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l6(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c6(){return!s6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u6(){try{return typeof indexedDB=="object"}catch{return!1}}function d6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h6,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?f6(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Mr(s,a,r)}}function f6(t,e){return t.replace(p6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const p6=/\{\$([^}]+)}/g;function m6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(kx(i)&&kx(o)){if(!wi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function g6(t,e){const n=new y6(t,e);return n.subscribe.bind(n)}class y6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rf),s.error===void 0&&(s.error=Rf),s.complete===void 0&&(s.complete=Rf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class _i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Z3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_6(e))try{this.getOrInitializeService({instanceIdentifier:ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ni){return this.instances.has(e)}getOptions(e=ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ni){return this.component?this.component.multipleInstances?e:ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w6(t){return t===ni?void 0:t}function _6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const b6={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},T6=fe.INFO,I6={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},S6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=I6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zg{constructor(e){this.name=e,this._logLevel=T6,this._logHandler=S6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const C6=(t,e)=>e.some(n=>t instanceof n);let Ox,Dx;function A6(){return Ox||(Ox=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R6(){return Dx||(Dx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,Jp=new WeakMap,ST=new WeakMap,Pf=new WeakMap,Bg=new WeakMap;function P6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Es(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IT.set(n,t)}).catch(()=>{}),Bg.set(e,t),e}function N6(t){if(Jp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Jp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ST.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k6(t){Zp=t(Zp)}function O6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nf(this),e,...n);return ST.set(r,e.sort?e.sort():[e]),Es(r)}:R6().includes(t)?function(...e){return t.apply(Nf(this),e),Es(IT.get(this))}:function(...e){return Es(t.apply(Nf(this),e))}}function D6(t){return typeof t=="function"?O6(t):(t instanceof IDBTransaction&&N6(t),C6(t,A6())?new Proxy(t,Zp):t)}function Es(t){if(t instanceof IDBRequest)return P6(t);if(Pf.has(t))return Pf.get(t);const e=D6(t);return e!==t&&(Pf.set(t,e),Bg.set(e,t)),e}const Nf=t=>Bg.get(t);function j6(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Es(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Es(o.result),l.oldVersion,l.newVersion,Es(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const M6=["get","getKey","getAll","getAllKeys","count"],L6=["put","add","delete","clear"],kf=new Map;function jx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=L6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||M6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return kf.set(e,i),i}k6(t=>({...t,get:(e,n,r)=>jx(e,n)||t.get(e,n,r),has:(e,n)=>!!jx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function F6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const em="@firebase/app",Mx="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new zg("@firebase/app"),U6="@firebase/app-compat",$6="@firebase/analytics-compat",z6="@firebase/analytics",B6="@firebase/app-check-compat",H6="@firebase/app-check",W6="@firebase/auth",q6="@firebase/auth-compat",G6="@firebase/database",K6="@firebase/data-connect",Q6="@firebase/database-compat",Y6="@firebase/functions",X6="@firebase/functions-compat",J6="@firebase/installations",Z6="@firebase/installations-compat",e5="@firebase/messaging",t5="@firebase/messaging-compat",n5="@firebase/performance",r5="@firebase/performance-compat",s5="@firebase/remote-config",i5="@firebase/remote-config-compat",o5="@firebase/storage",a5="@firebase/storage-compat",l5="@firebase/firestore",c5="@firebase/ai",u5="@firebase/firestore-compat",d5="firebase",h5="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]",f5={[em]:"fire-core",[U6]:"fire-core-compat",[z6]:"fire-analytics",[$6]:"fire-analytics-compat",[H6]:"fire-app-check",[B6]:"fire-app-check-compat",[W6]:"fire-auth",[q6]:"fire-auth-compat",[G6]:"fire-rtdb",[K6]:"fire-data-connect",[Q6]:"fire-rtdb-compat",[Y6]:"fire-fn",[X6]:"fire-fn-compat",[J6]:"fire-iid",[Z6]:"fire-iid-compat",[e5]:"fire-fcm",[t5]:"fire-fcm-compat",[n5]:"fire-perf",[r5]:"fire-perf-compat",[s5]:"fire-rc",[i5]:"fire-rc-compat",[o5]:"fire-gcs",[a5]:"fire-gcs-compat",[l5]:"fire-fst",[u5]:"fire-fst-compat",[c5]:"fire-vertex","fire-js":"fire-js",[d5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Map,p5=new Map,nm=new Map;function Lx(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(nm.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,t);for(const n of cd.values())Lx(n,t);for(const n of p5.values())Lx(n,t);return!0}function Hg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function An(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Zl("app","Firebase",m5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=h5;function CT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tm,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw bs.create("bad-app-name",{appName:String(s)});if(n||(n=_T()),!n)throw bs.create("no-options");const i=cd.get(s);if(i){if(wi(n,i.options)&&wi(r,i.config))return i;throw bs.create("duplicate-app",{appName:s})}const o=new E6(s);for(const l of nm.values())o.addComponent(l);const a=new g5(n,r,o);return cd.set(s,a),a}function AT(t=tm){const e=cd.get(t);if(!e&&t===tm&&_T())return CT();if(!e)throw bs.create("no-app",{appName:t});return e}function Ts(t,e,n){var r;let s=(r=f5[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}Fo(new _i(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="firebase-heartbeat-database",v5=1,Pl="firebase-heartbeat-store";let Of=null;function RT(){return Of||(Of=j6(y5,v5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw bs.create("idb-open",{originalErrorMessage:t.message})})),Of}async function x5(t){try{const n=(await RT()).transaction(Pl),r=await n.objectStore(Pl).get(PT(t));return await n.done,r}catch(e){if(e instanceof Mr)Pr.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function Vx(t,e){try{const r=(await RT()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,PT(t)),await r.done}catch(n){if(n instanceof Mr)Pr.warn(n.message);else{const r=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(r.message)}}}function PT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=1024,_5=30;class E5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>_5){const o=I5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fx(),{heartbeatsToSend:r,unsentEntries:s}=b5(this._heartbeatsCache.heartbeats),i=ld(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Pr.warn(n),""}}}function Fx(){return new Date().toISOString().substring(0,10)}function b5(t,e=w5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ux(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ux(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u6()?d6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ux(t){return ld(JSON.stringify({version:2,heartbeats:t})).length}function I5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){Fo(new _i("platform-logger",e=>new V6(e),"PRIVATE")),Fo(new _i("heartbeat",e=>new E5(e),"PRIVATE")),Ts(em,Mx,t),Ts(em,Mx,"esm2017"),Ts("fire-js","")}S5("");var $x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,NT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function A(){}A.prototype=T.prototype,C.D=T.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(R,k,O){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return T.prototype[k].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,A){A||(A=0);var R=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)R[k]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(k=0;16>k;++k)R[k]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=C.g[0],A=C.g[1],k=C.g[2];var O=C.g[3],P=T+(O^A&(k^O))+R[0]+3614090360&4294967295;T=A+(P<<7&4294967295|P>>>25),P=O+(k^T&(A^k))+R[1]+3905402710&4294967295,O=T+(P<<12&4294967295|P>>>20),P=k+(A^O&(T^A))+R[2]+606105819&4294967295,k=O+(P<<17&4294967295|P>>>15),P=A+(T^k&(O^T))+R[3]+3250441966&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(O^A&(k^O))+R[4]+4118548399&4294967295,T=A+(P<<7&4294967295|P>>>25),P=O+(k^T&(A^k))+R[5]+1200080426&4294967295,O=T+(P<<12&4294967295|P>>>20),P=k+(A^O&(T^A))+R[6]+2821735955&4294967295,k=O+(P<<17&4294967295|P>>>15),P=A+(T^k&(O^T))+R[7]+4249261313&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(O^A&(k^O))+R[8]+1770035416&4294967295,T=A+(P<<7&4294967295|P>>>25),P=O+(k^T&(A^k))+R[9]+2336552879&4294967295,O=T+(P<<12&4294967295|P>>>20),P=k+(A^O&(T^A))+R[10]+4294925233&4294967295,k=O+(P<<17&4294967295|P>>>15),P=A+(T^k&(O^T))+R[11]+2304563134&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(O^A&(k^O))+R[12]+1804603682&4294967295,T=A+(P<<7&4294967295|P>>>25),P=O+(k^T&(A^k))+R[13]+4254626195&4294967295,O=T+(P<<12&4294967295|P>>>20),P=k+(A^O&(T^A))+R[14]+2792965006&4294967295,k=O+(P<<17&4294967295|P>>>15),P=A+(T^k&(O^T))+R[15]+1236535329&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(k^O&(A^k))+R[1]+4129170786&4294967295,T=A+(P<<5&4294967295|P>>>27),P=O+(A^k&(T^A))+R[6]+3225465664&4294967295,O=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(O^T))+R[11]+643717713&4294967295,k=O+(P<<14&4294967295|P>>>18),P=A+(O^T&(k^O))+R[0]+3921069994&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(k^O&(A^k))+R[5]+3593408605&4294967295,T=A+(P<<5&4294967295|P>>>27),P=O+(A^k&(T^A))+R[10]+38016083&4294967295,O=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(O^T))+R[15]+3634488961&4294967295,k=O+(P<<14&4294967295|P>>>18),P=A+(O^T&(k^O))+R[4]+3889429448&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(k^O&(A^k))+R[9]+568446438&4294967295,T=A+(P<<5&4294967295|P>>>27),P=O+(A^k&(T^A))+R[14]+3275163606&4294967295,O=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(O^T))+R[3]+4107603335&4294967295,k=O+(P<<14&4294967295|P>>>18),P=A+(O^T&(k^O))+R[8]+1163531501&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(k^O&(A^k))+R[13]+2850285829&4294967295,T=A+(P<<5&4294967295|P>>>27),P=O+(A^k&(T^A))+R[2]+4243563512&4294967295,O=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(O^T))+R[7]+1735328473&4294967295,k=O+(P<<14&4294967295|P>>>18),P=A+(O^T&(k^O))+R[12]+2368359562&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(A^k^O)+R[5]+4294588738&4294967295,T=A+(P<<4&4294967295|P>>>28),P=O+(T^A^k)+R[8]+2272392833&4294967295,O=T+(P<<11&4294967295|P>>>21),P=k+(O^T^A)+R[11]+1839030562&4294967295,k=O+(P<<16&4294967295|P>>>16),P=A+(k^O^T)+R[14]+4259657740&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(A^k^O)+R[1]+2763975236&4294967295,T=A+(P<<4&4294967295|P>>>28),P=O+(T^A^k)+R[4]+1272893353&4294967295,O=T+(P<<11&4294967295|P>>>21),P=k+(O^T^A)+R[7]+4139469664&4294967295,k=O+(P<<16&4294967295|P>>>16),P=A+(k^O^T)+R[10]+3200236656&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(A^k^O)+R[13]+681279174&4294967295,T=A+(P<<4&4294967295|P>>>28),P=O+(T^A^k)+R[0]+3936430074&4294967295,O=T+(P<<11&4294967295|P>>>21),P=k+(O^T^A)+R[3]+3572445317&4294967295,k=O+(P<<16&4294967295|P>>>16),P=A+(k^O^T)+R[6]+76029189&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(A^k^O)+R[9]+3654602809&4294967295,T=A+(P<<4&4294967295|P>>>28),P=O+(T^A^k)+R[12]+3873151461&4294967295,O=T+(P<<11&4294967295|P>>>21),P=k+(O^T^A)+R[15]+530742520&4294967295,k=O+(P<<16&4294967295|P>>>16),P=A+(k^O^T)+R[2]+3299628645&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(k^(A|~O))+R[0]+4096336452&4294967295,T=A+(P<<6&4294967295|P>>>26),P=O+(A^(T|~k))+R[7]+1126891415&4294967295,O=T+(P<<10&4294967295|P>>>22),P=k+(T^(O|~A))+R[14]+2878612391&4294967295,k=O+(P<<15&4294967295|P>>>17),P=A+(O^(k|~T))+R[5]+4237533241&4294967295,A=k+(P<<21&4294967295|P>>>11),P=T+(k^(A|~O))+R[12]+1700485571&4294967295,T=A+(P<<6&4294967295|P>>>26),P=O+(A^(T|~k))+R[3]+2399980690&4294967295,O=T+(P<<10&4294967295|P>>>22),P=k+(T^(O|~A))+R[10]+4293915773&4294967295,k=O+(P<<15&4294967295|P>>>17),P=A+(O^(k|~T))+R[1]+2240044497&4294967295,A=k+(P<<21&4294967295|P>>>11),P=T+(k^(A|~O))+R[8]+1873313359&4294967295,T=A+(P<<6&4294967295|P>>>26),P=O+(A^(T|~k))+R[15]+4264355552&4294967295,O=T+(P<<10&4294967295|P>>>22),P=k+(T^(O|~A))+R[6]+2734768916&4294967295,k=O+(P<<15&4294967295|P>>>17),P=A+(O^(k|~T))+R[13]+1309151649&4294967295,A=k+(P<<21&4294967295|P>>>11),P=T+(k^(A|~O))+R[4]+4149444226&4294967295,T=A+(P<<6&4294967295|P>>>26),P=O+(A^(T|~k))+R[11]+3174756917&4294967295,O=T+(P<<10&4294967295|P>>>22),P=k+(T^(O|~A))+R[2]+718787259&4294967295,k=O+(P<<15&4294967295|P>>>17),P=A+(O^(k|~T))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var A=T-this.blockSize,R=this.B,k=this.h,O=0;O<T;){if(k==0)for(;O<=A;)s(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<T;)if(R[k++]=C.charCodeAt(O++),k==this.blockSize){s(this,R),k=0;break}}else for(;O<T;)if(R[k++]=C[O++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var A=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=A&255,A/=256;for(this.u(C),C=Array(16),T=A=0;4>T;++T)for(var R=0;32>R;R+=8)C[A++]=this.g[T]>>>R&255;return C};function i(C,T){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=T(C)}function o(C,T){this.h=T;for(var A=[],R=!0,k=C.length-1;0<=k;k--){var O=C[k]|0;R&&O==T||(A[k]=O,R=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return E(u(-C));for(var T=[],A=1,R=0;C>=A;R++)T[R]=C/A|0,A*=4294967296;return new o(T,0)}function d(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return E(d(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(T,8)),R=p,k=0;k<C.length;k+=8){var O=Math.min(8,C.length-k),P=parseInt(C.substring(k,k+O),T);8>O?(O=u(Math.pow(T,O)),R=R.j(O).add(u(P))):(R=R.j(A),R=R.add(u(P)))}return R}var p=l(0),h=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var C=0,T=1,A=0;A<this.g.length;A++){var R=this.i(A);C+=(0<=R?R:4294967296+R)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(v(this))return"-"+E(this).toString(C);for(var T=u(Math.pow(C,6)),A=this,R="";;){var k=N(A,T).g;A=x(A,k.j(T));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=k,w(A))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=x(this,C),v(C)?-1:w(C)?0:1};function E(C){for(var T=C.g.length,A=[],R=0;R<T;R++)A[R]=~C.g[R];return new o(A,~C.h).add(h)}t.abs=function(){return v(this)?E(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0,k=0;k<=T;k++){var O=R+(this.i(k)&65535)+(C.i(k)&65535),P=(O>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);R=P>>>16,O&=65535,P&=65535,A[k]=P<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(C,T){return C.add(E(T))}t.j=function(C){if(w(this)||w(C))return p;if(v(this))return v(C)?E(this).j(E(C)):E(E(this).j(C));if(v(C))return E(this.j(E(C)));if(0>this.l(y)&&0>C.l(y))return u(this.m()*C.m());for(var T=this.g.length+C.g.length,A=[],R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<C.g.length;k++){var O=this.i(R)>>>16,P=this.i(R)&65535,q=C.i(k)>>>16,se=C.i(k)&65535;A[2*R+2*k]+=P*se,_(A,2*R+2*k),A[2*R+2*k+1]+=O*se,_(A,2*R+2*k+1),A[2*R+2*k+1]+=P*q,_(A,2*R+2*k+1),A[2*R+2*k+2]+=O*q,_(A,2*R+2*k+2)}for(R=0;R<T;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=T;R<2*T;R++)A[R]=0;return new o(A,0)};function _(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function I(C,T){this.g=C,this.h=T}function N(C,T){if(w(T))throw Error("division by zero");if(w(C))return new I(p,p);if(v(C))return T=N(E(C),T),new I(E(T.g),E(T.h));if(v(T))return T=N(C,E(T)),new I(E(T.g),T.h);if(30<C.g.length){if(v(C)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var A=h,R=T;0>=R.l(C);)A=D(A),R=D(R);var k=M(A,1),O=M(R,1);for(R=M(R,2),A=M(A,2);!w(R);){var P=O.add(R);0>=P.l(C)&&(k=k.add(A),O=P),R=M(R,1),A=M(A,1)}return T=x(C,k.j(T)),new I(k,T)}for(k=p;0<=C.l(T);){for(A=Math.max(1,Math.floor(C.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(A),P=O.j(T);v(P)||0<P.l(C);)A-=R,O=u(A),P=O.j(T);w(O)&&(O=h),k=k.add(O),C=x(C,P)}return new I(k,C)}t.A=function(C){return N(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)&C.i(R);return new o(A,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)|C.i(R);return new o(A,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)^C.i(R);return new o(A,this.h^C.h)};function D(C){for(var T=C.g.length+1,A=[],R=0;R<T;R++)A[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(A,C.h)}function M(C,T){var A=T>>5;T%=32;for(var R=C.g.length-A,k=[],O=0;O<R;O++)k[O]=0<T?C.i(O+A)>>>T|C.i(O+A+1)<<32-T:C.i(O+A);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Is=o}).apply(typeof $x<"u"?$x:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kT,Ua,OT,xu,rm,DT,jT,MT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,g){return c==Array.prototype||c==Object.prototype||(c[m]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var g=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in g))break e;g=g[j]}c=c[c.length-1],S=g[c],m=m(S),m!=S&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var g=0,S=!1,j={next:function(){if(!S&&g<c.length){var V=g++;return{value:m(V,c[V]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,g){return c.call.apply(c.bind,arguments)}function p(c,m,g){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function h(c,m,g){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,h.apply(null,arguments)}function y(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,m){function g(){}g.prototype=m.prototype,c.aa=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(S,j,V){for(var H=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)H[Ie-2]=arguments[Ie];return m.prototype[j].apply(S,H)}}function v(c){const m=c.length;if(0<m){const g=Array(m);for(let S=0;S<m;S++)g[S]=c[S];return g}return[]}function E(c,m){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const j=c.length||0,V=S.length||0;c.length=j+V;for(let H=0;H<V;H++)c[j+H]=S[H]}else c.push(S)}}class x{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var D=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function M(c,m,g){for(const S in c)m.call(g,c[S],S,c)}function C(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function T(c){const m={};for(const g in c)m[g]=c[g];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,m){let g,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(g in S)c[g]=S[g];for(let V=0;V<A.length;V++)g=A[V],Object.prototype.hasOwnProperty.call(S,g)&&(c[g]=S[g])}}function k(c){var m=1;c=c.split(":");const g=[];for(;0<m&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function O(c){a.setTimeout(()=>{throw c},0)}function P(){var c=B;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class q{constructor(){this.h=this.g=null}add(m,g){const S=se.get();S.set(m,g),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new x(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let le,L=!1,B=new q,X=()=>{const c=a.Promise.resolve(void 0);le=()=>{c.then(K)}};var K=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(g){O(g)}var m=se;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}L=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return c}();function et(c,m){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(D){e:{try{N(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&et.aa.h.call(this)}}w(et,te);var ve={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Un=0;function $n(c,m,g,S,j){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!S,this.ha=j,this.key=++Un,this.da=this.fa=!1}function Xt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function lr(c){this.src=c,this.g={},this.h=0}lr.prototype.add=function(c,m,g,S,j){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var H=xn(c,m,S,j);return-1<H?(m=c[H],g||(m.fa=!1)):(m=new $n(m,this.src,V,!!S,j),m.fa=g,c.push(m)),m};function zn(c,m){var g=m.type;if(g in c.g){var S=c.g[g],j=Array.prototype.indexOf.call(S,m,void 0),V;(V=0<=j)&&Array.prototype.splice.call(S,j,1),V&&(Xt(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function xn(c,m,g,S){for(var j=0;j<c.length;++j){var V=c[j];if(!V.da&&V.listener==m&&V.capture==!!g&&V.ha==S)return j}return-1}var cr="closure_lm_"+(1e6*Math.random()|0),Lr={};function wn(c,m,g,S,j){if(Array.isArray(m)){for(var V=0;V<m.length;V++)wn(c,m[V],g,S,j);return null}return g=ha(g),c&&c[yt]?c.K(m,g,u(S)?!!S.capture:!!S,j):ca(c,m,g,!1,S,j)}function ca(c,m,g,S,j,V){if(!m)throw Error("Invalid event type");var H=u(j)?!!j.capture:!!j,Ie=Vr(c);if(Ie||(c[cr]=Ie=new lr(c)),g=Ie.add(m,g,S,H,V),g.proxy)return g;if(S=ua(),g.proxy=S,S.src=c,S.listener=g,c.addEventListener)Ce||(j=H),j===void 0&&(j=!1),c.addEventListener(m.toString(),S,j);else if(c.attachEvent)c.attachEvent(hc(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ua(){function c(g){return m.call(c.src,c.listener,g)}const m=Nh;return c}function Ke(c,m,g,S,j){if(Array.isArray(m))for(var V=0;V<m.length;V++)Ke(c,m[V],g,S,j);else S=u(S)?!!S.capture:!!S,g=ha(g),c&&c[yt]?(c=c.i,m=String(m).toString(),m in c.g&&(V=c.g[m],g=xn(V,g,S,j),-1<g&&(Xt(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete c.g[m],c.h--)))):c&&(c=Vr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=xn(m,g,S,j)),(g=-1<c?m[c]:null)&&Bn(g))}function Bn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[yt])zn(m.i,c);else{var g=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(g,S,c.capture):m.detachEvent?m.detachEvent(hc(g),S):m.addListener&&m.removeListener&&m.removeListener(S),(g=Vr(m))?(zn(g,c),g.h==0&&(g.src=null,m[cr]=null)):Xt(c)}}}function hc(c){return c in Lr?Lr[c]:Lr[c]="on"+c}function Nh(c,m){if(c.da)c=!0;else{m=new et(m,this);var g=c.listener,S=c.ha||c.src;c.fa&&Bn(c),c=g.call(S,m)}return c}function Vr(c){return c=c[cr],c instanceof lr?c:null}var da="__closure_events_fn_"+(1e9*Math.random()>>>0);function ha(c){return typeof c=="function"?c:(c[da]||(c[da]=function(m){return c.handleEvent(m)}),c[da])}function Qe(){J.call(this),this.i=new lr(this),this.M=this,this.F=null}w(Qe,J),Qe.prototype[yt]=!0,Qe.prototype.removeEventListener=function(c,m,g,S){Ke(this,c,m,g,S)};function ze(c,m){var g,S=c.F;if(S)for(g=[];S;S=S.F)g.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new te(m,c);else if(m instanceof te)m.target=m.target||c;else{var j=m;m=new te(S,c),R(m,j)}if(j=!0,g)for(var V=g.length-1;0<=V;V--){var H=m.g=g[V];j=Qs(H,S,!0,m)&&j}if(H=m.g=c,j=Qs(H,S,!0,m)&&j,j=Qs(H,S,!1,m)&&j,g)for(V=0;V<g.length;V++)H=m.g=g[V],j=Qs(H,S,!1,m)&&j}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var g=c.g[m],S=0;S<g.length;S++)Xt(g[S]);delete c.g[m],c.h--}}this.F=null},Qe.prototype.K=function(c,m,g,S){return this.i.add(String(c),m,!1,g,S)},Qe.prototype.L=function(c,m,g,S){return this.i.add(String(c),m,!0,g,S)};function Qs(c,m,g,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,V=0;V<m.length;++V){var H=m[V];if(H&&!H.da&&H.capture==g){var Ie=H.listener,ct=H.ha||H.src;H.fa&&zn(c.i,H),j=Ie.call(ct,S)!==!1&&j}}return j&&!S.defaultPrevented}function ur(c,m,g){if(typeof c=="function")g&&(c=h(c,g));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function fa(c){c.g=ur(()=>{c.g=null,c.i&&(c.i=!1,fa(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class kh extends J{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(c){J.call(this),this.h=c,this.g={}}w(Fr,J);var pa=[];function fc(c){M(c.g,function(m,g){this.g.hasOwnProperty(g)&&Bn(m)},c),c.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),fc(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=a.JSON.stringify,Hn=a.JSON.parse,Oh=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ie(){}ie.prototype.h=null;function Te(c){return c.h||(c.h=c.i())}function Ee(){}var vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ut(){te.call(this,"d")}w(Ut,te);function Ur(){te.call(this,"c")}w(Ur,te);var dr={},Q0=null;function pc(){return Q0=Q0||new Qe}dr.La="serverreachability";function Y0(c){te.call(this,dr.La,c)}w(Y0,te);function ma(c){const m=pc();ze(m,new Y0(m))}dr.STAT_EVENT="statevent";function X0(c,m){te.call(this,dr.STAT_EVENT,c),this.stat=m}w(X0,te);function Ot(c){const m=pc();ze(m,new X0(m,c))}dr.Ma="timingevent";function J0(c,m){te.call(this,dr.Ma,c),this.size=m}w(J0,te);function ga(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function ya(){this.g=!0}ya.prototype.xa=function(){this.g=!1};function VS(c,m,g,S,j,V){c.info(function(){if(c.g)if(V)for(var H="",Ie=V.split("&"),ct=0;ct<Ie.length;ct++){var ye=Ie[ct].split("=");if(1<ye.length){var xt=ye[0];ye=ye[1];var wt=xt.split("_");H=2<=wt.length&&wt[1]=="type"?H+(xt+"="+ye+"&"):H+(xt+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+m+`
`+g+`
`+H})}function FS(c,m,g,S,j,V,H){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+m+`
`+g+`
`+V+" "+H})}function Li(c,m,g,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+$S(c,g)+(S?" "+S:"")})}function US(c,m){c.info(function(){return"TIMEOUT: "+m})}ya.prototype.info=function(){};function $S(c,m){if(!c.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var S=g[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var V=j[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<j.length;H++)j[H]=""}}}}return Ys(g)}catch{return m}}var mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Z0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dh;function gc(){}w(gc,ie),gc.prototype.g=function(){return new XMLHttpRequest},gc.prototype.i=function(){return{}},Dh=new gc;function $r(c,m,g,S){this.j=c,this.i=m,this.l=g,this.R=S||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ey}function ey(){this.i=null,this.g="",this.h=!1}var ty={},jh={};function Mh(c,m,g){c.L=1,c.v=wc(hr(m)),c.m=g,c.P=!0,ny(c,null)}function ny(c,m){c.F=Date.now(),yc(c),c.A=hr(c.v);var g=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),gy(g.i,"t",S),c.C=0,g=c.j.J,c.h=new ey,c.g=Dy(c.j,g?m:null,!c.m),0<c.O&&(c.M=new kh(h(c.Y,c,c.g),c.O)),m=c.U,g=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(pa[0]=j.toString()),j=pa);for(var V=0;V<j.length;V++){var H=wn(g,j[V],S||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),ma(),VS(c.i,c.u,c.A,c.l,c.R,c.m)}$r.prototype.ca=function(c){c=c.target;const m=this.M;m&&fr(c)==3?m.j():this.Y(c)},$r.prototype.Y=function(c){try{if(c==this.g)e:{const wt=fr(this.g);var m=this.g.Ba();const Ui=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||by(this.g)))){this.J||wt!=4||m==7||(m==8||0>=Ui?ma(3):ma(2)),Lh(this);var g=this.g.Z();this.X=g;t:if(ry(this)){var S=by(this.g);c="";var j=S.length,V=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),va(this);var H="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!(V&&m==j-1)});S.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=g==200,FS(this.i,this.u,this.A,this.l,this.R,wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,ct=this.g;if((Ie=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ie)){var ye=Ie;break t}}ye=null}if(g=ye)Li(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vh(this,g);else{this.o=!1,this.s=3,Ot(12),Xs(this),va(this);break e}}if(this.P){g=!0;let _n;for(;!this.J&&this.C<H.length;)if(_n=zS(this,H),_n==jh){wt==4&&(this.s=4,Ot(14),g=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==ty){this.s=4,Ot(15),Li(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}else Li(this.i,this.l,_n,null),Vh(this,_n);if(ry(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||H.length!=0||this.h.h||(this.s=1,Ot(16),g=!1),this.o=this.o&&g,!g)Li(this.i,this.l,H,"[Invalid Chunked Response]"),Xs(this),va(this);else if(0<H.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Hh(xt),xt.M=!0,Ot(11))}}else Li(this.i,this.l,H,null),Vh(this,H);wt==4&&Xs(this),this.o&&!this.J&&(wt==4?Py(this.j,this):(this.o=!1,yc(this)))}else iC(this.g),g==400&&0<H.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Xs(this),va(this)}}}catch{}finally{}};function ry(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zS(c,m){var g=c.C,S=m.indexOf(`
`,g);return S==-1?jh:(g=Number(m.substring(g,S)),isNaN(g)?ty:(S+=1,S+g>m.length?jh:(m=m.slice(S,S+g),c.C=S+g,m)))}$r.prototype.cancel=function(){this.J=!0,Xs(this)};function yc(c){c.S=Date.now()+c.I,sy(c,c.I)}function sy(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ga(h(c.ba,c),m)}function Lh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}$r.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(US(this.i,this.A),this.L!=2&&(ma(),Ot(17)),Xs(this),this.s=2,va(this)):sy(this,this.S-c)};function va(c){c.j.G==0||c.J||Py(c.j,c)}function Xs(c){Lh(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,fc(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Vh(c,m){try{var g=c.j;if(g.G!=0&&(g.g==c||Fh(g.h,c))){if(!c.K&&Fh(g.h,c)&&g.G==3){try{var S=g.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Sc(g),Tc(g);else break e;Bh(g),Ot(18)}}else g.za=j[1],0<g.za-g.T&&37500>j[2]&&g.F&&g.v==0&&!g.C&&(g.C=ga(h(g.Za,g),6e3));if(1>=ay(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Zs(g,11)}else if((c.K||g.g==c)&&Sc(g),!_(m))for(j=g.Da.g.parse(m),m=0;m<j.length;m++){let ye=j[m];if(g.T=ye[0],ye=ye[1],g.G==2)if(ye[0]=="c"){g.K=ye[1],g.ia=ye[2];const xt=ye[3];xt!=null&&(g.la=xt,g.j.info("VER="+g.la));const wt=ye[4];wt!=null&&(g.Aa=wt,g.j.info("SVER="+g.Aa));const Ui=ye[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(S=1.5*Ui,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const _n=c.g;if(_n){const Ac=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ac){var V=S.h;V.g||Ac.indexOf("spdy")==-1&&Ac.indexOf("quic")==-1&&Ac.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Uh(V,V.h),V.h=null))}if(S.D){const Wh=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Wh&&(S.ya=Wh,Ae(S.I,S.D,Wh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var H=c;if(S.qa=Oy(S,S.J?S.ia:null,S.W),H.K){ly(S.h,H);var Ie=H,ct=S.L;ct&&(Ie.I=ct),Ie.B&&(Lh(Ie),yc(Ie)),S.g=H}else Ay(S);0<g.i.length&&Ic(g)}else ye[0]!="stop"&&ye[0]!="close"||Zs(g,7);else g.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Zs(g,7):zh(g):ye[0]!="noop"&&g.l&&g.l.ta(ye),g.v=0)}}ma(4)}catch{}}var BS=class{constructor(c,m){this.g=c,this.map=m}};function iy(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oy(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ay(c){return c.h?1:c.g?c.g.size:0}function Fh(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Uh(c,m){c.g?c.g.add(m):c.h=m}function ly(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}iy.prototype.cancel=function(){if(this.i=cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cy(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.D);return m}return v(c.i)}function HS(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],g=c.length,S=0;S<g;S++)m.push(c[S]);return m}m=[],g=0;for(S in c)m[g++]=c[S];return m}function WS(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var g=0;g<c;g++)m.push(g);return m}m=[],g=0;for(const S in c)m[g++]=S;return m}}}function uy(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var g=WS(c),S=HS(c),j=S.length,V=0;V<j;V++)m.call(void 0,S[V],g&&g[V],c)}var dy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qS(c,m){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var S=c[g].indexOf("="),j=null;if(0<=S){var V=c[g].substring(0,S);j=c[g].substring(S+1)}else V=c[g];m(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Js(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Js){this.h=c.h,vc(this,c.j),this.o=c.o,this.g=c.g,xc(this,c.s),this.l=c.l;var m=c.i,g=new _a;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),hy(this,g),this.m=c.m}else c&&(m=String(c).match(dy))?(this.h=!1,vc(this,m[1]||"",!0),this.o=xa(m[2]||""),this.g=xa(m[3]||"",!0),xc(this,m[4]),this.l=xa(m[5]||"",!0),hy(this,m[6]||"",!0),this.m=xa(m[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}Js.prototype.toString=function(){var c=[],m=this.j;m&&c.push(wa(m,fy,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(wa(m,fy,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(wa(g,g.charAt(0)=="/"?QS:KS,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",wa(g,XS)),c.join("")};function hr(c){return new Js(c)}function vc(c,m,g){c.j=g?xa(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function xc(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function hy(c,m,g){m instanceof _a?(c.i=m,JS(c.i,c.h)):(g||(m=wa(m,YS)),c.i=new _a(m,c.h))}function Ae(c,m,g){c.i.set(m,g)}function wc(c){return Ae(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xa(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wa(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,GS),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function GS(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fy=/[#\/\?@]/g,KS=/[#\?:]/g,QS=/[#\?]/g,YS=/[#\?@]/g,XS=/#/g;function _a(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function zr(c){c.g||(c.g=new Map,c.h=0,c.i&&qS(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=_a.prototype,t.add=function(c,m){zr(this),this.i=null,c=Vi(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function py(c,m){zr(c),m=Vi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function my(c,m){return zr(c),m=Vi(c,m),c.g.has(m)}t.forEach=function(c,m){zr(this),this.g.forEach(function(g,S){g.forEach(function(j){c.call(m,j,S,this)},this)},this)},t.na=function(){zr(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let S=0;S<m.length;S++){const j=c[S];for(let V=0;V<j.length;V++)g.push(m[S])}return g},t.V=function(c){zr(this);let m=[];if(typeof c=="string")my(this,c)&&(m=m.concat(this.g.get(Vi(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)m=m.concat(c[g])}return m},t.set=function(c,m){return zr(this),this.i=null,c=Vi(this,c),my(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function gy(c,m,g){py(c,m),0<g.length&&(c.i=null,c.g.set(Vi(c,m),v(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var S=m[g];const V=encodeURIComponent(String(S)),H=this.V(S);for(S=0;S<H.length;S++){var j=V;H[S]!==""&&(j+="="+encodeURIComponent(String(H[S]))),c.push(j)}}return this.i=c.join("&")};function Vi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function JS(c,m){m&&!c.j&&(zr(c),c.i=null,c.g.forEach(function(g,S){var j=S.toLowerCase();S!=j&&(py(this,S),gy(this,j,g))},c)),c.j=m}function ZS(c,m){const g=new ya;if(a.Image){const S=new Image;S.onload=y(Br,g,"TestLoadImage: loaded",!0,m,S),S.onerror=y(Br,g,"TestLoadImage: error",!1,m,S),S.onabort=y(Br,g,"TestLoadImage: abort",!1,m,S),S.ontimeout=y(Br,g,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function eC(c,m){const g=new ya,S=new AbortController,j=setTimeout(()=>{S.abort(),Br(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(V=>{clearTimeout(j),V.ok?Br(g,"TestPingServer: ok",!0,m):Br(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Br(g,"TestPingServer: error",!1,m)})}function Br(c,m,g,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(g)}catch{}}function tC(){this.g=new Oh}function nC(c,m,g){const S=g||"";try{uy(c,function(j,V){let H=j;u(j)&&(H=Ys(j)),m.push(S+V+"="+encodeURIComponent(H))})}catch(j){throw m.push(S+"type="+encodeURIComponent("_badmap")),j}}function _c(c){this.l=c.Ub||null,this.j=c.eb||!1}w(_c,ie),_c.prototype.g=function(){return new Ec(this.l,this.j)},_c.prototype.i=function(c){return function(){return c}}({});function Ec(c,m){Qe.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ec,Qe),t=Ec.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ba(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yy(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yy(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ea(this):ba(this),this.readyState==3&&yy(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ea(this))},t.Qa=function(c){this.g&&(this.response=c,Ea(this))},t.ga=function(){this.g&&Ea(this)};function Ea(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ba(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function ba(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vy(c){let m="";return M(c,function(g,S){m+=S,m+=":",m+=g,m+=`\r
`}),m}function $h(c,m,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=vy(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Ae(c,m,g))}function Be(c){Qe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Be,Qe);var rC=/^https?$/i,sC=["POST","PUT"];t=Be.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dh.g(),this.v=this.o?Te(this.o):Te(Dh),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(V){xy(this,V);return}if(c=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)g.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const V of S.keys())g.set(V,S.get(V));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sC,m,void 0))||S||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of g)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ey(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){xy(this,V)}};function xy(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,wy(c),bc(c)}function wy(c){c.A||(c.A=!0,ze(c,"complete"),ze(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ze(this,"complete"),ze(this,"abort"),bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bc(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_y(this):this.bb())},t.bb=function(){_y(this)};function _y(c){if(c.h&&typeof o<"u"&&(!c.v[1]||fr(c)!=4||c.Z()!=2)){if(c.u&&fr(c)==4)ur(c.Ea,0,c);else if(ze(c,"readystatechange"),fr(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var S;if(S=H===0){var j=String(c.D).match(dy)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),S=!rC.test(j?j.toLowerCase():"")}g=S}if(g)ze(c,"complete"),ze(c,"success");else{c.m=6;try{var V=2<fr(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",wy(c)}}finally{bc(c)}}}}function bc(c,m){if(c.g){Ey(c);const g=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||ze(c,"ready");try{g.onreadystatechange=S}catch{}}}function Ey(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function fr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Hn(m)}};function by(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function iC(c){const m={};c=(c.g&&2<=fr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(_(c[S]))continue;var g=k(c[S]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=m[j]||[];m[j]=V,V.push(g)}C(m,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function Ty(c){this.Aa=0,this.i=[],this.j=new ya,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,c),this.cb=Ta("retryDelaySeedMs",1e4,c),this.Wa=Ta("forwardChannelMaxRetries",2,c),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new iy(c&&c.concurrentRequestLimit),this.Da=new tC,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ty.prototype,t.la=8,t.G=1,t.connect=function(c,m,g,S){Ot(0),this.W=c,this.H=m||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=Oy(this,null,this.W),Ic(this)};function zh(c){if(Iy(c),c.G==3){var m=c.U++,g=hr(c.I);if(Ae(g,"SID",c.K),Ae(g,"RID",m),Ae(g,"TYPE","terminate"),Ia(c,g),m=new $r(c,c.j,m),m.L=2,m.v=wc(hr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=Dy(m.j,null),m.g.ea(m.v)),m.F=Date.now(),yc(m)}ky(c)}function Tc(c){c.g&&(Hh(c),c.g.cancel(),c.g=null)}function Iy(c){Tc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Sc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ic(c){if(!oy(c.h)&&!c.s){c.s=!0;var m=c.Ga;le||X(),L||(le(),L=!0),B.add(m,c),c.B=0}}function oC(c,m){return ay(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ga(h(c.Ga,c,m),Ny(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new $r(this,this.j,c);let V=this.o;if(this.S&&(V?(V=T(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(j.H=V,V=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=Cy(this,j,m),g=hr(this.I),Ae(g,"RID",c),Ae(g,"CVER",22),this.D&&Ae(g,"X-HTTP-Session-Id",this.D),Ia(this,g),V&&(this.O?m="headers="+encodeURIComponent(String(vy(V)))+"&"+m:this.m&&$h(g,this.m,V)),Uh(this.h,j),this.Ua&&Ae(g,"TYPE","init"),this.P?(Ae(g,"$req",m),Ae(g,"SID","null"),j.T=!0,Mh(j,g,null)):Mh(j,g,m),this.G=2}}else this.G==3&&(c?Sy(this,c):this.i.length==0||oy(this.h)||Sy(this))};function Sy(c,m){var g;m?g=m.l:g=c.U++;const S=hr(c.I);Ae(S,"SID",c.K),Ae(S,"RID",g),Ae(S,"AID",c.T),Ia(c,S),c.m&&c.o&&$h(S,c.m,c.o),g=new $r(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Cy(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Uh(c.h,g),Mh(g,S,m)}function Ia(c,m){c.H&&M(c.H,function(g,S){Ae(m,S,g)}),c.l&&uy({},function(g,S){Ae(m,S,g)})}function Cy(c,m,g){g=Math.min(c.i.length,g);var S=c.l?h(c.l.Na,c.l,c):null;e:{var j=c.i;let V=-1;for(;;){const H=["count="+g];V==-1?0<g?(V=j[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let Ie=!0;for(let ct=0;ct<g;ct++){let ye=j[ct].g;const xt=j[ct].map;if(ye-=V,0>ye)V=Math.max(0,j[ct].g-100),Ie=!1;else try{nC(xt,H,"req"+ye+"_")}catch{S&&S(xt)}}if(Ie){S=H.join("&");break e}}}return c=c.i.splice(0,g),m.D=c,S}function Ay(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;le||X(),L||(le(),L=!0),B.add(m,c),c.v=0}}function Bh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ga(h(c.Fa,c),Ny(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Ry(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ga(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Tc(this),Ry(this))};function Hh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ry(c){c.g=new $r(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=hr(c.qa);Ae(m,"RID","rpc"),Ae(m,"SID",c.K),Ae(m,"AID",c.T),Ae(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ae(m,"TO",c.ja),Ae(m,"TYPE","xmlhttp"),Ia(c,m),c.m&&c.o&&$h(m,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=wc(hr(m)),g.m=null,g.P=!0,ny(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Tc(this),Bh(this),Ot(19))};function Sc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Py(c,m){var g=null;if(c.g==m){Sc(c),Hh(c),c.g=null;var S=2}else if(Fh(c.h,m))g=m.D,ly(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;S=pc(),ze(S,new J0(S,g)),Ic(c)}else Ay(c);else if(j=m.s,j==3||j==0&&0<m.X||!(S==1&&oC(c,m)||S==2&&Bh(c)))switch(g&&0<g.length&&(m=c.h,m.i=m.i.concat(g)),j){case 1:Zs(c,5);break;case 4:Zs(c,10);break;case 3:Zs(c,6);break;default:Zs(c,2)}}}function Ny(c,m){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*m}function Zs(c,m){if(c.j.info("Error code "+m),m==2){var g=h(c.fb,c),S=c.Xa;const j=!S;S=new Js(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vc(S,"https"),wc(S),j?ZS(S.toString(),g):eC(S.toString(),g)}else Ot(2);c.G=0,c.l&&c.l.sa(m),ky(c),Iy(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function ky(c){if(c.G=0,c.ka=[],c.l){const m=cy(c.h);(m.length!=0||c.i.length!=0)&&(E(c.ka,m),E(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function Oy(c,m,g){var S=g instanceof Js?hr(g):new Js(g);if(S.g!="")m&&(S.g=m+"."+S.g),xc(S,S.s);else{var j=a.location;S=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var V=new Js(null);S&&vc(V,S),m&&(V.g=m),j&&xc(V,j),g&&(V.l=g),S=V}return g=c.D,m=c.ya,g&&m&&Ae(S,g,m),Ae(S,"VER",c.la),Ia(c,S),S}function Dy(c,m,g){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Be(new _c({eb:g})):new Be(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jy(){}t=jy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Cc(){}Cc.prototype.g=function(c,m){return new Jt(c,m)};function Jt(c,m){Qe.call(this),this.g=new Ty(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Fi(this)}w(Jt,Qe),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){zh(this.g)},Jt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Ys(c),c=g);m.i.push(new BS(m.Ya++,c)),m.G==3&&Ic(m)},Jt.prototype.N=function(){this.g.l=null,delete this.j,zh(this.g),delete this.g,Jt.aa.N.call(this)};function My(c){Ut.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(My,Ut);function Ly(){Ur.call(this),this.status=1}w(Ly,Ur);function Fi(c){this.g=c}w(Fi,jy),Fi.prototype.ua=function(){ze(this.g,"a")},Fi.prototype.ta=function(c){ze(this.g,new My(c))},Fi.prototype.sa=function(c){ze(this.g,new Ly)},Fi.prototype.ra=function(){ze(this.g,"b")},Cc.prototype.createWebChannel=Cc.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,MT=function(){return new Cc},jT=function(){return pc()},DT=dr,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mc.NO_ERROR=0,mc.TIMEOUT=8,mc.HTTP_ERROR=6,xu=mc,Z0.COMPLETE="complete",OT=Z0,Ee.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Ua=Ee,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,kT=Be}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const zx="@firebase/firestore",Bx="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new zg("@firebase/firestore");function Bi(){return Ei.logLevel}function G(t,...e){if(Ei.logLevel<=fe.DEBUG){const n=e.map(Wg);Ei.debug(`Firestore (${sa}): ${t}`,...n)}}function Nr(t,...e){if(Ei.logLevel<=fe.ERROR){const n=e.map(Wg);Ei.error(`Firestore (${sa}): ${t}`,...n)}}function Uo(t,...e){if(Ei.logLevel<=fe.WARN){const n=e.map(Wg);Ei.warn(`Firestore (${sa}): ${t}`,...n)}}function Wg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,LT(t,r,n)}function LT(t,e,n){let r=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Nr(r),new Error(r)}function _e(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||LT(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class A5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R5{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new br;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new br,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new br)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new VT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class P5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new P5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=O5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function sm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return de(r,s);{const i=FT(),o=D5(i.encode(Wx(t,n)),i.encode(Wx(e,n)));return o!==0?o:de(r,s)}}n+=r>65535?2:1}return de(t.length,e.length)}function Wx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function D5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return de(t[n],e[n]);return de(t.length,e.length)}function $o(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=-62135596800,Gx=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Gx);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qx)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gx}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new st(0,0))}static max(){return new oe(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="__name__";class Kn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Kn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return de(e.length,n.length)}static compareSegments(e,n){const r=Kn.isNumericId(e),s=Kn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class Oe extends Kn{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const j5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Kn{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return j5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kx}static keyField(){return new ht([Kx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Oe.fromString(e))}static fromName(e){return new ee(Oe.fromString(e).popFirst(5))}static empty(){return new ee(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function M5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new js(s,ee.empty(),e)}function L5(t){return new js(t.readTime,t.key,Nl)}class js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new js(oe.min(),ee.empty(),Nl)}static max(){return new js(oe.max(),ee.empty(),Nl)}}function V5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==F5)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function $5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=-1;function ch(t){return t==null}function ud(t){return t===0&&1/t==-1/0}function z5(t){return typeof t=="number"&&Number.isInteger(t)&&!ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="";function B5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qx(e)),e=H5(t.get(n),e);return Qx(e)}function H5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case $T:n+="";break;default:n+=i}}return n}function Qx(t){return t+$T+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dt.RED,this.left=s??dt.EMPTY,this.right=i??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xx(this.data.getIterator())}getIteratorFrom(e){return new Xx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class Xx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new sn([])}unionWith(e){let n=new it(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BT("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const W5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=W5.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="server_timestamp",WT="__type__",qT="__previous_value__",GT="__local_write_time__";function Gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[WT])===null||n===void 0?void 0:n.stringValue)===HT}function uh(t){const e=t.mapValue.fields[qT];return Gg(e)?uh(e):e}function kl(t){const e=Ms(t.mapValue.fields[GT].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const dd="(default)";class Ol{constructor(e,n){this.projectId=e,this.database=n||dd}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===dd}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="__type__",QT="__max__",eu={mapValue:{fields:{__type__:{stringValue:QT}}}},YT="__vector__",hd="value";function Vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gg(t)?4:K5(t)?9007199254740991:G5(t)?10:11:ne(28295,{value:t})}function or(t,e){if(t===e)return!0;const n=Vs(t);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kl(t).isEqual(kl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ms(s.timestampValue),a=Ms(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ls(s.bytesValue).isEqual(Ls(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return qe(s.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(s.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qe(s.integerValue)===qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=qe(s.doubleValue),a=qe(i.doubleValue);return o===a?ud(o)===ud(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Yx(o)!==Yx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!or(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Dl(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function zo(t,e){if(t===e)return 0;const n=Vs(t),r=Vs(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=qe(i.integerValue||i.doubleValue),l=qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Jx(t.timestampValue,e.timestampValue);case 4:return Jx(kl(t),kl(e));case 5:return sm(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ls(i),l=Ls(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=de(a[u],l[u]);if(d!==0)return d}return de(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=de(qe(i.latitude),qe(o.latitude));return a!==0?a:de(qe(i.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Zx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const p=i.fields||{},h=o.fields||{},y=(a=p[hd])===null||a===void 0?void 0:a.arrayValue,w=(l=h[hd])===null||l===void 0?void 0:l.arrayValue,v=de(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:Zx(y,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===eu.mapValue&&o===eu.mapValue)return 0;if(i===eu.mapValue)return 1;if(o===eu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const h=sm(l[p],d[p]);if(h!==0)return h;const y=zo(a[l[p]],u[d[p]]);if(y!==0)return y}return de(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{Pe:n})}}function Jx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Ms(t),r=Ms(e),s=de(n.seconds,r.seconds);return s!==0?s:de(n.nanos,r.nanos)}function Zx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=zo(n[s],r[s]);if(i)return i}return de(n.length,r.length)}function Bo(t){return im(t)}function im(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ms(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=im(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${im(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function wu(t){switch(Vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uh(t);return e?16+wu(e):16;case 5:return 2*t.stringValue.length;case 6:return Ls(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+wu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ws(r.fields,(i,o)=>{s+=i.length+wu(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function e1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function om(t){return!!t&&"integerValue"in t}function Kg(t){return!!t&&"arrayValue"in t}function t1(t){return!!t&&"nullValue"in t}function n1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _u(t){return!!t&&"mapValue"in t}function G5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[KT])===null||n===void 0?void 0:n.stringValue)===YT}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function K5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_u(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=ht.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=tl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());_u(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];_u(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ws(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Bt(tl(this.value))}}function XT(t){const e=[];return Ws(t.fields,(n,r)=>{const s=new ht([n]);if(_u(r)){const i=XT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,oe.min(),oe.min(),oe.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,oe.min(),oe.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,oe.min(),oe.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.position=e,this.inclusive=n}}function r1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=zo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function s1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{}class Je extends JT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X5(e,n,r):n==="array-contains"?new e9(e,r):n==="in"?new t9(e,r):n==="not-in"?new n9(e,r):n==="array-contains-any"?new r9(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new J5(e,r):new Z5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends JT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Fn(e,n)}matches(e){return ZT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ZT(t){return t.op==="and"}function e2(t){return Y5(t)&&ZT(t)}function Y5(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function am(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(e2(t))return t.filters.map(e=>am(e)).join(",");{const e=t.filters.map(n=>am(n)).join(",");return`${t.op}(${e})`}}function t2(t,e){return t instanceof Je?function(r,s){return s instanceof Je&&r.op===s.op&&r.field.isEqual(s.field)&&or(r.value,s.value)}(t,e):t instanceof Fn?function(r,s){return s instanceof Fn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&t2(o,s.filters[a]),!0):!1}(t,e):void ne(19439)}function n2(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(n2).join(" ,")+"}"}(t):"Filter"}class X5 extends Je{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class J5 extends Je{constructor(e,n){super(e,"in",n),this.keys=r2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z5 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=r2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function r2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class e9 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kg(n)&&Dl(n.arrayValue,this.value)}}class t9 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class n9 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dl(this.value.arrayValue,n)}}class r9 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function i1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new s9(t,e,n,r,s,i,o)}function Qg(t){const e=ae(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>am(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),e.Ie=n}return e.Ie}function Yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s1(t.startAt,e.startAt)&&s1(t.endAt,e.endAt)}function lm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function i9(t,e,n,r,s,i,o,a){return new tc(t,e,n,r,s,i,o,a)}function dh(t){return new tc(t)}function o1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function s2(t){return t.collectionGroup!==null}function nl(t){const e=ae(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new pd(i,r))}),n.has(ht.keyField().canonicalString())||e.Ee.push(new pd(ht.keyField(),r))}return e.Ee}function tr(t){const e=ae(t);return e.de||(e.de=o9(e,nl(t))),e.de}function o9(t,e){if(t.limitType==="F")return i1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new pd(s.field,i)});const n=t.endAt?new fd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fd(t.startAt.position,t.startAt.inclusive):null;return i1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cm(t,e){const n=t.filters.concat([e]);return new tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function um(t,e,n){return new tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return Yg(tr(t),tr(e))&&t.limitType===e.limitType}function i2(t){return`${Qg(tr(t))}|lt:${t.limitType}`}function Hi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>n2(s)).join(", ")}]`),ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Bo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Bo(s)).join(",")),`Target(${r})`}(tr(t))}; limitType=${t.limitType})`}function fh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of nl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=r1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,nl(r),s)||r.endAt&&!function(o,a,l){const u=r1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,nl(r),s))}(t,e)}function a9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function o2(t){return(e,n)=>{let r=!1;for(const s of nl(t)){const i=l9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function l9(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?zo(l,u):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=new Ue(ee.comparator);function kr(){return c9}const a2=new Ue(ee.comparator);function $a(...t){let e=a2;for(const n of t)e=e.insert(n.key,n);return e}function l2(t){let e=a2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oi(){return rl()}function c2(){return rl()}function rl(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const u9=new Ue(ee.comparator),d9=new it(ee.comparator);function pe(...t){let e=d9;for(const n of t)e=e.add(n);return e}const h9=new it(de);function f9(){return h9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function u2(t){return{integerValue:""+t}}function p9(t,e){return z5(e)?u2(e):Xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function m9(t,e,n){return t instanceof md?function(s,i){const o={fields:{[WT]:{stringValue:HT},[GT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Gg(i)&&(i=uh(i)),i&&(o.fields[qT]=i),{mapValue:o}}(n,e):t instanceof jl?h2(t,e):t instanceof Ml?f2(t,e):function(s,i){const o=d2(s,i),a=a1(o)+a1(s.Re);return om(o)&&om(s.Re)?u2(a):Xg(s.serializer,a)}(t,e)}function g9(t,e,n){return t instanceof jl?h2(t,e):t instanceof Ml?f2(t,e):n}function d2(t,e){return t instanceof gd?function(r){return om(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class md extends ph{}class jl extends ph{constructor(e){super(),this.elements=e}}function h2(t,e){const n=p2(e);for(const r of t.elements)n.some(s=>or(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ml extends ph{constructor(e){super(),this.elements=e}}function f2(t,e){let n=p2(e);for(const r of t.elements)n=n.filter(s=>!or(s,r));return{arrayValue:{values:n}}}class gd extends ph{constructor(e,n){super(),this.serializer=e,this.Re=n}}function a1(t){return qe(t.integerValue||t.doubleValue)}function p2(t){return Kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function y9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof jl&&s instanceof jl||r instanceof Ml&&s instanceof Ml?$o(r.elements,s.elements,or):r instanceof gd&&s instanceof gd?or(r.Re,s.Re):r instanceof md&&s instanceof md}(t.transform,e.transform)}class v9{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mh{}function m2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jg(t.key,Dn.none()):new nc(t.key,t.data,Dn.none());{const n=t.data,r=Bt.empty();let s=new it(ht.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new qs(t.key,r,new sn(s.toArray()),Dn.none())}}function x9(t,e,n){t instanceof nc?function(s,i,o){const a=s.value.clone(),l=c1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qs?function(s,i,o){if(!Eu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=c1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(g2(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sl(t,e,n,r){return t instanceof nc?function(i,o,a,l){if(!Eu(i.precondition,o))return a;const u=i.value.clone(),d=u1(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qs?function(i,o,a,l){if(!Eu(i.precondition,o))return a;const u=u1(i.fieldTransforms,l,o),d=o.data;return d.setAll(g2(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Eu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function w9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=d2(r.transform,s||null);i!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,i))}return n||null}function l1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$o(r,s,(i,o)=>y9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nc extends mh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qs extends mh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function g2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function c1(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,g9(o,a,n[s]))}return r}function u1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,m9(i,o,e))}return r}class Jg extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _9 extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&x9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=c2();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=m2(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(n,r)=>l1(n,r))&&$o(this.baseMutations,e.baseMutations,(n,r)=>l1(n,r))}}class Zg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_e(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return u9}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Zg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,me;function I9(t){switch(t){case $.OK:return ne(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function y2(t){if(t===void 0)return Nr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ye.OK:return $.OK;case Ye.CANCELLED:return $.CANCELLED;case Ye.UNKNOWN:return $.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return $.INTERNAL;case Ye.UNAVAILABLE:return $.UNAVAILABLE;case Ye.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ye.NOT_FOUND:return $.NOT_FOUND;case Ye.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ye.ABORTED:return $.ABORTED;case Ye.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ye.DATA_LOSS:return $.DATA_LOSS;default:return ne(39323,{code:t})}}(me=Ye||(Ye={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=new Is([4294967295,4294967295],0);function d1(t){const e=FT().encode(t),n=new NT;return n.update(e),new Uint8Array(n.digest())}function h1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Is([n,r],0),new Is([s,i],0)]}class e0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new za(`Invalid padding: ${n}`);if(r<0)throw new za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new za(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Is.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Is.fromNumber(r)));return s.compare(S9)===1&&(s=new Is([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=d1(e),[r,s]=h1(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new e0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=d1(e),[r,s]=h1(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gh(oe.min(),s,new Ue(de),kr(),pe())}}class rc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rc(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class v2{constructor(e,n){this.targetId=e,this.Ce=n}}class x2{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class f1{constructor(){this.Fe=0,this.Me=p1(),this.xe=gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),n=pe(),r=pe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new rc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=p1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,_e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class C9{constructor(e){this.ze=e,this.je=new Map,this.He=kr(),this.Je=tu(),this.Ye=tu(),this.Ze=new Ue(de)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(lm(i))if(r===0){const o=new ee(i.path);this.tt(n,o,At.newNoDocument(o,oe.min()))}else _e(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ls(r).toUint8Array()}catch(l){if(l instanceof BT)return Uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new e0(o,s,i)}catch(l){return Uo(l instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&lm(a.target)){const l=new ee(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,At.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=pe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new gh(e,n,this.Ze,this.He,r);return this.He=kr(),this.Je=tu(),this.Ye=tu(),this.Ze=new Ue(de),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new f1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new it(de),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new it(de),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new f1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function tu(){return new Ue(ee.comparator)}function p1(){return new Ue(ee.comparator)}const A9={asc:"ASCENDING",desc:"DESCENDING"},R9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P9={and:"AND",or:"OR"};class N9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dm(t,e){return t.useProto3Json||ch(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k9(t,e){return yd(t,e.toTimestamp())}function nr(t){return _e(!!t,49232),oe.fromTimestamp(function(n){const r=Ms(n);return new st(r.seconds,r.nanos)}(t))}function t0(t,e){return hm(t,e).canonicalString()}function hm(t,e){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _2(t){const e=Oe.fromString(t);return _e(S2(e),10190,{key:e.toString()}),e}function fm(t,e){return t0(t.databaseId,e.path)}function Df(t,e){const n=_2(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(b2(n))}function E2(t,e){return t0(t.databaseId,e)}function O9(t){const e=_2(t);return e.length===4?Oe.emptyPath():b2(e)}function pm(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b2(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function m1(t,e,n){return{name:fm(t,e),fields:n.value.mapValue.fields}}function D9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(_e(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(_e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:y2(u.code);return new Y(d,u.message||"")}(o);n=new x2(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Df(t,r.document.name),i=nr(r.document.updateTime),o=r.document.createTime?nr(r.document.createTime):oe.min(),a=new Bt({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new bu(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Df(t,r.document),i=r.readTime?nr(r.readTime):oe.min(),o=At.newNoDocument(s,i),a=r.removedTargetIds||[];n=new bu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Df(t,r.document),i=r.removedTargetIds||[];n=new bu([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new T9(s,i),a=r.targetId;n=new v2(a,o)}}return n}function j9(t,e){let n;if(e instanceof nc)n={update:m1(t,e.key,e.value)};else if(e instanceof Jg)n={delete:fm(t,e.key)};else if(e instanceof qs)n={update:m1(t,e.key,e.data),updateMask:H9(e.fieldMask)};else{if(!(e instanceof _9))return ne(16599,{ft:e.type});n={verify:fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof md)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:k9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function M9(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?nr(s.updateTime):nr(i);return o.isEqual(oe.min())&&(o=nr(i)),new v9(o,s.transformResults||[])}(n,e))):[]}function L9(t,e){return{documents:[E2(t,e.path)]}}function V9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=E2(t,s);const i=function(u){if(u.length!==0)return I2(Fn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Wi(h.field),direction:$9(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function F9(t){let e=O9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_e(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const h=T2(p);return h instanceof Fn&&e2(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(h=>function(w){return new pd(qi(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(p){let h;return h=typeof p=="object"?p.value:p,ch(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(p){const h=!!p.before,y=p.values||[];return new fd(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const h=!p.before,y=p.values||[];return new fd(y,h)}(n.endAt)),i9(e,s,o,i,a,"F",l,u)}function U9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function T2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qi(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qi(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qi(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qi(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(qi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>T2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function $9(t){return A9[t]}function z9(t){return R9[t]}function B9(t){return P9[t]}function Wi(t){return{fieldPath:t.canonicalString()}}function qi(t){return ht.fromServerFormat(t.fieldPath)}function I2(t){return t instanceof Je?function(n){if(n.op==="=="){if(n1(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NAN"}};if(t1(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n1(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NAN"}};if(t1(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wi(n.field),op:z9(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(s=>I2(s));return r.length===1?r[0]:{compositeFilter:{op:B9(n.op),filters:r}}}(t):ne(54877,{filter:t})}function H9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function S2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.wt=e}}function q9(t){const e=F9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.Cn=new K9}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(js.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(js.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class K9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new it(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new it(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C2=41943040;class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(C2,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ho(0)}static lr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="LruGarbageCollector",Q9=1048576;function v1([t,e],[n,r]){const s=de(t,n);return s===0?de(e,r):s}class Y9{constructor(e){this.Er=e,this.buffer=new it(v1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();v1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(y1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oa(n)?G(y1,"Ignoring IndexedDB error during garbage collection: ",n):await ia(n)}await this.mr(3e5)})}}class J9{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(lh.le);const r=new Y9(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(g1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g1):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Bi()<=fe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function Z9(t,e){return new J9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&sl(r.mutation,s,sn.empty(),st.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=oi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=$a();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=kr();const o=rl(),a=function(){return rl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof qs)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),sl(d.mutation,u,d.mutation.getFieldMask(),st.now())):o.set(u.key,sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new tO(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=rl();let s=new Ue((o,a)=>o-a),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||sn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const p=(s.get(a.batchId)||pe()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,p=c2();d.forEach(h=>{if(!i.has(h)){const y=m2(n.get(h),r.get(h));y!==null&&p.set(h,y),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(oi());let a=Nl,l=i;return o.next(u=>F.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,pe())).next(d=>({batchId:a,changes:l2(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=$a();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=$a();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,l=>{const u=function(p,h){return new tc(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((p,h)=>{o=o.insert(p,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,At.newInvalidDocument(d)))});let a=$a();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&sl(d.mutation,u,sn.empty(),st.now()),fh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nr(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:q9(s.bundledQuery),readTime:nr(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.overlays=new Ue(ee.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oi();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=oi(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=oi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=oi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return F.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new b9(n,r));let i=this.Qr.get(n);i===void 0&&(i=pe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.$r=new it(ot.Ur),this.Kr=new it(ot.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new ot(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new ot(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ee(new Oe([])),r=new ot(n,e),s=new ot(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ee(new Oe([])),r=new ot(n,e),s=new ot(n,e+1);let i=pe();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ot(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ee.comparator(e.key,n.key)||de(e.Zr,n.Zr)}static Wr(e,n){return de(e.Zr,n.Zr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new it(ot.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new E9(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new ot(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?qg:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),s=new ot(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(de);return n.forEach(s=>{const i=new ot(s,0),o=new ot(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new ot(new ee(i),0);let a=new it(de);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){_e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,s=>{const i=new ot(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new ot(n,0),s=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.ii=e,this.docs=function(){return new Ue(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=kr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=kr();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||V5(L5(d),r)<=0||(s.has(d.key)||fh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lO(this)}getSize(e){return F.resolve(this.size)}}class lO extends eO{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.persistence=e,this.oi=new Oi(n=>Qg(n),Yg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this._i=0,this.ai=new n0,this.targetCount=0,this.ui=Ho.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.ci={},this.overlays={},this.li=new lh(0),this.hi=!1,this.hi=!0,this.Pi=new iO,this.referenceDelegate=e(this),this.Ti=new cO(this),this.indexManager=new G9,this.remoteDocumentCache=function(s){return new aO(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new W9(n),this.Ei=new rO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new oO(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new uO(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class uO extends U5{constructor(e){super(),this.currentSequenceNumber=e}}class r0{constructor(e){this.persistence=e,this.Vi=new n0,this.mi=null}static fi(e){return new r0(e)}get gi(){if(this.mi)return this.mi;throw ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const s=ee.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class vd{constructor(e,n){this.persistence=e,this.yi=new Oi(r=>B5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Z9(this,n)}static fi(e,n){return new vd(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wu(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new s0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return c6()?8:$5(Nt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new dO;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Bi()<=fe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Hi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(Bi()<=fe.DEBUG&&G("QueryEngine","Query:",Hi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Bi()<=fe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Hi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):F.resolve())}ws(e,n){if(o1(n))return F.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=um(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,um(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,s){return o1(n)||s.isEqual(oe.min())?F.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(Bi()<=fe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hi(n)),this.Fs(e,o,n,M5(s,Nl)).next(a=>a))})}vs(e,n){let r=new it(o2(e));return n.forEach((s,i)=>{fh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return Bi()<=fe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Hi(n)),this.ys.getDocumentsMatchingQuery(e,n,js.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="LocalStore",fO=3e8;class pO{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Ue(de),this.Os=new Oi(i=>Qg(i),Yg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function mO(t,e,n,r){return new pO(t,e,n,r)}async function R2(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=pe();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function gO(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const p=u.batch,h=p.keys();let y=F.resolve();return h.forEach(w=>{y=y.next(()=>d.getEntry(l,w)).next(v=>{const E=u.docVersions.get(w);_e(E!==null,48541),v.version.compareTo(E)<0&&(p.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function P2(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function yO(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,p)=>{const h=s.get(p);if(!h)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,p)));let y=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(gt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(p,y),function(v,E,x){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=fO?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,y,d)&&a.push(n.Ti.updateTargetData(i,y))});let l=kr(),u=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(vO(i,o,e.documentUpdates).next(d=>{l=d.qs,u=d.Qs})),!r.isEqual(oe.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.xs=s,i))}function vO(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=kr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(i0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function xO(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wO(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new hs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function mm(t,e,n){const r=ae(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!oa(o))throw o;G(i0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function x1(t,e,n){const r=ae(t);let s=oe.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const p=ae(l),h=p.Os.get(d);return h!==void 0?F.resolve(p.xs.get(h)):p.Ti.getTargetData(u,d)}(r,o,tr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:pe())).next(a=>(_O(r,a9(e),a),{documents:a,$s:i})))}function _O(t,e,n){let r=t.Ns.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class w1{constructor(){this.activeTargetIds=f9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EO{constructor(){this.xo=new w1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new w1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="ConnectivityMonitor";class E1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G(_1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){G(_1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu=null;function gm(){return nu===null?nu=function(){return 268435456+Math.round(2147483648*Math.random())}():nu++,"0x"+nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",TO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===dd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=gm(),a=this.jo(e,n.toUriEncodedString());G(jf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:u}=new URL(a),d=Jl(u);return this.Jo(e,a,l,r,d).then(p=>(G(jf,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Uo(jf,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=TO[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class CO extends IO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=gm();return new Promise((a,l)=>{const u=new kT;u.setWithCredentials(!0),u.listenOnce(OT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xu.NO_ERROR:const p=u.getResponseJson();G(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case xu.TIMEOUT:G(Tt,`RPC '${e}' ${o} timed out`),l(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:const h=u.getStatus();if(G(Tt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const v=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(w.status);l(new Y(v,w.message))}else l(new Y($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y($.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(Tt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(Tt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=gm(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MT(),a=jT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");G(Tt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);let h=!1,y=!1;const w=new SO({Zo:E=>{y?G(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(h||(G(Tt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),h=!0),G(Tt,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},Xo:()=>p.close()}),v=(E,x,_)=>{E.listen(x,I=>{try{_(I)}catch(N){setTimeout(()=>{throw N},0)}})};return v(p,Ua.EventType.OPEN,()=>{y||(G(Tt,`RPC '${e}' stream ${s} transport opened.`),w.__())}),v(p,Ua.EventType.CLOSE,()=>{y||(y=!0,G(Tt,`RPC '${e}' stream ${s} transport closed`),w.u_())}),v(p,Ua.EventType.ERROR,E=>{y||(y=!0,Uo(Tt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),w.u_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),v(p,Ua.EventType.MESSAGE,E=>{var x;if(!y){const _=E.data[0];_e(!!_,16349);const I=_,N=(I==null?void 0:I.error)||((x=I[0])===null||x===void 0?void 0:x.error);if(N){G(Tt,`RPC '${e}' stream ${s} received error:`,N);const D=N.status;let M=function(A){const R=Ye[A];if(R!==void 0)return y2(R)}(D),C=N.message;M===void 0&&(M=$.INTERNAL,C="Unknown error status: "+D+" with message "+N.message),y=!0,w.u_(new Y(M,C)),p.close()}else G(Tt,`RPC '${e}' stream ${s} received:`,_),w.c_(_)}}),v(a,DT.STAT_EVENT,E=>{E.stat===rm.PROXY?G(Tt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===rm.NOPROXY&&G(Tt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){return new N9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="PersistentStream";class k2{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new N2(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return G(b1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(G(b1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AO extends k2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=D9(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?nr(o.readTime):oe.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=pm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=lm(l)?{documents:L9(i,l)}:{query:V9(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=w2(i,o.resumeToken);const u=dm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=yd(i,o.snapshotVersion.toTimestamp());const u=dm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=U9(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=pm(this.serializer),n.removeTarget=e,this.L_(n)}}class RO extends k2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=M9(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=pm(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>j9(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{}class NO extends PO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,hm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,hm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class kO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Nr(n),this.oa=!1):G("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="RemoteStore";class OO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Di(this)&&(G(bi,"Restarting streams for network reachability change."),await async function(l){const u=ae(l);u.Ta.add(4),await sc(u),u.da.set("Unknown"),u.Ta.delete(4),await vh(u)}(this))})}),this.da=new kO(r,s)}}async function vh(t){if(Di(t))for(const e of t.Ia)await e(!0)}async function sc(t){for(const e of t.Ia)await e(!1)}function O2(t,e){const n=ae(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),c0(n)?l0(n):aa(n).M_()&&a0(n,e))}function o0(t,e){const n=ae(t),r=aa(n);n.Pa.delete(e),r.M_()&&D2(n,e),n.Pa.size===0&&(r.M_()?r.N_():Di(n)&&n.da.set("Unknown"))}function a0(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).H_(e)}function D2(t,e){t.Aa.Ke(e),aa(t).J_(e)}function l0(t){t.Aa=new C9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.da._a()}function c0(t){return Di(t)&&!aa(t).F_()&&t.Pa.size>0}function Di(t){return ae(t).Ta.size===0}function j2(t){t.Aa=void 0}async function DO(t){t.da.set("Online")}async function jO(t){t.Pa.forEach((e,n)=>{a0(t,e)})}async function MO(t,e){j2(t),c0(t)?(t.da.ca(e),l0(t)):t.da.set("Unknown")}async function LO(t,e,n){if(t.da.set("Online"),e instanceof x2&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){G(bi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xd(t,r)}else if(e instanceof bu?t.Aa.Xe(e):e instanceof v2?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(oe.min()))try{const r=await P2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Pa.get(u);d&&i.Pa.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Pa.get(l);if(!d)return;i.Pa.set(l,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),D2(i,l);const p=new hs(d.target,l,u,d.sequenceNumber);a0(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(bi,"Failed to raise snapshot:",r),await xd(t,r)}}async function xd(t,e,n){if(!oa(e))throw e;t.Ta.add(1),await sc(t),t.da.set("Offline"),n||(n=()=>P2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(bi,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await vh(t)})}function M2(t,e){return e().catch(n=>xd(t,n,e))}async function xh(t){const e=ae(t),n=Fs(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:qg;for(;VO(e);)try{const s=await xO(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,FO(e,s)}catch(s){await xd(e,s)}L2(e)&&V2(e)}function VO(t){return Di(t)&&t.ha.length<10}function FO(t,e){t.ha.push(e);const n=Fs(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function L2(t){return Di(t)&&!Fs(t).F_()&&t.ha.length>0}function V2(t){Fs(t).start()}async function UO(t){Fs(t).ta()}async function $O(t){const e=Fs(t);for(const n of t.ha)e.Z_(n.mutations)}async function zO(t,e,n){const r=t.ha.shift(),s=Zg.from(r,e,n);await M2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xh(t)}async function BO(t,e){e&&Fs(t).Y_&&await async function(r,s){if(function(o){return I9(o)&&o!==$.ABORTED}(s.code)){const i=r.ha.shift();Fs(r).O_(),await M2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await xh(r)}}(t,e),L2(t)&&V2(t)}async function T1(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G(bi,"RemoteStore received new credentials");const r=Di(n);n.Ta.add(3),await sc(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await vh(n)}async function HO(t,e){const n=ae(t);e?(n.Ta.delete(2),await vh(n)):e||(n.Ta.add(2),await sc(n),n.da.set("Unknown"))}function aa(t){return t.Ra||(t.Ra=function(n,r,s){const i=ae(n);return i.ra(),new AO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:DO.bind(null,t),n_:jO.bind(null,t),i_:MO.bind(null,t),j_:LO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),c0(t)?l0(t):t.da.set("Unknown")):(await t.Ra.stop(),j2(t))})),t.Ra}function Fs(t){return t.Va||(t.Va=function(n,r,s){const i=ae(n);return i.ra(),new RO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:UO.bind(null,t),i_:BO.bind(null,t),X_:$O.bind(null,t),ea:zO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await xh(t)):(await t.Va.stop(),t.ha.length>0&&(G(bi,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new u0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d0(t,e){if(Nr("AsyncQueue",`${e}: ${t}`),oa(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=$a(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.ma=new Ue(ee.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ne(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wo{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wo(e,n,yo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class qO{constructor(){this.queries=S1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=S1(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function S1(){return new Oi(t=>i2(t),hh)}async function h0(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new WO,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=d0(o,`Initialization of query '${Hi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&p0(n)}async function f0(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GO(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&p0(n)}function KO(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function p0(t){t.ba.forEach(e=>{e.next()})}var ym,C1;(C1=ym||(ym={})).Ca="default",C1.Cache="cache";class m0{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.key=e}}class U2{constructor(e){this.key=e}}class QO{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=pe(),this.mutatedKeys=pe(),this.Ha=o2(e),this.Ja=new yo(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new I1,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const h=s.get(d),y=fh(this.query,p)?p:null,w=!!h&&this.mutatedKeys.has(h.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;h&&y?h.data.isEqual(y.data)?w!==v&&(r.track({type:3,doc:y}),E=!0):this.eu(h,y)||(r.track({type:2,doc:y}),E=!0,(l&&this.Ha(y,l)>0||u&&this.Ha(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),E=!0):h&&!y&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(y?(o=o.add(y),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,p)=>function(y,w){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Vt:E})}};return v(y)-v(w)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new Wo(this.query,e.Ja,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new I1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=pe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new U2(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new F2(r))}),n}su(e){this.Ga=e.$s,this.ja=pe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Wo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const g0="SyncEngine";class YO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XO{constructor(e){this.key=e,this._u=!1}}class JO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Oi(a=>i2(a),hh),this.cu=new Map,this.lu=new Set,this.hu=new Ue(ee.comparator),this.Pu=new Map,this.Tu=new n0,this.Iu={},this.Eu=new Map,this.du=Ho.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function ZO(t,e,n=!0){const r=q2(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await $2(r,e,n,!0),s}async function eD(t,e){const n=q2(t);await $2(n,e,!0,!1)}async function $2(t,e,n,r){const s=await wO(t.localStore,tr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await tD(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&O2(t.remoteStore,s),a}async function tD(t,e,n,r,s){t.Ru=(p,h,y)=>async function(v,E,x,_){let I=E.view.Za(x);I.Cs&&(I=await x1(v.localStore,E.query,!1).then(({documents:C})=>E.view.Za(C,I)));const N=_&&_.targetChanges.get(E.targetId),D=_&&_.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(I,v.isPrimaryClient,N,D);return R1(v,E.targetId,M.ru),M.snapshot}(t,p,h,y);const i=await x1(t.localStore,e,!0),o=new QO(e,i.$s),a=o.Za(i.documents),l=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);R1(t,n,u.ru);const d=new YO(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function nD(t,e,n){const r=ae(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!hh(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&o0(r.remoteStore,s.targetId),vm(r,s.targetId)}).catch(ia)):(vm(r,s.targetId),await mm(r.localStore,s.targetId,!0))}async function rD(t,e){const n=ae(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o0(n.remoteStore,r.targetId))}async function sD(t,e,n){const r=dD(t);try{const s=await function(o,a){const l=ae(o),u=st.now(),d=a.reduce((y,w)=>y.add(w.key),pe());let p,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=kr(),v=pe();return l.Bs.getEntries(y,d).next(E=>{w=E,w.forEach((x,_)=>{_.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,w)).next(E=>{p=E;const x=[];for(const _ of a){const I=w9(_,p.get(_.key).overlayedDocument);I!=null&&x.push(new qs(_.key,I,XT(I.value.mapValue),Dn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,x,a)}).next(E=>{h=E;const x=E.applyToLocalDocumentSet(p,v);return l.documentOverlayCache.saveOverlays(y,E.batchId,x)})}).then(()=>({batchId:h.batchId,changes:l2(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new Ue(de)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,s.batchId,n),await ic(r,s.changes),await xh(r.remoteStore)}catch(s){const i=d0(s,"Failed to persist write");n.reject(i)}}async function z2(t,e){const n=ae(t);try{const r=await yO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?_e(o._u,14607):s.removedDocuments.size>0&&(_e(o._u,42227),o._u=!1))}),await ic(n,r,e)}catch(r){await ia(r)}}function A1(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let u=!1;l.queries.forEach((d,p)=>{for(const h of p.ya)h.Da(a)&&(u=!0)}),u&&p0(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iD(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new Ue(ee.comparator);o=o.insert(i,At.newNoDocument(i,oe.min()));const a=pe().add(i),l=new gh(oe.min(),new Map,new Ue(de),o,a);await z2(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),y0(r)}else await mm(r.localStore,e,!1).then(()=>vm(r,e,n)).catch(ia)}async function oD(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await gO(n.localStore,e);H2(n,r,null),B2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ic(n,s)}catch(s){await ia(s)}}async function aD(t,e,n){const r=ae(t);try{const s=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(_e(p!==null,37113),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);H2(r,e,n),B2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ic(r,s)}catch(s){await ia(s)}}function B2(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function H2(t,e,n){const r=ae(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||W2(t,r)})}function W2(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(o0(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),y0(t))}function R1(t,e,n){for(const r of n)r instanceof F2?(t.Tu.addReference(r.key,e),lD(t,r)):r instanceof U2?(G(g0,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||W2(t,r.key)):ne(19791,{mu:r})}function lD(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(G(g0,"New document in limbo: "+n),t.lu.add(r),y0(t))}function y0(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ee(Oe.fromString(e)),r=t.du.next();t.Pu.set(r,new XO(n)),t.hu=t.hu.insert(n,r),O2(t.remoteStore,new hs(tr(dh(n.path)),r,"TargetPurposeLimboResolution",lh.le))}}async function ic(t,e,n){const r=ae(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){s.push(u);const p=s0.Rs(l.targetId,u);i.push(p)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,u){const d=ae(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(u,h=>F.forEach(h.ds,y=>d.persistence.referenceDelegate.addReference(p,h.targetId,y)).next(()=>F.forEach(h.As,y=>d.persistence.referenceDelegate.removeReference(p,h.targetId,y)))))}catch(p){if(!oa(p))throw p;G(i0,"Failed to update sequence numbers: "+p)}for(const p of u){const h=p.targetId;if(!p.fromCache){const y=d.xs.get(h),w=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(w);d.xs=d.xs.insert(h,v)}}}(r.localStore,i))}async function cD(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G(g0,"User change. New user:",e.toKey());const r=await R2(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new Y($.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ic(n,r.ks)}}function uD(t,e){const n=ae(t),r=n.Pu.get(e);if(r&&r._u)return pe().add(r.key);{let s=pe();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function q2(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=z2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iD.bind(null,e),e.au.j_=GO.bind(null,e.eventManager),e.au.Vu=KO.bind(null,e.eventManager),e}function dD(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return mO(this.persistence,new hO,e.initialUser,this.serializer)}yu(e){return new A2(r0.fi,this.serializer)}pu(e){return new EO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class hD extends wd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){_e(this.persistence.referenceDelegate instanceof vd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new X9(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new A2(r=>vd.fi(r,n),this.serializer)}}class xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cD.bind(null,this.syncEngine),await HO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qO}()}createDatastore(e){const n=yh(e.databaseInfo.databaseId),r=function(i){return new CO(i)}(e.databaseInfo);return function(i,o,a,l){return new NO(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new OO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>A1(this.syncEngine,n,0),function(){return E1.C()?new E1:new bO}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const p=new JO(s,i,o,a,l,u);return d&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);G(bi,"RemoteStore shutting down."),i.Ta.add(5),await sc(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class fD{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=UT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Us,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Us,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lf(t,e){t.asyncQueue.verifyOperationInProgress(),G(Us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await R2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pD(t);G(Us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>T1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>T1(e.remoteStore,s)),t._onlineComponents=e}async function pD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Us,"Using user provided OfflineComponentProvider");try{await Lf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Lf(t,new wd)}}else G(Us,"Using default OfflineComponentProvider"),await Lf(t,new hD(void 0));return t._offlineComponents}async function G2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Us,"Using user provided OnlineComponentProvider"),await P1(t,t._uninitializedComponentsProvider._online)):(G(Us,"Using default OnlineComponentProvider"),await P1(t,new xm))),t._onlineComponents}function mD(t){return G2(t).then(e=>e.syncEngine)}async function _d(t){const e=await G2(t),n=e.eventManager;return n.onListen=ZO.bind(null,e.syncEngine),n.onUnlisten=nD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rD.bind(null,e.syncEngine),n}function gD(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new v0({next:h=>{d.Cu(),o.enqueueAndForget(()=>f0(i,p));const y=h.docs.has(a);!y&&h.fromCache?u.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&h.fromCache&&l&&l.source==="server"?u.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),p=new m0(dh(a.path),d,{includeMetadataChanges:!0,La:!0});return h0(i,p)}(await _d(t),t.asyncQueue,e,n,r)),r.promise}function yD(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new v0({next:h=>{d.Cu(),o.enqueueAndForget(()=>f0(i,p)),h.fromCache&&l.source==="server"?u.reject(new Y($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),p=new m0(a,d,{includeMetadataChanges:!0,La:!0});return h0(i,p)}(await _d(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vD(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k1(t){if(!ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O1(t){if(ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="firestore.googleapis.com",D1=!0;class j1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y2,this.ssl=D1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:D1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q9)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _h{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C5;switch(r.type){case"firstParty":return new N5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=N1.get(n);r&&(G("ComponentProvider","Removing Datastore"),N1.delete(n),r.terminate())}(this),Promise.resolve()}}function xD(t,e,n,r={}){var s;t=ln(t,_h);const i=Jl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(bT(`https://${l}`),TT("Firestore",!0)),o.host!==Y2&&o.host!==l&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!wi(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=St.MOCK_USER;else{d=e6(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new St(h)}t._authCredentials=new A5(new VT(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class Ss extends ji{constructor(e,n,r){super(e,n,dh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ee(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function Ed(t,e,...n){if(t=kt(t),Q2("collection","path",e),t instanceof _h){const r=Oe.fromString(e,...n);return O1(r),new Ss(t,null,r)}{if(!(t instanceof Rt||t instanceof Ss))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return O1(r),new Ss(t.firestore,null,r)}}function ai(t,e,...n){if(t=kt(t),arguments.length===1&&(e=UT.newId()),Q2("doc","path",e),t instanceof _h){const r=Oe.fromString(e,...n);return k1(r),new Rt(t,null,new ee(r))}{if(!(t instanceof Rt||t instanceof Ss))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return k1(r),new Rt(t.firestore,t instanceof Ss?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="AsyncQueue";class L1{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new N2(this,"async_queue_retry"),this.ec=()=>{const r=Mf();r&&G(M1,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Mf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new br;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!oa(e))throw e;G(M1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Nr("INTERNAL UNHANDLED ERROR: ",V1(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=u0.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&ne(47125,{_c:V1(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function V1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class $s extends _h{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new L1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L1(e),this._firestoreClient=void 0,await e}}}function wD(t,e){const n=typeof t=="object"?t:AT(),r=typeof t=="string"?t:dd,s=Hg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=J3("firestore");i&&xD(s,...i)}return s}function Eh(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_D(t),t._firestoreClient}function _D(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new q5(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,K2(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new fD(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(gt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qo(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/^__.*__$/;class bD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new nc(e,this.data,n,this.fieldTransforms)}}class X2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function J2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{hc:t})}}class E0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new E0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return bd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(J2(this.hc)&&ED.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class TD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yh(e)}gc(e,n,r,s=!1){return new E0({hc:e,methodName:n,fc:r,path:ht.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b0(t){const e=t._freezeSettings(),n=yh(t._databaseId);return new TD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ID(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);T0("Data must be an object, but it was:",o,r);const a=Z2(r,o);let l,u;if(i.merge)l=new sn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const h=wm(e,p,n);if(!o.contains(h))throw new Y($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tI(d,h)||d.push(h)}l=new sn(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new bD(new Bt(a),l,u)}class Th extends x0{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function SD(t,e,n,r){const s=t.gc(1,e,n);T0("Data must be an object, but it was:",s,r);const i=[],o=Bt.empty();Ws(r,(l,u)=>{const d=I0(e,l,n);u=kt(u);const p=s.Ac(d);if(u instanceof Th)i.push(d);else{const h=oc(u,p);h!=null&&(i.push(d),o.set(d,h))}});const a=new sn(i);return new X2(o,a,s.fieldTransforms)}function CD(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[wm(e,r,n)],l=[s];if(i.length%2!=0)throw new Y($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(wm(e,i[h])),l.push(i[h+1]);const u=[],d=Bt.empty();for(let h=a.length-1;h>=0;--h)if(!tI(u,a[h])){const y=a[h];let w=l[h];w=kt(w);const v=o.Ac(y);if(w instanceof Th)u.push(y);else{const E=oc(w,v);E!=null&&(u.push(y),d.set(y,E))}}const p=new sn(u);return new X2(d,p,o.fieldTransforms)}function AD(t,e,n,r=!1){return oc(n,t.gc(r?4:3,e))}function oc(t,e){if(eI(t=kt(t)))return T0("Unsupported field value:",e,t),Z2(t,e);if(t instanceof x0)return function(r,s){if(!J2(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=oc(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=st.fromDate(r);return{timestampValue:yd(s.serializer,i)}}if(r instanceof st){const i=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(s.serializer,i)}}if(r instanceof w0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:w2(s.serializer,r._byteString)};if(r instanceof Rt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:t0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof _0)return function(o,a){return{mapValue:{fields:{[KT]:{stringValue:YT},[hd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return Xg(a.serializer,u)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${wh(r)}`)}(t,e)}function Z2(t,e){const n={};return zT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,(r,s)=>{const i=oc(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function eI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof w0||t instanceof qo||t instanceof Rt||t instanceof x0||t instanceof _0)}function T0(t,e,n){if(!eI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=wh(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function wm(t,e,n){if((e=kt(e))instanceof bh)return e._internalPath;if(typeof e=="string")return I0(t,e);throw bd("Field path arguments must be of type string or ",t,!1,void 0,n)}const RD=new RegExp("[~\\*/\\[\\]]");function I0(t,e,n){if(e.search(RD)>=0)throw bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bh(...e.split("."))._internalPath}catch{throw bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y($.INVALID_ARGUMENT,a+t+l)}function tI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(S0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PD extends nI{data(){return super.data()}}function S0(t,e){return typeof e=="string"?I0(t,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C0{}class ND extends C0{}function A0(t,e,...n){let r=[];e instanceof C0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof P0).length,a=i.filter(l=>l instanceof Ih).length;if(o>1||o>0&&a>0)throw new Y($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ih extends ND{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ih(e,n,r)}_apply(e){const n=this._parse(e);return sI(e._query,n),new ji(e.firestore,e.converter,cm(e._query,n))}_parse(e){const n=b0(e.firestore);return function(i,o,a,l,u,d,p){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){$1(p,d);const w=[];for(const v of p)w.push(U1(l,i,v));h={arrayValue:{values:w}}}else h=U1(l,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||$1(p,d),h=AD(a,o,p,d==="in"||d==="not-in");return Je.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function R0(t,e,n){const r=e,s=S0("where",t);return Ih._create(s,r,n)}class P0 extends C0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new P0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)sI(o,l),o=cm(o,l)}(e._query,n),new ji(e.firestore,e.converter,cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function U1(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new Y($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s2(e)&&n.indexOf("/")!==-1)throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!ee.isDocumentKey(r))throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e1(t,new ee(r))}if(n instanceof Rt)return e1(t,n._key);throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function $1(t,e){if(!Array.isArray(t)||t.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kD{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ws(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[hd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>qe(o.doubleValue));return new _0(i)}convertGeoPoint(e){return new w0(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);_e(S2(r),9688,{name:e});const s=new Ol(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||Nr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iI extends nI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(S0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tu extends iI{data(e={}){return super.data(e)}}class oI{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ba(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tu(this._firestore,this._userDataWriter,r.key,r,new Ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Tu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ba(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Tu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ba(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:DD(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t){t=ln(t,Rt);const e=ln(t.firestore,$s);return gD(Eh(e),t._key).then(n=>lI(e,t,n))}class N0 extends kD{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Td(t){t=ln(t,ji);const e=ln(t.firestore,$s),n=Eh(e),r=new N0(e);return rI(t._query),yD(n,t._query).then(s=>new oI(e,r,t,s))}function k0(t,e,n){t=ln(t,Rt);const r=ln(t.firestore,$s),s=OD(t.converter,e,n);return O0(r,[ID(b0(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Dn.none())])}function jD(t,e,n,...r){t=ln(t,Rt);const s=ln(t.firestore,$s),i=b0(s);let o;return o=typeof(e=kt(e))=="string"||e instanceof bh?CD(i,"updateDoc",t._key,e,n,r):SD(i,"updateDoc",t._key,e),O0(s,[o.toMutation(t._key,Dn.exists(!0))])}function MD(t){return O0(ln(t.firestore,$s),[new Jg(t._key,Dn.none())])}function LD(t,...e){var n,r,s;t=kt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||F1(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(F1(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let l,u,d;if(t instanceof Rt)u=ln(t.firestore,$s),d=dh(t._key.path),l={next:p=>{e[o]&&e[o](lI(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=ln(t,ji);u=ln(p.firestore,$s),d=p._query;const h=new N0(u);l={next:y=>{e[o]&&e[o](new oI(u,h,p,y))},error:e[o+1],complete:e[o+2]},rI(t._query)}return function(h,y,w,v){const E=new v0(v),x=new m0(y,E,w);return h.asyncQueue.enqueueAndForget(async()=>h0(await _d(h),x)),()=>{E.Cu(),h.asyncQueue.enqueueAndForget(async()=>f0(await _d(h),x))}}(Eh(u),d,a,l)}function O0(t,e){return function(r,s){const i=new br;return r.asyncQueue.enqueueAndForget(async()=>sD(await mD(r),s,i)),i.promise}(Eh(t),e)}function lI(t,e,n){const r=n.docs.get(e._key),s=new N0(t);return new iI(t,s,e._key,r,new Ba(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){sa=s})(ra),Fo(new _i("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new $s(new R5(r.getProvider("auth-internal")),new k5(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ts(zx,Bx,e),Ts(zx,Bx,"esm2017")})();var VD="firebase",FD="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(VD,FD,"app");function D0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function cI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UD=cI,uI=new Zl("auth","Firebase",cI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new zg("@firebase/auth");function $D(t,...e){Id.logLevel<=fe.WARN&&Id.warn(`Auth (${ra}): ${t}`,...e)}function Iu(t,...e){Id.logLevel<=fe.ERROR&&Id.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw j0(t,...e)}function rr(t,...e){return j0(t,...e)}function dI(t,e,n){const r=Object.assign(Object.assign({},UD()),{[e]:n});return new Zl("auth","Firebase",r).create(e,{appName:t.name})}function Cs(t){return dI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uI.create(t,...e)}function re(t,e,...n){if(!t)throw j0(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Iu(e),new Error(e)}function Dr(t,e){t||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zD(){return z1()==="http:"||z1()==="https:"}function z1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zD()||o6()||"connection"in navigator)?navigator.onLine:!0}function HD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=r6()||a6()}get(){return BD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e){Dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GD=new ac(3e4,6e4);function lc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mi(t,e,n,r,s={}){return fI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ec(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return i6()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(u.credentials="include"),hI.fetch()(await mI(t,t.config.apiHost,n,a),u)})}async function fI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},WD),e);try{const s=new QD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ru(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ru(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ru(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ru(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dI(t,d,u);Or(t,d)}}catch(s){if(s instanceof Mr)throw s;Or(t,"network-request-failed",{message:String(s)})}}async function pI(t,e,n,r,s={}){const i=await Mi(t,e,n,r,s);return"mfaPendingCredential"in i&&Or(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function mI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?M0(t.config,s):`${t.config.apiScheme}://${s}`;return qD.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function KD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),GD.get())})}}function ru(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=rr(t,e,r);return s.customData._tokenResponse=n,s}function B1(t){return t!==void 0&&t.enterprise!==void 0}class YD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XD(t,e){return Mi(t,"GET","/v2/recaptchaConfig",lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e){return Mi(t,"POST","/v1/accounts:delete",e)}async function Sd(t,e){return Mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZD(t,e=!1){const n=kt(t),r=await n.getIdToken(e),s=L0(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:il(Vf(s.auth_time)),issuedAtTime:il(Vf(s.iat)),expirationTime:il(Vf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Vf(t){return Number(t)*1e3}function L0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Iu("JWT malformed, contained fewer than 3 sections"),null;try{const s=xT(n);return s?JSON.parse(s):(Iu("Failed to decode base64 JWT payload"),null)}catch(s){return Iu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function H1(t){const e=L0(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&e8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ll(t,Sd(n,{idToken:r}));re(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?gI(i.providerUserInfo):[],a=r8(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Em(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function n8(t){const e=kt(t);await Cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function gI(t){return t.map(e=>{var{providerId:n}=e,r=D0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(t,e){const n=await fI(t,{},async()=>{const r=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await mI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i8(t,e){return Mi(t,"POST","/v2/accounts:revokeToken",lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=H1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await s8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new vo;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=D0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Em(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZD(this,e)}reload(){return n8(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Ll(this,JD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:N,isAnonymous:D,providerData:M,stsTokenManager:C}=n;re(I&&C,e,"internal-error");const T=vo.fromJSON(this.name,C);re(typeof I=="string",e,"internal-error"),Gr(p,e.name),Gr(h,e.name),re(typeof N=="boolean",e,"internal-error"),re(typeof D=="boolean",e,"internal-error"),Gr(y,e.name),Gr(w,e.name),Gr(v,e.name),Gr(E,e.name),Gr(x,e.name),Gr(_,e.name);const A=new Rn({uid:I,auth:e,email:h,emailVerified:N,displayName:p,isAnonymous:D,photoURL:w,phoneNumber:y,tenantId:v,stsTokenManager:T,createdAt:x,lastLoginAt:_});return M&&Array.isArray(M)&&(A.providerData=M.map(R=>Object.assign({},R))),E&&(A._redirectEventId=E),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new vo;s.updateFromServerResponse(n);const i=new Rn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?gI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new vo;a.updateFromIdToken(r);const l=new Rn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Em(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;function _r(t){Dr(t instanceof Function,"Expected a class definition");let e=W1.get(t);return e?(Dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yI.type="NONE";const q1=yI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t,e,n){return`firebase:${t}:${e}:${n}`}class xo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Su(this.userKey,s.apiKey,i),this.fullPersistenceKey=Su("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sd(this.auth,{idToken:e}).catch(()=>{});return n?Rn._fromGetAccountInfoResponse(this.auth,n,e):null}return Rn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xo(_r(q1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||_r(q1);const o=Su(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let p;if(typeof d=="string"){const h=await Sd(e,{idToken:d}).catch(()=>{});if(!h)break;p=await Rn._fromGetAccountInfoResponse(e,h,d)}else p=Rn._fromJSON(e,d);u!==i&&(a=p),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new xo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new xo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_I(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bI(e))return"Blackberry";if(TI(e))return"Webos";if(xI(e))return"Safari";if((e.includes("chrome/")||wI(e))&&!e.includes("edge/"))return"Chrome";if(EI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vI(t=Nt()){return/firefox\//i.test(t)}function xI(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wI(t=Nt()){return/crios\//i.test(t)}function _I(t=Nt()){return/iemobile/i.test(t)}function EI(t=Nt()){return/android/i.test(t)}function bI(t=Nt()){return/blackberry/i.test(t)}function TI(t=Nt()){return/webos/i.test(t)}function V0(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o8(t=Nt()){var e;return V0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a8(){return l6()&&document.documentMode===10}function II(t=Nt()){return V0(t)||EI(t)||TI(t)||bI(t)||/windows phone/i.test(t)||_I(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e=[]){let n;switch(t){case"Browser":n=G1(Nt());break;case"Worker":n=`${G1(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(t,e={}){return Mi(t,"GET","/v2/passwordPolicy",lc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=6;class d8{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:u8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K1(this),this.idTokenSubscription=new K1(this),this.beforeStateQueue=new l8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sd(this,{idToken:e}),r=await Rn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Cs(this));const n=e?kt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c8(this),n=new d8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$D(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function la(t){return kt(t)}class K1{constructor(e){this.auth=e,this.observer=null,this.addObserver=g6(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f8(t){Sh=t}function CI(t){return Sh.loadJS(t)}function p8(){return Sh.recaptchaEnterpriseScript}function m8(){return Sh.gapiScript}function g8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y8{constructor(){this.enterprise=new v8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const x8="recaptcha-enterprise",AI="NO_RECAPTCHA";class w8{constructor(e){this.type=x8,this.auth=la(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{XD(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new YD(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;B1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(AI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y8().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&B1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=p8();l.length!==0&&(l+=a),CI(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Q1(t,e,n,r=!1,s=!1){const i=new w8(t);let o;if(s)o=AI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function _8(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Q1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Q1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t,e){const n=Hg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(wi(i,e??{}))return s;Or(s,"already-initialized")}return n.initialize({options:e})}function b8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T8(t,e,n){const r=la(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=RI(e),{host:o,port:a}=I8(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(wi(u,r.config.emulator)&&wi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Jl(o)?(bT(`${i}//${o}${l}`),TT("Auth",!0)):S8()}function RI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I8(t){const e=RI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Y1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Y1(o)}}}function Y1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e){return pI(t,"POST","/v1/accounts:signInWithIdp",lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="http://localhost";class Ti extends PI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=D0(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ti(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:C8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends NI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends cc{constructor(){super("facebook.com")}static credential(e){return Ti._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ti._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends cc{constructor(){super("github.com")}static credential(e){return Ti._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends cc{constructor(){super("twitter.com")}static credential(e,n){return Ti._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e){return pI(t,"POST","/v1/accounts:signUp",lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Rn._fromIdTokenResponse(e,r,s),o=X1(r);return new Ii({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=X1(r);return new Ii({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function X1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends Mr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ad.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ad(e,n,r,s)}}function kI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ad._fromErrorAndOperation(t,i,e,r):i})}async function R8(t,e,n=!1){const r=await Ll(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ii._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(t,e,n=!1){const{auth:r}=t;if(An(r.app))return Promise.reject(Cs(r));const s="reauthenticate";try{const i=await Ll(t,kI(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=L0(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Ii._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(t,e,n=!1){if(An(t.app))return Promise.reject(Cs(t));const r="signIn",s=await kI(t,r,e),i=await Ii._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k8(t){const e=la(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O8(t,e,n){if(An(t.app))return Promise.reject(Cs(t));const r=la(t),o=await _8(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&k8(t),l}),a=await Ii._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function D8(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function j8(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}const Rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=1e3,L8=10;class DI extends OI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=II(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);a8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,L8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},M8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DI.type="LOCAL";const V8=DI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI extends OI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jI.type="SESSION";const MI=jI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await F8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=F0("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const h=p;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function $8(t){sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function z8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function H8(){return LI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="firebaseLocalStorageDb",W8=1,Pd="firebaseLocalStorage",FI="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ah(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function q8(){const t=indexedDB.deleteDatabase(VI);return new uc(t).toPromise()}function bm(){const t=indexedDB.open(VI,W8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pd,{keyPath:FI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await q8(),e(await bm()))})})}async function J1(t,e,n){const r=Ah(t,!0).put({[FI]:e,value:n});return new uc(r).toPromise()}async function G8(t,e){const n=Ah(t,!1).get(e),r=await new uc(n).toPromise();return r===void 0?null:r.value}function Z1(t,e){const n=Ah(t,!0).delete(e);return new uc(n).toPromise()}const K8=800,Q8=3;class UI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(H8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await z8(),!this.activeServiceWorker)return;this.sender=new U8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await J1(e,Rd,"1"),await Z1(e,Rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ah(s,!1).getAll();return new uc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UI.type="LOCAL";const Y8=UI;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t,e){return e?_r(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends PI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J8(t){return N8(t.auth,new U0(t),t.bypassAuthState)}function Z8(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),P8(n,new U0(t),t.bypassAuthState)}async function e7(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),R8(n,new U0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J8;case"linkViaPopup":case"linkViaRedirect":return e7;case"reauthViaPopup":case"reauthViaRedirect":return Z8;default:Or(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=new ac(2e3,1e4);class ao extends $I{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=F0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t7.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="pendingRedirect",Cu=new Map;class r7 extends $I{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cu.get(this.auth._key());if(!e){try{const r=await s7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cu.set(this.auth._key(),e)}return this.bypassAuthState||Cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s7(t,e){const n=a7(e),r=o7(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function i7(t,e){Cu.set(t._key(),e)}function o7(t){return _r(t._redirectPersistence)}function a7(t){return Su(n7,t.config.apiKey,t.name)}async function l7(t,e,n=!1){if(An(t.app))return Promise.reject(Cs(t));const r=la(t),s=X8(r,e),o=await new r7(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=10*60*1e3;class u7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c7&&this.cachedEventUids.clear(),this.cachedEventUids.has(ew(e))}saveEventToCache(e){this.cachedEventUids.add(ew(e)),this.lastProcessedEventTime=Date.now()}}function ew(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t,e={}){return Mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p7=/^https?/;async function m7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h7(t);for(const n of e)try{if(g7(n))return}catch{}Or(t,"unauthorized-domain")}function g7(t){const e=_m(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!p7.test(n))return!1;if(f7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=new ac(3e4,6e4);function tw(){const t=sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function v7(t){return new Promise((e,n)=>{var r,s,i;function o(){tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tw(),n(rr(t,"network-request-failed"))},timeout:y7.get()})}if(!((s=(r=sr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=sr().gapi)===null||i===void 0)&&i.load)o();else{const a=g8("iframefcb");return sr()[a]=()=>{gapi.load?o():n(rr(t,"network-request-failed"))},CI(`${m8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Au=null,e})}let Au=null;function x7(t){return Au=Au||v7(t),Au}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new ac(5e3,15e3),_7="__/auth/iframe",E7="emulator/auth/iframe",b7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I7(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M0(e,E7):`https://${t.config.authDomain}/${_7}`,r={apiKey:e.apiKey,appName:t.name,v:ra},s=T7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ec(r).slice(1)}`}async function S7(t){const e=await x7(t),n=sr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:I7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=rr(t,"network-request-failed"),a=sr().setTimeout(()=>{i(o)},w7.get());function l(){sr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A7=500,R7=600,P7="_blank",N7="http://localhost";class nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k7(t,e,n,r=A7,s=R7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},C7),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Nt().toLowerCase();n&&(a=wI(u)?P7:n),vI(u)&&(e=e||N7,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[y,w])=>`${h}${y}=${w},`,"");if(o8(u)&&a!=="_self")return O7(e||"",a),new nw(null);const p=window.open(e||"",a,d);re(p,t,"popup-blocked");try{p.focus()}catch{}return new nw(p)}function O7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7="__/auth/handler",j7="emulator/auth/handler",M7=encodeURIComponent("fac");async function rw(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:s};if(e instanceof NI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",m6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof cc){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${M7}=${encodeURIComponent(l)}`:"";return`${L7(t)}?${ec(a).slice(1)}${u}`}function L7({config:t}){return t.emulator?M0(t,j7):`https://${t.authDomain}/${D7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class V7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MI,this._completeRedirectFn=l7,this._overrideRedirectResult=i7}async _openPopup(e,n,r,s){var i;Dr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await rw(e,n,r,_m(),s);return k7(e,o,F0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await rw(e,n,r,_m(),s);return $8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Dr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S7(e),r=new u7(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ff,{type:Ff},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ff];o!==void 0&&n(!!o),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return II()||xI()||V0()}}const F7=V7;var sw="@firebase/auth",iw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z7(t){Fo(new _i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SI(t)},u=new h8(r,s,i,l);return b8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new _i("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new U7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(sw,iw,$7(t)),Ts(sw,iw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=5*60,H7=ET("authIdTokenMaxAge")||B7;let ow=null;const W7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H7)return;const s=n==null?void 0:n.token;ow!==s&&(ow=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function q7(t=AT()){const e=Hg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E8(t,{popupRedirectResolver:F7,persistence:[Y8,V8,MI]}),r=ET("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=W7(i.toString());j8(n,o,()=>o(n.currentUser)),D8(n,a=>o(a))}}const s=wT("auth");return s&&T8(n,`http://${s}`),n}function G7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}f8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",G7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z7("Browser");const K7={apiKey:"AIzaSyBjQwNUZFoXmRHqIZ1cEHy00zg2Bi66AoA",authDomain:"super-shop-8c46a.firebaseapp.com",projectId:"super-shop-8c46a",storageBucket:"super-shop-8c46a.appspot.com",messagingSenderId:"219933718119",appId:"1:219933718119:web:ede8046f4a117a8c1046c2",measurementId:"G-FLXFFC71TT"},BI=CT(K7),Q7=q7(BI),Pn=wD(BI),HI=b.createContext(void 0),Y7=({children:t})=>{const[e,n]=b.useState(null);b.useEffect(()=>{const l=localStorage.getItem("user");if(l){const u=JSON.parse(l);console.log("AuthContext: User loaded from localStorage:",u),n(u)}},[]),b.useEffect(()=>{if(!(e!=null&&e.id)){console.log("onSnapshot: User ID not available, skipping subscription.");return}const l=String(e.id),u=ai(Pn,"users",l);console.log(`onSnapshot: Attempting to subscribe to user document with ID: ${l}`);const d=LD(u,p=>{if(p.exists()){const h=p.data(),y={...e,...h};n(y),localStorage.setItem("user",JSON.stringify(y)),console.log("onSnapshot: User data updated from Firestore:",y)}else console.log(`onSnapshot: User document with ID ${l} does not exist.`)},p=>{console.error("onSnapshot: Error listening to user document:",p)});return()=>{console.log(`onSnapshot: Unsubscribing from user document with ID: ${l}`),d()}},[e==null?void 0:e.id]);const r=async l=>{if(!l.id)throw new Error("رقم المستخدم (ID) غير موجود");if(!l.email)throw new Error("البريد الإلكتروني للمستخدم غير موجود");const u={name:l.name,id:String(l.id).trim(),email:l.email.toLowerCase().trim(),profilePicture:l.profilePicture||void 0,isAdmin:l.isAdmin||!1,points:l.points||0};console.log("Login: User data received:",l),console.log("Login: User data to store:",u),localStorage.setItem("user",JSON.stringify(u)),n(u)},s=()=>{localStorage.removeItem("user"),n(null)},i=async l=>{if(e)try{const u=ai(Pn,"users",String(e.id));await k0(u,{profilePicture:l,updatedAt:new Date().toISOString()},{merge:!0})}catch(u){console.error("فشل تحديث صورة الملف الشخصي:",u)}},o=async l=>{if(!e||!e.id)throw new Error("يجب تسجيل الدخول أولاً أو معرف المستخدم غير موجود");const u=String(e.id),d=ai(Pn,"users",u);try{await jD(d,{points:l}),n(p=>p&&{...p,points:l})}catch(p){console.error("فشل تحديث النقاط:",p)}},a=async()=>{if(e!=null&&e.id)try{const l=ai(Pn,"users",String(e.id)),u=await aI(l);if(u.exists()){const d=u.data(),p={...e,...d};n(p),localStorage.setItem("user",JSON.stringify(p))}}catch(l){throw console.error("فشل تحديث بيانات المستخدم:",l),l}};return f.jsx(HI.Provider,{value:{user:e,login:r,logout:s,updateProfilePicture:i,updatePoints:o,refreshUserData:a},children:t})},dc=()=>{const t=b.useContext(HI);if(!t)throw new Error("يجب استخدام useAuth داخل AuthProvider");return t},Gs=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(!1),[o,a]=b.useState(null),l=b.useRef(null),u=b.useRef(null),{user:d,logout:p}=dc(),h=()=>e(!t),y=()=>r(!n),w=()=>i(!s);b.useEffect(()=>{const x=_=>{l.current&&!l.current.contains(_.target)&&r(!1),u.current&&!u.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const v=x=>{navigator.clipboard.writeText(x.toString()),ke.success("تم نسخ الأيدي إلى الحافظة")};b.useEffect(()=>{d!=null&&d.profilePicture&&a(d.profilePicture)},[d]),b.useEffect(()=>{const x=localStorage.getItem("user");if(x&&d){const _=JSON.parse(x);_.points!==void 0&&(d.points=_.points)}},[d]);const E=(x=!1)=>f.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg py-4 px-6 text-gray-800 text-sm border border-gray-200 z-50",children:[f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o?f.jsx("img",{src:o,alt:"Profile",className:"w-12 h-12 rounded-full"}):f.jsx(Tf,{className:"w-12 h-12 text-smm-purple"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold truncate",children:d==null?void 0:d.name}),f.jsxs("div",{className:"flex items-center",children:[f.jsxs("p",{className:"text-xs opacity-80",children:["ID: ",d==null?void 0:d.id]}),f.jsx("button",{onClick:()=>v(d==null?void 0:d.id),className:"ml-2 text-gray-500 hover:text-gray-700",children:f.jsx(cx,{className:"w-4 h-4"})})]})]})]}),f.jsx("hr",{className:"my-2"}),f.jsxs("button",{onClick:p,className:"flex items-center w-full text-red-500 hover:bg-red-50 hover:text-red-700 transition-colors py-2 px-4 rounded-lg text-left",children:[f.jsx(R4,{className:"w-5 h-5 mr-2"}),"تسجيل الخروج"]})]});return f.jsxs("nav",{className:"w-full py-4 bg-white shadow-sm relative z-50",children:[f.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[f.jsx(Ne,{to:"/",className:"text-2xl font-bold gradient-text",children:"Super Shop"}),f.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[f.jsx(Ne,{to:"/",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"الرئيسية"}),f.jsx(Ne,{to:"/services",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"الخدمات"}),f.jsx(Ne,{to:"/about-us",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"من نحن"}),f.jsx(Ne,{to:"/order-tracking",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"تتبع الطلبات"}),(d==null?void 0:d.isAdmin)&&f.jsx(Ne,{to:"/dashboard",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"لوحة التحكم"}),!d&&f.jsx(Ne,{to:"/login",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"تسجيل الدخول"}),d&&f.jsxs("div",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-full",children:[f.jsx(lx,{className:"w-5 h-5 text-yellow-500 mr-1"}),f.jsxs("span",{className:"text-sm font-medium",children:[d==null?void 0:d.points," نقاط"]}),f.jsx("button",{className:"ml-2 p-1 rounded-full hover:bg-gray-200 transition-colors",children:f.jsx(N4,{className:"w-4 h-4"})})]}),f.jsx(ft,{asChild:!0,className:"bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:f.jsx(Ne,{to:"/services",children:"ابدأ الآن"})}),d&&f.jsxs("div",{className:"relative",ref:l,children:[f.jsx("button",{onClick:y,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 transition",children:o?f.jsx("img",{src:o,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):f.jsx(Tf,{className:"w-8 h-8 text-smm-purple"})}),n&&E()]})]}),f.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[d&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center bg-gray-100 px-2 py-1 rounded-full",children:[f.jsx(lx,{className:"w-4 h-4 text-yellow-500 mr-1"}),f.jsx("span",{className:"text-xs font-medium",children:d==null?void 0:d.points})]}),f.jsxs("div",{className:"relative",ref:u,children:[f.jsx("button",{onClick:w,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 transition",children:o?f.jsx("img",{src:o,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):f.jsx(Tf,{className:"w-8 h-8 text-smm-purple"})}),s&&E(!0)]})]}),f.jsx(ft,{variant:"ghost",size:"icon",onClick:h,children:t?f.jsx(Tb,{}):f.jsx(P4,{})})]})]}),t&&f.jsx("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-white shadow-md z-50 py-4 px-4",children:f.jsxs("div",{className:"flex flex-col space-y-4",children:[f.jsx(Ne,{to:"/",onClick:h,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"الرئيسية"}),f.jsx(Ne,{to:"/services",onClick:h,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"الخدمات"}),f.jsx(Ne,{to:"/about-us",onClick:h,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"من نحن"}),f.jsx(Ne,{to:"/order-tracking",onClick:h,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"تتبع الطلبات"}),(d==null?void 0:d.isAdmin)&&f.jsx(Ne,{to:"/dashboard",onClick:h,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"لوحة التحكم"}),!d&&f.jsx(Ne,{to:"/login",onClick:h,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"تسجيل الدخول"}),f.jsx(ft,{asChild:!0,className:"bg-gradient-smm hover:bg-smm-purple transition-all duration-300 w-full",children:f.jsx(Ne,{to:"/services",onClick:h,children:"ابدأ الآن"})}),d&&f.jsxs("div",{className:"bg-smm-purple text-white px-4 py-2 rounded-xl text-sm shadow-lg text-right",children:[f.jsx("div",{className:"font-semibold truncate",children:d.name}),f.jsxs("div",{className:"flex items-center justify-end",children:[f.jsxs("span",{className:"text-xs opacity-80",children:["ID: ",d.id]}),f.jsx("button",{onClick:()=>v(d.id),className:"ml-2 text-white opacity-70 hover:opacity-100",children:f.jsx(cx,{className:"w-4 h-4"})})]})]})]})})]})},X7=()=>f.jsxs("div",{className:"relative overflow-hidden bg-white py-12 md:py-24",children:[f.jsx("div",{className:"absolute -top-10 -right-10 w-72 h-72 bg-smm-yellow opacity-10 rounded-full blur-3xl"}),f.jsx("div",{className:"absolute -bottom-10 -left-10 w-80 h-80 bg-smm-purple opacity-10 rounded-full blur-3xl"}),f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[f.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[f.jsx("span",{className:"gradient-text",children:"عزز تواجدك الاجتماعي"})," اليوم"]}),f.jsx("p",{className:"text-gray-600 text-lg md:text-xl mb-8 max-w-2xl",children:"احصل على تفاعل حقيقي لملفاتك الشخصية على وسائل التواصل الاجتماعي. متابعون وإعجابات ومشاهدات عالية الجودة يتم تسليمها بسرعة وأمان."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx(ft,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 transition-all text-white font-medium px-8 py-6",children:f.jsx(Ne,{to:"/services",children:"تصفح الخدمات"})}),f.jsx(ft,{asChild:!0,variant:"outline",className:"border-smm-purple text-smm-purple hover:bg-smm-purple/5 px-8 py-6",children:f.jsx(Ne,{to:"/services",children:"عرض الأسعار"})})]}),f.jsxs("div",{className:"mt-12 flex flex-wrap gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"50K+"}),f.jsx("span",{className:"text-gray-600",children:"طلبات مكتملة"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"100%"}),f.jsx("span",{className:"text-gray-600",children:"رضا العملاء"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"24/7"}),f.jsx("span",{className:"text-gray-600",children:"دعم فني"})]})]})]}),f.jsx("div",{className:"lg:w-1/2 relative",children:f.jsxs("div",{className:"relative w-full h-64 md:h-96 bg-gradient-to-r from-smm-purple to-smm-pink rounded-2xl overflow-hidden shadow-xl animate-float",children:[f.jsx("div",{className:"absolute inset-0 bg-black/10"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"text-white text-center px-6",children:[f.jsx("h3",{className:"text-2xl font-bold mb-2",children:"خدمات مميزة لوسائل التواصل الاجتماعي"}),f.jsx("p",{className:"mb-4",children:"انستغرام، تيك توك، تليجرام، يوتيوب والمزيد"}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full"})}),f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full"})}),f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-red-500 to-pink-500 rounded-full"})}),f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-full"})})]})]})})]})})]})})]}),Ks=()=>f.jsx("footer",{className:"bg-gray-50 pt-12 pb-8",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[f.jsxs("div",{children:[f.jsx(Ne,{to:"/",className:"text-2xl font-bold gradient-text mb-4 inline-block",children:"Hson Store"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"خدمات تسويق مميزة على وسائل التواصل الاجتماعي لمساعدتك على تنمية تواجدك وتفاعلك عبر الإنترنت."}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"فيسبوك"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"انستغرام"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"تويتر"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"تليجرام"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{d:"M22.05 1.577c-.393-.016-.784.08-1.117.235-.484.186-4.92 1.902-9.41 3.64-2.26.873-4.518 1.746-6.256 2.415-1.737.67-3.045 1.168-3.114 1.192-.46.16-1.082.362-1.61.984-.133.155-.267.354-.335.628s-.038.622.095.895c.265.547.714.773 1.244.976 1.76.564 3.58 1.102 5.087 1.608.556 1.96 1.09 3.927 1.618 5.89.174.394.553.54.944.544l-.002.02s.307.03.606-.042c.3-.07.677-.244 1.02-.565.377-.354 1.4-1.36 1.98-1.928l4.37 3.226.035.02s.38.193.768.193c.39 0 .786-.16 1.022-.53.133-.206.2-.494.2-.798.008-.47-.377-1.027-.377-1.027s-3.95-3.604-6.215-5.68c.61-.61 1.223-1.22 1.83-1.83.442-.44.882-.882 1.32-1.325.87-.874 1.152-1.295 1.288-1.53.13-.233.166-.362.166-.362.009-.13.022-.283.006-.466-.04-.33-.2-.617-.48-.817-.28-.203-.67-.248-.67-.248h-3.478c-.392.013-.792.123-1.115.332-.323.2-.584.46-.79.752l-.178.284s-2.05 2.97-3.55 4.84c-1.596 1.987-2.07 1.77-2.07 1.77l-.024-.04s-.114-.066-.19-.215c-.083-.176-.114-.37-.114-.52 0-.36-.004-4.368-.004-4.368s-.146-.414-.493-.604c-.348-.19-.84-.233-.84-.233l-4.75.03s-.368.023-.605.207-.4.555-.264.847c.143.282.453.509.762.781.308.273 7.924 8.575 16.8 12.224 0 0 .883.353 1.427.392.544.04 1.043-.124 1.43-.358.386-.234.58-.494.656-.8.07-.298.07-.703.07-.703.006-.26-.025-.398-.025-.398z"})})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"روابط سريعة"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx(Ne,{to:"/",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الرئيسية"})}),f.jsx("li",{children:f.jsx(Ne,{to:"/services",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الخدمات"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"كيف تعمل"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الأسئلة الشائعة"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"اتصل بنا"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"خدماتنا"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"متابعين انستغرام"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"مشتركين تليجرام"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"إعجابات انستغرام"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"مشاهدات يوتيوب"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"متابعين تيك توك"})})]})]})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-8 flex flex-col md:flex-row justify-between items-center",children:[f.jsxs("p",{className:"text-gray-500 text-sm",children:["© ",new Date().getFullYear()," HSON STORE. جميع الحقوق محفوظة."]}),f.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[f.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"سياسة الخصوصية"}),f.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"شروط الخدمة"}),f.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"سياسة الاسترداد"})]})]})]})}),Si=b.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:$e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Si.displayName="Card";const Go=b.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:$e("flex flex-col space-y-1.5 p-6",t),...e}));Go.displayName="CardHeader";const Ko=b.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:$e("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ko.displayName="CardTitle";const $0=b.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:$e("text-sm text-muted-foreground",t),...e}));$0.displayName="CardDescription";const Ci=b.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:$e("p-6 pt-0",t),...e}));Ci.displayName="CardContent";const Nd=b.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:$e("flex items-center p-6 pt-0",t),...e}));Nd.displayName="CardFooter";const J7=()=>{const t=[{name:"Instagrams",icon:"📸",description:"احصل على متابعين حقيقيين وإعجابات وتعليقات على انستغرام"},{name:"Telegram",icon:"✈️",description:"نمو قناتك على تليجرام مع مشتركين حقيقيين"},{name:"TikTok",icon:"🎵",description:"زيادة مشاهداتك ومتابعيك وتفاعلك على تيك توك"},{name:"YouTube",icon:"🎬",description:"عزز مشاهداتك ومشتركيك ووقت المشاهدة على يوتيوب"}];return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Gs,{}),f.jsxs("main",{className:"flex-grow",children:[f.jsx(X7,{}),f.jsx("section",{className:"py-16 bg-gray-50",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"المنصات التي ندعمها"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"نقدم خدمات عالية الجودة لوسائل التواصل الاجتماعي عبر جميع المنصات الرئيسية لمساعدتك على تنمية تواجدك عبر الإنترنت."})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>f.jsx(Si,{className:"hover:shadow-md transition-shadow",children:f.jsx(Ci,{className:"p-6",children:f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("span",{className:"text-4xl mb-4",children:e.icon}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.name}),f.jsx("p",{className:"text-gray-600",children:e.description})]})})},n))})]})}),f.jsx("section",{className:"py-16",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"كيف تعمل"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"عمليتنا بسيطة وسريعة ومصممة لتحقيق النتائج بسرعة."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"1"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"اختر باقة"}),f.jsx("p",{className:"text-gray-600",children:"تصفح مجموعتنا من الخدمات واختر الباقة التي تناسب احتياجاتك."})]}),f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"2"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"أكمل الدفع"}),f.jsx("p",{className:"text-gray-600",children:"ادفع بأمان باستخدام طرق الدفع المختلفة لدينا، بما في ذلك رصيد آسيا سيل."})]}),f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"3"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"شاهد نموك"}),f.jsx("p",{className:"text-gray-600",children:"استرخ وشاهد بينما نقدم تفاعلاً عالي الجودة لملفاتك الشخصية على وسائل التواصل الاجتماعي."})]})]}),f.jsx("div",{className:"text-center mt-12",children:f.jsx(ft,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 px-8 py-6",children:f.jsx(Ne,{to:"/services",children:"ابدأ الآن"})})})]})}),f.jsx("section",{className:"py-16 bg-gradient-smm text-white",children:f.jsxs("div",{className:"container mx-auto px-4 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"هل أنت مستعد لتعزيز تواجدك الاجتماعي؟"}),f.jsx("p",{className:"text-white/80 max-w-2xl mx-auto mb-8",children:"انضم إلى آلاف العملاء الراضين الذين نجحوا في تنمية تواجدهم على وسائل التواصل الاجتماعي من خلال خدماتنا المتميزة."}),f.jsx(ft,{asChild:!0,className:"bg-white text-smm-purple hover:bg-white/90 px-8 py-6",children:f.jsx(Ne,{to:"/services",children:"عرض جميع الخدمات"})})]})})]}),f.jsx(Ks,{})]})},Wt=b.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Wt.displayName="Input";var Z7="Label",WI=b.forwardRef((t,e)=>f.jsx(je.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WI.displayName=Z7;var qI=WI;const ej=Pg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tt=b.forwardRef(({className:t,...e},n)=>f.jsx(qI,{ref:n,className:$e(ej(),t),...e}));tt.displayName=qI.displayName;const tj=({title:t,description:e,price:n,features:r,popular:s=!1,platform:i,icon:o,quantity:a,id:l,minQuantity:u,pointsPerUnit:d})=>{const[p,h]=b.useState(u||a||0),y=Zo();b.useEffect(()=>{h(u||a||0)},[u,a]),console.log("ServiceCard:",{id:l,title:t,minQuantity:u,pointsPerUnit:d,selectedQuantity:p,calculatedPoints:u&&d?Math.ceil(p/u)*d:n});const w=x=>{const _=parseInt(x.target.value,10);if(!isNaN(_)&&u){let I=_;I<u?I=u:(I=Math.round(I/u)*u,I<u&&(I=u)),h(I)}else h(u||0)},v=u&&d?Math.ceil(p/u)*d:n,E=()=>{const x=new URLSearchParams;x.append("service",l),u&&d?(x.append("minQuantity",u.toString()),x.append("pointsPerUnit",d.toString()),x.append("points",(v==null?void 0:v.toString())||"0"),x.append("quantity",p.toString())):(x.append("points",(n==null?void 0:n.toString())||"0"),x.append("quantity",(a==null?void 0:a.toString())||"0")),y(`/payment?${x.toString()}`)};return f.jsxs(Si,{className:`w-full transition-all duration-300 hover:shadow-lg ${s?"border-2 border-smm-pink relative":""}`,children:[s&&f.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-smm-pink text-white text-sm py-1 px-3 rounded-full",children:"الاختيار الأكثر شيوعًا"}),f.jsxs(Go,{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"bg-gradient-smm w-10 h-10 rounded-full flex items-center justify-center text-white",children:o}),f.jsx("span",{className:"text-sm text-gray-500",children:i})]}),f.jsx(Ko,{className:"text-xl sm:text-2xl",children:t}),f.jsx($0,{children:e})]}),f.jsxs(Ci,{children:[f.jsx("div",{className:"mb-6",children:u&&d?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs(tt,{htmlFor:`quantity-${l}`,children:["الكمية (",u,"+)"]}),f.jsx(Wt,{id:`quantity-${l}`,type:"number",value:p,onChange:w,min:u,step:u})]}),f.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:[v," نقاط"]}),f.jsxs("p",{className:"text-sm text-gray-500",children:["السعر لـ ",p," ",t.toLowerCase()]})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:[n," نقاط"]}),f.jsxs("p",{className:"text-sm text-gray-500",children:["لـ ",a," ",t.toLowerCase()]})]})}),f.jsx("ul",{className:"space-y-2",children:r.map((x,_)=>f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),x]},_))})]}),f.jsx(Nd,{children:f.jsx(ft,{className:`w-full ${s?"bg-gradient-smm":"bg-smm-purple"} hover:opacity-90`,onClick:E,children:"اطلب الآن"})})]})};function nj(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:h,children:y,...w}=p,v=(h==null?void 0:h[t][l])||a,E=b.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:y})}function d(p,h){const y=(h==null?void 0:h[t][l])||a,w=b.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,rj(s,...e)]}function rj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var sj=b.createContext(void 0);function z0(t){const e=b.useContext(sj);return t||e||"ltr"}var Uf="rovingFocusGroup.onEntryFocus",ij={bubbles:!1,cancelable:!0},Rh="RovingFocusGroup",[Tm,GI,oj]=KE(Rh),[aj,Ph]=nj(Rh,[oj]),[lj,cj]=aj(Rh),KI=b.forwardRef((t,e)=>f.jsx(Tm.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Tm.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(uj,{...t,ref:e})})}));KI.displayName=Rh;var uj=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=t,h=b.useRef(null),y=Qt(e,h),w=z0(i),[v=null,E]=Yd({prop:o,defaultProp:a,onChange:l}),[x,_]=b.useState(!1),I=Mn(u),N=GI(n),D=b.useRef(!1),[M,C]=b.useState(0);return b.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(Uf,I),()=>T.removeEventListener(Uf,I)},[I]),f.jsx(lj,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:b.useCallback(T=>E(T),[E]),onItemShiftTab:b.useCallback(()=>_(!0),[]),onFocusableItemAdd:b.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>C(T=>T-1),[]),children:f.jsx(je.div,{tabIndex:x||M===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{D.current=!0}),onFocus:xe(t.onFocus,T=>{const A=!D.current;if(T.target===T.currentTarget&&A&&!x){const R=new CustomEvent(Uf,ij);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=N().filter(Z=>Z.focusable),O=k.find(Z=>Z.active),P=k.find(Z=>Z.id===v),se=[O,P,...k].filter(Boolean).map(Z=>Z.ref.current);XI(se,d)}}D.current=!1}),onBlur:xe(t.onBlur,()=>_(!1))})})}),QI="RovingFocusGroupItem",YI=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=jb(),l=i||a,u=cj(QI,n),d=u.currentTabStopId===l,p=GI(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=u;return b.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),f.jsx(Tm.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(je.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:xe(t.onMouseDown,w=>{r?u.onItemFocus(l):w.preventDefault()}),onFocus:xe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:xe(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=fj(w,u.orientation,u.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=p().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const _=x.indexOf(w.currentTarget);x=u.loop?pj(x,_+1):x.slice(_+1)}setTimeout(()=>XI(x))}})})})});YI.displayName=QI;var dj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hj(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fj(t,e,n){const r=hj(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return dj[r]}function XI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function pj(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var JI=KI,ZI=YI,B0="Tabs",[mj,fM]=Ql(B0,[Ph]),eS=Ph(),[gj,H0]=mj(B0),tS=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=z0(a),[p,h]=Yd({prop:r,onChange:s,defaultProp:i});return f.jsx(gj,{scope:n,baseId:jb(),value:p,onValueChange:h,orientation:o,dir:d,activationMode:l,children:f.jsx(je.div,{dir:d,"data-orientation":o,...u,ref:e})})});tS.displayName=B0;var nS="TabsList",rS=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=H0(nS,n),o=eS(n);return f.jsx(JI,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(je.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});rS.displayName=nS;var sS="TabsTrigger",iS=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=H0(sS,n),a=eS(n),l=lS(o.baseId,r),u=cS(o.baseId,r),d=r===o.value;return f.jsx(ZI,{asChild:!0,...a,focusable:!s,active:d,children:f.jsx(je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:xe(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:xe(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:xe(t.onFocus,()=>{const p=o.activationMode!=="manual";!d&&!s&&p&&o.onValueChange(r)})})})});iS.displayName=sS;var oS="TabsContent",aS=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=H0(oS,n),l=lS(a.baseId,r),u=cS(a.baseId,r),d=r===a.value,p=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(h)},[]),f.jsx(Yl,{present:s||d,children:({present:h})=>f.jsx(je.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:h&&i})})});aS.displayName=oS;function lS(t,e){return`${t}-trigger-${e}`}function cS(t,e){return`${t}-content-${e}`}var yj=tS,uS=rS,dS=iS,hS=aS;const vj=yj,fS=b.forwardRef(({className:t,...e},n)=>f.jsx(uS,{ref:n,className:$e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));fS.displayName=uS.displayName;const Gi=b.forwardRef(({className:t,...e},n)=>f.jsx(dS,{ref:n,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Gi.displayName=dS.displayName;const pS=b.forwardRef(({className:t,...e},n)=>f.jsx(hS,{ref:n,className:$e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));pS.displayName=hS.displayName;const xj=()=>{const[t,e]=b.useState("all"),n=[{id:"insta-followers",title:"رشق انستكرام",description:"متابعون انستغرام عالي الجودة يتفاعلون مع محتواك",features:["لا يتطلب كلمة مرور","ثابت بدون نزول"],popular:!0,platform:"Instagram",icon:"📸",minQuantity:300,pointsPerUnit:1,category:"instagram"},{id:"telegram-followers",title:"رشق متابعين تيليكرام",description:"احصل على متابعين حقيقيين لقناتك التليجرام",features:["متابعون عالي الجودة","نمط نمو طبيعي","ضمان عدم النقص","دعم للقنوات الخاصة"],popular:!0,platform:"Telegram",icon:"✈️",minQuantity:500,pointsPerUnit:1,category:"telegram"},{id:"tiktok-followers-1000",title:"متابعين تيك توك",description:"نمو حسابك على تيك توك مع متابعين عالي الجودة",features:["صورة ملف شخصي وسيرة ذاتية","متابعون مستقرون","لا يتطلب كلمة مرور","نمو آمن وطبيعي"],popular:!1,platform:"TikTok",icon:"🎵",minQuantity:1e3,pointsPerUnit:8.99,category:"tiktok"},{id:"tiktok-likes-2000",title:"إعجابات تيك توك",description:"احصل على المزيد من التفاعل مع إعجابات تيك توك",features:["احتفاظ عالٍ","تسليم سريع","يعمل مع جميع الفيديوهات","يزيد الوصول الخوارزمي"],popular:!1,platform:"TikTok",icon:"❤️",minQuantity:2e3,pointsPerUnit:5.99,category:"tiktok"},{id:"youtube-views-5000",title:"مشاهدات يوتيوب",description:"عزز أداء فيديوهاتك مع المزيد من المشاهدات",features:["مشاهدات باحتفاظ عالٍ","آمن لـ Ad-sense","استهداف جغرافي","يساعد في التوصيات"],popular:!0,platform:"YouTube",icon:"🎬",minQuantity:5e3,pointsPerUnit:19.99,category:"youtube"},{id:"youtube-subscribers-500",title:"مشتركين يوتيوب",description:"نمو قناتك على يوتيوب مع مشتركين عالي الجودة",features:["حسابات تبدو حقيقية","تسليم تدريجي","لا يتطلب كلمة مرور","مشتركون مفعلون للإشعارات"],popular:!1,platform:"YouTube",icon:"👥",minQuantity:500,pointsPerUnit:29.99,category:"youtube"}],r=t==="all"?n:n.filter(s=>s.category===t);return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Gs,{}),f.jsx("main",{className:"flex-grow py-12",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"خدماتنا"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"تصفح مجموعتنا من خدمات وسائل التواصل الاجتماعي عالية الجودة لتعزيز تواجدك وتفاعلك عبر الإنترنت."})]}),f.jsxs(vj,{defaultValue:"all",value:t,onValueChange:e,className:"mb-12",children:[f.jsx("div",{className:"flex justify-center",children:f.jsxs(fS,{className:"bg-gray-100",children:[f.jsx(Gi,{value:"all",children:"جميع الخدمات"}),f.jsx(Gi,{value:"instagram",children:"انستغرام"}),f.jsx(Gi,{value:"telegram",children:"تليجرام"}),f.jsx(Gi,{value:"tiktok",children:"تيك توك"}),f.jsx(Gi,{value:"youtube",children:"يوتيوب"})]})}),f.jsx(pS,{value:t,className:"mt-8",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(s=>f.jsx(tj,{id:s.id,title:s.title,description:s.description,features:s.features,popular:s.popular,platform:s.platform,icon:s.icon,minQuantity:s.minQuantity,pointsPerUnit:s.pointsPerUnit},s.id))})})]}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 mt-12",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"هل تحتاج إلى باقة مخصصة؟"}),f.jsx("p",{className:"text-gray-600",children:"لا تجد ما تبحث عنه؟ اتصل بنا للحصول على حل مخصص يلبي احتياجاتك."})]}),f.jsx("div",{className:"flex justify-center",children:f.jsx("a",{href:"mailto:uusheko@gmail.com",className:"inline-flex items-center justify-center bg-smm-purple hover:bg-smm-purple/90 text-white px-6 py-3 rounded-md font-medium transition-colors",children:"اتصل بنا"})})]})]})}),f.jsx(Ks,{})]})};function wj(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var W0="Radio",[_j,mS]=Ql(W0),[Ej,bj]=_j(W0),gS=b.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:u,...d}=t,[p,h]=b.useState(null),y=Qt(e,E=>h(E)),w=b.useRef(!1),v=p?u||!!p.closest("form"):!0;return f.jsxs(Ej,{scope:n,checked:s,disabled:o,children:[f.jsx(je.button,{type:"button",role:"radio","aria-checked":s,"data-state":xS(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:y,onClick:xe(t.onClick,E=>{s||l==null||l(),v&&(w.current=E.isPropagationStopped(),w.current||E.stopPropagation())})}),v&&f.jsx(Tj,{control:p,bubbles:!w.current,name:r,value:a,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});gS.displayName=W0;var yS="RadioIndicator",vS=b.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=bj(yS,n);return f.jsx(Yl,{present:r||i.checked,children:f.jsx(je.span,{"data-state":xS(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});vS.displayName=yS;var Tj=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=b.useRef(null),o=wj(n),a=Wb(e);return b.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&p){const h=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(h)}},[o,n,r]),f.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xS(t){return t?"checked":"unchecked"}var Ij=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],q0="RadioGroup",[Sj,pM]=Ql(q0,[Ph,mS]),wS=Ph(),_S=mS(),[Cj,Aj]=Sj(q0),ES=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:u,loop:d=!0,onValueChange:p,...h}=t,y=wS(n),w=z0(u),[v,E]=Yd({prop:i,defaultProp:s,onChange:p});return f.jsx(Cj,{scope:n,name:r,required:o,disabled:a,value:v,onValueChange:E,children:f.jsx(JI,{asChild:!0,...y,orientation:l,dir:w,loop:d,children:f.jsx(je.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:w,...h,ref:e})})})});ES.displayName=q0;var bS="RadioGroupItem",TS=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=Aj(bS,n),o=i.disabled||r,a=wS(n),l=_S(n),u=b.useRef(null),d=Qt(e,u),p=i.value===s.value,h=b.useRef(!1);return b.useEffect(()=>{const y=v=>{Ij.includes(v.key)&&(h.current=!0)},w=()=>h.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),f.jsx(ZI,{asChild:!0,...a,focusable:!o,active:p,children:f.jsx(gS,{disabled:o,required:i.required,checked:p,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:xe(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:xe(s.onFocus,()=>{var y;h.current&&((y=u.current)==null||y.click())})})})});TS.displayName=bS;var Rj="RadioGroupIndicator",IS=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=_S(n);return f.jsx(vS,{...s,...r,ref:e})});IS.displayName=Rj;var SS=ES,CS=TS,Pj=IS;const Im=b.forwardRef(({className:t,...e},n)=>f.jsx(SS,{className:$e("grid gap-2",t),...e,ref:n}));Im.displayName=SS.displayName;const Ru=b.forwardRef(({className:t,...e},n)=>f.jsx(CS,{ref:n,className:$e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:f.jsx(Pj,{className:"flex items-center justify-center",children:f.jsx(A4,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ru.displayName=CS.displayName;var Nj="Separator",aw="horizontal",kj=["horizontal","vertical"],AS=b.forwardRef((t,e)=>{const{decorative:n,orientation:r=aw,...s}=t,i=Oj(r)?r:aw,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx(je.div,{"data-orientation":i,...a,...s,ref:e})});AS.displayName=Nj;function Oj(t){return kj.includes(t)}var RS=AS;const Pu=b.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>f.jsx(RS,{ref:s,decorative:n,orientation:e,className:$e("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Pu.displayName=RS.displayName;const PS=b.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));PS.displayName="Textarea";const Dj=()=>{const t=Jo(),e=Zo(),{toast:n}=WE(),{user:r,updatePoints:s}=dc(),[i,o]=b.useState({socialLink:"",paymentMethod:"asiacell",asiacellNumber:"",asiacellSubMethod:"card",asiacellTransferPhoneNumber:"",additionalInfo:""}),[a,l]=b.useState({serviceId:"",points:0,quantity:0}),[u,d]=b.useState(!1),p=a.points*(a.quantity>0?a.quantity:1);b.useEffect(()=>{const v=new URLSearchParams(t.search),E=v.get("service")||"",x=parseFloat(v.get("points")||"0"),_=parseInt(v.get("quantity")||"0",10);if(!E||x===0){e("/services"),n({title:"خطأ",description:"يرجى اختيار خدمة أولاً",variant:"destructive"});return}l({serviceId:E,points:x,quantity:_}),console.log("Payment Page - Extracted Service Info:",{serviceId:E,points:x,quantity:_})},[t,e,n]);const h=v=>{const{name:E,value:x}=v.target;o(_=>({..._,[E]:x}))},y=v=>{o(E=>({...E,paymentMethod:v}))},w=async v=>{if(v.preventDefault(),d(!0),!i.socialLink){n({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"}),d(!1);return}if((r==null?void 0:r.points)<p){n({title:"خطأ",description:`لا يكفي رصيد النقاط لديك. تحتاج إلى ${p} نقطة وليس لديك سوى ${r==null?void 0:r.points} نقطة`,variant:"destructive"}),d(!1);return}if(i.paymentMethod==="asiacell"){if(i.asiacellSubMethod==="card"&&!i.asiacellNumber){n({title:"خطأ",description:"يرجى إدخال رقم كارت Asiacell",variant:"destructive"}),d(!1);return}if(i.asiacellSubMethod==="transfer"&&!i.asiacellTransferPhoneNumber){n({title:"خطأ",description:"يرجى إدخال رقم هاتفك للتحويل",variant:"destructive"}),d(!1);return}}if((r==null?void 0:r.points)<a.points){n({title:"خطأ",description:"لا يكفي رصيد النقاط لديك",variant:"destructive"}),d(!1);return}try{if(console.log("User data before update:",r),console.log("Service info:",a),console.log("Total points to deduct:",p),!r||!r.id||r.points===void 0)throw new Error("Invalid user data");const E=String(r.id).trim();if(!E||E==="undefined"||E==="null")throw new Error("User ID is not valid");const x=r.points-p;await s(x),console.log(`Points updated successfully! Deducted ${p} points. New balance: ${x}`),setTimeout(()=>{console.log("Order submitted:",{...i,...a,totalPointsUsed:p,previousPoints:r.points,newPoints:x}),n({title:"تم استلام الطلب!",description:`تم خصم ${p} نقطة من رصيدك. سنقوم بمعالجة طلبك قريباً.`}),setTimeout(()=>e("/"),2e3),d(!1)},1500)}catch(E){console.error("حدث خطأ أثناء تحديث النقاط:",E),n({title:"خطأ",description:"حدث خطأ أثناء معالجة طلبك، يرجى المحاولة لاحقًا",variant:"destructive"}),d(!1)}};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[f.jsx(Gs,{}),f.jsx("main",{className:"flex-grow py-12",children:f.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[f.jsx("div",{className:"mb-8",children:f.jsx(Ne,{to:"/services",className:"inline-flex items-center text-gray-600 hover:text-smm-purple transition-colors text-sm font-medium",children:"← العودة إلى الخدمات"})}),f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"أكمل طلبك"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"املأ التفاصيل الخاصة بك لتقديم طلبك"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx(Si,{className:"shadow-lg rounded-lg",children:f.jsxs("form",{onSubmit:w,children:[f.jsxs(Go,{className:"border-b border-gray-200 pb-4",children:[f.jsx(Ko,{className:"text-2xl font-semibold text-gray-800",children:"معلوماتك"}),f.jsx($0,{className:"text-gray-600",children:"سنستخدم هذه المعلومات لمعالجة طلبك"})]}),f.jsxs(Ci,{className:"space-y-6 pt-6",children:[f.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs(tt,{htmlFor:"socialLink",className:"text-gray-700 font-medium",children:["رابط وسائل التواصل الاجتماعي",f.jsx("span",{className:"text-sm text-gray-500 ml-1 font-normal",children:"(رابط إلى ملفك الشخصي/منشورك)"})]}),f.jsx(Wt,{id:"socialLink",name:"socialLink",placeholder:"https://instagram.com/yourusername",value:i.socialLink,onChange:h,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})}),f.jsx(Pu,{className:"my-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(tt,{className:"text-gray-700 font-medium",children:"طريقة الدفع"}),f.jsx(Im,{value:i.paymentMethod,onValueChange:y,className:"flex flex-col space-y-3",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Ru,{value:"asiacell",id:"asiacell"}),f.jsx(tt,{htmlFor:"asiacell",className:"cursor-pointer text-gray-600",children:"رصيد Asiacell للجوال"})]})})]}),i.paymentMethod==="asiacell"&&f.jsxs("div",{className:"space-y-4 mt-4 p-4 border border-gray-300 rounded-md bg-gray-50",children:[f.jsx(tt,{className:"text-gray-700 font-medium",children:"اختر طريقة الدفع عبر Asiacell:"}),f.jsxs(Im,{value:i.asiacellSubMethod,onValueChange:v=>o(E=>({...E,asiacellSubMethod:v})),className:"flex flex-col space-y-3",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Ru,{value:"card",id:"asiacell-card"}),f.jsx(tt,{htmlFor:"asiacell-card",className:"cursor-pointer text-gray-600",children:"ارسال رقم كارت الرصيد"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Ru,{value:"transfer",id:"asiacell-transfer"}),f.jsx(tt,{htmlFor:"asiacell-transfer",className:"cursor-pointer text-gray-600",children:"التحويل"})]})]}),i.asiacellSubMethod==="card"&&f.jsxs("div",{className:"space-y-2 mt-4",children:[f.jsx(tt,{htmlFor:"asiacellNumber",className:"text-gray-700 font-medium",children:"رقم كارت الرصيد"}),f.jsx(Wt,{id:"asiacellNumber",name:"asiacellNumber",placeholder:"أدخل رقم كارت الرصيد",value:i.asiacellNumber,onChange:h,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]}),i.asiacellSubMethod==="transfer"&&f.jsxs("div",{className:"space-y-2 mt-4",children:[f.jsx(tt,{htmlFor:"asiacellTransferPhoneNumber",className:"text-gray-700 font-medium",children:"رقم هاتفك الشخصي (للتأكيد)"}),f.jsx(Wt,{id:"asiacellTransferPhoneNumber",name:"asiacellTransferPhoneNumber",placeholder:"أدخل رقم هاتفك",value:i.asiacellTransferPhoneNumber,onChange:h,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"}),f.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["يرجى تحويل المبلغ المطلوب إلى هذا الرقم:"," ",f.jsx("span",{className:"font-bold text-smm-purple",children:"07704061932"})]}),f.jsx("p",{className:"text-sm text-gray-500",children:"بعد التحويل، أدخل رقم هاتفك أعلاه للتأكيد وسنقوم بمعالجة طلبك."})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(tt,{htmlFor:"additionalInfo",className:"text-gray-700 font-medium",children:"معلومات إضافية (اختياري)"}),f.jsx(PS,{id:"additionalInfo",name:"additionalInfo",placeholder:"أي متطلبات أو أسئلة محددة؟",value:i.additionalInfo,onChange:h,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})]}),f.jsx(Nd,{className:"pt-6",children:f.jsx(ft,{type:"submit",className:"w-full bg-gradient-smm hover:opacity-90 text-lg py-3",disabled:u,children:u?"جاري المعالجة...":"إكمال الطلب"})})]})})}),f.jsxs("div",{children:[f.jsxs(Si,{className:"shadow-lg rounded-lg",children:[f.jsx(Go,{className:"border-b border-gray-200 pb-4",children:f.jsx(Ko,{className:"text-2xl font-semibold text-gray-800",children:"ملخص الطلب"})}),f.jsx(Ci,{className:"space-y-4 pt-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"معرف الخدمة:"}),f.jsx("span",{className:"font-medium text-gray-800",children:a.serviceId})]}),a.quantity>0&&f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الكمية:"}),f.jsx("span",{className:"font-medium text-gray-800",children:a.quantity})]}),f.jsx(Pu,{}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"المجموع الفرعي:"}),f.jsxs("span",{className:"font-medium text-gray-800",children:[p," نقاط"]})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"رسوم المعالجة:"}),f.jsx("span",{className:"font-medium text-gray-800",children:"0 نقاط"})]}),f.jsx(Pu,{}),f.jsxs("div",{className:"flex justify-between font-bold text-gray-800 text-xl",children:[f.jsx("span",{children:"الإجمالي:"}),f.jsxs("span",{children:[a.points," نقاط"]})]})]})}),f.jsx(Nd,{className:"flex flex-col items-start space-y-4 pt-6",children:f.jsxs("div",{className:"text-sm text-gray-600",children:[f.jsx("p",{className:"font-semibold mb-2 text-gray-700",children:"ملاحظات الطلب:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[f.jsx("li",{children:"يبدأ التسليم خلال 24 ساعة"}),f.jsx("li",{children:"لا يتطلب كلمة مرور"}),f.jsx("li",{children:"آمن ومضمون 100%"})]})]})})]}),f.jsx("div",{className:"mt-6 p-4 bg-gray-100 rounded-md border border-gray-200",children:f.jsxs("p",{className:"text-sm text-gray-700",children:[f.jsx("span",{className:"font-semibold block mb-1 text-gray-800",children:"هل تحتاج مساعدة؟"}),"إذا كان لديك أي أسئلة أو تحتاج إلى مساعدة، اتصل بفريق الدعم لدينا على"," ",f.jsx("a",{href:"mailto:uusheko@gmail.com",className:"text-smm-purple hover:underline",children:"uusheko@gmail.com"})]})})]})]})]})}),f.jsx(Ks,{})]})},jj=()=>{const t=Jo();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Mj=()=>f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Gs,{}),f.jsxs("main",{className:"flex-grow",children:[f.jsx("section",{className:"py-16 bg-gray-100 text-center",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"عن متجرنا المميز"}),f.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"اكتشف قصتنا، مهمتنا، والأشخاص الشغوفين وراء نجاحنا."})]})}),f.jsx("section",{className:"py-16",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[f.jsxs("div",{className:"md:w-1/2",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:"قصتنا"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"تأسس متجرنا المميز في [السنة] بهدف بسيط: توفير [منتجات/خدمات] عالية الجودة لمجتمعنا. ما بدأ كمشروع صغير نما ليصبح اسمًا موثوقًا به، معروفًا بالتزامنا بالتميز ورضا العملاء."}),f.jsx("p",{className:"text-gray-600",children:"على مر السنين، قمنا بتوسيع عروضنا وحققنا إنجازات جديدة، لكن قيمنا الأساسية لا تزال كما هي. نؤمن ببناء علاقات دائمة مع عملائنا وإحداث تأثير إيجابي."})]}),f.jsx("div",{className:"md:w-1/2",children:f.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-500",children:"صورة توضيحية"})})]})})}),f.jsx("section",{className:"py-16 bg-gray-50",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-8",children:[f.jsxs("div",{className:"md:w-1/2",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:"مهمتنا"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"مهمتنا هي [بيان مهمتك]. نسعى جاهدين لـ [الجوانب الرئيسية لمهمتك، مثل: تقديم قيمة استثنائية، تعزيز الابتكار، دعم المجتمعات المحلية]."}),f.jsx("p",{className:"text-gray-600",children:"نحن ملتزمون بـ [جانب رئيسي آخر من مهمتك]. كل قرار نتخذه يسترشد بالتزامنا بـ [القيمة الأساسية المتعلقة بالمهمة]."})]}),f.jsx("div",{className:"md:w-1/2",children:f.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-500",children:"صورة توضيحية"})})]})})})]}),f.jsx(Ks,{})]}),Lj=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(null),[s,i]=b.useState(!1),[o,a]=b.useState(""),l=d=>{e(d.target.value)},u=d=>{if(d.preventDefault(),a(""),r(null),!t){a("Please enter an Order ID.");return}i(!0),setTimeout(()=>{i(!1),t==="12345"?r({id:"12345",service:"رشق انستكرام",quantity:500,status:"قيد المعالجة",date:"2023-10-27"}):a("Order not found.")},1500)};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[f.jsx(Gs,{}),f.jsx("main",{className:"flex-grow py-12",children:f.jsxs("div",{className:"container mx-auto px-4 max-w-2xl",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8",children:"تتبع طلبك"}),f.jsxs(Si,{className:"shadow-lg rounded-lg",children:[f.jsx(Go,{className:"border-b border-gray-200 pb-4",children:f.jsx(Ko,{className:"text-2xl font-semibold text-gray-800",children:"أدخل معرف الطلب"})}),f.jsx(Ci,{className:"space-y-4 pt-6",children:f.jsxs("form",{onSubmit:u,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(tt,{htmlFor:"orderId",className:"text-gray-700 font-medium",children:"معرف الطلب"}),f.jsx(Wt,{id:"orderId",type:"text",placeholder:"أدخل معرف طلبك هنا",value:t,onChange:l,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]}),o&&f.jsx("p",{className:"text-red-500 text-sm",children:o}),f.jsx(ft,{type:"submit",className:"w-full bg-gradient-smm hover:opacity-90 text-lg py-3",disabled:s,children:s?"جاري البحث...":"تتبع الطلب"})]})})]}),n&&f.jsxs(Si,{className:"shadow-lg rounded-lg mt-8",children:[f.jsx(Go,{className:"border-b border-gray-200 pb-4",children:f.jsx(Ko,{className:"text-2xl font-semibold text-gray-800",children:"تفاصيل الطلب"})}),f.jsxs(Ci,{className:"space-y-4 pt-6",children:[f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"معرف الطلب:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.id})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الخدمة:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.service})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الكمية:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.quantity})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الحالة:"}),f.jsx("span",{className:`font-medium ${n.status==="قيد المعالجة"?"text-yellow-600":"text-green-600"}`,children:n.status})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"التاريخ:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.date})]})]})]})]})}),f.jsx(Ks,{})]})},Vj={};var Sm=null;function Fj(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return Vj.randomBytes(t)}catch{}if(!Sm)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Sm(t)}function Uj(t){Sm=t}function G0(t,e){if(t=t||K0,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(kd(Fj(Vl),Vl)),n.join("")}function NS(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=K0;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function r(s){Nn(function(){try{s(null,G0(t))}catch(i){s(i)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(s,i){r(function(o,a){if(o){i(o);return}s(a)})})}function kS(t,e){if(typeof e>"u"&&(e=K0),typeof e=="number"&&(e=G0(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return Cm(t,e)}function OS(t,e,n,r){function s(i){typeof t=="string"&&typeof e=="number"?NS(e,function(o,a){Cm(t,a,i,r)}):typeof t=="string"&&typeof e=="string"?Cm(t,e,i,r):Nn(i.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(i,o){s(function(a,l){if(a){o(a);return}i(l)})})}function DS(t,e){for(var n=t.length^e.length,r=0;r<t.length;++r)n|=t.charCodeAt(r)^e.charCodeAt(r);return n===0}function $j(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:DS(kS(t,e.substring(0,e.length-31)),e)}function zj(t,e,n,r){function s(i){if(typeof t!="string"||typeof e!="string"){Nn(i.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Nn(i.bind(this,null,!1));return}OS(t,e.substring(0,29),function(o,a){o?i(o):i(null,DS(a,e))},r)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(i,o){s(function(a,l){if(a){o(a);return}i(l)})})}function Bj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function Hj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function Wj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return jS(t)>72}var Nn=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function jS(t){for(var e=0,n=0,r=0;r<t.length;++r)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320?(++r,e+=4):e+=3;return e}function qj(t){for(var e=0,n,r,s=new Array(jS(t)),i=0,o=t.length;i<o;++i)n=t.charCodeAt(i),n<128?s[e++]=n:n<2048?(s[e++]=n>>6|192,s[e++]=n&63|128):(n&64512)===55296&&((r=t.charCodeAt(i+1))&64512)===56320?(n=65536+((n&1023)<<10)+(r&1023),++i,s[e++]=n>>18|240,s[e++]=n>>12&63|128,s[e++]=n>>6&63|128,s[e++]=n&63|128):(s[e++]=n>>12|224,s[e++]=n>>6&63|128,s[e++]=n&63|128);return s}var zi="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Kr=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function kd(t,e){var n=0,r=[],s,i;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(s=t[n++]&255,r.push(zi[s>>2&63]),s=(s&3)<<4,n>=e){r.push(zi[s&63]);break}if(i=t[n++]&255,s|=i>>4&15,r.push(zi[s&63]),s=(i&15)<<2,n>=e){r.push(zi[s&63]);break}i=t[n++]&255,s|=i>>6&3,r.push(zi[s&63]),r.push(zi[i&63])}return r.join("")}function MS(t,e){var n=0,r=t.length,s=0,i=[],o,a,l,u,d,p;if(e<=0)throw Error("Illegal len: "+e);for(;n<r-1&&s<e&&(p=t.charCodeAt(n++),o=p<Kr.length?Kr[p]:-1,p=t.charCodeAt(n++),a=p<Kr.length?Kr[p]:-1,!(o==-1||a==-1||(d=o<<2>>>0,d|=(a&48)>>4,i.push(String.fromCharCode(d)),++s>=e||n>=r)||(p=t.charCodeAt(n++),l=p<Kr.length?Kr[p]:-1,l==-1)||(d=(a&15)<<4>>>0,d|=(l&60)>>2,i.push(String.fromCharCode(d)),++s>=e||n>=r)));)p=t.charCodeAt(n++),u=p<Kr.length?Kr[p]:-1,d=(l&3)<<6>>>0,d|=u,i.push(String.fromCharCode(d)),++s;var h=[];for(n=0;n<s;n++)h.push(i[n].charCodeAt(0));return h}var Vl=16,K0=10,Gj=16,Kj=100,lw=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],cw=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],LS=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Fl(t,e,n,r){var s,i=t[e],o=t[e+1];return i^=n[0],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[1],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[2],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[3],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[4],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[5],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[6],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[7],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[8],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[9],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[10],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[11],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[12],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[13],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[14],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[15],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[16],t[e]=o^n[Gj+1],t[e+1]=i,t}function Ki(t,e){for(var n=0,r=0;n<4;++n)r=r<<8|t[e]&255,e=(e+1)%t.length;return{key:r,offp:e}}function uw(t,e,n){for(var r=0,s=[0,0],i=e.length,o=n.length,a,l=0;l<i;l++)a=Ki(t,r),r=a.offp,e[l]=e[l]^a.key;for(l=0;l<i;l+=2)s=Fl(s,0,e,n),e[l]=s[0],e[l+1]=s[1];for(l=0;l<o;l+=2)s=Fl(s,0,e,n),n[l]=s[0],n[l+1]=s[1]}function Qj(t,e,n,r){for(var s=0,i=[0,0],o=n.length,a=r.length,l,u=0;u<o;u++)l=Ki(e,s),s=l.offp,n[u]=n[u]^l.key;for(s=0,u=0;u<o;u+=2)l=Ki(t,s),s=l.offp,i[0]^=l.key,l=Ki(t,s),s=l.offp,i[1]^=l.key,i=Fl(i,0,n,r),n[u]=i[0],n[u+1]=i[1];for(u=0;u<a;u+=2)l=Ki(t,s),s=l.offp,i[0]^=l.key,l=Ki(t,s),s=l.offp,i[1]^=l.key,i=Fl(i,0,n,r),r[u]=i[0],r[u+1]=i[1]}function dw(t,e,n,r,s){var i=LS.slice(),o=i.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),r){Nn(r.bind(this,a));return}else throw a;if(e.length!==Vl)if(a=Error("Illegal salt length: "+e.length+" != "+Vl),r){Nn(r.bind(this,a));return}else throw a;n=1<<n>>>0;var l,u,d=0,p;typeof Int32Array=="function"?(l=new Int32Array(lw),u=new Int32Array(cw)):(l=lw.slice(),u=cw.slice()),Qj(e,t,l,u);function h(){if(s&&s(d/n),d<n)for(var w=Date.now();d<n&&(d=d+1,uw(t,l,u),uw(e,l,u),!(Date.now()-w>Kj)););else{for(d=0;d<64;d++)for(p=0;p<o>>1;p++)Fl(i,p<<1,l,u);var v=[];for(d=0;d<o;d++)v.push((i[d]>>24&255)>>>0),v.push((i[d]>>16&255)>>>0),v.push((i[d]>>8&255)>>>0),v.push((i[d]&255)>>>0);if(r){r(null,v);return}else return v}r&&Nn(h)}if(typeof r<"u")h();else for(var y;;)if(typeof(y=h())<"u")return y||[]}function Cm(t,e,n,r){var s;if(typeof t!="string"||typeof e!="string")if(s=Error("Invalid string / salt: Not a string"),n){Nn(n.bind(this,s));return}else throw s;var i,o;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(s=Error("Invalid salt version: "+e.substring(0,2)),n){Nn(n.bind(this,s));return}else throw s;if(e.charAt(2)==="$")i="\0",o=3;else{if(i=e.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||e.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+e.substring(2,4)),n){Nn(n.bind(this,s));return}else throw s;o=4}if(e.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),n){Nn(n.bind(this,s));return}else throw s;var a=parseInt(e.substring(o,o+1),10)*10,l=parseInt(e.substring(o+1,o+2),10),u=a+l,d=e.substring(o+3,o+25);t+=i>="a"?"\0":"";var p=qj(t),h=MS(d,Vl);function y(w){var v=[];return v.push("$2"),i>="a"&&v.push(i),v.push("$"),u<10&&v.push("0"),v.push(u.toString()),v.push("$"),v.push(kd(h,h.length)),v.push(kd(w,LS.length*4-1)),v.join("")}if(typeof n>"u")return y(dw(p,h,u));dw(p,h,u,function(w,v){w?n(w,null):n(null,y(v))},r)}function Yj(t,e){return kd(t,e)}function Xj(t,e){return MS(t,e)}const Am={setRandomFallback:Uj,genSaltSync:G0,genSalt:NS,hashSync:kS,hash:OS,compareSync:$j,compare:zj,getRounds:Bj,getSalt:Hj,truncates:Wj,encodeBase64:Yj,decodeBase64:Xj},Jj=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState(!1),[d,p]=b.useState(!1),[h,y]=b.useState(!1),w=Zo(),{login:v}=dc(),E=N=>/^[A-Za-z]+$/.test(N),x=N=>/^[A-Za-z._%+-]+[A-Za-z._%+-]*@[A-Za-z.-]+\.[A-Za-z]{2,}$/.test(N),_=N=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(N),I=async N=>{if(N.preventDefault(),!t||!n||!s||!o){ke.error("يرجى ملء جميع الحقول");return}if(!E(t)){ke.error("الاسم يجب أن يحتوي فقط على حروف إنجليزية بدون فوارز أو مسافات");return}if(!x(n)){ke.error("البريد الإلكتروني غير صالح. يجب أن لا يبدأ برقم");return}if(!_(s)){ke.error("كلمة المرور يجب أن تكون على الأقل 8 أحرف وتحتوي على حروف وأرقام");return}if(s!==o){ke.error("كلمتا المرور غير متطابقتين");return}try{const D=Ed(Pn,"users"),M=A0(D,R0("email","==",n));if(!(await Td(M)).empty){ke.error("هذا البريد الإلكتروني مسجل مسبقاً");return}const A=(await O8(Q7,n,s)).user,R=await Am.genSalt(10),k=await Am.hash(s,R),O={id:A.uid,name:t,email:n,password:k,isVerified:!0,isAdmin:h,points:0,createdAt:new Date};console.log("Storing user data in Firestore:",O),await k0(ai(Pn,"users",A.uid),O),v({name:t,id:A.uid,email:n,points:0});const P=localStorage.getItem("user");console.log("User stored in localStorage after signup:",P),ke.success("تم التسجيل بنجاح!"),w("/")}catch(D){console.error("حدث خطأ أثناء التسجيل:",D);let M="حدث خطأ، يرجى المحاولة لاحقًا";D.code==="auth/email-already-in-use"?M="هذا البريد الإلكتروني مسجل مسبقاً":D.code==="auth/invalid-email"?M="البريد الإلكتروني غير صالح":D.code==="auth/weak-password"?M="كلمة المرور ضعيفة. يجب أن تكون على الأقل 6 أحرف":D.code==="auth/network-request-failed"?M="فشل الاتصال بالإنترنت. يرجى التحقق من اتصالك":D.code==="permission-denied"&&(M="لا يوجد إذن للقيام بهذه العملية. يرجى التحقق من إعدادات الإذن"),ke.error(M)}};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Gs,{}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:"تسجيل حساب جديد"}),f.jsxs("form",{className:"space-y-6",onSubmit:I,children:[f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"name",children:"الاسم"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(k4,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Wt,{id:"name",type:"text",value:t,onChange:N=>e(N.target.value),required:!0,className:"pl-10"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"email",children:"البريد الإلكتروني"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(bb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Wt,{id:"email",type:"email",value:n,onChange:N=>r(N.target.value),required:!0,className:"pl-10"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"password",children:"كلمة المرور"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Eb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Wt,{id:"password",type:l?"text":"password",value:s,onChange:N=>i(N.target.value),required:!0,className:"pl-10 pr-10"}),f.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?f.jsx(zp,{className:"h-5 w-5 text-gray-400"}):f.jsx(Bp,{className:"h-5 w-5 text-gray-400"})})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"confirm-password",children:"تأكيد كلمة المرور"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(C4,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Wt,{id:"confirm-password",type:d?"text":"password",value:o,onChange:N=>a(N.target.value),required:!0,className:"pl-10 pr-10"}),f.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?f.jsx(zp,{className:"h-5 w-5 text-gray-400"}):f.jsx(Bp,{className:"h-5 w-5 text-gray-400"})})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"admin",type:"checkbox",checked:h,onChange:N=>y(N.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f.jsx(tt,{htmlFor:"admin",className:"ml-2 block text-sm text-gray-900",children:"تسجيل كمدير"})]}),f.jsx(ft,{type:"submit",className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:"تسجيل"})]}),f.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["هل لديك حساب بالفعل؟ ",f.jsx(Ne,{to:"/login",className:"text-blue-500",children:"سجل دخولك"})]})]})}),f.jsx(Ks,{})]})},Zj=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(!1),o=Zo(),{login:a}=dc(),l=p=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(p),u=p=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(p),d=async p=>{if(p.preventDefault(),!t||!n){ke.error("يرجى ملء جميع الحقول");return}if(!l(t)){ke.error("البريد الإلكتروني غير صالح");return}if(!u(n)){ke.error("كلمة المرور يجب أن تكون على الأقل 8 أحرف وتحتوي على حروف وأرقام");return}try{const h=Ed(Pn,"users"),y=A0(h,R0("email","==",t)),w=await Td(y);if(w.empty){ke.error("البريد الإلكتروني أو كلمة المرور غير صحيحة");return}const v=w.docs[0].data();if(console.log("User data from Firestore:",v),!v.password){ke.error("كلمة المرور غير موجودة في قاعدة البيانات");return}if(!await Am.compare(n,v.password)){ke.error("كلمة المرور غير صحيحة");return}if(!v.isVerified){ke.error("حسابك غير مفعّل. يرجى التحقق من بريدك الإلكتروني");return}a({name:v.name,id:v.id,email:v.email,profilePicture:v.profilePicture||void 0,isAdmin:v.isAdmin||!1,points:v.points||0}),o("/")}catch(h){console.error("حدث خطأ أثناء التسجيل:",h),ke.error("حدث خطأ، يرجى المحاولة لاحقًا")}};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Gs,{}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:"تسجيل الدخول"}),f.jsxs("form",{className:"space-y-6",onSubmit:d,children:[f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"email",children:"البريد الإلكتروني"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(bb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Wt,{id:"email",type:"email",value:t,onChange:p=>e(p.target.value),required:!0,className:"pl-10"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"password",children:"كلمة المرور"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Eb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Wt,{id:"password",type:s?"text":"password",value:n,onChange:p=>r(p.target.value),required:!0,className:"pl-10 pr-10"}),f.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?f.jsx(zp,{className:"h-5 w-5 text-gray-400"}):f.jsx(Bp,{className:"h-5 w-5 text-gray-400"})})]})]}),f.jsx(ft,{type:"submit",className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:"دخول"})]}),f.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["ليس لديك حساب؟ ",f.jsx(Ne,{to:"/signup",className:"text-blue-500",children:"أنشئ حساب جديد"})]})]})}),f.jsx(Ks,{})]})},eM=()=>{const{user:t,updatePoints:e}=dc(),n=Zo(),[r,s]=b.useState([]),[i,o]=b.useState(""),[a,l]=b.useState({});if(b.useEffect(()=>{!t||!t.isAdmin?n("/"):(async()=>{try{const w=Ed(Pn,"users"),E=(await Td(w)).docs.map(x=>({firebaseId:x.id,...x.data()}));s(E)}catch(w){console.error("حدث خطأ أثناء جلب المستخدمين:",w)}})()},[t,n]),!t||!t.isAdmin)return null;const u=async y=>{const w=String(y);if(console.log("Attempting to delete user with id:",w),window.confirm("هل أنت متأكد أنك تريد حذف هذا المستخدم؟"))try{const v=ai(Pn,"users",w);await MD(v),s(E=>E.filter(x=>x.firebaseId!==w)),ke.success("تم حذف المستخدم بنجاح")}catch(v){console.error("فشل الحذف:",v),ke.error("حدث خطأ أثناء حذف المستخدم")}},d=async(y,w)=>{try{const v=ai(Pn,"users",String(y)),E=await aI(v);if(E.exists()){const x=E.data(),_=typeof x.points=="number"?x.points:0,I=Math.max(_+w,0);await k0(v,{points:I},{merge:!0}),t&&t.id===x.id&&e(I),s(N=>N.map(D=>D.firebaseId===y?{...D,points:I}:D)),ke.success(`تم ${w>0?"زيادة":"خصم"} النقاط بنجاح`)}else ke.error("المستخدم غير موجود")}catch(v){console.error("حدث خطأ أثناء تحديث النقاط:",v),ke.error("حدث خطأ، يرجى المحاولة لاحقًا")}},p=async()=>{if(!i){ke.error("يرجى إدخال معرف المستخدم");return}try{const y=Ed(Pn,"users"),w=A0(y,R0("id","==",parseInt(i,10))),v=await Td(w);if(v.empty)ke.error("المستخدم غير موجود");else{const E=v.docs.map(x=>({firebaseId:x.id,...x.data()}));s(E)}}catch(y){console.error("حدث خطأ أثناء البحث عن المستخدم:",y),ke.error("حدث خطأ، يرجى المحاولة لاحقًا")}},h=y=>{try{if(y!=null&&y.toDate)return new Date(y.toDate()).toLocaleDateString()}catch{return"N/A"}return"N/A"};return f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(Gs,{}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"max-w-6xl w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8",children:"لوحة التحكم"}),f.jsx("div",{className:"mb-4 flex justify-between items-center",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Wt,{type:"text",placeholder:"بحث عن المستخدم من خلال المعرف",value:i,onChange:y=>o(y.target.value),className:"mr-2"}),f.jsx(ft,{onClick:p,className:"bg-blue-500 hover:bg-blue-700 text-white",children:"بحث"})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full bg-white",children:[f.jsx("thead",{className:"bg-gray-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الاسم"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"المعرف"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"البريد الإلكتروني"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"تاريخ التسجيل"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"النقاط"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الإجراءات"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-right",children:r.map(y=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.name||"بدون اسم"}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.id||"بدون معرف"}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.email||"بدون بريد"}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:h(y.createdAt)}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.points||0}),f.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 flex flex-wrap gap-1",children:[f.jsx(ft,{onClick:()=>u(y.firebaseId),className:"bg-red-500 hover:bg-red-700 text-white",children:"حذف"}),f.jsx(Wt,{type:"number",placeholder:"نقاط",className:"w-20 mr-2",value:a[y.firebaseId]||"",onChange:w=>l(v=>({...v,[y.firebaseId]:w.target.value}))}),f.jsx(ft,{onClick:()=>{d(y.firebaseId,parseInt(a[y.firebaseId],10)||0)},className:"bg-green-500 hover:bg-green-700 text-white",children:"+ نقاط"}),f.jsx(ft,{onClick:()=>{d(y.firebaseId,-(parseInt(a[y.firebaseId],10)||0))},className:"bg-yellow-500 hover:bg-yellow-700 text-white",children:"- نقاط"})]})]},y.firebaseId))})]})})]})}),f.jsx(Ks,{})]})},tM=new U3,nM=()=>f.jsx(Y7,{children:f.jsx(z3,{client:tM,children:f.jsxs(y3,{children:[f.jsx(pN,{}),f.jsx(BN,{}),f.jsxs(wP,{children:[f.jsx(qn,{path:"/",element:f.jsx(J7,{})}),f.jsx(qn,{path:"/services",element:f.jsx(xj,{})}),f.jsx(qn,{path:"/payment",element:f.jsx(Dj,{})}),f.jsx(qn,{path:"/about-us",element:f.jsx(Mj,{})}),f.jsx(qn,{path:"/order-tracking",element:f.jsx(Lj,{})}),f.jsx(qn,{path:"/signup",element:f.jsx(Jj,{})}),f.jsx(qn,{path:"/login",element:f.jsx(Zj,{})}),f.jsx(qn,{path:"/dashboard",element:f.jsx(eM,{})}),f.jsx(qn,{path:"*",element:f.jsx(jj,{})})]})]})})});$f.createRoot(document.getElementById("root")).render(f.jsx(CP,{children:f.jsx(nM,{})}));

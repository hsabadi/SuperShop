var ky=t=>{throw TypeError(t)};var qh=(t,e,n)=>e.has(t)||ky("Cannot "+n);var U=(t,e,n)=>(qh(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?ky("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ue=(t,e,n,r)=>(qh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(qh(t,e,"access private method"),n);var Nc=(t,e,n,r)=>({set _(s){ue(t,e,s,n)},get _(){return U(t,e,r)}});function rC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function fw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pw={exports:{}},jd={},mw={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),sC=Symbol.for("react.portal"),iC=Symbol.for("react.fragment"),oC=Symbol.for("react.strict_mode"),aC=Symbol.for("react.profiler"),lC=Symbol.for("react.provider"),cC=Symbol.for("react.context"),uC=Symbol.for("react.forward_ref"),dC=Symbol.for("react.suspense"),hC=Symbol.for("react.memo"),fC=Symbol.for("react.lazy"),Oy=Symbol.iterator;function pC(t){return t===null||typeof t!="object"?null:(t=Oy&&t[Oy]||t["@@iterator"],typeof t=="function"?t:null)}var gw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yw=Object.assign,vw={};function Qo(t,e,n){this.props=t,this.context=e,this.refs=vw,this.updater=n||gw}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xw(){}xw.prototype=Qo.prototype;function Rm(t,e,n){this.props=t,this.context=e,this.refs=vw,this.updater=n||gw}var Pm=Rm.prototype=new xw;Pm.constructor=Rm;yw(Pm,Qo.prototype);Pm.isPureReactComponent=!0;var Dy=Array.isArray,ww=Object.prototype.hasOwnProperty,Nm={current:null},_w={key:!0,ref:!0,__self:!0,__source:!0};function Ew(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ww.call(e,r)&&!_w.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Wl,type:t,key:i,ref:o,props:s,_owner:Nm.current}}function mC(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function km(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function gC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jy=/\/+/g;function Gh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gC(""+t.key):e.toString(36)}function ou(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wl:case sC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gh(o,0):r,Dy(s)?(n="",t!=null&&(n=t.replace(jy,"$&/")+"/"),ou(s,e,n,"",function(u){return u})):s!=null&&(km(s)&&(s=mC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Dy(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Gh(i,a);o+=ou(i,e,n,l,s)}else if(l=pC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Gh(i,a++),o+=ou(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kc(t,e,n){if(t==null)return t;var r=[],s=0;return ou(t,r,"","",function(i){return e.call(n,i,s++)}),r}function yC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},au={transition:null},vC={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:au,ReactCurrentOwner:Nm};function bw(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:kc,forEach:function(t,e,n){kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kc(t,function(){e++}),e},toArray:function(t){return kc(t,function(e){return e})||[]},only:function(t){if(!km(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Qo;he.Fragment=iC;he.Profiler=aC;he.PureComponent=Rm;he.StrictMode=oC;he.Suspense=dC;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vC;he.act=bw;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Nm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ww.call(e,l)&&!_w.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wl,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:cC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lC,_context:t},t.Consumer=t};he.createElement=Ew;he.createFactory=function(t){var e=Ew.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:uC,render:t}};he.isValidElement=km;he.lazy=function(t){return{$$typeof:fC,_payload:{_status:-1,_result:t},_init:yC}};he.memo=function(t,e){return{$$typeof:hC,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=au.transition;au.transition={};try{t()}finally{au.transition=e}};he.unstable_act=bw;he.useCallback=function(t,e){return Lt.current.useCallback(t,e)};he.useContext=function(t){return Lt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Lt.current.useEffect(t,e)};he.useId=function(){return Lt.current.useId()};he.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Lt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};he.useRef=function(t){return Lt.current.useRef(t)};he.useState=function(t){return Lt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Lt.current.useTransition()};he.version="18.3.1";mw.exports=he;var T=mw.exports;const q=fw(T),Tw=rC({__proto__:null,default:q},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC=T,wC=Symbol.for("react.element"),_C=Symbol.for("react.fragment"),EC=Object.prototype.hasOwnProperty,bC=xC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TC={key:!0,ref:!0,__self:!0,__source:!0};function Iw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EC.call(e,r)&&!TC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:wC,type:t,key:i,ref:o,props:s,_owner:bC.current}}jd.Fragment=_C;jd.jsx=Iw;jd.jsxs=Iw;pw.exports=jd;var f=pw.exports,$f={},Sw={exports:{}},ln={},Cw={exports:{}},Aw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var X=L.length;L.push(B);e:for(;0<X;){var K=X-1>>>1,Z=L[K];if(0<s(Z,B))L[K]=B,L[X]=Z,X=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],X=L.pop();if(X!==B){L[0]=X;e:for(var K=0,Z=L.length,te=Z>>>1;K<te;){var Ae=2*(K+1)-1,et=L[Ae],ve=Ae+1,yt=L[ve];if(0>s(et,X))ve<Z&&0>s(yt,et)?(L[K]=yt,L[ve]=X,K=ve):(L[K]=et,L[Ae]=X,K=Ae);else if(ve<Z&&0>s(yt,X))L[K]=yt,L[ve]=X,K=ve;else break e}}return B}function s(L,B){var X=L.sortIndex-B.sortIndex;return X!==0?X:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,h=3,y=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function N(L){if(v=!1,I(L),!x)if(n(l)!==null)x=!0,J(D);else{var B=n(u);B!==null&&ie(N,B.startTime-L)}}function D(L,B){x=!1,v&&(v=!1,w(E),E=-1),y=!0;var X=h;try{for(I(B),p=n(l);p!==null&&(!(p.expirationTime>B)||L&&!k());){var K=p.callback;if(typeof K=="function"){p.callback=null,h=p.priorityLevel;var Z=K(p.expirationTime<=B);B=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===n(l)&&r(l),I(B)}else r(l);p=n(l)}if(p!==null)var te=!0;else{var Ae=n(u);Ae!==null&&ie(N,Ae.startTime-B),te=!1}return te}finally{p=null,h=X,y=!1}}var M=!1,A=null,E=-1,C=5,R=-1;function k(){return!(t.unstable_now()-R<C)}function O(){if(A!==null){var L=t.unstable_now();R=L;var B=!0;try{B=A(!0,L)}finally{B?P():(M=!1,A=null)}}else M=!1}var P;if(typeof _=="function")P=function(){_(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,re=H.port2;H.port1.onmessage=O,P=function(){re.postMessage(null)}}else P=function(){b(O,0)};function J(L){A=L,M||(M=!0,P())}function ie(L,B){E=b(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,J(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var X=h;h=B;try{return L()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=h;h=L;try{return B()}finally{h=X}},t.unstable_scheduleCallback=function(L,B,X){var K=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,L={id:d++,callback:B,priorityLevel:L,startTime:X,expirationTime:Z,sortIndex:-1},X>K?(L.sortIndex=X,e(u,L),n(l)===null&&L===n(u)&&(v?(w(E),E=-1):v=!0,ie(N,X-K))):(L.sortIndex=Z,e(l,L),x||y||(x=!0,J(D))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var B=h;return function(){var X=h;h=B;try{return L.apply(this,arguments)}finally{h=X}}}})(Aw);Cw.exports=Aw;var IC=Cw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC=T,on=IC;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rw=new Set,ol={};function Si(t,e){Po(t,e),Po(t+"Capture",e)}function Po(t,e){for(ol[t]=e,t=0;t<e.length;t++)Rw.add(e[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zf=Object.prototype.hasOwnProperty,CC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,My={},Ly={};function AC(t){return zf.call(Ly,t)?!0:zf.call(My,t)?!1:CC.test(t)?Ly[t]=!0:(My[t]=!0,!1)}function RC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PC(t,e,n,r){if(e===null||typeof e>"u"||RC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function Dm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Om,Dm);mt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Om,Dm);mt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Om,Dm);mt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jm(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PC(e,n,s,r)&&(n=null),r||s===null?AC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jr=SC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oc=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),Pw=Symbol.for("react.provider"),Nw=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Wf=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),kw=Symbol.for("react.offscreen"),Vy=Symbol.iterator;function Sa(t){return t===null||typeof t!="object"?null:(t=Vy&&t[Vy]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Kh;function Ma(t){if(Kh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kh=e&&e[1]||""}return`
`+Kh+t}var Qh=!1;function Yh(t,e){if(!t||Qh)return"";Qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ma(t):""}function NC(t){switch(t.tag){case 5:return Ma(t.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return t=Yh(t.type,!1),t;case 11:return t=Yh(t.type.render,!1),t;case 1:return t=Yh(t.type,!0),t;default:return""}}function qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yi:return"Fragment";case Qi:return"Portal";case Bf:return"Profiler";case Mm:return"StrictMode";case Hf:return"Suspense";case Wf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nw:return(t.displayName||"Context")+".Consumer";case Pw:return(t._context.displayName||"Context")+".Provider";case Lm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vm:return e=t.displayName||null,e!==null?e:qf(t.type)||"Memo";case Yr:e=t._payload,t=t._init;try{return qf(t(e))}catch{}}return null}function kC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qf(e);case 8:return e===Mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ow(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OC(t){var e=Ow(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dc(t){t._valueTracker||(t._valueTracker=OC(t))}function Dw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ow(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gf(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jw(t,e){e=e.checked,e!=null&&jm(t,"checked",e,!1)}function Kf(t,e){jw(t,e);var n=Rs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qf(t,e.type,Rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qf(t,e,n){(e!=="number"||Ou(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var La=Array.isArray;function lo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $y(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(La(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rs(n)}}function Mw(t,e){var n=Rs(e.value),r=Rs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jc,Vw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jc=jc||document.createElement("div"),jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DC=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(t){DC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ha[e]=Ha[t]})});function Fw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ha.hasOwnProperty(t)&&Ha[t]?(""+e).trim():e+"px"}function Uw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var jC=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jf(t,e){if(e){if(jC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Zf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function Fm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tp=null,co=null,uo=null;function By(t){if(t=Kl(t)){if(typeof tp!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Ud(e),tp(t.stateNode,t.type,e))}}function $w(t){co?uo?uo.push(t):uo=[t]:co=t}function zw(){if(co){var t=co,e=uo;if(uo=co=null,By(t),e)for(t=0;t<e.length;t++)By(e[t])}}function Bw(t,e){return t(e)}function Hw(){}var Xh=!1;function Ww(t,e,n){if(Xh)return t(e,n);Xh=!0;try{return Bw(t,e,n)}finally{Xh=!1,(co!==null||uo!==null)&&(Hw(),zw())}}function ll(t,e){var n=t.stateNode;if(n===null)return null;var r=Ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var np=!1;if(Tr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){np=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{np=!1}function MC(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Wa=!1,Du=null,ju=!1,rp=null,LC={onError:function(t){Wa=!0,Du=t}};function VC(t,e,n,r,s,i,o,a,l){Wa=!1,Du=null,MC.apply(LC,arguments)}function FC(t,e,n,r,s,i,o,a,l){if(VC.apply(this,arguments),Wa){if(Wa){var u=Du;Wa=!1,Du=null}else throw Error(z(198));ju||(ju=!0,rp=u)}}function Ci(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hy(t){if(Ci(t)!==t)throw Error(z(188))}function UC(t){var e=t.alternate;if(!e){if(e=Ci(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Hy(s),t;if(i===r)return Hy(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Gw(t){return t=UC(t),t!==null?Kw(t):null}function Kw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kw(t);if(e!==null)return e;t=t.sibling}return null}var Qw=on.unstable_scheduleCallback,Wy=on.unstable_cancelCallback,$C=on.unstable_shouldYield,zC=on.unstable_requestPaint,Ge=on.unstable_now,BC=on.unstable_getCurrentPriorityLevel,Um=on.unstable_ImmediatePriority,Yw=on.unstable_UserBlockingPriority,Mu=on.unstable_NormalPriority,HC=on.unstable_LowPriority,Xw=on.unstable_IdlePriority,Md=null,Jn=null;function WC(t){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Md,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:KC,qC=Math.log,GC=Math.LN2;function KC(t){return t>>>=0,t===0?32:31-(qC(t)/GC|0)|0}var Mc=64,Lc=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Va(a):(i&=o,i!==0&&(r=Va(i)))}else o=n&~s,o!==0?r=Va(o):i!==0&&(r=Va(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nn(e),s=1<<n,r|=t[n],e&=~s;return r}function QC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Nn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=QC(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function sp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jw(){var t=Mc;return Mc<<=1,!(Mc&4194240)&&(Mc=64),t}function Jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ql(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nn(e),t[e]=n}function XC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Nn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $m(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var be=0;function Zw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e_,zm,t_,n_,r_,ip=!1,Vc=[],ps=null,ms=null,gs=null,cl=new Map,ul=new Map,Jr=[],JC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qy(t,e){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(e.pointerId)}}function Aa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Kl(e),e!==null&&zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZC(t,e,n,r,s){switch(e){case"focusin":return ps=Aa(ps,t,e,n,r,s),!0;case"dragenter":return ms=Aa(ms,t,e,n,r,s),!0;case"mouseover":return gs=Aa(gs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return cl.set(i,Aa(cl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ul.set(i,Aa(ul.get(i)||null,t,e,n,r,s)),!0}return!1}function s_(t){var e=ti(t.target);if(e!==null){var n=Ci(e);if(n!==null){if(e=n.tag,e===13){if(e=qw(n),e!==null){t.blockedOn=e,r_(t.priority,function(){t_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=op(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ep=r,n.target.dispatchEvent(r),ep=null}else return e=Kl(n),e!==null&&zm(e),t.blockedOn=n,!1;e.shift()}return!0}function Gy(t,e,n){lu(t)&&n.delete(e)}function eA(){ip=!1,ps!==null&&lu(ps)&&(ps=null),ms!==null&&lu(ms)&&(ms=null),gs!==null&&lu(gs)&&(gs=null),cl.forEach(Gy),ul.forEach(Gy)}function Ra(t,e){t.blockedOn===e&&(t.blockedOn=null,ip||(ip=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,eA)))}function dl(t){function e(s){return Ra(s,t)}if(0<Vc.length){Ra(Vc[0],t);for(var n=1;n<Vc.length;n++){var r=Vc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ps!==null&&Ra(ps,t),ms!==null&&Ra(ms,t),gs!==null&&Ra(gs,t),cl.forEach(e),ul.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)s_(n),n.blockedOn===null&&Jr.shift()}var ho=jr.ReactCurrentBatchConfig,Vu=!0;function tA(t,e,n,r){var s=be,i=ho.transition;ho.transition=null;try{be=1,Bm(t,e,n,r)}finally{be=s,ho.transition=i}}function nA(t,e,n,r){var s=be,i=ho.transition;ho.transition=null;try{be=4,Bm(t,e,n,r)}finally{be=s,ho.transition=i}}function Bm(t,e,n,r){if(Vu){var s=op(t,e,n,r);if(s===null)cf(t,e,r,Fu,n),qy(t,r);else if(ZC(s,t,e,n,r))r.stopPropagation();else if(qy(t,r),e&4&&-1<JC.indexOf(t)){for(;s!==null;){var i=Kl(s);if(i!==null&&e_(i),i=op(t,e,n,r),i===null&&cf(t,e,r,Fu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cf(t,e,r,null,n)}}var Fu=null;function op(t,e,n,r){if(Fu=null,t=Fm(r),t=ti(t),t!==null)if(e=Ci(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fu=t,null}function i_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BC()){case Um:return 1;case Yw:return 4;case Mu:case HC:return 16;case Xw:return 536870912;default:return 16}default:return 16}}var cs=null,Hm=null,cu=null;function o_(){if(cu)return cu;var t,e=Hm,n=e.length,r,s="value"in cs?cs.value:cs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return cu=s.slice(t,1<r?1-r:void 0)}function uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fc(){return!0}function Ky(){return!1}function cn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fc:Ky,this.isPropagationStopped=Ky,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),e}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wm=cn(Yo),Gl=Fe({},Yo,{view:0,detail:0}),rA=cn(Gl),Zh,ef,Pa,Ld=Fe({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pa&&(Pa&&t.type==="mousemove"?(Zh=t.screenX-Pa.screenX,ef=t.screenY-Pa.screenY):ef=Zh=0,Pa=t),Zh)},movementY:function(t){return"movementY"in t?t.movementY:ef}}),Qy=cn(Ld),sA=Fe({},Ld,{dataTransfer:0}),iA=cn(sA),oA=Fe({},Gl,{relatedTarget:0}),tf=cn(oA),aA=Fe({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),lA=cn(aA),cA=Fe({},Yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uA=cn(cA),dA=Fe({},Yo,{data:0}),Yy=cn(dA),hA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pA[t])?!!e[t]:!1}function qm(){return mA}var gA=Fe({},Gl,{key:function(t){if(t.key){var e=hA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qm,charCode:function(t){return t.type==="keypress"?uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yA=cn(gA),vA=Fe({},Ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=cn(vA),xA=Fe({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qm}),wA=cn(xA),_A=Fe({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),EA=cn(_A),bA=Fe({},Ld,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TA=cn(bA),IA=[9,13,27,32],Gm=Tr&&"CompositionEvent"in window,qa=null;Tr&&"documentMode"in document&&(qa=document.documentMode);var SA=Tr&&"TextEvent"in window&&!qa,a_=Tr&&(!Gm||qa&&8<qa&&11>=qa),Jy=" ",Zy=!1;function l_(t,e){switch(t){case"keyup":return IA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xi=!1;function CA(t,e){switch(t){case"compositionend":return c_(e);case"keypress":return e.which!==32?null:(Zy=!0,Jy);case"textInput":return t=e.data,t===Jy&&Zy?null:t;default:return null}}function AA(t,e){if(Xi)return t==="compositionend"||!Gm&&l_(t,e)?(t=o_(),cu=Hm=cs=null,Xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a_&&e.locale!=="ko"?null:e.data;default:return null}}var RA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RA[t.type]:e==="textarea"}function u_(t,e,n,r){$w(r),e=Uu(e,"onChange"),0<e.length&&(n=new Wm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ga=null,hl=null;function PA(t){__(t,0)}function Vd(t){var e=eo(t);if(Dw(e))return t}function NA(t,e){if(t==="change")return e}var d_=!1;if(Tr){var nf;if(Tr){var rf="oninput"in document;if(!rf){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),rf=typeof tv.oninput=="function"}nf=rf}else nf=!1;d_=nf&&(!document.documentMode||9<document.documentMode)}function nv(){Ga&&(Ga.detachEvent("onpropertychange",h_),hl=Ga=null)}function h_(t){if(t.propertyName==="value"&&Vd(hl)){var e=[];u_(e,hl,t,Fm(t)),Ww(PA,e)}}function kA(t,e,n){t==="focusin"?(nv(),Ga=e,hl=n,Ga.attachEvent("onpropertychange",h_)):t==="focusout"&&nv()}function OA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vd(hl)}function DA(t,e){if(t==="click")return Vd(e)}function jA(t,e){if(t==="input"||t==="change")return Vd(e)}function MA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:MA;function fl(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zf.call(e,s)||!Dn(t[s],e[s]))return!1}return!0}function rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sv(t,e){var n=rv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rv(n)}}function f_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?f_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p_(){for(var t=window,e=Ou();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ou(t.document)}return e}function Km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LA(t){var e=p_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&f_(n.ownerDocument.documentElement,n)){if(r!==null&&Km(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=sv(n,i);var o=sv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VA=Tr&&"documentMode"in document&&11>=document.documentMode,Ji=null,ap=null,Ka=null,lp=!1;function iv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lp||Ji==null||Ji!==Ou(r)||(r=Ji,"selectionStart"in r&&Km(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ka&&fl(Ka,r)||(Ka=r,r=Uu(ap,"onSelect"),0<r.length&&(e=new Wm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ji)))}function Uc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zi={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},sf={},m_={};Tr&&(m_=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function Fd(t){if(sf[t])return sf[t];if(!Zi[t])return t;var e=Zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in m_)return sf[t]=e[n];return t}var g_=Fd("animationend"),y_=Fd("animationiteration"),v_=Fd("animationstart"),x_=Fd("transitionend"),w_=new Map,ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){w_.set(t,e),Si(e,[t])}for(var of=0;of<ov.length;of++){var af=ov[of],FA=af.toLowerCase(),UA=af[0].toUpperCase()+af.slice(1);zs(FA,"on"+UA)}zs(g_,"onAnimationEnd");zs(y_,"onAnimationIteration");zs(v_,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(x_,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function av(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FC(r,e,void 0,t),t.currentTarget=null}function __(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;av(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;av(s,a,u),i=l}}}if(ju)throw t=rp,ju=!1,rp=null,t}function Ne(t,e){var n=e[fp];n===void 0&&(n=e[fp]=new Set);var r=t+"__bubble";n.has(r)||(E_(e,t,2,!1),n.add(r))}function lf(t,e,n){var r=0;e&&(r|=4),E_(n,t,r,e)}var $c="_reactListening"+Math.random().toString(36).slice(2);function pl(t){if(!t[$c]){t[$c]=!0,Rw.forEach(function(n){n!=="selectionchange"&&($A.has(n)||lf(n,!1,t),lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$c]||(e[$c]=!0,lf("selectionchange",!1,e))}}function E_(t,e,n,r){switch(i_(e)){case 1:var s=tA;break;case 4:s=nA;break;default:s=Bm}n=s.bind(null,e,n,t),s=void 0,!np||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function cf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ti(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ww(function(){var u=i,d=Fm(n),p=[];e:{var h=w_.get(t);if(h!==void 0){var y=Wm,x=t;switch(t){case"keypress":if(uu(n)===0)break e;case"keydown":case"keyup":y=yA;break;case"focusin":x="focus",y=tf;break;case"focusout":x="blur",y=tf;break;case"beforeblur":case"afterblur":y=tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=iA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=wA;break;case g_:case y_:case v_:y=lA;break;case x_:y=EA;break;case"scroll":y=rA;break;case"wheel":y=TA;break;case"copy":case"cut":case"paste":y=uA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Xy}var v=(e&4)!==0,b=!v&&t==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var _=u,I;_!==null;){I=_;var N=I.stateNode;if(I.tag===5&&N!==null&&(I=N,w!==null&&(N=ll(_,w),N!=null&&v.push(ml(_,N,I)))),b)break;_=_.return}0<v.length&&(h=new y(h,x,null,n,d),p.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==ep&&(x=n.relatedTarget||n.fromElement)&&(ti(x)||x[Ir]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?ti(x):null,x!==null&&(b=Ci(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(v=Qy,N="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=Xy,N="onPointerLeave",w="onPointerEnter",_="pointer"),b=y==null?h:eo(y),I=x==null?h:eo(x),h=new v(N,_+"leave",y,n,d),h.target=b,h.relatedTarget=I,N=null,ti(d)===u&&(v=new v(w,_+"enter",x,n,d),v.target=I,v.relatedTarget=b,N=v),b=N,y&&x)t:{for(v=y,w=x,_=0,I=v;I;I=$i(I))_++;for(I=0,N=w;N;N=$i(N))I++;for(;0<_-I;)v=$i(v),_--;for(;0<I-_;)w=$i(w),I--;for(;_--;){if(v===w||w!==null&&v===w.alternate)break t;v=$i(v),w=$i(w)}v=null}else v=null;y!==null&&lv(p,h,y,v,!1),x!==null&&b!==null&&lv(p,b,x,v,!0)}}e:{if(h=u?eo(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var D=NA;else if(ev(h))if(d_)D=jA;else{D=OA;var M=kA}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=DA);if(D&&(D=D(t,u))){u_(p,D,n,d);break e}M&&M(t,h,u),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Qf(h,"number",h.value)}switch(M=u?eo(u):window,t){case"focusin":(ev(M)||M.contentEditable==="true")&&(Ji=M,ap=u,Ka=null);break;case"focusout":Ka=ap=Ji=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,iv(p,n,d);break;case"selectionchange":if(VA)break;case"keydown":case"keyup":iv(p,n,d)}var A;if(Gm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Xi?l_(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(a_&&n.locale!=="ko"&&(Xi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Xi&&(A=o_()):(cs=d,Hm="value"in cs?cs.value:cs.textContent,Xi=!0)),M=Uu(u,E),0<M.length&&(E=new Yy(E,t,null,n,d),p.push({event:E,listeners:M}),A?E.data=A:(A=c_(n),A!==null&&(E.data=A)))),(A=SA?CA(t,n):AA(t,n))&&(u=Uu(u,"onBeforeInput"),0<u.length&&(d=new Yy("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=A))}__(p,e)})}function ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ll(t,n),i!=null&&r.unshift(ml(t,i,s)),i=ll(t,e),i!=null&&r.push(ml(t,i,s))),t=t.return}return r}function $i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ll(n,i),l!=null&&o.unshift(ml(n,l,a))):s||(l=ll(n,i),l!=null&&o.push(ml(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zA=/\r\n?/g,BA=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(zA,`
`).replace(BA,"")}function zc(t,e,n){if(e=cv(e),cv(t)!==e&&n)throw Error(z(425))}function $u(){}var cp=null,up=null;function dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(t){return uv.resolve(null).then(t).catch(qA)}:hp;function qA(t){setTimeout(function(){throw t})}function uf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);dl(e)}function ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Xo,gl="__reactProps$"+Xo,Ir="__reactContainer$"+Xo,fp="__reactEvents$"+Xo,GA="__reactListeners$"+Xo,KA="__reactHandles$"+Xo;function ti(t){var e=t[Xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ir]||n[Xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dv(t);t!==null;){if(n=t[Xn])return n;t=dv(t)}return e}t=n,n=t.parentNode}return null}function Kl(t){return t=t[Xn]||t[Ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Ud(t){return t[gl]||null}var pp=[],to=-1;function Bs(t){return{current:t}}function De(t){0>to||(t.current=pp[to],pp[to]=null,to--)}function Ce(t,e){to++,pp[to]=t.current,t.current=e}var Ps={},Rt=Bs(Ps),Ht=Bs(!1),di=Ps;function No(t,e){var n=t.type.contextTypes;if(!n)return Ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Wt(t){return t=t.childContextTypes,t!=null}function zu(){De(Ht),De(Rt)}function hv(t,e,n){if(Rt.current!==Ps)throw Error(z(168));Ce(Rt,e),Ce(Ht,n)}function b_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,kC(t)||"Unknown",s));return Fe({},n,r)}function Bu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ps,di=Rt.current,Ce(Rt,t),Ce(Ht,Ht.current),!0}function fv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=b_(t,e,di),r.__reactInternalMemoizedMergedChildContext=t,De(Ht),De(Rt),Ce(Rt,t)):De(Ht),Ce(Ht,n)}var yr=null,$d=!1,df=!1;function T_(t){yr===null?yr=[t]:yr.push(t)}function QA(t){$d=!0,T_(t)}function Hs(){if(!df&&yr!==null){df=!0;var t=0,e=be;try{var n=yr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,$d=!1}catch(s){throw yr!==null&&(yr=yr.slice(t+1)),Qw(Um,Hs),s}finally{be=e,df=!1}}return null}var no=[],ro=0,Hu=null,Wu=0,dn=[],hn=0,hi=null,vr=1,xr="";function Js(t,e){no[ro++]=Wu,no[ro++]=Hu,Hu=t,Wu=e}function I_(t,e,n){dn[hn++]=vr,dn[hn++]=xr,dn[hn++]=hi,hi=t;var r=vr;t=xr;var s=32-Nn(r)-1;r&=~(1<<s),n+=1;var i=32-Nn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,vr=1<<32-Nn(e)+s|n<<s|r,xr=i+t}else vr=1<<i|n<<s|r,xr=t}function Qm(t){t.return!==null&&(Js(t,1),I_(t,1,0))}function Ym(t){for(;t===Hu;)Hu=no[--ro],no[ro]=null,Wu=no[--ro],no[ro]=null;for(;t===hi;)hi=dn[--hn],dn[hn]=null,xr=dn[--hn],dn[hn]=null,vr=dn[--hn],dn[hn]=null}var rn=null,tn=null,Me=!1,Sn=null;function S_(t,e){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,tn=ys(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hi!==null?{id:vr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,tn=null,!0):!1;default:return!1}}function mp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gp(t){if(Me){var e=tn;if(e){var n=e;if(!pv(t,e)){if(mp(t))throw Error(z(418));e=ys(n.nextSibling);var r=rn;e&&pv(t,e)?S_(r,n):(t.flags=t.flags&-4097|2,Me=!1,rn=t)}}else{if(mp(t))throw Error(z(418));t.flags=t.flags&-4097|2,Me=!1,rn=t}}}function mv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Bc(t){if(t!==rn)return!1;if(!Me)return mv(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dp(t.type,t.memoizedProps)),e&&(e=tn)){if(mp(t))throw C_(),Error(z(418));for(;e;)S_(t,e),e=ys(e.nextSibling)}if(mv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tn=ys(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=rn?ys(t.stateNode.nextSibling):null;return!0}function C_(){for(var t=tn;t;)t=ys(t.nextSibling)}function ko(){tn=rn=null,Me=!1}function Xm(t){Sn===null?Sn=[t]:Sn.push(t)}var YA=jr.ReactCurrentBatchConfig;function Na(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Hc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gv(t){var e=t._init;return e(t._payload)}function A_(t){function e(w,_){if(t){var I=w.deletions;I===null?(w.deletions=[_],w.flags|=16):I.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=_s(w,_),w.index=0,w.sibling=null,w}function i(w,_,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<_?(w.flags|=2,_):I):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,I,N){return _===null||_.tag!==6?(_=vf(I,w.mode,N),_.return=w,_):(_=s(_,I),_.return=w,_)}function l(w,_,I,N){var D=I.type;return D===Yi?d(w,_,I.props.children,N,I.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Yr&&gv(D)===_.type)?(N=s(_,I.props),N.ref=Na(w,_,I),N.return=w,N):(N=yu(I.type,I.key,I.props,null,w.mode,N),N.ref=Na(w,_,I),N.return=w,N)}function u(w,_,I,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=xf(I,w.mode,N),_.return=w,_):(_=s(_,I.children||[]),_.return=w,_)}function d(w,_,I,N,D){return _===null||_.tag!==7?(_=ui(I,w.mode,N,D),_.return=w,_):(_=s(_,I),_.return=w,_)}function p(w,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=vf(""+_,w.mode,I),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Oc:return I=yu(_.type,_.key,_.props,null,w.mode,I),I.ref=Na(w,null,_),I.return=w,I;case Qi:return _=xf(_,w.mode,I),_.return=w,_;case Yr:var N=_._init;return p(w,N(_._payload),I)}if(La(_)||Sa(_))return _=ui(_,w.mode,I,null),_.return=w,_;Hc(w,_)}return null}function h(w,_,I,N){var D=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:a(w,_,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Oc:return I.key===D?l(w,_,I,N):null;case Qi:return I.key===D?u(w,_,I,N):null;case Yr:return D=I._init,h(w,_,D(I._payload),N)}if(La(I)||Sa(I))return D!==null?null:d(w,_,I,N,null);Hc(w,I)}return null}function y(w,_,I,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(I)||null,a(_,w,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Oc:return w=w.get(N.key===null?I:N.key)||null,l(_,w,N,D);case Qi:return w=w.get(N.key===null?I:N.key)||null,u(_,w,N,D);case Yr:var M=N._init;return y(w,_,I,M(N._payload),D)}if(La(N)||Sa(N))return w=w.get(I)||null,d(_,w,N,D,null);Hc(_,N)}return null}function x(w,_,I,N){for(var D=null,M=null,A=_,E=_=0,C=null;A!==null&&E<I.length;E++){A.index>E?(C=A,A=null):C=A.sibling;var R=h(w,A,I[E],N);if(R===null){A===null&&(A=C);break}t&&A&&R.alternate===null&&e(w,A),_=i(R,_,E),M===null?D=R:M.sibling=R,M=R,A=C}if(E===I.length)return n(w,A),Me&&Js(w,E),D;if(A===null){for(;E<I.length;E++)A=p(w,I[E],N),A!==null&&(_=i(A,_,E),M===null?D=A:M.sibling=A,M=A);return Me&&Js(w,E),D}for(A=r(w,A);E<I.length;E++)C=y(A,w,E,I[E],N),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?E:C.key),_=i(C,_,E),M===null?D=C:M.sibling=C,M=C);return t&&A.forEach(function(k){return e(w,k)}),Me&&Js(w,E),D}function v(w,_,I,N){var D=Sa(I);if(typeof D!="function")throw Error(z(150));if(I=D.call(I),I==null)throw Error(z(151));for(var M=D=null,A=_,E=_=0,C=null,R=I.next();A!==null&&!R.done;E++,R=I.next()){A.index>E?(C=A,A=null):C=A.sibling;var k=h(w,A,R.value,N);if(k===null){A===null&&(A=C);break}t&&A&&k.alternate===null&&e(w,A),_=i(k,_,E),M===null?D=k:M.sibling=k,M=k,A=C}if(R.done)return n(w,A),Me&&Js(w,E),D;if(A===null){for(;!R.done;E++,R=I.next())R=p(w,R.value,N),R!==null&&(_=i(R,_,E),M===null?D=R:M.sibling=R,M=R);return Me&&Js(w,E),D}for(A=r(w,A);!R.done;E++,R=I.next())R=y(A,w,E,R.value,N),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?E:R.key),_=i(R,_,E),M===null?D=R:M.sibling=R,M=R);return t&&A.forEach(function(O){return e(w,O)}),Me&&Js(w,E),D}function b(w,_,I,N){if(typeof I=="object"&&I!==null&&I.type===Yi&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Oc:e:{for(var D=I.key,M=_;M!==null;){if(M.key===D){if(D=I.type,D===Yi){if(M.tag===7){n(w,M.sibling),_=s(M,I.props.children),_.return=w,w=_;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Yr&&gv(D)===M.type){n(w,M.sibling),_=s(M,I.props),_.ref=Na(w,M,I),_.return=w,w=_;break e}n(w,M);break}else e(w,M);M=M.sibling}I.type===Yi?(_=ui(I.props.children,w.mode,N,I.key),_.return=w,w=_):(N=yu(I.type,I.key,I.props,null,w.mode,N),N.ref=Na(w,_,I),N.return=w,w=N)}return o(w);case Qi:e:{for(M=I.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(w,_.sibling),_=s(_,I.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=xf(I,w.mode,N),_.return=w,w=_}return o(w);case Yr:return M=I._init,b(w,_,M(I._payload),N)}if(La(I))return x(w,_,I,N);if(Sa(I))return v(w,_,I,N);Hc(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(w,_.sibling),_=s(_,I),_.return=w,w=_):(n(w,_),_=vf(I,w.mode,N),_.return=w,w=_),o(w)):n(w,_)}return b}var Oo=A_(!0),R_=A_(!1),qu=Bs(null),Gu=null,so=null,Jm=null;function Zm(){Jm=so=Gu=null}function eg(t){var e=qu.current;De(qu),t._currentValue=e}function yp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){Gu=t,Jm=so=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(Jm!==t)if(t={context:t,memoizedValue:e,next:null},so===null){if(Gu===null)throw Error(z(308));so=t,Gu.dependencies={lanes:0,firstContext:t}}else so=so.next=t;return e}var ni=null;function tg(t){ni===null?ni=[t]:ni.push(t)}function P_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,tg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xr=!1;function ng(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Sr(t,n)}return s=r.interleaved,s===null?(e.next=e,tg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Sr(t,n)}function du(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$m(t,n)}}function yv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ku(t,e,n,r){var s=t.updateQueue;Xr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,v=a;switch(h=e,y=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){p=x.call(y,p,h);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(y,p,h):x,h==null)break e;p=Fe({},p,h);break e;case 2:Xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=p):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);pi|=o,t.lanes=o,t.memoizedState=p}}function vv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Ql={},Zn=Bs(Ql),yl=Bs(Ql),vl=Bs(Ql);function ri(t){if(t===Ql)throw Error(z(174));return t}function rg(t,e){switch(Ce(vl,e),Ce(yl,t),Ce(Zn,Ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xf(e,t)}De(Zn),Ce(Zn,e)}function Do(){De(Zn),De(yl),De(vl)}function k_(t){ri(vl.current);var e=ri(Zn.current),n=Xf(e,t.type);e!==n&&(Ce(yl,t),Ce(Zn,n))}function sg(t){yl.current===t&&(De(Zn),De(yl))}var Le=Bs(0);function Qu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hf=[];function ig(){for(var t=0;t<hf.length;t++)hf[t]._workInProgressVersionPrimary=null;hf.length=0}var hu=jr.ReactCurrentDispatcher,ff=jr.ReactCurrentBatchConfig,fi=0,Ve=null,nt=null,at=null,Yu=!1,Qa=!1,xl=0,XA=0;function Et(){throw Error(z(321))}function og(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function ag(t,e,n,r,s,i){if(fi=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hu.current=t===null||t.memoizedState===null?tR:nR,t=n(r,s),Qa){i=0;do{if(Qa=!1,xl=0,25<=i)throw Error(z(301));i+=1,at=nt=null,e.updateQueue=null,hu.current=rR,t=n(r,s)}while(Qa)}if(hu.current=Xu,e=nt!==null&&nt.next!==null,fi=0,at=nt=Ve=null,Yu=!1,e)throw Error(z(300));return t}function lg(){var t=xl!==0;return xl=0,t}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ve.memoizedState=at=t:at=at.next=t,at}function yn(){if(nt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=at===null?Ve.memoizedState:at.next;if(e!==null)at=e,nt=t;else{if(t===null)throw Error(z(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},at===null?Ve.memoizedState=at=t:at=at.next=t}return at}function wl(t,e){return typeof e=="function"?e(t):e}function pf(t){var e=yn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=nt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((fi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Ve.lanes|=d,pi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Dn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,pi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mf(t){var e=yn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Dn(i,e.memoizedState)||(zt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function O_(){}function D_(t,e){var n=Ve,r=yn(),s=e(),i=!Dn(r.memoizedState,s);if(i&&(r.memoizedState=s,zt=!0),r=r.queue,cg(L_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,_l(9,M_.bind(null,n,r,s,e),void 0,null),ct===null)throw Error(z(349));fi&30||j_(n,e,s)}return s}function j_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M_(t,e,n,r){e.value=n,e.getSnapshot=r,V_(e)&&F_(t)}function L_(t,e,n){return n(function(){V_(e)&&F_(t)})}function V_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function F_(t){var e=Sr(t,1);e!==null&&kn(e,t,1,-1)}function xv(t){var e=qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:t},e.queue=t,t=t.dispatch=eR.bind(null,Ve,t),[e.memoizedState,t]}function _l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function U_(){return yn().memoizedState}function fu(t,e,n,r){var s=qn();Ve.flags|=t,s.memoizedState=_l(1|e,n,void 0,r===void 0?null:r)}function zd(t,e,n,r){var s=yn();r=r===void 0?null:r;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,r!==null&&og(r,o.deps)){s.memoizedState=_l(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=_l(1|e,n,i,r)}function wv(t,e){return fu(8390656,8,t,e)}function cg(t,e){return zd(2048,8,t,e)}function $_(t,e){return zd(4,2,t,e)}function z_(t,e){return zd(4,4,t,e)}function B_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function H_(t,e,n){return n=n!=null?n.concat([t]):null,zd(4,4,B_.bind(null,e,t),n)}function ug(){}function W_(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&og(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function q_(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&og(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function G_(t,e,n){return fi&21?(Dn(n,e)||(n=Jw(),Ve.lanes|=n,pi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function JA(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=ff.transition;ff.transition={};try{t(!1),e()}finally{be=n,ff.transition=r}}function K_(){return yn().memoizedState}function ZA(t,e,n){var r=ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q_(t))Y_(e,n);else if(n=P_(t,e,n,r),n!==null){var s=jt();kn(n,t,r,s),X_(n,e,r)}}function eR(t,e,n){var r=ws(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q_(t))Y_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(s.next=s,tg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=P_(t,e,s,r),n!==null&&(s=jt(),kn(n,t,r,s),X_(n,e,r))}}function Q_(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function Y_(t,e){Qa=Yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$m(t,n)}}var Xu={readContext:gn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},tR={readContext:gn,useCallback:function(t,e){return qn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:wv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fu(4194308,4,B_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fu(4194308,4,t,e)},useInsertionEffect:function(t,e){return fu(4,2,t,e)},useMemo:function(t,e){var n=qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZA.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=qn();return t={current:t},e.memoizedState=t},useState:xv,useDebugValue:ug,useDeferredValue:function(t){return qn().memoizedState=t},useTransition:function(){var t=xv(!1),e=t[0];return t=JA.bind(null,t[1]),qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=qn();if(Me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ct===null)throw Error(z(349));fi&30||j_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,wv(L_.bind(null,r,i,t),[t]),r.flags|=2048,_l(9,M_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=qn(),e=ct.identifierPrefix;if(Me){var n=xr,r=vr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nR={readContext:gn,useCallback:W_,useContext:gn,useEffect:cg,useImperativeHandle:H_,useInsertionEffect:$_,useLayoutEffect:z_,useMemo:q_,useReducer:pf,useRef:U_,useState:function(){return pf(wl)},useDebugValue:ug,useDeferredValue:function(t){var e=yn();return G_(e,nt.memoizedState,t)},useTransition:function(){var t=pf(wl)[0],e=yn().memoizedState;return[t,e]},useMutableSource:O_,useSyncExternalStore:D_,useId:K_,unstable_isNewReconciler:!1},rR={readContext:gn,useCallback:W_,useContext:gn,useEffect:cg,useImperativeHandle:H_,useInsertionEffect:$_,useLayoutEffect:z_,useMemo:q_,useReducer:mf,useRef:U_,useState:function(){return mf(wl)},useDebugValue:ug,useDeferredValue:function(t){var e=yn();return nt===null?e.memoizedState=t:G_(e,nt.memoizedState,t)},useTransition:function(){var t=mf(wl)[0],e=yn().memoizedState;return[t,e]},useMutableSource:O_,useSyncExternalStore:D_,useId:K_,unstable_isNewReconciler:!1};function En(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bd={isMounted:function(t){return(t=t._reactInternals)?Ci(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),s=ws(t),i=Er(r,s);i.payload=e,n!=null&&(i.callback=n),e=vs(t,i,s),e!==null&&(kn(e,t,s,r),du(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),s=ws(t),i=Er(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vs(t,i,s),e!==null&&(kn(e,t,s,r),du(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=ws(t),s=Er(n,r);s.tag=2,e!=null&&(s.callback=e),e=vs(t,s,r),e!==null&&(kn(e,t,r,n),du(e,t,r))}};function _v(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!fl(n,r)||!fl(s,i):!0}function J_(t,e,n){var r=!1,s=Ps,i=e.contextType;return typeof i=="object"&&i!==null?i=gn(i):(s=Wt(e)?di:Rt.current,r=e.contextTypes,i=(r=r!=null)?No(t,s):Ps),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ev(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bd.enqueueReplaceState(e,e.state,null)}function xp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ng(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=gn(i):(i=Wt(e)?di:Rt.current,s.context=No(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bd.enqueueReplaceState(s,s.state,null),Ku(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,e){try{var n="",r=e;do n+=NC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sR=typeof WeakMap=="function"?WeakMap:Map;function Z_(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zu||(Zu=!0,Pp=r),wp(t,e)},n}function eE(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){wp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wp(t,e),typeof r!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=vR.bind(null,t,e,n),e.then(t,t))}function Tv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Iv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,vs(n,e,1))),n.lanes|=1),t)}var iR=jr.ReactCurrentOwner,zt=!1;function Ot(t,e,n,r){e.child=t===null?R_(e,null,n,r):Oo(e,t.child,n,r)}function Sv(t,e,n,r,s){n=n.render;var i=e.ref;return fo(e,s),r=ag(t,e,n,r,i,s),n=lg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cr(t,e,s)):(Me&&n&&Qm(e),e.flags|=1,Ot(t,e,r,s),e.child)}function Cv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!vg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,tE(t,e,i,r,s)):(t=yu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(o,r)&&t.ref===e.ref)return Cr(t,e,s)}return e.flags|=1,t=_s(i,r),t.ref=e.ref,t.return=e,e.child=t}function tE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(fl(i,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,Cr(t,e,s)}return _p(t,e,n,r,s)}function nE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(oo,Zt),Zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(oo,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(oo,Zt),Zt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(oo,Zt),Zt|=r;return Ot(t,e,s,n),e.child}function rE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _p(t,e,n,r,s){var i=Wt(n)?di:Rt.current;return i=No(e,i),fo(e,s),n=ag(t,e,n,r,i,s),r=lg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cr(t,e,s)):(Me&&r&&Qm(e),e.flags|=1,Ot(t,e,n,s),e.child)}function Av(t,e,n,r,s){if(Wt(n)){var i=!0;Bu(e)}else i=!1;if(fo(e,s),e.stateNode===null)pu(t,e),J_(e,n,r),xp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gn(u):(u=Wt(n)?di:Rt.current,u=No(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ev(e,o,r,u),Xr=!1;var h=e.memoizedState;o.state=h,Ku(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Ht.current||Xr?(typeof d=="function"&&(vp(e,n,d,r),l=e.memoizedState),(a=Xr||_v(e,n,a,r,h,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,N_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:En(e.type,a),o.props=u,p=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gn(l):(l=Wt(n)?di:Rt.current,l=No(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==l)&&Ev(e,o,r,l),Xr=!1,h=e.memoizedState,o.state=h,Ku(e,r,o,s);var x=e.memoizedState;a!==p||h!==x||Ht.current||Xr?(typeof y=="function"&&(vp(e,n,y,r),x=e.memoizedState),(u=Xr||_v(e,n,u,r,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ep(t,e,n,r,i,s)}function Ep(t,e,n,r,s,i){rE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&fv(e,n,!1),Cr(t,e,i);r=e.stateNode,iR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oo(e,t.child,null,i),e.child=Oo(e,null,a,i)):Ot(t,e,a,i),e.memoizedState=r.state,s&&fv(e,n,!0),e.child}function sE(t){var e=t.stateNode;e.pendingContext?hv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hv(t,e.context,!1),rg(t,e.containerInfo)}function Rv(t,e,n,r,s){return ko(),Xm(s),e.flags|=256,Ot(t,e,n,r),e.child}var bp={dehydrated:null,treeContext:null,retryLane:0};function Tp(t){return{baseLanes:t,cachePool:null,transitions:null}}function iE(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Le,s&1),t===null)return gp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qd(o,r,0,null),t=ui(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tp(n),e.memoizedState=bp,t):dg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return oR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_s(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_s(a,i):(i=ui(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Tp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=bp,r}return i=t.child,t=i.sibling,r=_s(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dg(t,e){return e=qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wc(t,e,n,r){return r!==null&&Xm(r),Oo(e,t.child,null,n),t=dg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gf(Error(z(422))),Wc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qd({mode:"visible",children:r.children},s,0,null),i=ui(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oo(e,t.child,null,o),e.child.memoizedState=Tp(o),e.memoizedState=bp,i);if(!(e.mode&1))return Wc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=gf(i,r,void 0),Wc(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Sr(t,s),kn(r,t,s,-1))}return yg(),r=gf(Error(z(421))),Wc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=xR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,tn=ys(s.nextSibling),rn=e,Me=!0,Sn=null,t!==null&&(dn[hn++]=vr,dn[hn++]=xr,dn[hn++]=hi,vr=t.id,xr=t.overflow,hi=e),e=dg(e,r.children),e.flags|=4096,e)}function Pv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yp(t.return,e,n)}function yf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function oE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ot(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pv(t,n,e);else if(t.tag===19)Pv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Qu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),yf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}yf(e,!0,n,null,i);break;case"together":yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=_s(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_s(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aR(t,e,n){switch(e.tag){case 3:sE(e),ko();break;case 5:k_(e);break;case 1:Wt(e.type)&&Bu(e);break;case 4:rg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(qu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?iE(t,e,n):(Ce(Le,Le.current&1),t=Cr(t,e,n),t!==null?t.sibling:null);Ce(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,nE(t,e,n)}return Cr(t,e,n)}var aE,Ip,lE,cE;aE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ip=function(){};lE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ri(Zn.current);var i=null;switch(n){case"input":s=Gf(t,s),r=Gf(t,r),i=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":s=Yf(t,s),r=Yf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$u)}Jf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ol.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ol.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};cE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ka(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lR(t,e,n){var r=e.pendingProps;switch(Ym(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Wt(e.type)&&zu(),bt(e),null;case 3:return r=e.stateNode,Do(),De(Ht),De(Rt),ig(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(Op(Sn),Sn=null))),Ip(t,e),bt(e),null;case 5:sg(e);var s=ri(vl.current);if(n=e.type,t!==null&&e.stateNode!=null)lE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return bt(e),null}if(t=ri(Zn.current),Bc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xn]=e,r[gl]=i,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(s=0;s<Fa.length;s++)Ne(Fa[s],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Fy(r,i),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",r);break;case"textarea":$y(r,i),Ne("invalid",r)}Jf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&zc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zc(r.textContent,a,t),s=["children",""+a]):ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Dc(r),Uy(r,i,!0);break;case"textarea":Dc(r),zy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$u)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xn]=e,t[gl]=r,aE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zf(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),s=r;break;case"iframe":case"object":case"embed":Ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<Fa.length;s++)Ne(Fa[s],t);s=r;break;case"source":Ne("error",t),s=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),s=r;break;case"details":Ne("toggle",t),s=r;break;case"input":Fy(t,r),s=Gf(t,r),Ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":$y(t,r),s=Yf(t,r),Ne("invalid",t);break;default:s=r}Jf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Uw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&al(t,l):typeof l=="number"&&al(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ol.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ne("scroll",t):l!=null&&jm(t,i,l,o))}switch(n){case"input":Dc(t),Uy(t,r,!1);break;case"textarea":Dc(t),zy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?lo(t,!!r.multiple,i,!1):r.defaultValue!=null&&lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)cE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ri(vl.current),ri(Zn.current),Bc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xn]=e,(i=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xn]=e,e.stateNode=r}return bt(e),null;case 13:if(De(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&tn!==null&&e.mode&1&&!(e.flags&128))C_(),ko(),e.flags|=98560,i=!1;else if(i=Bc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Xn]=e}else ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),i=!1}else Sn!==null&&(Op(Sn),Sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?rt===0&&(rt=3):yg())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return Do(),Ip(t,e),t===null&&pl(e.stateNode.containerInfo),bt(e),null;case 10:return eg(e.type._context),bt(e),null;case 17:return Wt(e.type)&&zu(),bt(e),null;case 19:if(De(Le),i=e.memoizedState,i===null)return bt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ka(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qu(t),o!==null){for(e.flags|=128,ka(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Mo&&(e.flags|=128,r=!0,ka(i,!1),e.lanes=4194304)}else{if(!r)if(t=Qu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Me)return bt(e),null}else 2*Ge()-i.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,r=!0,ka(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Le.current,Ce(Le,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return gg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function cR(t,e){switch(Ym(e),e.tag){case 1:return Wt(e.type)&&zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(),De(Ht),De(Rt),ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sg(e),null;case 13:if(De(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Le),null;case 4:return Do(),null;case 10:return eg(e.type._context),null;case 22:case 23:return gg(),null;case 24:return null;default:return null}}var qc=!1,Ct=!1,uR=typeof WeakSet=="function"?WeakSet:Set,Q=null;function io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Sp(t,e,n){try{n()}catch(r){We(t,e,r)}}var Nv=!1;function dR(t,e){if(cp=Vu,t=p_(),Km(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,h=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)h=p,p=y;for(;;){if(p===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(y=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(up={focusedElem:t,selectionRange:n},Vu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,b=x.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:En(e.type,v),b);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(N){We(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return x=Nv,Nv=!1,x}function Ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sp(e,n,i)}s=s.next}while(s!==r)}}function Hd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uE(t){var e=t.alternate;e!==null&&(t.alternate=null,uE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xn],delete e[gl],delete e[fp],delete e[GA],delete e[KA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dE(t){return t.tag===5||t.tag===3||t.tag===4}function kv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$u));else if(r!==4&&(t=t.child,t!==null))for(Ap(t,e,n),t=t.sibling;t!==null;)Ap(t,e,n),t=t.sibling}function Rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rp(t,e,n),t=t.sibling;t!==null;)Rp(t,e,n),t=t.sibling}var dt=null,In=!1;function Hr(t,e,n){for(n=n.child;n!==null;)hE(t,e,n),n=n.sibling}function hE(t,e,n){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Md,n)}catch{}switch(n.tag){case 5:Ct||io(n,e);case 6:var r=dt,s=In;dt=null,Hr(t,e,n),dt=r,In=s,dt!==null&&(In?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(In?(t=dt,n=n.stateNode,t.nodeType===8?uf(t.parentNode,n):t.nodeType===1&&uf(t,n),dl(t)):uf(dt,n.stateNode));break;case 4:r=dt,s=In,dt=n.stateNode.containerInfo,In=!0,Hr(t,e,n),dt=r,In=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Sp(n,e,o),s=s.next}while(s!==r)}Hr(t,e,n);break;case 1:if(!Ct&&(io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}Hr(t,e,n);break;case 21:Hr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Hr(t,e,n),Ct=r):Hr(t,e,n);break;default:Hr(t,e,n)}}function Ov(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uR),e.forEach(function(r){var s=wR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,In=!1;break e;case 3:dt=a.stateNode.containerInfo,In=!0;break e;case 4:dt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(dt===null)throw Error(z(160));hE(i,o,s),dt=null,In=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){We(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fE(e,t),e=e.sibling}function fE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),Hn(t),r&4){try{Ya(3,t,t.return),Hd(3,t)}catch(v){We(t,t.return,v)}try{Ya(5,t,t.return)}catch(v){We(t,t.return,v)}}break;case 1:_n(e,t),Hn(t),r&512&&n!==null&&io(n,n.return);break;case 5:if(_n(e,t),Hn(t),r&512&&n!==null&&io(n,n.return),t.flags&32){var s=t.stateNode;try{al(s,"")}catch(v){We(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&jw(s,i),Zf(a,o);var u=Zf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?Uw(s,p):d==="dangerouslySetInnerHTML"?Vw(s,p):d==="children"?al(s,p):jm(s,d,p,u)}switch(a){case"input":Kf(s,i);break;case"textarea":Mw(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?lo(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?lo(s,!!i.multiple,i.defaultValue,!0):lo(s,!!i.multiple,i.multiple?[]:"",!1))}s[gl]=i}catch(v){We(t,t.return,v)}}break;case 6:if(_n(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){We(t,t.return,v)}}break;case 3:if(_n(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dl(e.containerInfo)}catch(v){We(t,t.return,v)}break;case 4:_n(e,t),Hn(t);break;case 13:_n(e,t),Hn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pg=Ge())),r&4&&Ov(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(u=Ct)||d,_n(e,t),Ct=u):_n(e,t),Hn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(p=Q=d;Q!==null;){switch(h=Q,y=h.child,h.tag){case 0:case 11:case 14:case 15:Ya(4,h,h.return);break;case 1:io(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){We(r,n,v)}}break;case 5:io(h,h.return);break;case 22:if(h.memoizedState!==null){jv(p);continue}}y!==null?(y.return=h,Q=y):jv(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fw("display",o))}catch(v){We(t,t.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){We(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:_n(e,t),Hn(t),r&4&&Ov(t);break;case 21:break;default:_n(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dE(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(al(s,""),r.flags&=-33);var i=kv(t);Rp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kv(t);Ap(t,a,o);break;default:throw Error(z(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hR(t,e,n){Q=t,pE(t)}function pE(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||qc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=qc;var u=Ct;if(qc=o,(Ct=l)&&!u)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Mv(s):l!==null?(l.return=o,Q=l):Mv(s);for(;i!==null;)Q=i,pE(i),i=i.sibling;Q=s,qc=a,Ct=u}Dv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):Dv(t)}}function Dv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Hd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:En(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&dl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ct||e.flags&512&&Cp(e)}catch(h){We(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function jv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Mv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hd(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){We(e,s,l)}}var i=e.return;try{Cp(e)}catch(l){We(e,i,l)}break;case 5:var o=e.return;try{Cp(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var fR=Math.ceil,Ju=jr.ReactCurrentDispatcher,hg=jr.ReactCurrentOwner,mn=jr.ReactCurrentBatchConfig,ge=0,ct=null,Xe=null,pt=0,Zt=0,oo=Bs(0),rt=0,El=null,pi=0,Wd=0,fg=0,Xa=null,$t=null,pg=0,Mo=1/0,gr=null,Zu=!1,Pp=null,xs=null,Gc=!1,us=null,ed=0,Ja=0,Np=null,mu=-1,gu=0;function jt(){return ge&6?Ge():mu!==-1?mu:mu=Ge()}function ws(t){return t.mode&1?ge&2&&pt!==0?pt&-pt:YA.transition!==null?(gu===0&&(gu=Jw()),gu):(t=be,t!==0||(t=window.event,t=t===void 0?16:i_(t.type)),t):1}function kn(t,e,n,r){if(50<Ja)throw Ja=0,Np=null,Error(z(185));ql(t,n,r),(!(ge&2)||t!==ct)&&(t===ct&&(!(ge&2)&&(Wd|=n),rt===4&&Zr(t,pt)),qt(t,r),n===1&&ge===0&&!(e.mode&1)&&(Mo=Ge()+500,$d&&Hs()))}function qt(t,e){var n=t.callbackNode;YC(t,e);var r=Lu(t,t===ct?pt:0);if(r===0)n!==null&&Wy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wy(n),e===1)t.tag===0?QA(Lv.bind(null,t)):T_(Lv.bind(null,t)),WA(function(){!(ge&6)&&Hs()}),n=null;else{switch(Zw(r)){case 1:n=Um;break;case 4:n=Yw;break;case 16:n=Mu;break;case 536870912:n=Xw;break;default:n=Mu}n=EE(n,mE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mE(t,e){if(mu=-1,gu=0,ge&6)throw Error(z(327));var n=t.callbackNode;if(po()&&t.callbackNode!==n)return null;var r=Lu(t,t===ct?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=td(t,r);else{e=r;var s=ge;ge|=2;var i=yE();(ct!==t||pt!==e)&&(gr=null,Mo=Ge()+500,ci(t,e));do try{gR();break}catch(a){gE(t,a)}while(!0);Zm(),Ju.current=i,ge=s,Xe!==null?e=0:(ct=null,pt=0,e=rt)}if(e!==0){if(e===2&&(s=sp(t),s!==0&&(r=s,e=kp(t,s))),e===1)throw n=El,ci(t,0),Zr(t,r),qt(t,Ge()),n;if(e===6)Zr(t,r);else{if(s=t.current.alternate,!(r&30)&&!pR(s)&&(e=td(t,r),e===2&&(i=sp(t),i!==0&&(r=i,e=kp(t,i))),e===1))throw n=El,ci(t,0),Zr(t,r),qt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Zs(t,$t,gr);break;case 3:if(Zr(t,r),(r&130023424)===r&&(e=pg+500-Ge(),10<e)){if(Lu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hp(Zs.bind(null,t,$t,gr),e);break}Zs(t,$t,gr);break;case 4:if(Zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Nn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fR(r/1960))-r,10<r){t.timeoutHandle=hp(Zs.bind(null,t,$t,gr),r);break}Zs(t,$t,gr);break;case 5:Zs(t,$t,gr);break;default:throw Error(z(329))}}}return qt(t,Ge()),t.callbackNode===n?mE.bind(null,t):null}function kp(t,e){var n=Xa;return t.current.memoizedState.isDehydrated&&(ci(t,e).flags|=256),t=td(t,e),t!==2&&(e=$t,$t=n,e!==null&&Op(e)),t}function Op(t){$t===null?$t=t:$t.push.apply($t,t)}function pR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Dn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~fg,e&=~Wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nn(e),r=1<<n;t[n]=-1,e&=~r}}function Lv(t){if(ge&6)throw Error(z(327));po();var e=Lu(t,0);if(!(e&1))return qt(t,Ge()),null;var n=td(t,e);if(t.tag!==0&&n===2){var r=sp(t);r!==0&&(e=r,n=kp(t,r))}if(n===1)throw n=El,ci(t,0),Zr(t,e),qt(t,Ge()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zs(t,$t,gr),qt(t,Ge()),null}function mg(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Mo=Ge()+500,$d&&Hs())}}function mi(t){us!==null&&us.tag===0&&!(ge&6)&&po();var e=ge;ge|=1;var n=mn.transition,r=be;try{if(mn.transition=null,be=1,t)return t()}finally{be=r,mn.transition=n,ge=e,!(ge&6)&&Hs()}}function gg(){Zt=oo.current,De(oo)}function ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HA(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Ym(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zu();break;case 3:Do(),De(Ht),De(Rt),ig();break;case 5:sg(r);break;case 4:Do();break;case 13:De(Le);break;case 19:De(Le);break;case 10:eg(r.type._context);break;case 22:case 23:gg()}n=n.return}if(ct=t,Xe=t=_s(t.current,null),pt=Zt=e,rt=0,El=null,fg=Wd=pi=0,$t=Xa=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ni=null}return t}function gE(t,e){do{var n=Xe;try{if(Zm(),hu.current=Xu,Yu){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Yu=!1}if(fi=0,at=nt=Ve=null,Qa=!1,xl=0,hg.current=null,n===null||n.return===null){rt=1,El=e,Xe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Tv(o);if(y!==null){y.flags&=-257,Iv(y,o,a,i,e),y.mode&1&&bv(i,u,e),e=y,l=u;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){bv(i,u,e),yg();break e}l=Error(z(426))}}else if(Me&&a.mode&1){var b=Tv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Iv(b,o,a,i,e),Xm(jo(l,a));break e}}i=l=jo(l,a),rt!==4&&(rt=2),Xa===null?Xa=[i]:Xa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Z_(i,l,e);yv(i,w);break e;case 1:a=l;var _=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(xs===null||!xs.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=eE(i,a,e);yv(i,N);break e}}i=i.return}while(i!==null)}xE(n)}catch(D){e=D,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function yE(){var t=Ju.current;return Ju.current=Xu,t===null?Xu:t}function yg(){(rt===0||rt===3||rt===2)&&(rt=4),ct===null||!(pi&268435455)&&!(Wd&268435455)||Zr(ct,pt)}function td(t,e){var n=ge;ge|=2;var r=yE();(ct!==t||pt!==e)&&(gr=null,ci(t,e));do try{mR();break}catch(s){gE(t,s)}while(!0);if(Zm(),ge=n,Ju.current=r,Xe!==null)throw Error(z(261));return ct=null,pt=0,rt}function mR(){for(;Xe!==null;)vE(Xe)}function gR(){for(;Xe!==null&&!$C();)vE(Xe)}function vE(t){var e=_E(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?xE(t):Xe=e,hg.current=null}function xE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cR(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Xe=null;return}}else if(n=lR(n,e,Zt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);rt===0&&(rt=5)}function Zs(t,e,n){var r=be,s=mn.transition;try{mn.transition=null,be=1,yR(t,e,n,r)}finally{mn.transition=s,be=r}return null}function yR(t,e,n,r){do po();while(us!==null);if(ge&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(XC(t,i),t===ct&&(Xe=ct=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gc||(Gc=!0,EE(Mu,function(){return po(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=mn.transition,mn.transition=null;var o=be;be=1;var a=ge;ge|=4,hg.current=null,dR(t,n),fE(n,t),LA(up),Vu=!!cp,up=cp=null,t.current=n,hR(n),zC(),ge=a,be=o,mn.transition=i}else t.current=n;if(Gc&&(Gc=!1,us=t,ed=s),i=t.pendingLanes,i===0&&(xs=null),WC(n.stateNode),qt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zu)throw Zu=!1,t=Pp,Pp=null,t;return ed&1&&t.tag!==0&&po(),i=t.pendingLanes,i&1?t===Np?Ja++:(Ja=0,Np=t):Ja=0,Hs(),null}function po(){if(us!==null){var t=Zw(ed),e=mn.transition,n=be;try{if(mn.transition=null,be=16>t?16:t,us===null)var r=!1;else{if(t=us,us=null,ed=0,ge&6)throw Error(z(331));var s=ge;for(ge|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Ya(8,d,i)}var p=d.child;if(p!==null)p.return=d,Q=p;else for(;Q!==null;){d=Q;var h=d.sibling,y=d.return;if(uE(d),d===u){Q=null;break}if(h!==null){h.return=y,Q=h;break}Q=y}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ya(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Q=w;break e}Q=i.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Q=I;else e:for(o=_;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hd(9,a)}}catch(D){We(a,a.return,D)}if(a===o){Q=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Q=N;break e}Q=a.return}}if(ge=s,Hs(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Md,t)}catch{}r=!0}return r}finally{be=n,mn.transition=e}}return!1}function Vv(t,e,n){e=jo(n,e),e=Z_(t,e,1),t=vs(t,e,1),e=jt(),t!==null&&(ql(t,1,e),qt(t,e))}function We(t,e,n){if(t.tag===3)Vv(t,t,n);else for(;e!==null;){if(e.tag===3){Vv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xs===null||!xs.has(r))){t=jo(n,t),t=eE(e,t,1),e=vs(e,t,1),t=jt(),e!==null&&(ql(e,1,t),qt(e,t));break}}e=e.return}}function vR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(pt&n)===n&&(rt===4||rt===3&&(pt&130023424)===pt&&500>Ge()-pg?ci(t,0):fg|=n),qt(t,e)}function wE(t,e){e===0&&(t.mode&1?(e=Lc,Lc<<=1,!(Lc&130023424)&&(Lc=4194304)):e=1);var n=jt();t=Sr(t,e),t!==null&&(ql(t,e,n),qt(t,n))}function xR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wE(t,n)}function wR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),wE(t,n)}var _E;_E=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,aR(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Me&&e.flags&1048576&&I_(e,Wu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pu(t,e),t=e.pendingProps;var s=No(e,Rt.current);fo(e,n),s=ag(null,e,r,t,s,n);var i=lg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(i=!0,Bu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ng(e),s.updater=Bd,e.stateNode=s,s._reactInternals=e,xp(e,r,t,n),e=Ep(null,e,r,!0,i,n)):(e.tag=0,Me&&i&&Qm(e),Ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ER(r),t=En(r,t),s){case 0:e=_p(null,e,r,t,n);break e;case 1:e=Av(null,e,r,t,n);break e;case 11:e=Sv(null,e,r,t,n);break e;case 14:e=Cv(null,e,r,En(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),_p(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),Av(t,e,r,s,n);case 3:e:{if(sE(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,N_(t,e),Ku(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=jo(Error(z(423)),e),e=Rv(t,e,r,n,s);break e}else if(r!==s){s=jo(Error(z(424)),e),e=Rv(t,e,r,n,s);break e}else for(tn=ys(e.stateNode.containerInfo.firstChild),rn=e,Me=!0,Sn=null,n=R_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===s){e=Cr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return k_(e),t===null&&gp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,dp(r,s)?o=null:i!==null&&dp(r,i)&&(e.flags|=32),rE(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&gp(e),null;case 13:return iE(t,e,n);case 4:return rg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oo(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),Sv(t,e,r,s,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(qu,r._currentValue),r._currentValue=o,i!==null)if(Dn(i.value,o)){if(i.children===s.children&&!Ht.current){e=Cr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Er(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),yp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,fo(e,n),s=gn(s),r=r(s),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,s=En(r,e.pendingProps),s=En(r.type,s),Cv(t,e,r,s,n);case 15:return tE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),pu(t,e),e.tag=1,Wt(r)?(t=!0,Bu(e)):t=!1,fo(e,n),J_(e,r,s),xp(e,r,s,n),Ep(null,e,r,!0,t,n);case 19:return oE(t,e,n);case 22:return nE(t,e,n)}throw Error(z(156,e.tag))};function EE(t,e){return Qw(t,e)}function _R(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,n,r){return new _R(t,e,n,r)}function vg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ER(t){if(typeof t=="function")return vg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lm)return 11;if(t===Vm)return 14}return 2}function _s(t,e){var n=t.alternate;return n===null?(n=pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")vg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yi:return ui(n.children,s,i,e);case Mm:o=8,s|=8;break;case Bf:return t=pn(12,n,e,s|2),t.elementType=Bf,t.lanes=i,t;case Hf:return t=pn(13,n,e,s),t.elementType=Hf,t.lanes=i,t;case Wf:return t=pn(19,n,e,s),t.elementType=Wf,t.lanes=i,t;case kw:return qd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pw:o=10;break e;case Nw:o=9;break e;case Lm:o=11;break e;case Vm:o=14;break e;case Yr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ui(t,e,n,r){return t=pn(7,t,r,e),t.lanes=n,t}function qd(t,e,n,r){return t=pn(22,t,r,e),t.elementType=kw,t.lanes=n,t.stateNode={isHidden:!1},t}function vf(t,e,n){return t=pn(6,t,null,e),t.lanes=n,t}function xf(t,e,n){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jh(0),this.expirationTimes=Jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xg(t,e,n,r,s,i,o,a,l){return t=new bR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ng(i),t}function TR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bE(t){if(!t)return Ps;t=t._reactInternals;e:{if(Ci(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Wt(n))return b_(t,n,e)}return e}function TE(t,e,n,r,s,i,o,a,l){return t=xg(n,r,!0,t,s,i,o,a,l),t.context=bE(null),n=t.current,r=jt(),s=ws(n),i=Er(r,s),i.callback=e??null,vs(n,i,s),t.current.lanes=s,ql(t,s,r),qt(t,r),t}function Gd(t,e,n,r){var s=e.current,i=jt(),o=ws(s);return n=bE(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vs(s,e,o),t!==null&&(kn(t,s,o,i),du(t,s,o)),o}function nd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wg(t,e){Fv(t,e),(t=t.alternate)&&Fv(t,e)}function IR(){return null}var IE=typeof reportError=="function"?reportError:function(t){console.error(t)};function _g(t){this._internalRoot=t}Kd.prototype.render=_g.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Gd(t,e,null,null)};Kd.prototype.unmount=_g.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mi(function(){Gd(null,t,null,null)}),e[Ir]=null}};function Kd(t){this._internalRoot=t}Kd.prototype.unstable_scheduleHydration=function(t){if(t){var e=n_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&s_(t)}};function Eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uv(){}function SR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=nd(o);i.call(u)}}var o=TE(e,r,t,0,null,!1,!1,"",Uv);return t._reactRootContainer=o,t[Ir]=o.current,pl(t.nodeType===8?t.parentNode:t),mi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=nd(l);a.call(u)}}var l=xg(t,0,!1,null,null,!1,!1,"",Uv);return t._reactRootContainer=l,t[Ir]=l.current,pl(t.nodeType===8?t.parentNode:t),mi(function(){Gd(e,l,n,r)}),l}function Yd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=nd(o);a.call(l)}}Gd(e,o,t,s)}else o=SR(n,e,t,s,r);return nd(o)}e_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&($m(e,n|1),qt(e,Ge()),!(ge&6)&&(Mo=Ge()+500,Hs()))}break;case 13:mi(function(){var r=Sr(t,1);if(r!==null){var s=jt();kn(r,t,1,s)}}),wg(t,1)}};zm=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=jt();kn(e,t,134217728,n)}wg(t,134217728)}};t_=function(t){if(t.tag===13){var e=ws(t),n=Sr(t,e);if(n!==null){var r=jt();kn(n,t,e,r)}wg(t,e)}};n_=function(){return be};r_=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};tp=function(t,e,n){switch(e){case"input":if(Kf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ud(r);if(!s)throw Error(z(90));Dw(r),Kf(r,s)}}}break;case"textarea":Mw(t,n);break;case"select":e=n.value,e!=null&&lo(t,!!n.multiple,e,!1)}};Bw=mg;Hw=mi;var CR={usingClientEntryPoint:!1,Events:[Kl,eo,Ud,$w,zw,mg]},Oa={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AR={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gw(t),t===null?null:t.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||IR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Md=Kc.inject(AR),Jn=Kc}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CR;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eg(e))throw Error(z(200));return TR(t,e,null,n)};ln.createRoot=function(t,e){if(!Eg(t))throw Error(z(299));var n=!1,r="",s=IE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=xg(t,1,!1,null,null,n,!1,r,s),t[Ir]=e.current,pl(t.nodeType===8?t.parentNode:t),new _g(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Gw(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return mi(t)};ln.hydrate=function(t,e,n){if(!Qd(e))throw Error(z(200));return Yd(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Eg(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=IE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TE(e,null,t,1,n??null,s,!1,i,o),t[Ir]=e.current,pl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kd(e)};ln.render=function(t,e,n){if(!Qd(e))throw Error(z(200));return Yd(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!Qd(t))throw Error(z(40));return t._reactRootContainer?(mi(function(){Yd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ir]=null})}),!0):!1};ln.unstable_batchedUpdates=mg;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Yd(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function SE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SE)}catch(t){console.error(t)}}SE(),Sw.exports=ln;var Yl=Sw.exports;const CE=fw(Yl);var $v=Yl;$f.createRoot=$v.createRoot,$f.hydrateRoot=$v.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}var ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ds||(ds={}));const zv="popstate";function RR(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Ai(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Dp("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:rd(i))}function r(s,i){bg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return NR(e,n,r,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PR(){return Math.random().toString(36).substr(2,8)}function Bv(t,e){return{usr:t.state,key:t.key,idx:e}}function Dp(t,e,n,r){return n===void 0&&(n=null),bl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ai(e):e,{state:n,key:e&&e.key||r||PR()})}function rd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function NR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ds.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(bl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=ds.Pop;let b=d(),w=b==null?null:b-u;u=b,l&&l({action:a,location:v.location,delta:w})}function h(b,w){a=ds.Push;let _=Dp(v.location,b,w);n&&n(_,b),u=d()+1;let I=Bv(_,u),N=v.createHref(_);try{o.pushState(I,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(N)}i&&l&&l({action:a,location:v.location,delta:1})}function y(b,w){a=ds.Replace;let _=Dp(v.location,b,w);n&&n(_,b),u=d();let I=Bv(_,u),N=v.createHref(_);o.replaceState(I,"",N),i&&l&&l({action:a,location:v.location,delta:0})}function x(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof b=="string"?b:rd(b);return _=_.replace(/ $/,"%20"),Ze(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let v={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(zv,p),l=b,()=>{s.removeEventListener(zv,p),l=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:y,go(b){return o.go(b)}};return v}var Hv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hv||(Hv={}));function kR(t,e,n){return n===void 0&&(n="/"),OR(t,e,n,!1)}function OR(t,e,n,r){let s=typeof e=="string"?Ai(e):e,i=Tg(s.pathname||"/",n);if(i==null)return null;let o=AE(t);DR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=WR(i);a=BR(o[l],u,r)}return a}function AE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Es([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),AE(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:$R(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of RE(i.path))s(i,o,l)}),e}function RE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=RE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function DR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jR=/^:[\w-]+$/,MR=3,LR=2,VR=1,FR=10,UR=-2,Wv=t=>t==="*";function $R(t,e){let n=t.split("/"),r=n.length;return n.some(Wv)&&(r+=UR),e&&(r+=LR),n.filter(s=>!Wv(s)).reduce((s,i)=>s+(jR.test(i)?MR:i===""?VR:FR),r)}function zR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function BR(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=qv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=qv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Es([i,p.pathname]),pathnameBase:QR(Es([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=Es([i,p.pathnameBase]))}return o}function qv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let v=a[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[p];return y&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function HR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function WR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ai(t):t;return{pathname:n?n.startsWith("/")?n:GR(n,e):e,search:YR(r),hash:XR(s)}}function GR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PE(t,e){let n=KR(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function NE(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ai(t):(s=bl({},t),Ze(!s.pathname||!s.pathname.includes("?"),wf("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),wf("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),wf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}a=p>=0?e[p]:"/"}let l=qR(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Es=t=>t.join("/").replace(/\/\/+/g,"/"),QR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kE=["post","put","patch","delete"];new Set(kE);const ZR=["get",...kE];new Set(ZR);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}const Ig=T.createContext(null),eP=T.createContext(null),Ri=T.createContext(null),Xd=T.createContext(null),Pi=T.createContext({outlet:null,matches:[],isDataRoute:!1}),OE=T.createContext(null);function tP(t,e){let{relative:n}=e===void 0?{}:e;Xl()||Ze(!1);let{basename:r,navigator:s}=T.useContext(Ri),{hash:i,pathname:o,search:a}=jE(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Es([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Xl(){return T.useContext(Xd)!=null}function Jo(){return Xl()||Ze(!1),T.useContext(Xd).location}function DE(t){T.useContext(Ri).static||T.useLayoutEffect(t)}function Zo(){let{isDataRoute:t}=T.useContext(Pi);return t?pP():nP()}function nP(){Xl()||Ze(!1);let t=T.useContext(Ig),{basename:e,future:n,navigator:r}=T.useContext(Ri),{matches:s}=T.useContext(Pi),{pathname:i}=Jo(),o=JSON.stringify(PE(s,n.v7_relativeSplatPath)),a=T.useRef(!1);return DE(()=>{a.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=NE(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Es([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,i,t])}function jE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(Ri),{matches:s}=T.useContext(Pi),{pathname:i}=Jo(),o=JSON.stringify(PE(s,r.v7_relativeSplatPath));return T.useMemo(()=>NE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function rP(t,e){return sP(t,e)}function sP(t,e,n,r){Xl()||Ze(!1);let{navigator:s}=T.useContext(Ri),{matches:i}=T.useContext(Pi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Jo(),d;if(e){var p;let b=typeof e=="string"?Ai(e):e;l==="/"||(p=b.pathname)!=null&&p.startsWith(l)||Ze(!1),d=b}else d=u;let h=d.pathname||"/",y=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=kR(t,{pathname:y}),v=cP(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Es([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Es([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&v?T.createElement(Xd.Provider,{value:{location:Tl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ds.Pop}},v):v}function iP(){let t=fP(),e=JR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const oP=T.createElement(iP,null);class aP extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Pi.Provider,{value:this.props.routeContext},T.createElement(OE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lP(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(Ig);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Pi.Provider,{value:e},r)}function cP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:h,errors:y}=n,x=p.route.loader&&h[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let y,x=!1,v=null,b=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,v=p.route.errorElement||oP,l&&(u<0&&h===0?(x=!0,b=null):u===h&&(x=!0,b=p.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),_=()=>{let I;return y?I=v:x?I=b:p.route.Component?I=T.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=d,T.createElement(lP,{match:p,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?T.createElement(aP,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var ME=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ME||{}),sd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sd||{});function uP(t){let e=T.useContext(Ig);return e||Ze(!1),e}function dP(t){let e=T.useContext(eP);return e||Ze(!1),e}function hP(t){let e=T.useContext(Pi);return e||Ze(!1),e}function LE(t){let e=hP(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function fP(){var t;let e=T.useContext(OE),n=dP(sd.UseRouteError),r=LE(sd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pP(){let{router:t}=uP(ME.UseNavigateStable),e=LE(sd.UseNavigateStable),n=T.useRef(!1);return DE(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Tl({fromRouteId:e},i)))},[t,e])}function Wn(t){Ze(!1)}function mP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ds.Pop,navigator:i,static:o=!1,future:a}=t;Xl()&&Ze(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:o,future:Tl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ai(r));let{pathname:d="/",search:p="",hash:h="",state:y=null,key:x="default"}=r,v=T.useMemo(()=>{let b=Tg(d,l);return b==null?null:{location:{pathname:b,search:p,hash:h,state:y,key:x},navigationType:s}},[l,d,p,h,y,x,s]);return v==null?null:T.createElement(Ri.Provider,{value:u},T.createElement(Xd.Provider,{children:n,value:v}))}function gP(t){let{children:e,location:n}=t;return rP(jp(e),n)}new Promise(()=>{});function jp(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,jp(r.props.children,i));return}r.type!==Wn&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function yP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function vP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xP(t,e){return t.button===0&&(!e||e==="_self")&&!vP(t)}const wP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_P="6";try{window.__reactRouterVersion=_P}catch{}const EP="startTransition",Gv=Tw[EP];function bP(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=RR({window:s,v5Compat:!0}));let o=i.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=T.useCallback(p=>{u&&Gv?Gv(()=>l(p)):l(p)},[l,u]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.createElement(mP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const TP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:p}=e,h=yP(e,wP),{basename:y}=T.useContext(Ri),x,v=!1;if(typeof u=="string"&&IP.test(u)&&(x=u,TP))try{let I=new URL(window.location.href),N=u.startsWith("//")?new URL(I.protocol+u):new URL(u),D=Tg(N.pathname,y);N.origin===I.origin&&D!=null?u=D+N.search+N.hash:v=!0}catch{}let b=tP(u,{relative:s}),w=SP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:p});function _(I){r&&r(I),I.defaultPrevented||w(I)}return T.createElement("a",Mp({},h,{href:x||b,onClick:v||i?r:_,ref:n,target:l}))});var Kv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Kv||(Kv={}));var Qv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qv||(Qv={}));function SP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Zo(),u=Jo(),d=jE(t,{relative:o});return T.useCallback(p=>{if(xP(p,n)){p.preventDefault();let h=r!==void 0?r:rd(u)===rd(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}const CP=1,AP=1e6;let _f=0;function RP(){return _f=(_f+1)%Number.MAX_SAFE_INTEGER,_f.toString()}const Ef=new Map,Yv=t=>{if(Ef.has(t))return;const e=setTimeout(()=>{Ef.delete(t),Za({type:"REMOVE_TOAST",toastId:t})},AP);Ef.set(t,e)},PP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,CP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Yv(n):t.toasts.forEach(r=>{Yv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},vu=[];let xu={toasts:[]};function Za(t){xu=PP(xu,t),vu.forEach(e=>{e(xu)})}function NP({...t}){const e=RP(),n=s=>Za({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Za({type:"DISMISS_TOAST",toastId:e});return Za({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function VE(){const[t,e]=T.useState(xu);return T.useEffect(()=>(vu.push(e),()=>{const n=vu.indexOf(e);n>-1&&vu.splice(n,1)}),[t]),{...t,toast:NP,dismiss:n=>Za({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function kP(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function FE(...t){return e=>t.forEach(n=>kP(n,e))}function Gt(...t){return T.useCallback(FE(...t),t)}function OP(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:h,children:y,...x}=p,v=(h==null?void 0:h[t][l])||a,b=T.useMemo(()=>x,Object.values(x));return f.jsx(v.Provider,{value:b,children:y})}function d(p,h){const y=(h==null?void 0:h[t][l])||a,x=T.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,DP(s,...e)]}function DP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Il=T.forwardRef((t,e)=>{const{children:n,...r}=t,s=T.Children.toArray(n),i=s.find(jP);if(i){const o=i.props.children,a=s.map(l=>l===i?T.Children.count(o)>1?T.Children.only(null):T.isValidElement(o)?o.props.children:null:l);return f.jsx(Lp,{...r,ref:e,children:T.isValidElement(o)?T.cloneElement(o,void 0,a):null})}return f.jsx(Lp,{...r,ref:e,children:n})});Il.displayName="Slot";var Lp=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const s=LP(n);return T.cloneElement(n,{...MP(r,n.props),ref:e?FE(e,s):s})}return T.Children.count(n)>1?T.Children.only(null):null});Lp.displayName="SlotClone";var UE=({children:t})=>f.jsx(f.Fragment,{children:t});function jP(t){return T.isValidElement(t)&&t.type===UE}function MP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function LP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $E(t){const e=t+"CollectionProvider",[n,r]=OP(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:x,children:v}=y,b=q.useRef(null),w=q.useRef(new Map).current;return f.jsx(s,{scope:x,itemMap:w,collectionRef:b,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=q.forwardRef((y,x)=>{const{scope:v,children:b}=y,w=i(a,v),_=Gt(x,w.collectionRef);return f.jsx(Il,{ref:_,children:b})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=q.forwardRef((y,x)=>{const{scope:v,children:b,...w}=y,_=q.useRef(null),I=Gt(x,_),N=i(u,v);return q.useEffect(()=>(N.itemMap.set(_,{ref:_,...w}),()=>void N.itemMap.delete(_))),f.jsx(Il,{[d]:"",ref:I,children:b})});p.displayName=u;function h(y){const x=i(t+"CollectionConsumer",y);return q.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((N,D)=>w.indexOf(N.ref.current)-w.indexOf(D.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},h,r]}function Jl(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),l=n.length;n=[...n,o];const u=p=>{var w;const{scope:h,children:y,...x}=p,v=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,b=T.useMemo(()=>x,Object.values(x));return f.jsx(v.Provider,{value:b,children:y})};u.displayName=i+"Provider";function d(p,h){var v;const y=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,x=T.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,VP(s,...e)]}function VP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var FP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],je=FP.reduce((t,e)=>{const n=T.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Il:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function zE(t,e){t&&Yl.flushSync(()=>t.dispatchEvent(e))}function jn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function UP(t,e=globalThis==null?void 0:globalThis.document){const n=jn(t);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $P="DismissableLayer",Vp="dismissableLayer.update",zP="dismissableLayer.pointerDownOutside",BP="dismissableLayer.focusOutside",Xv,BE=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sg=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=T.useContext(BE),[d,p]=T.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=T.useState({}),x=Gt(e,A=>p(A)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(b),_=d?v.indexOf(d):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,N=_>=w,D=WP(A=>{const E=A.target,C=[...u.branches].some(R=>R.contains(E));!N||C||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},h),M=qP(A=>{const E=A.target;[...u.branches].some(R=>R.contains(E))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},h);return UP(A=>{_===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},h),T.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Xv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Jv(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Xv)}},[d,h,n,u]),T.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Jv())},[d,u]),T.useEffect(()=>{const A=()=>y({});return document.addEventListener(Vp,A),()=>document.removeEventListener(Vp,A)},[]),f.jsx(je.div,{...l,ref:x,style:{pointerEvents:I?N?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,D.onPointerDownCapture)})});Sg.displayName=$P;var HP="DismissableLayerBranch",HE=T.forwardRef((t,e)=>{const n=T.useContext(BE),r=T.useRef(null),s=Gt(e,r);return T.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(je.div,{...t,ref:s})});HE.displayName=HP;function WP(t,e=globalThis==null?void 0:globalThis.document){const n=jn(t),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){WE(zP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function qP(t,e=globalThis==null?void 0:globalThis.document){const n=jn(t),r=T.useRef(!1);return T.useEffect(()=>{const s=i=>{i.target&&!r.current&&WE(BP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jv(){const t=new CustomEvent(Vp);document.dispatchEvent(t)}function WE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?zE(s,i):s.dispatchEvent(i)}var GP=Sg,KP=HE,Ns=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},QP="Portal",qE=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=T.useState(!1);Ns(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?CE.createPortal(f.jsx(je.div,{...r,ref:e}),o):null});qE.displayName=QP;function YP(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Zl=t=>{const{present:e,children:n}=t,r=XP(e),s=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),i=Gt(r.ref,JP(s));return typeof n=="function"||r.isPresent?T.cloneElement(s,{ref:i}):null};Zl.displayName="Presence";function XP(t){const[e,n]=T.useState(),r=T.useRef({}),s=T.useRef(t),i=T.useRef("none"),o=t?"mounted":"unmounted",[a,l]=YP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=Qc(r.current);i.current=a==="mounted"?u:"none"},[a]),Ns(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,y=Qc(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ns(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=y=>{const v=Qc(r.current).includes(y.animationName);if(y.target===e&&v&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=y=>{y.target===e&&(i.current=Qc(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Qc(t){return(t==null?void 0:t.animationName)||"none"}function JP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Jd({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=ZP({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=jn(n),l=T.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,l]}function ZP({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,s=T.useRef(r),i=jn(e);return T.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var e4="VisuallyHidden",Zd=T.forwardRef((t,e)=>f.jsx(je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Zd.displayName=e4;var t4=Zd,Cg="ToastProvider",[Ag,n4,r4]=$E("Toast"),[GE,Zj]=Jl("Toast",[r4]),[s4,eh]=GE(Cg),KE=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=T.useState(null),[u,d]=T.useState(0),p=T.useRef(!1),h=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cg}\`. Expected non-empty \`string\`.`),f.jsx(Ag.Provider,{scope:e,children:f.jsx(s4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:T.useCallback(()=>d(y=>y+1),[]),onToastRemove:T.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:o})})};KE.displayName=Cg;var QE="ToastViewport",i4=["F8"],Fp="toast.viewportPause",Up="toast.viewportResume",YE=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=i4,label:s="Notifications ({hotkey})",...i}=t,o=eh(QE,n),a=n4(n),l=T.useRef(null),u=T.useRef(null),d=T.useRef(null),p=T.useRef(null),h=Gt(e,p,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;T.useEffect(()=>{const b=w=>{var I;r.length!==0&&r.every(N=>w[N]||w.code===N)&&((I=p.current)==null||I.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),T.useEffect(()=>{const b=l.current,w=p.current;if(x&&b&&w){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Fp);w.dispatchEvent(M),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Up);w.dispatchEvent(M),o.isClosePausedRef.current=!1}},N=M=>{!b.contains(M.relatedTarget)&&I()},D=()=>{b.contains(document.activeElement)||I()};return b.addEventListener("focusin",_),b.addEventListener("focusout",N),b.addEventListener("pointermove",_),b.addEventListener("pointerleave",D),window.addEventListener("blur",_),window.addEventListener("focus",I),()=>{b.removeEventListener("focusin",_),b.removeEventListener("focusout",N),b.removeEventListener("pointermove",_),b.removeEventListener("pointerleave",D),window.removeEventListener("blur",_),window.removeEventListener("focus",I)}}},[x,o.isClosePausedRef]);const v=T.useCallback(({tabbingDirection:b})=>{const _=a().map(I=>{const N=I.ref.current,D=[N,...v4(N)];return b==="forwards"?D:D.reverse()});return(b==="forwards"?_.reverse():_).flat()},[a]);return T.useEffect(()=>{const b=p.current;if(b){const w=_=>{var D,M,A;const I=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!I){const E=document.activeElement,C=_.shiftKey;if(_.target===b&&C){(D=u.current)==null||D.focus();return}const O=v({tabbingDirection:C?"backwards":"forwards"}),P=O.findIndex(H=>H===E);bf(O.slice(P+1))?_.preventDefault():C?(M=u.current)==null||M.focus():(A=d.current)==null||A.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[a,v]),f.jsxs(KP,{ref:l,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&f.jsx($p,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});bf(b)}}),f.jsx(Ag.Slot,{scope:n,children:f.jsx(je.ol,{tabIndex:-1,...i,ref:h})}),x&&f.jsx($p,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});bf(b)}})]})});YE.displayName=QE;var XE="ToastFocusProxy",$p=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=eh(XE,n);return f.jsx(Zd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});$p.displayName=XE;var th="Toast",o4="toast.swipeStart",a4="toast.swipeMove",l4="toast.swipeCancel",c4="toast.swipeEnd",JE=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Jd({prop:r,defaultProp:s,onChange:i});return f.jsx(Zl,{present:n||a,children:f.jsx(h4,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:jn(t.onPause),onResume:jn(t.onResume),onSwipeStart:xe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:xe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});JE.displayName=th;var[u4,d4]=GE(th,{onClose(){}}),h4=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:y,...x}=t,v=eh(th,n),[b,w]=T.useState(null),_=Gt(e,H=>w(H)),I=T.useRef(null),N=T.useRef(null),D=s||v.duration,M=T.useRef(0),A=T.useRef(D),E=T.useRef(0),{onToastAdd:C,onToastRemove:R}=v,k=jn(()=>{var re;(b==null?void 0:b.contains(document.activeElement))&&((re=v.viewport)==null||re.focus()),o()}),O=T.useCallback(H=>{!H||H===1/0||(window.clearTimeout(E.current),M.current=new Date().getTime(),E.current=window.setTimeout(k,H))},[k]);T.useEffect(()=>{const H=v.viewport;if(H){const re=()=>{O(A.current),u==null||u()},J=()=>{const ie=new Date().getTime()-M.current;A.current=A.current-ie,window.clearTimeout(E.current),l==null||l()};return H.addEventListener(Fp,J),H.addEventListener(Up,re),()=>{H.removeEventListener(Fp,J),H.removeEventListener(Up,re)}}},[v.viewport,D,l,u,O]),T.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(D)},[i,D,v.isClosePausedRef,O]),T.useEffect(()=>(C(),()=>R()),[C,R]);const P=T.useMemo(()=>b?ib(b):null,[b]);return v.viewport?f.jsxs(f.Fragment,{children:[P&&f.jsx(f4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),f.jsx(u4,{scope:n,onClose:k,children:Yl.createPortal(f.jsx(Ag.ItemSlot,{scope:n,children:f.jsx(GP,{asChild:!0,onEscapeKeyDown:xe(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:xe(t.onPointerDown,H=>{H.button===0&&(I.current={x:H.clientX,y:H.clientY})}),onPointerMove:xe(t.onPointerMove,H=>{if(!I.current)return;const re=H.clientX-I.current.x,J=H.clientY-I.current.y,ie=!!N.current,L=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,X=L?B(0,re):0,K=L?0:B(0,J),Z=H.pointerType==="touch"?10:2,te={x:X,y:K},Ae={originalEvent:H,delta:te};ie?(N.current=te,Yc(a4,p,Ae,{discrete:!1})):Zv(te,v.swipeDirection,Z)?(N.current=te,Yc(o4,d,Ae,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(re)>Z||Math.abs(J)>Z)&&(I.current=null)}),onPointerUp:xe(t.onPointerUp,H=>{const re=N.current,J=H.target;if(J.hasPointerCapture(H.pointerId)&&J.releasePointerCapture(H.pointerId),N.current=null,I.current=null,re){const ie=H.currentTarget,L={originalEvent:H,delta:re};Zv(re,v.swipeDirection,v.swipeThreshold)?Yc(c4,y,L,{discrete:!0}):Yc(l4,h,L,{discrete:!0}),ie.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),f4=t=>{const{__scopeToast:e,children:n,...r}=t,s=eh(th,e),[i,o]=T.useState(!1),[a,l]=T.useState(!1);return g4(()=>o(!0)),T.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(qE,{asChild:!0,children:f.jsx(Zd,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},p4="ToastTitle",ZE=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(je.div,{...r,ref:e})});ZE.displayName=p4;var m4="ToastDescription",eb=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(je.div,{...r,ref:e})});eb.displayName=m4;var tb="ToastAction",nb=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(sb,{altText:n,asChild:!0,children:f.jsx(Rg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tb}\`. Expected non-empty \`string\`.`),null)});nb.displayName=tb;var rb="ToastClose",Rg=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=d4(rb,n);return f.jsx(sb,{asChild:!0,children:f.jsx(je.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,s.onClose)})})});Rg.displayName=rb;var sb=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ib(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),y4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ib(r))}}),e}function Yc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?zE(s,i):s.dispatchEvent(i)}var Zv=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function g4(t=()=>{}){const e=jn(t);Ns(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function y4(t){return t.nodeType===t.ELEMENT_NODE}function v4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var x4=KE,ob=YE,ab=JE,lb=ZE,cb=eb,ub=nb,db=Rg;function hb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=hb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=hb(t))&&(r&&(r+=" "),r+=e);return r}const ex=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tx=fb,Pg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return tx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=i==null?void 0:i[u];if(d===null)return null;const h=ex(d)||ex(p);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[p,h]=d;return h===void 0||(u[p]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:h,...y}=d;return Object.entries(y).every(x=>{let[v,b]=x;return Array.isArray(b)?b.includes({...i,...a}[v]):{...i,...a}[v]===b})?[...u,p,h]:u},[]);return tx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,..._4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pb("lucide",s),...a},[...o.map(([u,d])=>T.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(E4,{ref:i,iconNode:e,className:pb(`lucide-${w4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Kt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Kt("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=Kt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Kt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Kt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Kt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Kt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=Kt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=Kt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Kt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Kt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=Kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ng="-",R4=t=>{const e=N4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ng);return a[0]===""&&a.length!==1&&a.shift(),vb(a,e)||P4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},vb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?vb(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ng);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},rx=/^\[(.+)\]$/,P4=t=>{if(rx.test(t)){const e=rx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},N4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return O4(Object.entries(t.classGroups),n).forEach(([i,o])=>{Wp(o,r,i,e)}),r},Wp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:sx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(k4(s)){Wp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Wp(o,sx(e,i),n,r)})})},sx=(t,e)=>{let n=t;return e.split(Ng).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},k4=t=>t.isThemeGetter,O4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,D4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},xb="!",j4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,p;for(let b=0;b<a.length;b++){let w=a[b];if(u===0){if(w===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(w==="/"){p=b;continue}}w==="["?u++:w==="]"&&u--}const h=l.length===0?a:a.substring(d),y=h.startsWith(xb),x=y?h.substring(1):h,v=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},M4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},L4=t=>({cache:D4(t.cacheSize),parseClassName:j4(t),...R4(t)}),V4=/\s+/,F4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(V4);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:y}=n(u);let x=!!y,v=r(x?h.substring(0,y):h);if(!v){if(!x){a=u+(a.length>0?" "+a:a);continue}if(v=r(h),!v){a=u+(a.length>0?" "+a:a);continue}x=!1}const b=M4(d).join(":"),w=p?b+xb:b,_=w+v;if(i.includes(_))continue;i.push(_);const I=s(v,x);for(let N=0;N<I.length;++N){const D=I[N];i.push(w+D)}a=u+(a.length>0?" "+a:a)}return a};function U4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wb(e))&&(r&&(r+=" "),r+=n);return r}const wb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wb(t[r]))&&(n&&(n+=" "),n+=e);return n};function $4(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,p)=>p(d),t());return n=L4(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=F4(l,n);return s(l,d),d}return function(){return i(U4.apply(null,arguments))}}const Pe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_b=/^\[(?:([a-z-]+):)?(.+)\]$/i,z4=/^\d+\/\d+$/,B4=new Set(["px","full","screen"]),H4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,G4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=t=>mo(t)||B4.has(t)||z4.test(t),Wr=t=>ea(t,"length",nN),mo=t=>!!t&&!Number.isNaN(Number(t)),If=t=>ea(t,"number",mo),Da=t=>!!t&&Number.isInteger(Number(t)),Q4=t=>t.endsWith("%")&&mo(t.slice(0,-1)),ce=t=>_b.test(t),qr=t=>H4.test(t),Y4=new Set(["length","size","percentage"]),X4=t=>ea(t,Y4,Eb),J4=t=>ea(t,"position",Eb),Z4=new Set(["image","url"]),eN=t=>ea(t,Z4,sN),tN=t=>ea(t,"",rN),ja=()=>!0,ea=(t,e,n)=>{const r=_b.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},nN=t=>W4.test(t)&&!q4.test(t),Eb=()=>!1,rN=t=>G4.test(t),sN=t=>K4.test(t),iN=()=>{const t=Pe("colors"),e=Pe("spacing"),n=Pe("blur"),r=Pe("brightness"),s=Pe("borderColor"),i=Pe("borderRadius"),o=Pe("borderSpacing"),a=Pe("borderWidth"),l=Pe("contrast"),u=Pe("grayscale"),d=Pe("hueRotate"),p=Pe("invert"),h=Pe("gap"),y=Pe("gradientColorStops"),x=Pe("gradientColorStopPositions"),v=Pe("inset"),b=Pe("margin"),w=Pe("opacity"),_=Pe("padding"),I=Pe("saturate"),N=Pe("scale"),D=Pe("sepia"),M=Pe("skew"),A=Pe("space"),E=Pe("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ce,e],O=()=>[ce,e],P=()=>["",pr,Wr],H=()=>["auto",mo,ce],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ce],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[mo,ce];return{cacheSize:500,separator:":",theme:{colors:[ja],spacing:[pr,Wr],blur:["none","",qr,ce],brightness:K(),borderColor:[t],borderRadius:["none","","full",qr,ce],borderSpacing:O(),borderWidth:P(),contrast:K(),grayscale:B(),hueRotate:K(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Q4,Wr],inset:k(),margin:k(),opacity:K(),padding:O(),saturate:K(),scale:K(),sepia:B(),skew:K(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[qr]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Da,ce]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Da,ce]}],"grid-cols":[{"grid-cols":[ja]}],"col-start-end":[{col:["auto",{span:["full",Da,ce]},ce]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[ja]}],"row-start-end":[{row:["auto",{span:[Da,ce]},ce]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[qr]},qr]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",qr,Wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",If]}],"font-family":[{font:[ja]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",mo,If]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,Wr]}],"underline-offset":[{"underline-offset":["auto",pr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),J4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",X4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[pr,ce]}],"outline-w":[{outline:[pr,Wr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[pr,Wr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",qr,tN]}],"shadow-color":[{shadow:[ja]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qr,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[I]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Da,ce]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pr,Wr,If]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oN=$4(iN);function $e(...t){return oN(fb(t))}const aN=x4,bb=T.forwardRef(({className:t,...e},n)=>f.jsx(ob,{ref:n,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));bb.displayName=ob.displayName;const lN=Pg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tb=T.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(ab,{ref:r,className:$e(lN({variant:e}),t),...n}));Tb.displayName=ab.displayName;const cN=T.forwardRef(({className:t,...e},n)=>f.jsx(ub,{ref:n,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));cN.displayName=ub.displayName;const Ib=T.forwardRef(({className:t,...e},n)=>f.jsx(db,{ref:n,className:$e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(yb,{className:"h-4 w-4"})}));Ib.displayName=db.displayName;const Sb=T.forwardRef(({className:t,...e},n)=>f.jsx(lb,{ref:n,className:$e("text-sm font-semibold",t),...e}));Sb.displayName=lb.displayName;const Cb=T.forwardRef(({className:t,...e},n)=>f.jsx(cb,{ref:n,className:$e("text-sm opacity-90",t),...e}));Cb.displayName=cb.displayName;function uN(){const{toasts:t}=VE();return f.jsxs(aN,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(Tb,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(Sb,{children:n}),r&&f.jsx(Cb,{children:r})]}),s,f.jsx(Ib,{})]},e)}),f.jsx(bb,{})]})}var ix=["light","dark"],dN="(prefers-color-scheme: dark)",hN=T.createContext(void 0),fN={setTheme:t=>{},themes:[]},pN=()=>{var t;return(t=T.useContext(hN))!=null?t:fN};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?ix.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,v=!1,b=!0)=>{let w=o?o[x]:x,_=v?x+"|| ''":`'${w}'`,I="";return s&&b&&!v&&ix.includes(x)&&(I+=`d.style.colorScheme = '${x}';`),n==="class"?v||w?I+=`c.add(${_})`:I+="null":w&&(I+=`d[s](n,${_})`),I},y=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${dN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${p}}catch(t){}}();`;return T.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:y}})});var mN=t=>{switch(t){case"success":return vN;case"info":return wN;case"warning":return xN;case"error":return _N;default:return null}},gN=Array(12).fill(0),yN=({visible:t})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},q.createElement("div",{className:"sonner-spinner"},gN.map((e,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),vN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_N=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EN=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},qp=1,bN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:qp++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(IN(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||qp++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Jt=new bN,TN=(t,e)=>{let n=(e==null?void 0:e.id)||qp++;return Jt.addToast({title:t,...e,id:n}),n},IN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",SN=TN,CN=()=>Jt.toasts,Ie=Object.assign(SN,{success:Jt.success,info:Jt.info,warning:Jt.warning,error:Jt.error,custom:Jt.custom,message:Jt.message,promise:Jt.promise,dismiss:Jt.dismiss,loading:Jt.loading},{getHistory:CN});function AN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}AN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xc(t){return t.label!==void 0}var RN=3,PN="32px",NN=4e3,kN=356,ON=14,DN=20,jN=200;function MN(...t){return t.filter(Boolean).join(" ")}var LN=t=>{var e,n,r,s,i,o,a,l,u,d;let{invert:p,toast:h,unstyled:y,interacting:x,setHeights:v,visibleToasts:b,heights:w,index:_,toasts:I,expanded:N,removeToast:D,defaultRichColors:M,closeButton:A,style:E,cancelButtonStyle:C,actionButtonStyle:R,className:k="",descriptionClassName:O="",duration:P,position:H,gap:re,loadingIcon:J,expandByDefault:ie,classNames:L,icons:B,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:K,cn:Z}=t,[te,Ae]=q.useState(!1),[et,ve]=q.useState(!1),[yt,Fn]=q.useState(!1),[Un,Qt]=q.useState(!1),[lr,$n]=q.useState(0),[vn,cr]=q.useState(0),Lr=q.useRef(null),xn=q.useRef(null),ca=_===0,ua=_+1<=b,Ke=h.type,zn=h.dismissible!==!1,pc=h.className||"",Nh=h.descriptionClassName||"",Vr=q.useMemo(()=>w.findIndex(oe=>oe.toastId===h.id)||0,[w,h.id]),da=q.useMemo(()=>{var oe;return(oe=h.closeButton)!=null?oe:A},[h.closeButton,A]),ha=q.useMemo(()=>h.duration||P||NN,[h.duration,P]),Qe=q.useRef(0),ze=q.useRef(0),Gs=q.useRef(0),ur=q.useRef(null),[fa,kh]=H.split("-"),Fr=q.useMemo(()=>w.reduce((oe,Te,Ee)=>Ee>=Vr?oe:oe+Te.height,0),[w,Vr]),pa=EN(),mc=h.invert||p,Ks=Ke==="loading";ze.current=q.useMemo(()=>Vr*re+Fr,[Vr,Fr]),q.useEffect(()=>{Ae(!0)},[]),q.useLayoutEffect(()=>{if(!te)return;let oe=xn.current,Te=oe.style.height;oe.style.height="auto";let Ee=oe.getBoundingClientRect().height;oe.style.height=Te,cr(Ee),v(vt=>vt.find(Ft=>Ft.toastId===h.id)?vt.map(Ft=>Ft.toastId===h.id?{...Ft,height:Ee}:Ft):[{toastId:h.id,height:Ee,position:h.position},...vt])},[te,h.title,h.description,v,h.id]);let Bn=q.useCallback(()=>{ve(!0),$n(ze.current),v(oe=>oe.filter(Te=>Te.toastId!==h.id)),setTimeout(()=>{D(h)},jN)},[h,D,v,ze]);q.useEffect(()=>{if(h.promise&&Ke==="loading"||h.duration===1/0||h.type==="loading")return;let oe,Te=ha;return N||x||K&&pa?(()=>{if(Gs.current<Qe.current){let Ee=new Date().getTime()-Qe.current;Te=Te-Ee}Gs.current=new Date().getTime()})():Te!==1/0&&(Qe.current=new Date().getTime(),oe=setTimeout(()=>{var Ee;(Ee=h.onAutoClose)==null||Ee.call(h,h),Bn()},Te)),()=>clearTimeout(oe)},[N,x,ie,h,ha,Bn,h.promise,Ke,K,pa]),q.useEffect(()=>{let oe=xn.current;if(oe){let Te=oe.getBoundingClientRect().height;return cr(Te),v(Ee=>[{toastId:h.id,height:Te,position:h.position},...Ee]),()=>v(Ee=>Ee.filter(vt=>vt.toastId!==h.id))}},[v,h.id]),q.useEffect(()=>{h.delete&&Bn()},[Bn,h.delete]);function Oh(){return B!=null&&B.loading?q.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},B.loading):J?q.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},J):q.createElement(yN,{visible:Ke==="loading"})}return q.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:xn,className:Z(k,pc,L==null?void 0:L.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Ke],(n=h==null?void 0:h.classNames)==null?void 0:n[Ke]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:M,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":te,"data-promise":!!h.promise,"data-removed":et,"data-visible":ua,"data-y-position":fa,"data-x-position":kh,"data-index":_,"data-front":ca,"data-swiping":yt,"data-dismissible":zn,"data-type":Ke,"data-invert":mc,"data-swipe-out":Un,"data-expanded":!!(N||ie&&te),style:{"--index":_,"--toasts-before":_,"--z-index":I.length-_,"--offset":`${et?lr:ze.current}px`,"--initial-height":ie?"auto":`${vn}px`,...E,...h.style},onPointerDown:oe=>{Ks||!zn||(Lr.current=new Date,$n(ze.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(Fn(!0),ur.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,Te,Ee,vt;if(Un||!zn)return;ur.current=null;let Ft=Number(((oe=xn.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ur=new Date().getTime()-((Te=Lr.current)==null?void 0:Te.getTime()),dr=Math.abs(Ft)/Ur;if(Math.abs(Ft)>=DN||dr>.11){$n(ze.current),(Ee=h.onDismiss)==null||Ee.call(h,h),Bn(),Qt(!0);return}(vt=xn.current)==null||vt.style.setProperty("--swipe-amount","0px"),Fn(!1)},onPointerMove:oe=>{var Te;if(!ur.current||!zn)return;let Ee=oe.clientY-ur.current.y,vt=oe.clientX-ur.current.x,Ft=(fa==="top"?Math.min:Math.max)(0,Ee),Ur=oe.pointerType==="touch"?10:2;Math.abs(Ft)>Ur?(Te=xn.current)==null||Te.style.setProperty("--swipe-amount",`${Ee}px`):Math.abs(vt)>Ur&&(ur.current=null)}},da&&!h.jsx?q.createElement("button",{"aria-label":X,"data-disabled":Ks,"data-close-button":!0,onClick:Ks||!zn?()=>{}:()=>{var oe;Bn(),(oe=h.onDismiss)==null||oe.call(h,h)},className:Z(L==null?void 0:L.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||q.isValidElement(h.title)?h.jsx||h.title:q.createElement(q.Fragment,null,Ke||h.icon||h.promise?q.createElement("div",{"data-icon":"",className:Z(L==null?void 0:L.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Oh():null,h.type!=="loading"?h.icon||(B==null?void 0:B[Ke])||mN(Ke):null):null,q.createElement("div",{"data-content":"",className:Z(L==null?void 0:L.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},q.createElement("div",{"data-title":"",className:Z(L==null?void 0:L.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?q.createElement("div",{"data-description":"",className:Z(O,Nh,L==null?void 0:L.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),q.isValidElement(h.cancel)?h.cancel:h.cancel&&Xc(h.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:oe=>{var Te,Ee;Xc(h.cancel)&&zn&&((Ee=(Te=h.cancel).onClick)==null||Ee.call(Te,oe),Bn())},className:Z(L==null?void 0:L.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,q.isValidElement(h.action)?h.action:h.action&&Xc(h.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:oe=>{var Te,Ee;Xc(h.action)&&(oe.defaultPrevented||((Ee=(Te=h.action).onClick)==null||Ee.call(Te,oe),Bn()))},className:Z(L==null?void 0:L.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function ox(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var VN=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:p,visibleToasts:h=RN,toastOptions:y,dir:x=ox(),gap:v=ON,loadingIcon:b,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:I,cn:N=MN}=t,[D,M]=q.useState([]),A=q.useMemo(()=>Array.from(new Set([n].concat(D.filter(K=>K.position).map(K=>K.position)))),[D,n]),[E,C]=q.useState([]),[R,k]=q.useState(!1),[O,P]=q.useState(!1),[H,re]=q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=q.useRef(null),ie=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=q.useRef(null),B=q.useRef(!1),X=q.useCallback(K=>{var Z;(Z=D.find(te=>te.id===K.id))!=null&&Z.delete||Jt.dismiss(K.id),M(te=>te.filter(({id:Ae})=>Ae!==K.id))},[D]);return q.useEffect(()=>Jt.subscribe(K=>{if(K.dismiss){M(Z=>Z.map(te=>te.id===K.id?{...te,delete:!0}:te));return}setTimeout(()=>{CE.flushSync(()=>{M(Z=>{let te=Z.findIndex(Ae=>Ae.id===K.id);return te!==-1?[...Z.slice(0,te),{...Z[te],...K},...Z.slice(te+1)]:[K,...Z]})})})}),[]),q.useEffect(()=>{if(l!=="system"){re(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{re(K?"dark":"light")})},[l]),q.useEffect(()=>{D.length<=1&&k(!1)},[D]),q.useEffect(()=>{let K=Z=>{var te,Ae;r.every(et=>Z[et]||Z.code===et)&&(k(!0),(te=J.current)==null||te.focus()),Z.code==="Escape"&&(document.activeElement===J.current||(Ae=J.current)!=null&&Ae.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),q.useEffect(()=>{if(J.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[J.current]),D.length?q.createElement("section",{"aria-label":`${_} ${ie}`,tabIndex:-1},A.map((K,Z)=>{var te;let[Ae,et]=K.split("-");return q.createElement("ol",{key:K,dir:x==="auto"?ox():x,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Ae,"data-x-position":et,style:{"--front-toast-height":`${((te=E[0])==null?void 0:te.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||PN,"--width":`${kN}px`,"--gap":`${v}px`,...p},onBlur:ve=>{B.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=ve.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{O||k(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},D.filter(ve=>!ve.position&&Z===0||ve.position===K).map((ve,yt)=>{var Fn,Un;return q.createElement(LN,{key:ve.id,icons:w,index:yt,toast:ve,defaultRichColors:u,duration:(Fn=y==null?void 0:y.duration)!=null?Fn:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Un=y==null?void 0:y.closeButton)!=null?Un:i,interacting:O,position:K,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:X,toasts:D.filter(Qt=>Qt.position==ve.position),heights:E.filter(Qt=>Qt.position==ve.position),setHeights:C,expandByDefault:s,gap:v,loadingIcon:b,expanded:R,pauseWhenPageIsHidden:I,cn:N})}))})):null};const FN=({...t})=>{const{theme:e="system"}=pN();return f.jsx(VN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var UN=Tw.useId||(()=>{}),$N=0;function Ab(t){const[e,n]=T.useState(UN());return Ns(()=>{t||n(r=>r??String($N++))},[t]),t||(e?`radix-${e}`:"")}const zN=["top","right","bottom","left"],ks=Math.min,en=Math.max,id=Math.round,Jc=Math.floor,Os=t=>({x:t,y:t}),BN={left:"right",right:"left",bottom:"top",top:"bottom"},HN={start:"end",end:"start"};function Gp(t,e,n){return en(t,ks(e,n))}function Ar(t,e){return typeof t=="function"?t(e):t}function Rr(t){return t.split("-")[0]}function ta(t){return t.split("-")[1]}function kg(t){return t==="x"?"y":"x"}function Og(t){return t==="y"?"height":"width"}function Ds(t){return["top","bottom"].includes(Rr(t))?"y":"x"}function Dg(t){return kg(Ds(t))}function WN(t,e,n){n===void 0&&(n=!1);const r=ta(t),s=Dg(t),i=Og(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=od(o)),[o,od(o)]}function qN(t){const e=od(t);return[Kp(t),e,Kp(e)]}function Kp(t){return t.replace(/start|end/g,e=>HN[e])}function GN(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function KN(t,e,n,r){const s=ta(t);let i=GN(Rr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Kp)))),i}function od(t){return t.replace(/left|right|bottom|top/g,e=>BN[e])}function QN(t){return{top:0,right:0,bottom:0,left:0,...t}}function Rb(t){return typeof t!="number"?QN(t):{top:t,right:t,bottom:t,left:t}}function ad(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ax(t,e,n){let{reference:r,floating:s}=t;const i=Ds(e),o=Dg(e),a=Og(o),l=Rr(e),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-s.width,y:p};break;default:y={x:r.x,y:r.y}}switch(ta(e)){case"start":y[o]-=h*(n&&u?-1:1);break;case"end":y[o]+=h*(n&&u?-1:1);break}return y}const YN=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=ax(u,r,l),h=r,y={},x=0;for(let v=0;v<a.length;v++){const{name:b,fn:w}=a[v],{x:_,y:I,data:N,reset:D}=await w({x:d,y:p,initialPlacement:r,placement:h,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,p=I??p,y={...y,[b]:{...y[b],...N}},D&&x<=50&&(x++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:p}=ax(u,h,l)),v=-1)}return{x:d,y:p,placement:h,strategy:s,middlewareData:y}};async function Sl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:y=0}=Ar(e,t),x=Rb(y),b=a[h?p==="floating"?"reference":"floating":p],w=ad(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},D=ad(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:I,strategy:l}):_);return{top:(w.top-D.top+x.top)/N.y,bottom:(D.bottom-w.bottom+x.bottom)/N.y,left:(w.left-D.left+x.left)/N.x,right:(D.right-w.right+x.right)/N.x}}const XN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Ar(t,e)||{};if(u==null)return{};const p=Rb(d),h={x:n,y:r},y=Dg(s),x=Og(y),v=await o.getDimensions(u),b=y==="y",w=b?"top":"left",_=b?"bottom":"right",I=b?"clientHeight":"clientWidth",N=i.reference[x]+i.reference[y]-h[y]-i.floating[x],D=h[y]-i.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=M?M[I]:0;(!A||!await(o.isElement==null?void 0:o.isElement(M)))&&(A=a.floating[I]||i.floating[x]);const E=N/2-D/2,C=A/2-v[x]/2-1,R=ks(p[w],C),k=ks(p[_],C),O=R,P=A-v[x]-k,H=A/2-v[x]/2+E,re=Gp(O,H,P),J=!l.arrow&&ta(s)!=null&&H!==re&&i.reference[x]/2-(H<O?R:k)-v[x]/2<0,ie=J?H<O?H-O:H-P:0;return{[y]:h[y]+ie,data:{[y]:re,centerOffset:H-re-ie,...J&&{alignmentOffset:ie}},reset:J}}}),JN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...b}=Ar(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Rr(s),_=Ds(a),I=Rr(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=h||(I||!v?[od(a)]:qN(a)),M=x!=="none";!h&&M&&D.push(...KN(a,v,x,N));const A=[a,...D],E=await Sl(e,b),C=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(E[w]),p){const H=WN(s,o,N);C.push(E[H[0]],E[H[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(H=>H<=0)){var k,O;const H=(((k=i.flip)==null?void 0:k.index)||0)+1,re=A[H];if(re)return{data:{index:H,overflows:R},reset:{placement:re}};let J=(O=R.filter(ie=>ie.overflows[0]<=0).sort((ie,L)=>ie.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!J)switch(y){case"bestFit":{var P;const ie=(P=R.filter(L=>{if(M){const B=Ds(L.placement);return B===_||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,X)=>B+X,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:P[0];ie&&(J=ie);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function lx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cx(t){return zN.some(e=>t[e]>=0)}const ZN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ar(t,e);switch(r){case"referenceHidden":{const i=await Sl(e,{...s,elementContext:"reference"}),o=lx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cx(o)}}}case"escaped":{const i=await Sl(e,{...s,altBoundary:!0}),o=lx(i,n.floating);return{data:{escapedOffsets:o,escaped:cx(o)}}}default:return{}}}}};async function ek(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Rr(n),a=ta(n),l=Ds(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,p=Ar(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof x=="number"&&(y=a==="end"?x*-1:x),l?{x:y*d,y:h*u}:{x:h*u,y:y*d}}const tk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await ek(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},nk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:w,y:_}=b;return{x:w,y:_}}},...l}=Ar(t,e),u={x:n,y:r},d=await Sl(e,l),p=Ds(Rr(s)),h=kg(p);let y=u[h],x=u[p];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",_=y+d[b],I=y-d[w];y=Gp(_,y,I)}if(o){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",_=x+d[b],I=x-d[w];x=Gp(_,x,I)}const v=a.fn({...e,[h]:y,[p]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:i,[p]:o}}}}}},rk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ar(t,e),d={x:n,y:r},p=Ds(s),h=kg(p);let y=d[h],x=d[p];const v=Ar(a,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const I=h==="y"?"height":"width",N=i.reference[h]-i.floating[I]+b.mainAxis,D=i.reference[h]+i.reference[I]-b.mainAxis;y<N?y=N:y>D&&(y=D)}if(u){var w,_;const I=h==="y"?"width":"height",N=["top","left"].includes(Rr(s)),D=i.reference[p]-i.floating[I]+(N&&((w=o.offset)==null?void 0:w[p])||0)+(N?0:b.crossAxis),M=i.reference[p]+i.reference[I]+(N?0:((_=o.offset)==null?void 0:_[p])||0)-(N?b.crossAxis:0);x<D?x=D:x>M&&(x=M)}return{[h]:y,[p]:x}}}},sk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Ar(t,e),d=await Sl(e,u),p=Rr(s),h=ta(s),y=Ds(s)==="y",{width:x,height:v}=i.floating;let b,w;p==="top"||p==="bottom"?(b=p,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,b=h==="end"?"top":"bottom");const _=v-d.top-d.bottom,I=x-d.left-d.right,N=ks(v-d[b],_),D=ks(x-d[w],I),M=!e.middlewareData.shift;let A=N,E=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=_),M&&!h){const R=en(d.left,0),k=en(d.right,0),O=en(d.top,0),P=en(d.bottom,0);y?E=x-2*(R!==0||k!==0?R+k:en(d.left,d.right)):A=v-2*(O!==0||P!==0?O+P:en(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:A});const C=await o.getDimensions(a.floating);return x!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function nh(){return typeof window<"u"}function na(t){return Pb(t)?(t.nodeName||"").toLowerCase():"#document"}function sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ar(t){var e;return(e=(Pb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pb(t){return nh()?t instanceof Node||t instanceof sn(t).Node:!1}function Mn(t){return nh()?t instanceof Element||t instanceof sn(t).Element:!1}function ir(t){return nh()?t instanceof HTMLElement||t instanceof sn(t).HTMLElement:!1}function ux(t){return!nh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof sn(t).ShadowRoot}function ec(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ln(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function ik(t){return["table","td","th"].includes(na(t))}function rh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function jg(t){const e=Mg(),n=Mn(t)?Ln(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ok(t){let e=js(t);for(;ir(e)&&!Lo(e);){if(jg(e))return e;if(rh(e))return null;e=js(e)}return null}function Mg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lo(t){return["html","body","#document"].includes(na(t))}function Ln(t){return sn(t).getComputedStyle(t)}function sh(t){return Mn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function js(t){if(na(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ux(t)&&t.host||ar(t);return ux(e)?e.host:e}function Nb(t){const e=js(t);return Lo(e)?t.ownerDocument?t.ownerDocument.body:t.body:ir(e)&&ec(e)?e:Nb(e)}function Cl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Nb(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=sn(s);if(i){const a=Qp(o);return e.concat(o,o.visualViewport||[],ec(s)?s:[],a&&n?Cl(a):[])}return e.concat(s,Cl(s,[],n))}function Qp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kb(t){const e=Ln(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ir(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=id(n)!==i||id(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Lg(t){return Mn(t)?t:t.contextElement}function go(t){const e=Lg(t);if(!ir(e))return Os(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=kb(e);let o=(i?id(n.width):n.width)/r,a=(i?id(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ak=Os(0);function Ob(t){const e=sn(t);return!Mg()||!e.visualViewport?ak:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==sn(t)?!1:e}function gi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Lg(t);let o=Os(1);e&&(r?Mn(r)&&(o=go(r)):o=go(t));const a=lk(i,n,r)?Ob(i):Os(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const h=sn(i),y=r&&Mn(r)?sn(r):r;let x=h,v=Qp(x);for(;v&&r&&y!==x;){const b=go(v),w=v.getBoundingClientRect(),_=Ln(v),I=w.left+(v.clientLeft+parseFloat(_.paddingLeft))*b.x,N=w.top+(v.clientTop+parseFloat(_.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,p*=b.y,l+=I,u+=N,x=sn(v),v=Qp(x)}}return ad({width:d,height:p,x:l,y:u})}function ck(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ar(r),a=e?rh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Os(1);const d=Os(0),p=ir(r);if((p||!p&&!i)&&((na(r)!=="body"||ec(o))&&(l=sh(r)),ir(r))){const h=gi(r);u=go(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function uk(t){return Array.from(t.getClientRects())}function Yp(t,e){const n=sh(t).scrollLeft;return e?e.left+n:gi(ar(t)).left+n}function dk(t){const e=ar(t),n=sh(t),r=t.ownerDocument.body,s=en(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=en(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Yp(t);const a=-n.scrollTop;return Ln(r).direction==="rtl"&&(o+=en(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function hk(t,e){const n=sn(t),r=ar(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Mg();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function fk(t,e){const n=gi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ir(t)?go(t):Os(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function dx(t,e,n){let r;if(e==="viewport")r=hk(t,n);else if(e==="document")r=dk(ar(t));else if(Mn(e))r=fk(e,n);else{const s=Ob(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return ad(r)}function Db(t,e){const n=js(t);return n===e||!Mn(n)||Lo(n)?!1:Ln(n).position==="fixed"||Db(n,e)}function pk(t,e){const n=e.get(t);if(n)return n;let r=Cl(t,[],!1).filter(a=>Mn(a)&&na(a)!=="body"),s=null;const i=Ln(t).position==="fixed";let o=i?js(t):t;for(;Mn(o)&&!Lo(o);){const a=Ln(o),l=jg(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ec(o)&&!l&&Db(t,o))?r=r.filter(d=>d!==o):s=a,o=js(o)}return e.set(t,r),r}function mk(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?rh(e)?[]:pk(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const p=dx(e,d,s);return u.top=en(p.top,u.top),u.right=ks(p.right,u.right),u.bottom=ks(p.bottom,u.bottom),u.left=en(p.left,u.left),u},dx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gk(t){const{width:e,height:n}=kb(t);return{width:e,height:n}}function yk(t,e,n){const r=ir(e),s=ar(e),i=n==="fixed",o=gi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Os(0);if(r||!r&&!i)if((na(e)!=="body"||ec(s))&&(a=sh(e)),r){const y=gi(e,!0,i,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else s&&(l.x=Yp(s));let u=0,d=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();d=y.top+a.scrollTop,u=y.left+a.scrollLeft-Yp(s,y)}const p=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:p,y:h,width:o.width,height:o.height}}function Sf(t){return Ln(t).position==="static"}function hx(t,e){if(!ir(t)||Ln(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ar(t)===n&&(n=n.ownerDocument.body),n}function jb(t,e){const n=sn(t);if(rh(t))return n;if(!ir(t)){let s=js(t);for(;s&&!Lo(s);){if(Mn(s)&&!Sf(s))return s;s=js(s)}return n}let r=hx(t,e);for(;r&&ik(r)&&Sf(r);)r=hx(r,e);return r&&Lo(r)&&Sf(r)&&!jg(r)?n:r||ok(t)||n}const vk=async function(t){const e=this.getOffsetParent||jb,n=this.getDimensions,r=await n(t.floating);return{reference:yk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xk(t){return Ln(t).direction==="rtl"}const wk={convertOffsetParentRelativeRectToViewportRelativeRect:ck,getDocumentElement:ar,getClippingRect:mk,getOffsetParent:jb,getElementRects:vk,getClientRects:uk,getDimensions:gk,getScale:go,isElement:Mn,isRTL:xk};function _k(t,e){let n=null,r;const s=ar(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:p,height:h}=t.getBoundingClientRect();if(a||e(),!p||!h)return;const y=Jc(d),x=Jc(s.clientWidth-(u+p)),v=Jc(s.clientHeight-(d+h)),b=Jc(u),_={rootMargin:-y+"px "+-x+"px "+-v+"px "+-b+"px",threshold:en(0,ks(1,l))||1};let I=!0;function N(D){const M=D[0].intersectionRatio;if(M!==l){if(!I)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I=!1}try{n=new IntersectionObserver(N,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,_)}n.observe(t)}return o(!0),i}function Ek(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Lg(t),d=s||i?[...u?Cl(u):[],...Cl(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=u&&a?_k(u,n):null;let h=-1,y=null;o&&(y=new ResizeObserver(w=>{let[_]=w;_&&_.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var I;(I=y)==null||I.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let x,v=l?gi(t):null;l&&b();function b(){const w=gi(t);v&&(w.x!==v.x||w.y!==v.y||w.width!==v.width||w.height!==v.height)&&n(),v=w,x=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),p==null||p(),(w=y)==null||w.disconnect(),y=null,l&&cancelAnimationFrame(x)}}const bk=tk,Tk=nk,Ik=JN,Sk=sk,Ck=ZN,fx=XN,Ak=rk,Rk=(t,e,n)=>{const r=new Map,s={platform:wk,...n},i={...s.platform,_c:r};return YN(t,e,{...s,platform:i})};var wu=typeof document<"u"?T.useLayoutEffect:T.useEffect;function ld(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ld(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ld(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Mb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function px(t,e){const n=Mb(t);return Math.round(e*n)/n}function Cf(t){const e=T.useRef(t);return wu(()=>{e.current=t}),e}function Pk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,p]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,y]=T.useState(r);ld(h,r)||y(r);const[x,v]=T.useState(null),[b,w]=T.useState(null),_=T.useCallback(L=>{L!==M.current&&(M.current=L,v(L))},[]),I=T.useCallback(L=>{L!==A.current&&(A.current=L,w(L))},[]),N=i||x,D=o||b,M=T.useRef(null),A=T.useRef(null),E=T.useRef(d),C=l!=null,R=Cf(l),k=Cf(s),O=Cf(u),P=T.useCallback(()=>{if(!M.current||!A.current)return;const L={placement:e,strategy:n,middleware:h};k.current&&(L.platform=k.current),Rk(M.current,A.current,L).then(B=>{const X={...B,isPositioned:O.current!==!1};H.current&&!ld(E.current,X)&&(E.current=X,Yl.flushSync(()=>{p(X)}))})},[h,e,n,k,O]);wu(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[u]);const H=T.useRef(!1);wu(()=>(H.current=!0,()=>{H.current=!1}),[]),wu(()=>{if(N&&(M.current=N),D&&(A.current=D),N&&D){if(R.current)return R.current(N,D,P);P()}},[N,D,P,R,C]);const re=T.useMemo(()=>({reference:M,floating:A,setReference:_,setFloating:I}),[_,I]),J=T.useMemo(()=>({reference:N,floating:D}),[N,D]),ie=T.useMemo(()=>{const L={position:n,left:0,top:0};if(!J.floating)return L;const B=px(J.floating,d.x),X=px(J.floating,d.y);return a?{...L,transform:"translate("+B+"px, "+X+"px)",...Mb(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:X}},[n,a,J.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:P,refs:re,elements:J,floatingStyles:ie}),[d,P,re,J,ie])}const Nk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fx({element:r.current,padding:s}).fn(n):{}:r?fx({element:r,padding:s}).fn(n):{}}}},kk=(t,e)=>({...bk(t),options:[t,e]}),Ok=(t,e)=>({...Tk(t),options:[t,e]}),Dk=(t,e)=>({...Ak(t),options:[t,e]}),jk=(t,e)=>({...Ik(t),options:[t,e]}),Mk=(t,e)=>({...Sk(t),options:[t,e]}),Lk=(t,e)=>({...Ck(t),options:[t,e]}),Vk=(t,e)=>({...Nk(t),options:[t,e]});var Fk="Arrow",Lb=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(je.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Lb.displayName=Fk;var Uk=Lb;function $k(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:h,children:y,...x}=p,v=(h==null?void 0:h[t][l])||a,b=T.useMemo(()=>x,Object.values(x));return f.jsx(v.Provider,{value:b,children:y})}function d(p,h){const y=(h==null?void 0:h[t][l])||a,x=T.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,zk(s,...e)]}function zk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Vb(t){const[e,n]=T.useState(void 0);return Ns(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Fb="Popper",[Ub,$b]=$k(Fb),[tM,zb]=Ub(Fb),Bb="PopperAnchor",Hb=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=zb(Bb,n),o=T.useRef(null),a=Gt(e,o);return T.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(je.div,{...s,ref:a})});Hb.displayName=Bb;var Vg="PopperContent",[Bk,Hk]=Ub(Vg),Wb=T.forwardRef((t,e)=>{var yt,Fn,Un,Qt,lr,$n;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:x,...v}=t,b=zb(Vg,n),[w,_]=T.useState(null),I=Gt(e,vn=>_(vn)),[N,D]=T.useState(null),M=Vb(N),A=(M==null?void 0:M.width)??0,E=(M==null?void 0:M.height)??0,C=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,P={padding:R,boundary:k.filter(qk),altBoundary:O},{refs:H,floatingStyles:re,placement:J,isPositioned:ie,middlewareData:L}=Pk({strategy:"fixed",placement:C,whileElementsMounted:(...vn)=>Ek(...vn,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[kk({mainAxis:s+E,alignmentAxis:o}),l&&Ok({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Dk():void 0,...P}),l&&jk({...P}),Mk({...P,apply:({elements:vn,rects:cr,availableWidth:Lr,availableHeight:xn})=>{const{width:ca,height:ua}=cr.reference,Ke=vn.floating.style;Ke.setProperty("--radix-popper-available-width",`${Lr}px`),Ke.setProperty("--radix-popper-available-height",`${xn}px`),Ke.setProperty("--radix-popper-anchor-width",`${ca}px`),Ke.setProperty("--radix-popper-anchor-height",`${ua}px`)}}),N&&Vk({element:N,padding:a}),Gk({arrowWidth:A,arrowHeight:E}),h&&Lk({strategy:"referenceHidden",...P})]}),[B,X]=Kb(J),K=jn(x);Ns(()=>{ie&&(K==null||K())},[ie,K]);const Z=(yt=L.arrow)==null?void 0:yt.x,te=(Fn=L.arrow)==null?void 0:Fn.y,Ae=((Un=L.arrow)==null?void 0:Un.centerOffset)!==0,[et,ve]=T.useState();return Ns(()=>{w&&ve(window.getComputedStyle(w).zIndex)},[w]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ie?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[(Qt=L.transformOrigin)==null?void 0:Qt.x,(lr=L.transformOrigin)==null?void 0:lr.y].join(" "),...(($n=L.hide)==null?void 0:$n.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(Bk,{scope:n,placedSide:B,onArrowChange:D,arrowX:Z,arrowY:te,shouldHideArrow:Ae,children:f.jsx(je.div,{"data-side":B,"data-align":X,...v,ref:I,style:{...v.style,animation:ie?void 0:"none"}})})})});Wb.displayName=Vg;var qb="PopperArrow",Wk={top:"bottom",right:"left",bottom:"top",left:"right"},Gb=T.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Hk(qb,r),o=Wk[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(Uk,{...s,ref:n,style:{...s.style,display:"block"}})})});Gb.displayName=qb;function qk(t){return t!==null}var Gk=t=>({name:"transformOrigin",options:t,fn(e){var b,w,_;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=Kb(n),p={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,y=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let x="",v="";return u==="bottom"?(x=o?p:`${h}px`,v=`${-l}px`):u==="top"?(x=o?p:`${h}px`,v=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,v=o?p:`${y}px`):u==="left"&&(x=`${r.floating.width+l}px`,v=o?p:`${y}px`),{data:{x,y:v}}}});function Kb(t){const[e,n="center"]=t.split("-");return[e,n]}var Kk=Hb,Qk=Wb,Yk=Gb,[ih,nM]=Jl("Tooltip",[$b]),Fg=$b(),Qb="TooltipProvider",Xk=700,mx="tooltip.open",[Jk,Yb]=ih(Qb),Xb=t=>{const{__scopeTooltip:e,delayDuration:n=Xk,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=T.useState(!0),l=T.useRef(!1),u=T.useRef(0);return T.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),f.jsx(Jk,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};Xb.displayName=Qb;var Jb="Tooltip",[rM,oh]=ih(Jb),Xp="TooltipTrigger",Zk=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=oh(Xp,n),i=Yb(Xp,n),o=Fg(n),a=T.useRef(null),l=Gt(e,a,s.onTriggerChange),u=T.useRef(!1),d=T.useRef(!1),p=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),f.jsx(Kk,{asChild:!0,...o,children:f.jsx(je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:xe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:xe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:xe(t.onBlur,s.onClose),onClick:xe(t.onClick,s.onClose)})})});Zk.displayName=Xp;var e3="TooltipPortal",[sM,t3]=ih(e3,{forceMount:void 0}),Vo="TooltipContent",Zb=T.forwardRef((t,e)=>{const n=t3(Vo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=oh(Vo,t.__scopeTooltip);return f.jsx(Zl,{present:r||o.open,children:o.disableHoverableContent?f.jsx(eT,{side:s,...i,ref:e}):f.jsx(n3,{side:s,...i,ref:e})})}),n3=T.forwardRef((t,e)=>{const n=oh(Vo,t.__scopeTooltip),r=Yb(Vo,t.__scopeTooltip),s=T.useRef(null),i=Gt(e,s),[o,a]=T.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,h=T.useCallback(()=>{a(null),p(!1)},[p]),y=T.useCallback((x,v)=>{const b=x.currentTarget,w={x:x.clientX,y:x.clientY},_=o3(w,b.getBoundingClientRect()),I=a3(w,_),N=l3(v.getBoundingClientRect()),D=u3([...I,...N]);a(D),p(!0)},[p]);return T.useEffect(()=>()=>h(),[h]),T.useEffect(()=>{if(l&&d){const x=b=>y(b,d),v=b=>y(b,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[l,d,y,h]),T.useEffect(()=>{if(o){const x=v=>{const b=v.target,w={x:v.clientX,y:v.clientY},_=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),I=!c3(w,o);_?h():I&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,u,h]),f.jsx(eT,{...t,ref:i})}),[r3,s3]=ih(Jb,{isInside:!1}),eT=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=oh(Vo,n),u=Fg(n),{onClose:d}=l;return T.useEffect(()=>(document.addEventListener(mx,d),()=>document.removeEventListener(mx,d)),[d]),T.useEffect(()=>{if(l.trigger){const p=h=>{const y=h.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),f.jsx(Sg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:f.jsxs(Qk,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(UE,{children:r}),f.jsx(r3,{scope:n,isInside:!0,children:f.jsx(t4,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Zb.displayName=Vo;var tT="TooltipArrow",i3=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fg(n);return s3(tT,n).isInside?null:f.jsx(Yk,{...s,...r,ref:e})});i3.displayName=tT;function o3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function a3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function l3(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function c3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function u3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),d3(e)}function d3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var h3=Xb,nT=Zb;const f3=h3,p3=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(nT,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));p3.displayName=nT.displayName;var ah=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lh=typeof window>"u"||"Deno"in globalThis;function bn(){}function m3(t,e){return typeof t=="function"?t(e):t}function g3(t){return typeof t=="number"&&t>=0&&t!==1/0}function y3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gx(t,e){return typeof t=="function"?t(e):t}function v3(t,e){return typeof t=="function"?t(e):t}function yx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ug(o,e.options))return!1}else if(!Rl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function vx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Al(e.options.mutationKey)!==Al(i))return!1}else if(!Rl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ug(t,e){return((e==null?void 0:e.queryKeyHashFn)||Al)(t)}function Al(t){return JSON.stringify(t,(e,n)=>Jp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Rl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Rl(t[n],e[n])):!1}function rT(t,e){if(t===e)return t;const n=xx(t)&&xx(e);if(n||Jp(t)&&Jp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=rT(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function xx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Jp(t){if(!wx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!wx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wx(t){return Object.prototype.toString.call(t)==="[object Object]"}function x3(t){return new Promise(e=>{setTimeout(e,t)})}function w3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rT(t,e):e}function _3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function E3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var $g=Symbol();function sT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===$g?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ii,ss,_o,iw,b3=(iw=class extends ah{constructor(){super();we(this,ii);we(this,ss);we(this,_o);ue(this,_o,e=>{if(!lh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,ss)||this.setEventListener(U(this,_o))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ss))==null||e.call(this),ue(this,ss,void 0))}setEventListener(e){var n;ue(this,_o,e),(n=U(this,ss))==null||n.call(this),ue(this,ss,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,ii)!==e&&(ue(this,ii,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,ii)=="boolean"?U(this,ii):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ii=new WeakMap,ss=new WeakMap,_o=new WeakMap,iw),iT=new b3,Eo,is,bo,ow,T3=(ow=class extends ah{constructor(){super();we(this,Eo,!0);we(this,is);we(this,bo);ue(this,bo,e=>{if(!lh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,is)||this.setEventListener(U(this,bo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,is))==null||e.call(this),ue(this,is,void 0))}setEventListener(e){var n;ue(this,bo,e),(n=U(this,is))==null||n.call(this),ue(this,is,e(this.setOnline.bind(this)))}setOnline(e){U(this,Eo)!==e&&(ue(this,Eo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Eo)}},Eo=new WeakMap,is=new WeakMap,bo=new WeakMap,ow),cd=new T3;function I3(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function S3(t){return Math.min(1e3*2**t,3e4)}function oT(t){return(t??"online")==="online"?cd.isOnline():!0}var aT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Af(t){return t instanceof aT}function lT(t){let e=!1,n=0,r=!1,s;const i=I3(),o=v=>{var b;r||(h(new aT(v)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>iT.isFocused()&&(t.networkMode==="always"||cd.isOnline())&&t.canRun(),d=()=>oT(t.networkMode)&&t.canRun(),p=v=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,v),s==null||s(),i.resolve(v))},h=v=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,v),s==null||s(),i.reject(v))},y=()=>new Promise(v=>{var b;s=w=>{(r||u())&&v(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(r)return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(p).catch(w=>{var M;if(r)return;const _=t.retry??(lh?0:3),I=t.retryDelay??S3,N=typeof I=="function"?I(n,w):I,D=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(e||!D){h(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),x3(N).then(()=>u()?void 0:y()).then(()=>{e?h(w):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():y().then(x),i)}}function C3(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Dt=C3(),oi,aw,cT=(aw=class{constructor(){we(this,oi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),g3(this.gcTime)&&ue(this,oi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(lh?1/0:5*60*1e3))}clearGcTimeout(){U(this,oi)&&(clearTimeout(U(this,oi)),ue(this,oi,void 0))}},oi=new WeakMap,aw),To,Io,un,It,Bl,ai,Tn,mr,lw,A3=(lw=class extends cT{constructor(n){super();we(this,Tn);we(this,To);we(this,Io);we(this,un);we(this,It);we(this,Bl);we(this,ai);ue(this,ai,!1),ue(this,Bl,n.defaultOptions),this.setOptions(n.options),this.observers=[],ue(this,un,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ue(this,To,P3(this.options)),this.state=n.state??U(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,It))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Bl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,un).remove(this)}setData(n,r){const s=w3(this.state.data,n,this.options);return _t(this,Tn,mr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){_t(this,Tn,mr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,It))==null?void 0:s.promise;return(i=U(this,It))==null||i.cancel(n),r?r.then(bn).catch(bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,To))}isActive(){return this.observers.some(n=>v3(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$g||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!y3(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,It))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,It))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,un).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,It)&&(U(this,ai)?U(this,It).cancel({revert:!0}):U(this,It).cancelRetry()),this.scheduleGc()),U(this,un).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,Tn,mr).call(this,{type:"invalidate"})}fetch(n,r){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,It))return U(this,It).continueRetry(),U(this,It).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ue(this,ai,!0),s.signal)})},o=()=>{const h=sT(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),ue(this,ai,!1),this.options.persister?this.options.persister(h,y,this):h(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),ue(this,Io,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&_t(this,Tn,mr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=h=>{var y,x,v,b;Af(h)&&h.silent||_t(this,Tn,mr).call(this,{type:"error",error:h}),Af(h)||((x=(y=U(this,un).config).onError)==null||x.call(y,h,this),(b=(v=U(this,un).config).onSettled)==null||b.call(v,this.state.data,h,this)),this.scheduleGc()};return ue(this,It,lT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var y,x,v,b;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){l(w);return}(x=(y=U(this,un).config).onSuccess)==null||x.call(y,h,this),(b=(v=U(this,un).config).onSettled)==null||b.call(v,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,y)=>{_t(this,Tn,mr).call(this,{type:"failed",failureCount:h,error:y})},onPause:()=>{_t(this,Tn,mr).call(this,{type:"pause"})},onContinue:()=>{_t(this,Tn,mr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,It).start()}},To=new WeakMap,Io=new WeakMap,un=new WeakMap,It=new WeakMap,Bl=new WeakMap,ai=new WeakMap,Tn=new WeakSet,mr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...R3(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Af(i)&&i.revert&&U(this,Io)?{...U(this,Io),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,un).notify({query:this,type:"updated",action:n})})},lw);function R3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function P3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Kn,cw,N3=(cw=class extends ah{constructor(e={}){super();we(this,Kn);this.config=e,ue(this,Kn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ug(s,n);let o=this.get(i);return o||(o=new A3({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Kn).has(e.queryHash)||(U(this,Kn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Kn).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Kn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Kn).get(e)}getAll(){return[...U(this,Kn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>yx(e,r)):n}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Kn=new WeakMap,cw),Qn,kt,li,Yn,Qr,uw,k3=(uw=class extends cT{constructor(n){super();we(this,Yn);we(this,Qn);we(this,kt);we(this,li);this.mutationId=n.mutationId,ue(this,kt,n.mutationCache),ue(this,Qn,[]),this.state=n.state||O3(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Qn).includes(n)||(U(this,Qn).push(n),this.clearGcTimeout(),U(this,kt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ue(this,Qn,U(this,Qn).filter(r=>r!==n)),this.scheduleGc(),U(this,kt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Qn).length||(this.state.status==="pending"?this.scheduleGc():U(this,kt).remove(this))}continue(){var n;return((n=U(this,li))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,p,h,y,x,v,b,w,_,I,N,D,M,A,E;ue(this,li,lT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,R)=>{_t(this,Yn,Qr).call(this,{type:"failed",failureCount:C,error:R})},onPause:()=>{_t(this,Yn,Qr).call(this,{type:"pause"})},onContinue:()=>{_t(this,Yn,Qr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,kt).canRun(this)}));const r=this.state.status==="pending",s=!U(this,li).canStart();try{if(!r){_t(this,Yn,Qr).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=U(this,kt).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&_t(this,Yn,Qr).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const C=await U(this,li).start();return await((d=(u=U(this,kt).config).onSuccess)==null?void 0:d.call(u,C,n,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,C,n,this.state.context)),await((x=(y=U(this,kt).config).onSettled)==null?void 0:x.call(y,C,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,C,null,n,this.state.context)),_t(this,Yn,Qr).call(this,{type:"success",data:C}),C}catch(C){try{throw await((_=(w=U(this,kt).config).onError)==null?void 0:_.call(w,C,n,this.state.context,this)),await((N=(I=this.options).onError)==null?void 0:N.call(I,C,n,this.state.context)),await((M=(D=U(this,kt).config).onSettled)==null?void 0:M.call(D,void 0,C,this.state.variables,this.state.context,this)),await((E=(A=this.options).onSettled)==null?void 0:E.call(A,void 0,C,n,this.state.context)),C}finally{_t(this,Yn,Qr).call(this,{type:"error",error:C})}}finally{U(this,kt).runNext(this)}}},Qn=new WeakMap,kt=new WeakMap,li=new WeakMap,Yn=new WeakSet,Qr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dt.batch(()=>{U(this,Qn).forEach(s=>{s.onMutationUpdate(n)}),U(this,kt).notify({mutation:this,type:"updated",action:n})})},uw);function O3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xt,Hl,dw,D3=(dw=class extends ah{constructor(e={}){super();we(this,Xt);we(this,Hl);this.config=e,ue(this,Xt,new Map),ue(this,Hl,Date.now())}build(e,n,r){const s=new k3({mutationCache:this,mutationId:++Nc(this,Hl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Zc(e),r=U(this,Xt).get(n)??[];r.push(e),U(this,Xt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Zc(e);if(U(this,Xt).has(n)){const s=(r=U(this,Xt).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?U(this,Xt).delete(n):U(this,Xt).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,Xt).get(Zc(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,Xt).get(Zc(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,Xt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vx(n,r))}findAll(e={}){return this.getAll().filter(n=>vx(e,n))}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(bn))))}},Xt=new WeakMap,Hl=new WeakMap,dw);function Zc(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function _x(t){return{onFetch:(e,n)=>{var d,p,h,y,x;const r=e.options,s=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const b=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=sT(e.options,e.fetchOptions),_=async(I,N,D)=>{if(v)return Promise.reject();if(N==null&&I.pages.length)return Promise.resolve(I);const M={queryKey:e.queryKey,pageParam:N,direction:D?"backward":"forward",meta:e.options.meta};b(M);const A=await w(M),{maxPages:E}=e.options,C=D?E3:_3;return{pages:C(I.pages,A,E),pageParams:C(I.pageParams,N,E)}};if(s&&i.length){const I=s==="backward",N=I?j3:Ex,D={pages:i,pageParams:o},M=N(r,D);a=await _(D,M,I)}else{const I=t??i.length;do{const N=l===0?o[0]??r.initialPageParam:Ex(r,a);if(l>0&&N==null)break;a=await _(a,N),l++}while(l<I)}return a};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Ex(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function j3(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var He,os,as,So,Co,ls,Ao,Ro,hw,M3=(hw=class{constructor(t={}){we(this,He);we(this,os);we(this,as);we(this,So);we(this,Co);we(this,ls);we(this,Ao);we(this,Ro);ue(this,He,t.queryCache||new N3),ue(this,os,t.mutationCache||new D3),ue(this,as,t.defaultOptions||{}),ue(this,So,new Map),ue(this,Co,new Map),ue(this,ls,0)}mount(){Nc(this,ls)._++,U(this,ls)===1&&(ue(this,Ao,iT.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,He).onFocus())})),ue(this,Ro,cd.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,He).onOnline())})))}unmount(){var t,e;Nc(this,ls)._--,U(this,ls)===0&&((t=U(this,Ao))==null||t.call(this),ue(this,Ao,void 0),(e=U(this,Ro))==null||e.call(this),ue(this,Ro,void 0))}isFetching(t){return U(this,He).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,os).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,He).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,He).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(gx(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,He).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,He).get(r.queryHash),i=s==null?void 0:s.state.data,o=m3(e,i);if(o!==void 0)return U(this,He).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Dt.batch(()=>U(this,He).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,He).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,He);Dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,He),r={type:"active",...t};return Dt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Dt.batch(()=>U(this,He).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(bn).catch(bn)}invalidateQueries(t={},e={}){return Dt.batch(()=>{if(U(this,He).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Dt.batch(()=>U(this,He).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(bn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(bn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,He).build(this,e);return n.isStaleByTime(gx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(bn).catch(bn)}fetchInfiniteQuery(t){return t.behavior=_x(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(bn).catch(bn)}ensureInfiniteQueryData(t){return t.behavior=_x(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return cd.isOnline()?U(this,os).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,He)}getMutationCache(){return U(this,os)}getDefaultOptions(){return U(this,as)}setDefaultOptions(t){ue(this,as,t)}setQueryDefaults(t,e){U(this,So).set(Al(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,So).values()];let n={};return e.forEach(r=>{Rl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,Co).set(Al(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Co).values()];let n={};return e.forEach(r=>{Rl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,as).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ug(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===$g&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,as).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,He).clear(),U(this,os).clear()}},He=new WeakMap,os=new WeakMap,as=new WeakMap,So=new WeakMap,Co=new WeakMap,ls=new WeakMap,Ao=new WeakMap,Ro=new WeakMap,hw),L3=T.createContext(void 0),V3=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(L3.Provider,{value:t,children:e}));const F3=Pg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),lt=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Il:"button";return f.jsx(o,{className:$e(F3({variant:e,size:n,className:t})),ref:i,...s})});lt.displayName="Button";const U3=()=>{};var bx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(h=64)),r.push(n[d],n[p],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new z3;const h=i<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),p!==64){const x=u<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B3=function(t){const e=uT(t);return dT.encodeByteArray(e,!0)},ud=function(t){return B3(t).replace(/\./g,"")},hT=function(t){try{return dT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=()=>H3().__FIREBASE_DEFAULTS__,q3=()=>{if(typeof process>"u"||typeof bx>"u")return;const t=bx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hT(t[1]);return e&&JSON.parse(e)},ch=()=>{try{return U3()||W3()||q3()||G3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fT=t=>{var e,n;return(n=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},K3=t=>{const e=fT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pT=()=>{var t;return(t=ch())===null||t===void 0?void 0:t.config},mT=t=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){return t.endsWith(".cloudworkstations.dev")}async function gT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ud(JSON.stringify(n)),ud(JSON.stringify(o)),""].join(".")}const el={};function X3(){const t={prod:[],emulator:[]};for(const e of Object.keys(el))el[e]?t.emulator.push(e):t.prod.push(e);return t}function J3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Tx=!1;function yT(t,e){if(typeof window>"u"||typeof document>"u"||!tc(window.location.host)||el[t]===e||el[t]||Tx)return;el[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=X3().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,y){h.setAttribute("width","24"),h.setAttribute("id",y),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Tx=!0,o()},h}function d(h,y){h.setAttribute("id",y),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function p(){const h=J3(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),v=n("learnmore"),b=document.getElementById(v)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const I=h.element;a(I),d(b,v);const N=u();l(_,w),I.append(_,x,b,N),document.body.appendChild(I)}i?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function e6(){var t;const e=(t=ch())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s6(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i6(){return!e6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o6(){try{return typeof indexedDB=="object"}catch{return!1}}function a6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=l6,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?c6(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Mr(s,a,r)}}function c6(t,e){return t.replace(u6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const u6=/\{\$([^}]+)}/g;function d6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ix(i)&&Ix(o)){if(!yi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ix(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function h6(t,e){const n=new f6(t,e);return n.subscribe.bind(n)}class f6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");p6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rf),s.error===void 0&&(s.error=Rf),s.complete===void 0&&(s.complete=Rf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class vi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Q3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y6(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g6(t){return t===ei?void 0:t}function y6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const x6={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},w6=fe.INFO,_6={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},E6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zg{constructor(e){this.name=e,this._logLevel=w6,this._logHandler=E6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const b6=(t,e)=>e.some(n=>t instanceof n);let Sx,Cx;function T6(){return Sx||(Sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I6(){return Cx||(Cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vT=new WeakMap,Zp=new WeakMap,xT=new WeakMap,Pf=new WeakMap,Bg=new WeakMap;function S6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(bs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vT.set(n,t)}).catch(()=>{}),Bg.set(e,t),e}function C6(t){if(Zp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Zp.set(t,e)}let em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A6(t){em=t(em)}function R6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nf(this),e,...n);return xT.set(r,e.sort?e.sort():[e]),bs(r)}:I6().includes(t)?function(...e){return t.apply(Nf(this),e),bs(vT.get(this))}:function(...e){return bs(t.apply(Nf(this),e))}}function P6(t){return typeof t=="function"?R6(t):(t instanceof IDBTransaction&&C6(t),b6(t,T6())?new Proxy(t,em):t)}function bs(t){if(t instanceof IDBRequest)return S6(t);if(Pf.has(t))return Pf.get(t);const e=P6(t);return e!==t&&(Pf.set(t,e),Bg.set(e,t)),e}const Nf=t=>Bg.get(t);function N6(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=bs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bs(o.result),l.oldVersion,l.newVersion,bs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const k6=["get","getKey","getAll","getAllKeys","count"],O6=["put","add","delete","clear"],kf=new Map;function Ax(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=O6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||k6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return kf.set(e,i),i}A6(t=>({...t,get:(e,n,r)=>Ax(e,n)||t.get(e,n,r),has:(e,n)=>!!Ax(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function j6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tm="@firebase/app",Rx="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new zg("@firebase/app"),M6="@firebase/app-compat",L6="@firebase/analytics-compat",V6="@firebase/analytics",F6="@firebase/app-check-compat",U6="@firebase/app-check",$6="@firebase/auth",z6="@firebase/auth-compat",B6="@firebase/database",H6="@firebase/data-connect",W6="@firebase/database-compat",q6="@firebase/functions",G6="@firebase/functions-compat",K6="@firebase/installations",Q6="@firebase/installations-compat",Y6="@firebase/messaging",X6="@firebase/messaging-compat",J6="@firebase/performance",Z6="@firebase/performance-compat",e5="@firebase/remote-config",t5="@firebase/remote-config-compat",n5="@firebase/storage",r5="@firebase/storage-compat",s5="@firebase/firestore",i5="@firebase/ai",o5="@firebase/firestore-compat",a5="firebase",l5="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",c5={[tm]:"fire-core",[M6]:"fire-core-compat",[V6]:"fire-analytics",[L6]:"fire-analytics-compat",[U6]:"fire-app-check",[F6]:"fire-app-check-compat",[$6]:"fire-auth",[z6]:"fire-auth-compat",[B6]:"fire-rtdb",[H6]:"fire-data-connect",[W6]:"fire-rtdb-compat",[q6]:"fire-fn",[G6]:"fire-fn-compat",[K6]:"fire-iid",[Q6]:"fire-iid-compat",[Y6]:"fire-fcm",[X6]:"fire-fcm-compat",[J6]:"fire-perf",[Z6]:"fire-perf-compat",[e5]:"fire-rc",[t5]:"fire-rc-compat",[n5]:"fire-gcs",[r5]:"fire-gcs-compat",[s5]:"fire-fst",[o5]:"fire-fst-compat",[i5]:"fire-vertex","fire-js":"fire-js",[a5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Map,u5=new Map,rm=new Map;function Px(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(rm.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,t);for(const n of dd.values())Px(n,t);for(const n of u5.values())Px(n,t);return!0}function Hg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new nc("app","Firebase",d5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=l5;function wT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nm,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ts.create("bad-app-name",{appName:String(s)});if(n||(n=pT()),!n)throw Ts.create("no-options");const i=dd.get(s);if(i){if(yi(n,i.options)&&yi(r,i.config))return i;throw Ts.create("duplicate-app",{appName:s})}const o=new v6(s);for(const l of rm.values())o.addComponent(l);const a=new h5(n,r,o);return dd.set(s,a),a}function _T(t=nm){const e=dd.get(t);if(!e&&t===nm&&pT())return wT();if(!e)throw Ts.create("no-app",{appName:t});return e}function Is(t,e,n){var r;let s=(r=c5[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}Fo(new vi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="firebase-heartbeat-database",p5=1,Pl="firebase-heartbeat-store";let Of=null;function ET(){return Of||(Of=N6(f5,p5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ts.create("idb-open",{originalErrorMessage:t.message})})),Of}async function m5(t){try{const n=(await ET()).transaction(Pl),r=await n.objectStore(Pl).get(bT(t));return await n.done,r}catch(e){if(e instanceof Mr)Pr.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function Nx(t,e){try{const r=(await ET()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,bT(t)),await r.done}catch(n){if(n instanceof Mr)Pr.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(r.message)}}}function bT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=1024,y5=30;class v5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new w5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>y5){const o=_5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kx(),{heartbeatsToSend:r,unsentEntries:s}=x5(this._heartbeatsCache.heartbeats),i=ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Pr.warn(n),""}}}function kx(){return new Date().toISOString().substring(0,10)}function x5(t,e=g5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ox(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ox(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class w5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o6()?a6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Nx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Nx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ox(t){return ud(JSON.stringify({version:2,heartbeats:t})).length}function _5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){Fo(new vi("platform-logger",e=>new D6(e),"PRIVATE")),Fo(new vi("heartbeat",e=>new v5(e),"PRIVATE")),Is(tm,Rx,t),Is(tm,Rx,"esm2017"),Is("fire-js","")}E5("");var Dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,TT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function C(){}C.prototype=E.prototype,A.D=E.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(R,k,O){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return E.prototype[k].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,E,C){C||(C=0);var R=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)R[k]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(k=0;16>k;++k)R[k]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=A.g[0],C=A.g[1],k=A.g[2];var O=A.g[3],P=E+(O^C&(k^O))+R[0]+3614090360&4294967295;E=C+(P<<7&4294967295|P>>>25),P=O+(k^E&(C^k))+R[1]+3905402710&4294967295,O=E+(P<<12&4294967295|P>>>20),P=k+(C^O&(E^C))+R[2]+606105819&4294967295,k=O+(P<<17&4294967295|P>>>15),P=C+(E^k&(O^E))+R[3]+3250441966&4294967295,C=k+(P<<22&4294967295|P>>>10),P=E+(O^C&(k^O))+R[4]+4118548399&4294967295,E=C+(P<<7&4294967295|P>>>25),P=O+(k^E&(C^k))+R[5]+1200080426&4294967295,O=E+(P<<12&4294967295|P>>>20),P=k+(C^O&(E^C))+R[6]+2821735955&4294967295,k=O+(P<<17&4294967295|P>>>15),P=C+(E^k&(O^E))+R[7]+4249261313&4294967295,C=k+(P<<22&4294967295|P>>>10),P=E+(O^C&(k^O))+R[8]+1770035416&4294967295,E=C+(P<<7&4294967295|P>>>25),P=O+(k^E&(C^k))+R[9]+2336552879&4294967295,O=E+(P<<12&4294967295|P>>>20),P=k+(C^O&(E^C))+R[10]+4294925233&4294967295,k=O+(P<<17&4294967295|P>>>15),P=C+(E^k&(O^E))+R[11]+2304563134&4294967295,C=k+(P<<22&4294967295|P>>>10),P=E+(O^C&(k^O))+R[12]+1804603682&4294967295,E=C+(P<<7&4294967295|P>>>25),P=O+(k^E&(C^k))+R[13]+4254626195&4294967295,O=E+(P<<12&4294967295|P>>>20),P=k+(C^O&(E^C))+R[14]+2792965006&4294967295,k=O+(P<<17&4294967295|P>>>15),P=C+(E^k&(O^E))+R[15]+1236535329&4294967295,C=k+(P<<22&4294967295|P>>>10),P=E+(k^O&(C^k))+R[1]+4129170786&4294967295,E=C+(P<<5&4294967295|P>>>27),P=O+(C^k&(E^C))+R[6]+3225465664&4294967295,O=E+(P<<9&4294967295|P>>>23),P=k+(E^C&(O^E))+R[11]+643717713&4294967295,k=O+(P<<14&4294967295|P>>>18),P=C+(O^E&(k^O))+R[0]+3921069994&4294967295,C=k+(P<<20&4294967295|P>>>12),P=E+(k^O&(C^k))+R[5]+3593408605&4294967295,E=C+(P<<5&4294967295|P>>>27),P=O+(C^k&(E^C))+R[10]+38016083&4294967295,O=E+(P<<9&4294967295|P>>>23),P=k+(E^C&(O^E))+R[15]+3634488961&4294967295,k=O+(P<<14&4294967295|P>>>18),P=C+(O^E&(k^O))+R[4]+3889429448&4294967295,C=k+(P<<20&4294967295|P>>>12),P=E+(k^O&(C^k))+R[9]+568446438&4294967295,E=C+(P<<5&4294967295|P>>>27),P=O+(C^k&(E^C))+R[14]+3275163606&4294967295,O=E+(P<<9&4294967295|P>>>23),P=k+(E^C&(O^E))+R[3]+4107603335&4294967295,k=O+(P<<14&4294967295|P>>>18),P=C+(O^E&(k^O))+R[8]+1163531501&4294967295,C=k+(P<<20&4294967295|P>>>12),P=E+(k^O&(C^k))+R[13]+2850285829&4294967295,E=C+(P<<5&4294967295|P>>>27),P=O+(C^k&(E^C))+R[2]+4243563512&4294967295,O=E+(P<<9&4294967295|P>>>23),P=k+(E^C&(O^E))+R[7]+1735328473&4294967295,k=O+(P<<14&4294967295|P>>>18),P=C+(O^E&(k^O))+R[12]+2368359562&4294967295,C=k+(P<<20&4294967295|P>>>12),P=E+(C^k^O)+R[5]+4294588738&4294967295,E=C+(P<<4&4294967295|P>>>28),P=O+(E^C^k)+R[8]+2272392833&4294967295,O=E+(P<<11&4294967295|P>>>21),P=k+(O^E^C)+R[11]+1839030562&4294967295,k=O+(P<<16&4294967295|P>>>16),P=C+(k^O^E)+R[14]+4259657740&4294967295,C=k+(P<<23&4294967295|P>>>9),P=E+(C^k^O)+R[1]+2763975236&4294967295,E=C+(P<<4&4294967295|P>>>28),P=O+(E^C^k)+R[4]+1272893353&4294967295,O=E+(P<<11&4294967295|P>>>21),P=k+(O^E^C)+R[7]+4139469664&4294967295,k=O+(P<<16&4294967295|P>>>16),P=C+(k^O^E)+R[10]+3200236656&4294967295,C=k+(P<<23&4294967295|P>>>9),P=E+(C^k^O)+R[13]+681279174&4294967295,E=C+(P<<4&4294967295|P>>>28),P=O+(E^C^k)+R[0]+3936430074&4294967295,O=E+(P<<11&4294967295|P>>>21),P=k+(O^E^C)+R[3]+3572445317&4294967295,k=O+(P<<16&4294967295|P>>>16),P=C+(k^O^E)+R[6]+76029189&4294967295,C=k+(P<<23&4294967295|P>>>9),P=E+(C^k^O)+R[9]+3654602809&4294967295,E=C+(P<<4&4294967295|P>>>28),P=O+(E^C^k)+R[12]+3873151461&4294967295,O=E+(P<<11&4294967295|P>>>21),P=k+(O^E^C)+R[15]+530742520&4294967295,k=O+(P<<16&4294967295|P>>>16),P=C+(k^O^E)+R[2]+3299628645&4294967295,C=k+(P<<23&4294967295|P>>>9),P=E+(k^(C|~O))+R[0]+4096336452&4294967295,E=C+(P<<6&4294967295|P>>>26),P=O+(C^(E|~k))+R[7]+1126891415&4294967295,O=E+(P<<10&4294967295|P>>>22),P=k+(E^(O|~C))+R[14]+2878612391&4294967295,k=O+(P<<15&4294967295|P>>>17),P=C+(O^(k|~E))+R[5]+4237533241&4294967295,C=k+(P<<21&4294967295|P>>>11),P=E+(k^(C|~O))+R[12]+1700485571&4294967295,E=C+(P<<6&4294967295|P>>>26),P=O+(C^(E|~k))+R[3]+2399980690&4294967295,O=E+(P<<10&4294967295|P>>>22),P=k+(E^(O|~C))+R[10]+4293915773&4294967295,k=O+(P<<15&4294967295|P>>>17),P=C+(O^(k|~E))+R[1]+2240044497&4294967295,C=k+(P<<21&4294967295|P>>>11),P=E+(k^(C|~O))+R[8]+1873313359&4294967295,E=C+(P<<6&4294967295|P>>>26),P=O+(C^(E|~k))+R[15]+4264355552&4294967295,O=E+(P<<10&4294967295|P>>>22),P=k+(E^(O|~C))+R[6]+2734768916&4294967295,k=O+(P<<15&4294967295|P>>>17),P=C+(O^(k|~E))+R[13]+1309151649&4294967295,C=k+(P<<21&4294967295|P>>>11),P=E+(k^(C|~O))+R[4]+4149444226&4294967295,E=C+(P<<6&4294967295|P>>>26),P=O+(C^(E|~k))+R[11]+3174756917&4294967295,O=E+(P<<10&4294967295|P>>>22),P=k+(E^(O|~C))+R[2]+718787259&4294967295,k=O+(P<<15&4294967295|P>>>17),P=C+(O^(k|~E))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var C=E-this.blockSize,R=this.B,k=this.h,O=0;O<E;){if(k==0)for(;O<=C;)s(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<E;)if(R[k++]=A.charCodeAt(O++),k==this.blockSize){s(this,R),k=0;break}}else for(;O<E;)if(R[k++]=A[O++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var C=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=C&255,C/=256;for(this.u(A),A=Array(16),E=C=0;4>E;++E)for(var R=0;32>R;R+=8)A[C++]=this.g[E]>>>R&255;return A};function i(A,E){var C=a;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=E(A)}function o(A,E){this.h=E;for(var C=[],R=!0,k=A.length-1;0<=k;k--){var O=A[k]|0;R&&O==E||(C[k]=O,R=!1)}this.g=C}var a={};function l(A){return-128<=A&&128>A?i(A,function(E){return new o([E|0],0>E?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return b(u(-A));for(var E=[],C=1,R=0;A>=C;R++)E[R]=A/C|0,C*=4294967296;return new o(E,0)}function d(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return b(d(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(E,8)),R=p,k=0;k<A.length;k+=8){var O=Math.min(8,A.length-k),P=parseInt(A.substring(k,k+O),E);8>O?(O=u(Math.pow(E,O)),R=R.j(O).add(u(P))):(R=R.j(C),R=R.add(u(P)))}return R}var p=l(0),h=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-b(this).m();for(var A=0,E=1,C=0;C<this.g.length;C++){var R=this.i(C);A+=(0<=R?R:4294967296+R)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(v(this))return"-"+b(this).toString(A);for(var E=u(Math.pow(A,6)),C=this,R="";;){var k=N(C,E).g;C=w(C,k.j(E));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=k,x(C))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=w(this,A),v(A)?-1:x(A)?0:1};function b(A){for(var E=A.g.length,C=[],R=0;R<E;R++)C[R]=~A.g[R];return new o(C,~A.h).add(h)}t.abs=function(){return v(this)?b(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),C=[],R=0,k=0;k<=E;k++){var O=R+(this.i(k)&65535)+(A.i(k)&65535),P=(O>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);R=P>>>16,O&=65535,P&=65535,C[k]=P<<16|O}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(A,E){return A.add(b(E))}t.j=function(A){if(x(this)||x(A))return p;if(v(this))return v(A)?b(this).j(b(A)):b(b(this).j(A));if(v(A))return b(this.j(b(A)));if(0>this.l(y)&&0>A.l(y))return u(this.m()*A.m());for(var E=this.g.length+A.g.length,C=[],R=0;R<2*E;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<A.g.length;k++){var O=this.i(R)>>>16,P=this.i(R)&65535,H=A.i(k)>>>16,re=A.i(k)&65535;C[2*R+2*k]+=P*re,_(C,2*R+2*k),C[2*R+2*k+1]+=O*re,_(C,2*R+2*k+1),C[2*R+2*k+1]+=P*H,_(C,2*R+2*k+1),C[2*R+2*k+2]+=O*H,_(C,2*R+2*k+2)}for(R=0;R<E;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=E;R<2*E;R++)C[R]=0;return new o(C,0)};function _(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function I(A,E){this.g=A,this.h=E}function N(A,E){if(x(E))throw Error("division by zero");if(x(A))return new I(p,p);if(v(A))return E=N(b(A),E),new I(b(E.g),b(E.h));if(v(E))return E=N(A,b(E)),new I(b(E.g),E.h);if(30<A.g.length){if(v(A)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var C=h,R=E;0>=R.l(A);)C=D(C),R=D(R);var k=M(C,1),O=M(R,1);for(R=M(R,2),C=M(C,2);!x(R);){var P=O.add(R);0>=P.l(A)&&(k=k.add(C),O=P),R=M(R,1),C=M(C,1)}return E=w(A,k.j(E)),new I(k,E)}for(k=p;0<=A.l(E);){for(C=Math.max(1,Math.floor(A.m()/E.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(C),P=O.j(E);v(P)||0<P.l(A);)C-=R,O=u(C),P=O.j(E);x(O)&&(O=h),k=k.add(O),A=w(A,P)}return new I(k,A)}t.A=function(A){return N(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),C=[],R=0;R<E;R++)C[R]=this.i(R)&A.i(R);return new o(C,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),C=[],R=0;R<E;R++)C[R]=this.i(R)|A.i(R);return new o(C,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),C=[],R=0;R<E;R++)C[R]=this.i(R)^A.i(R);return new o(C,this.h^A.h)};function D(A){for(var E=A.g.length+1,C=[],R=0;R<E;R++)C[R]=A.i(R)<<1|A.i(R-1)>>>31;return new o(C,A.h)}function M(A,E){var C=E>>5;E%=32;for(var R=A.g.length-C,k=[],O=0;O<R;O++)k[O]=0<E?A.i(O+C)>>>E|A.i(O+C+1)<<32-E:A.i(O+C);return new o(k,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ss=o}).apply(typeof Dx<"u"?Dx:typeof self<"u"?self:typeof window<"u"?window:{});var eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,Ua,ST,_u,sm,CT,AT,RT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,g){return c==Array.prototype||c==Object.prototype||(c[m]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eu=="object"&&eu];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var g=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in g))break e;g=g[j]}c=c[c.length-1],S=g[c],m=m(S),m!=S&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var g=0,S=!1,j={next:function(){if(!S&&g<c.length){var V=g++;return{value:m(V,c[V]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,g){return c.call.apply(c.bind,arguments)}function p(c,m,g){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function h(c,m,g){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,h.apply(null,arguments)}function y(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function x(c,m){function g(){}g.prototype=m.prototype,c.aa=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(S,j,V){for(var W=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)W[Se-2]=arguments[Se];return m.prototype[j].apply(S,W)}}function v(c){const m=c.length;if(0<m){const g=Array(m);for(let S=0;S<m;S++)g[S]=c[S];return g}return[]}function b(c,m){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const j=c.length||0,V=S.length||0;c.length=j+V;for(let W=0;W<V;W++)c[j+W]=S[W]}else c.push(S)}}class w{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var D=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function M(c,m,g){for(const S in c)m.call(g,c[S],S,c)}function A(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function E(c){const m={};for(const g in c)m[g]=c[g];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,m){let g,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(g in S)c[g]=S[g];for(let V=0;V<C.length;V++)g=C[V],Object.prototype.hasOwnProperty.call(S,g)&&(c[g]=S[g])}}function k(c){var m=1;c=c.split(":");const g=[];for(;0<m&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function O(c){a.setTimeout(()=>{throw c},0)}function P(){var c=B;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class H{constructor(){this.h=this.g=null}add(m,g){const S=re.get();S.set(m,g),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new w(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,L=!1,B=new H,X=()=>{const c=a.Promise.resolve(void 0);ie=()=>{c.then(K)}};var K=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(g){O(g)}var m=re;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}L=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return c}();function et(c,m){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(D){e:{try{N(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&et.aa.h.call(this)}}x(et,te);var ve={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Fn=0;function Un(c,m,g,S,j){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!S,this.ha=j,this.key=++Fn,this.da=this.fa=!1}function Qt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function lr(c){this.src=c,this.g={},this.h=0}lr.prototype.add=function(c,m,g,S,j){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var W=vn(c,m,S,j);return-1<W?(m=c[W],g||(m.fa=!1)):(m=new Un(m,this.src,V,!!S,j),m.fa=g,c.push(m)),m};function $n(c,m){var g=m.type;if(g in c.g){var S=c.g[g],j=Array.prototype.indexOf.call(S,m,void 0),V;(V=0<=j)&&Array.prototype.splice.call(S,j,1),V&&(Qt(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function vn(c,m,g,S){for(var j=0;j<c.length;++j){var V=c[j];if(!V.da&&V.listener==m&&V.capture==!!g&&V.ha==S)return j}return-1}var cr="closure_lm_"+(1e6*Math.random()|0),Lr={};function xn(c,m,g,S,j){if(Array.isArray(m)){for(var V=0;V<m.length;V++)xn(c,m[V],g,S,j);return null}return g=ha(g),c&&c[yt]?c.K(m,g,u(S)?!!S.capture:!!S,j):ca(c,m,g,!1,S,j)}function ca(c,m,g,S,j,V){if(!m)throw Error("Invalid event type");var W=u(j)?!!j.capture:!!j,Se=Vr(c);if(Se||(c[cr]=Se=new lr(c)),g=Se.add(m,g,S,W,V),g.proxy)return g;if(S=ua(),g.proxy=S,S.src=c,S.listener=g,c.addEventListener)Ae||(j=W),j===void 0&&(j=!1),c.addEventListener(m.toString(),S,j);else if(c.attachEvent)c.attachEvent(pc(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ua(){function c(g){return m.call(c.src,c.listener,g)}const m=Nh;return c}function Ke(c,m,g,S,j){if(Array.isArray(m))for(var V=0;V<m.length;V++)Ke(c,m[V],g,S,j);else S=u(S)?!!S.capture:!!S,g=ha(g),c&&c[yt]?(c=c.i,m=String(m).toString(),m in c.g&&(V=c.g[m],g=vn(V,g,S,j),-1<g&&(Qt(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete c.g[m],c.h--)))):c&&(c=Vr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=vn(m,g,S,j)),(g=-1<c?m[c]:null)&&zn(g))}function zn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[yt])$n(m.i,c);else{var g=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(g,S,c.capture):m.detachEvent?m.detachEvent(pc(g),S):m.addListener&&m.removeListener&&m.removeListener(S),(g=Vr(m))?($n(g,c),g.h==0&&(g.src=null,m[cr]=null)):Qt(c)}}}function pc(c){return c in Lr?Lr[c]:Lr[c]="on"+c}function Nh(c,m){if(c.da)c=!0;else{m=new et(m,this);var g=c.listener,S=c.ha||c.src;c.fa&&zn(c),c=g.call(S,m)}return c}function Vr(c){return c=c[cr],c instanceof lr?c:null}var da="__closure_events_fn_"+(1e9*Math.random()>>>0);function ha(c){return typeof c=="function"?c:(c[da]||(c[da]=function(m){return c.handleEvent(m)}),c[da])}function Qe(){Z.call(this),this.i=new lr(this),this.M=this,this.F=null}x(Qe,Z),Qe.prototype[yt]=!0,Qe.prototype.removeEventListener=function(c,m,g,S){Ke(this,c,m,g,S)};function ze(c,m){var g,S=c.F;if(S)for(g=[];S;S=S.F)g.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new te(m,c);else if(m instanceof te)m.target=m.target||c;else{var j=m;m=new te(S,c),R(m,j)}if(j=!0,g)for(var V=g.length-1;0<=V;V--){var W=m.g=g[V];j=Gs(W,S,!0,m)&&j}if(W=m.g=c,j=Gs(W,S,!0,m)&&j,j=Gs(W,S,!1,m)&&j,g)for(V=0;V<g.length;V++)W=m.g=g[V],j=Gs(W,S,!1,m)&&j}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var g=c.g[m],S=0;S<g.length;S++)Qt(g[S]);delete c.g[m],c.h--}}this.F=null},Qe.prototype.K=function(c,m,g,S){return this.i.add(String(c),m,!1,g,S)},Qe.prototype.L=function(c,m,g,S){return this.i.add(String(c),m,!0,g,S)};function Gs(c,m,g,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,V=0;V<m.length;++V){var W=m[V];if(W&&!W.da&&W.capture==g){var Se=W.listener,ut=W.ha||W.src;W.fa&&$n(c.i,W),j=Se.call(ut,S)!==!1&&j}}return j&&!S.defaultPrevented}function ur(c,m,g){if(typeof c=="function")g&&(c=h(c,g));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function fa(c){c.g=ur(()=>{c.g=null,c.i&&(c.i=!1,fa(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class kh extends Z{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(c){Z.call(this),this.h=c,this.g={}}x(Fr,Z);var pa=[];function mc(c){M(c.g,function(m,g){this.g.hasOwnProperty(g)&&zn(m)},c),c.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),mc(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=a.JSON.stringify,Bn=a.JSON.parse,Oh=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function oe(){}oe.prototype.h=null;function Te(c){return c.h||(c.h=c.i())}function Ee(){}var vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ft(){te.call(this,"d")}x(Ft,te);function Ur(){te.call(this,"c")}x(Ur,te);var dr={},B0=null;function gc(){return B0=B0||new Qe}dr.La="serverreachability";function H0(c){te.call(this,dr.La,c)}x(H0,te);function ma(c){const m=gc();ze(m,new H0(m))}dr.STAT_EVENT="statevent";function W0(c,m){te.call(this,dr.STAT_EVENT,c),this.stat=m}x(W0,te);function Nt(c){const m=gc();ze(m,new W0(m,c))}dr.Ma="timingevent";function q0(c,m){te.call(this,dr.Ma,c),this.size=m}x(q0,te);function ga(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function ya(){this.g=!0}ya.prototype.xa=function(){this.g=!1};function DS(c,m,g,S,j,V){c.info(function(){if(c.g)if(V)for(var W="",Se=V.split("&"),ut=0;ut<Se.length;ut++){var ye=Se[ut].split("=");if(1<ye.length){var xt=ye[0];ye=ye[1];var wt=xt.split("_");W=2<=wt.length&&wt[1]=="type"?W+(xt+"="+ye+"&"):W+(xt+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+m+`
`+g+`
`+W})}function jS(c,m,g,S,j,V,W){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+m+`
`+g+`
`+V+" "+W})}function Li(c,m,g,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+LS(c,g)+(S?" "+S:"")})}function MS(c,m){c.info(function(){return"TIMEOUT: "+m})}ya.prototype.info=function(){};function LS(c,m){if(!c.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var S=g[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var V=j[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<j.length;W++)j[W]=""}}}}return Ks(g)}catch{return m}}var yc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},G0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dh;function vc(){}x(vc,oe),vc.prototype.g=function(){return new XMLHttpRequest},vc.prototype.i=function(){return{}},Dh=new vc;function $r(c,m,g,S){this.j=c,this.i=m,this.l=g,this.R=S||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new K0}function K0(){this.i=null,this.g="",this.h=!1}var Q0={},jh={};function Mh(c,m,g){c.L=1,c.v=Ec(hr(m)),c.m=g,c.P=!0,Y0(c,null)}function Y0(c,m){c.F=Date.now(),xc(c),c.A=hr(c.v);var g=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),uy(g.i,"t",S),c.C=0,g=c.j.J,c.h=new K0,c.g=Ay(c.j,g?m:null,!c.m),0<c.O&&(c.M=new kh(h(c.Y,c,c.g),c.O)),m=c.U,g=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(pa[0]=j.toString()),j=pa);for(var V=0;V<j.length;V++){var W=xn(g,j[V],S||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),ma(),DS(c.i,c.u,c.A,c.l,c.R,c.m)}$r.prototype.ca=function(c){c=c.target;const m=this.M;m&&fr(c)==3?m.j():this.Y(c)},$r.prototype.Y=function(c){try{if(c==this.g)e:{const wt=fr(this.g);var m=this.g.Ba();const Ui=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||yy(this.g)))){this.J||wt!=4||m==7||(m==8||0>=Ui?ma(3):ma(2)),Lh(this);var g=this.g.Z();this.X=g;t:if(X0(this)){var S=yy(this.g);c="";var j=S.length,V=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qs(this),va(this);var W="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!(V&&m==j-1)});S.length=0,this.h.g+=c,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,jS(this.i,this.u,this.A,this.l,this.R,wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,ut=this.g;if((Se=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Se)){var ye=Se;break t}}ye=null}if(g=ye)Li(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vh(this,g);else{this.o=!1,this.s=3,Nt(12),Qs(this),va(this);break e}}if(this.P){g=!0;let wn;for(;!this.J&&this.C<W.length;)if(wn=VS(this,W),wn==jh){wt==4&&(this.s=4,Nt(14),g=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Q0){this.s=4,Nt(15),Li(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Li(this.i,this.l,wn,null),Vh(this,wn);if(X0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||W.length!=0||this.h.h||(this.s=1,Nt(16),g=!1),this.o=this.o&&g,!g)Li(this.i,this.l,W,"[Invalid Chunked Response]"),Qs(this),va(this);else if(0<W.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Hh(xt),xt.M=!0,Nt(11))}}else Li(this.i,this.l,W,null),Vh(this,W);wt==4&&Qs(this),this.o&&!this.J&&(wt==4?Ty(this.j,this):(this.o=!1,xc(this)))}else tC(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Qs(this),va(this)}}}catch{}finally{}};function X0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function VS(c,m){var g=c.C,S=m.indexOf(`
`,g);return S==-1?jh:(g=Number(m.substring(g,S)),isNaN(g)?Q0:(S+=1,S+g>m.length?jh:(m=m.slice(S,S+g),c.C=S+g,m)))}$r.prototype.cancel=function(){this.J=!0,Qs(this)};function xc(c){c.S=Date.now()+c.I,J0(c,c.I)}function J0(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ga(h(c.ba,c),m)}function Lh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}$r.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(MS(this.i,this.A),this.L!=2&&(ma(),Nt(17)),Qs(this),this.s=2,va(this)):J0(this,this.S-c)};function va(c){c.j.G==0||c.J||Ty(c.j,c)}function Qs(c){Lh(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,mc(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Vh(c,m){try{var g=c.j;if(g.G!=0&&(g.g==c||Fh(g.h,c))){if(!c.K&&Fh(g.h,c)&&g.G==3){try{var S=g.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Ac(g),Sc(g);else break e;Bh(g),Nt(18)}}else g.za=j[1],0<g.za-g.T&&37500>j[2]&&g.F&&g.v==0&&!g.C&&(g.C=ga(h(g.Za,g),6e3));if(1>=ty(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Xs(g,11)}else if((c.K||g.g==c)&&Ac(g),!_(m))for(j=g.Da.g.parse(m),m=0;m<j.length;m++){let ye=j[m];if(g.T=ye[0],ye=ye[1],g.G==2)if(ye[0]=="c"){g.K=ye[1],g.ia=ye[2];const xt=ye[3];xt!=null&&(g.la=xt,g.j.info("VER="+g.la));const wt=ye[4];wt!=null&&(g.Aa=wt,g.j.info("SVER="+g.Aa));const Ui=ye[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(S=1.5*Ui,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const wn=c.g;if(wn){const Pc=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pc){var V=S.h;V.g||Pc.indexOf("spdy")==-1&&Pc.indexOf("quic")==-1&&Pc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Uh(V,V.h),V.h=null))}if(S.D){const Wh=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wh&&(S.ya=Wh,Re(S.I,S.D,Wh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var W=c;if(S.qa=Cy(S,S.J?S.ia:null,S.W),W.K){ny(S.h,W);var Se=W,ut=S.L;ut&&(Se.I=ut),Se.B&&(Lh(Se),xc(Se)),S.g=W}else Ey(S);0<g.i.length&&Cc(g)}else ye[0]!="stop"&&ye[0]!="close"||Xs(g,7);else g.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Xs(g,7):zh(g):ye[0]!="noop"&&g.l&&g.l.ta(ye),g.v=0)}}ma(4)}catch{}}var FS=class{constructor(c,m){this.g=c,this.map=m}};function Z0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ey(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ty(c){return c.h?1:c.g?c.g.size:0}function Fh(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Uh(c,m){c.g?c.g.add(m):c.h=m}function ny(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Z0.prototype.cancel=function(){if(this.i=ry(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ry(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.D);return m}return v(c.i)}function US(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],g=c.length,S=0;S<g;S++)m.push(c[S]);return m}m=[],g=0;for(S in c)m[g++]=c[S];return m}function $S(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var g=0;g<c;g++)m.push(g);return m}m=[],g=0;for(const S in c)m[g++]=S;return m}}}function sy(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var g=$S(c),S=US(c),j=S.length,V=0;V<j;V++)m.call(void 0,S[V],g&&g[V],c)}var iy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zS(c,m){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var S=c[g].indexOf("="),j=null;if(0<=S){var V=c[g].substring(0,S);j=c[g].substring(S+1)}else V=c[g];m(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ys(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ys){this.h=c.h,wc(this,c.j),this.o=c.o,this.g=c.g,_c(this,c.s),this.l=c.l;var m=c.i,g=new _a;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),oy(this,g),this.m=c.m}else c&&(m=String(c).match(iy))?(this.h=!1,wc(this,m[1]||"",!0),this.o=xa(m[2]||""),this.g=xa(m[3]||"",!0),_c(this,m[4]),this.l=xa(m[5]||"",!0),oy(this,m[6]||"",!0),this.m=xa(m[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}Ys.prototype.toString=function(){var c=[],m=this.j;m&&c.push(wa(m,ay,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(wa(m,ay,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(wa(g,g.charAt(0)=="/"?WS:HS,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",wa(g,GS)),c.join("")};function hr(c){return new Ys(c)}function wc(c,m,g){c.j=g?xa(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function _c(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function oy(c,m,g){m instanceof _a?(c.i=m,KS(c.i,c.h)):(g||(m=wa(m,qS)),c.i=new _a(m,c.h))}function Re(c,m,g){c.i.set(m,g)}function Ec(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xa(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wa(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,BS),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function BS(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ay=/[#\/\?@]/g,HS=/[#\?:]/g,WS=/[#\?]/g,qS=/[#\?@]/g,GS=/#/g;function _a(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function zr(c){c.g||(c.g=new Map,c.h=0,c.i&&zS(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=_a.prototype,t.add=function(c,m){zr(this),this.i=null,c=Vi(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function ly(c,m){zr(c),m=Vi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function cy(c,m){return zr(c),m=Vi(c,m),c.g.has(m)}t.forEach=function(c,m){zr(this),this.g.forEach(function(g,S){g.forEach(function(j){c.call(m,j,S,this)},this)},this)},t.na=function(){zr(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let S=0;S<m.length;S++){const j=c[S];for(let V=0;V<j.length;V++)g.push(m[S])}return g},t.V=function(c){zr(this);let m=[];if(typeof c=="string")cy(this,c)&&(m=m.concat(this.g.get(Vi(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)m=m.concat(c[g])}return m},t.set=function(c,m){return zr(this),this.i=null,c=Vi(this,c),cy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function uy(c,m,g){ly(c,m),0<g.length&&(c.i=null,c.g.set(Vi(c,m),v(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var S=m[g];const V=encodeURIComponent(String(S)),W=this.V(S);for(S=0;S<W.length;S++){var j=V;W[S]!==""&&(j+="="+encodeURIComponent(String(W[S]))),c.push(j)}}return this.i=c.join("&")};function Vi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function KS(c,m){m&&!c.j&&(zr(c),c.i=null,c.g.forEach(function(g,S){var j=S.toLowerCase();S!=j&&(ly(this,S),uy(this,j,g))},c)),c.j=m}function QS(c,m){const g=new ya;if(a.Image){const S=new Image;S.onload=y(Br,g,"TestLoadImage: loaded",!0,m,S),S.onerror=y(Br,g,"TestLoadImage: error",!1,m,S),S.onabort=y(Br,g,"TestLoadImage: abort",!1,m,S),S.ontimeout=y(Br,g,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function YS(c,m){const g=new ya,S=new AbortController,j=setTimeout(()=>{S.abort(),Br(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(V=>{clearTimeout(j),V.ok?Br(g,"TestPingServer: ok",!0,m):Br(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Br(g,"TestPingServer: error",!1,m)})}function Br(c,m,g,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(g)}catch{}}function XS(){this.g=new Oh}function JS(c,m,g){const S=g||"";try{sy(c,function(j,V){let W=j;u(j)&&(W=Ks(j)),m.push(S+V+"="+encodeURIComponent(W))})}catch(j){throw m.push(S+"type="+encodeURIComponent("_badmap")),j}}function bc(c){this.l=c.Ub||null,this.j=c.eb||!1}x(bc,oe),bc.prototype.g=function(){return new Tc(this.l,this.j)},bc.prototype.i=function(c){return function(){return c}}({});function Tc(c,m){Qe.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Tc,Qe),t=Tc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ba(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dy(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function dy(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ea(this):ba(this),this.readyState==3&&dy(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ea(this))},t.Qa=function(c){this.g&&(this.response=c,Ea(this))},t.ga=function(){this.g&&Ea(this)};function Ea(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ba(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function ba(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hy(c){let m="";return M(c,function(g,S){m+=S,m+=":",m+=g,m+=`\r
`}),m}function $h(c,m,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=hy(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Re(c,m,g))}function Be(c){Qe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Be,Qe);var ZS=/^https?$/i,eC=["POST","PUT"];t=Be.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dh.g(),this.v=this.o?Te(this.o):Te(Dh),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(V){fy(this,V);return}if(c=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)g.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const V of S.keys())g.set(V,S.get(V));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eC,m,void 0))||S||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,W]of g)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gy(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){fy(this,V)}};function fy(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,py(c),Ic(c)}function py(c){c.A||(c.A=!0,ze(c,"complete"),ze(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ze(this,"complete"),ze(this,"abort"),Ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ic(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?my(this):this.bb())},t.bb=function(){my(this)};function my(c){if(c.h&&typeof o<"u"&&(!c.v[1]||fr(c)!=4||c.Z()!=2)){if(c.u&&fr(c)==4)ur(c.Ea,0,c);else if(ze(c,"readystatechange"),fr(c)==4){c.h=!1;try{const W=c.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var S;if(S=W===0){var j=String(c.D).match(iy)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),S=!ZS.test(j?j.toLowerCase():"")}g=S}if(g)ze(c,"complete"),ze(c,"success");else{c.m=6;try{var V=2<fr(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",py(c)}}finally{Ic(c)}}}}function Ic(c,m){if(c.g){gy(c);const g=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||ze(c,"ready");try{g.onreadystatechange=S}catch{}}}function gy(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function fr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Bn(m)}};function yy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tC(c){const m={};c=(c.g&&2<=fr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(_(c[S]))continue;var g=k(c[S]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=m[j]||[];m[j]=V,V.push(g)}A(m,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function vy(c){this.Aa=0,this.i=[],this.j=new ya,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,c),this.cb=Ta("retryDelaySeedMs",1e4,c),this.Wa=Ta("forwardChannelMaxRetries",2,c),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Z0(c&&c.concurrentRequestLimit),this.Da=new XS,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vy.prototype,t.la=8,t.G=1,t.connect=function(c,m,g,S){Nt(0),this.W=c,this.H=m||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=Cy(this,null,this.W),Cc(this)};function zh(c){if(xy(c),c.G==3){var m=c.U++,g=hr(c.I);if(Re(g,"SID",c.K),Re(g,"RID",m),Re(g,"TYPE","terminate"),Ia(c,g),m=new $r(c,c.j,m),m.L=2,m.v=Ec(hr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=Ay(m.j,null),m.g.ea(m.v)),m.F=Date.now(),xc(m)}Sy(c)}function Sc(c){c.g&&(Hh(c),c.g.cancel(),c.g=null)}function xy(c){Sc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ac(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Cc(c){if(!ey(c.h)&&!c.s){c.s=!0;var m=c.Ga;ie||X(),L||(ie(),L=!0),B.add(m,c),c.B=0}}function nC(c,m){return ty(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ga(h(c.Ga,c,m),Iy(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new $r(this,this.j,c);let V=this.o;if(this.S&&(V?(V=E(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(j.H=V,V=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=_y(this,j,m),g=hr(this.I),Re(g,"RID",c),Re(g,"CVER",22),this.D&&Re(g,"X-HTTP-Session-Id",this.D),Ia(this,g),V&&(this.O?m="headers="+encodeURIComponent(String(hy(V)))+"&"+m:this.m&&$h(g,this.m,V)),Uh(this.h,j),this.Ua&&Re(g,"TYPE","init"),this.P?(Re(g,"$req",m),Re(g,"SID","null"),j.T=!0,Mh(j,g,null)):Mh(j,g,m),this.G=2}}else this.G==3&&(c?wy(this,c):this.i.length==0||ey(this.h)||wy(this))};function wy(c,m){var g;m?g=m.l:g=c.U++;const S=hr(c.I);Re(S,"SID",c.K),Re(S,"RID",g),Re(S,"AID",c.T),Ia(c,S),c.m&&c.o&&$h(S,c.m,c.o),g=new $r(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),m&&(c.i=m.D.concat(c.i)),m=_y(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Uh(c.h,g),Mh(g,S,m)}function Ia(c,m){c.H&&M(c.H,function(g,S){Re(m,S,g)}),c.l&&sy({},function(g,S){Re(m,S,g)})}function _y(c,m,g){g=Math.min(c.i.length,g);var S=c.l?h(c.l.Na,c.l,c):null;e:{var j=c.i;let V=-1;for(;;){const W=["count="+g];V==-1?0<g?(V=j[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let Se=!0;for(let ut=0;ut<g;ut++){let ye=j[ut].g;const xt=j[ut].map;if(ye-=V,0>ye)V=Math.max(0,j[ut].g-100),Se=!1;else try{JS(xt,W,"req"+ye+"_")}catch{S&&S(xt)}}if(Se){S=W.join("&");break e}}}return c=c.i.splice(0,g),m.D=c,S}function Ey(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;ie||X(),L||(ie(),L=!0),B.add(m,c),c.v=0}}function Bh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ga(h(c.Fa,c),Iy(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,by(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ga(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),Sc(this),by(this))};function Hh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function by(c){c.g=new $r(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=hr(c.qa);Re(m,"RID","rpc"),Re(m,"SID",c.K),Re(m,"AID",c.T),Re(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(m,"TO",c.ja),Re(m,"TYPE","xmlhttp"),Ia(c,m),c.m&&c.o&&$h(m,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Ec(hr(m)),g.m=null,g.P=!0,Y0(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Sc(this),Bh(this),Nt(19))};function Ac(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ty(c,m){var g=null;if(c.g==m){Ac(c),Hh(c),c.g=null;var S=2}else if(Fh(c.h,m))g=m.D,ny(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;S=gc(),ze(S,new q0(S,g)),Cc(c)}else Ey(c);else if(j=m.s,j==3||j==0&&0<m.X||!(S==1&&nC(c,m)||S==2&&Bh(c)))switch(g&&0<g.length&&(m=c.h,m.i=m.i.concat(g)),j){case 1:Xs(c,5);break;case 4:Xs(c,10);break;case 3:Xs(c,6);break;default:Xs(c,2)}}}function Iy(c,m){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*m}function Xs(c,m){if(c.j.info("Error code "+m),m==2){var g=h(c.fb,c),S=c.Xa;const j=!S;S=new Ys(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wc(S,"https"),Ec(S),j?QS(S.toString(),g):YS(S.toString(),g)}else Nt(2);c.G=0,c.l&&c.l.sa(m),Sy(c),xy(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Sy(c){if(c.G=0,c.ka=[],c.l){const m=ry(c.h);(m.length!=0||c.i.length!=0)&&(b(c.ka,m),b(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function Cy(c,m,g){var S=g instanceof Ys?hr(g):new Ys(g);if(S.g!="")m&&(S.g=m+"."+S.g),_c(S,S.s);else{var j=a.location;S=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var V=new Ys(null);S&&wc(V,S),m&&(V.g=m),j&&_c(V,j),g&&(V.l=g),S=V}return g=c.D,m=c.ya,g&&m&&Re(S,g,m),Re(S,"VER",c.la),Ia(c,S),S}function Ay(c,m,g){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Be(new bc({eb:g})):new Be(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ry(){}t=Ry.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rc(){}Rc.prototype.g=function(c,m){return new Yt(c,m)};function Yt(c,m){Qe.call(this),this.g=new vy(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Fi(this)}x(Yt,Qe),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){zh(this.g)},Yt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Ks(c),c=g);m.i.push(new FS(m.Ya++,c)),m.G==3&&Cc(m)},Yt.prototype.N=function(){this.g.l=null,delete this.j,zh(this.g),delete this.g,Yt.aa.N.call(this)};function Py(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}x(Py,Ft);function Ny(){Ur.call(this),this.status=1}x(Ny,Ur);function Fi(c){this.g=c}x(Fi,Ry),Fi.prototype.ua=function(){ze(this.g,"a")},Fi.prototype.ta=function(c){ze(this.g,new Py(c))},Fi.prototype.sa=function(c){ze(this.g,new Ny)},Fi.prototype.ra=function(){ze(this.g,"b")},Rc.prototype.createWebChannel=Rc.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,RT=function(){return new Rc},AT=function(){return gc()},CT=dr,sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,_u=yc,G0.COMPLETE="complete",ST=G0,Ee.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Ua=Ee,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,IT=Be}).apply(typeof eu<"u"?eu:typeof self<"u"?self:typeof window<"u"?window:{});const jx="@firebase/firestore",Mx="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new zg("@firebase/firestore");function Bi(){return xi.logLevel}function G(t,...e){if(xi.logLevel<=fe.DEBUG){const n=e.map(Wg);xi.debug(`Firestore (${sa}): ${t}`,...n)}}function Nr(t,...e){if(xi.logLevel<=fe.ERROR){const n=e.map(Wg);xi.error(`Firestore (${sa}): ${t}`,...n)}}function Uo(t,...e){if(xi.logLevel<=fe.WARN){const n=e.map(Wg);xi.warn(`Firestore (${sa}): ${t}`,...n)}}function Wg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PT(t,r,n)}function PT(t,e,n){let r=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Nr(r),new Error(r)}function _e(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||PT(e,s,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class T5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I5{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new br;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new br,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new br)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new NT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class S5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new S5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=R5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function im(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return de(r,s);{const i=kT(),o=P5(i.encode(Vx(t,n)),i.encode(Vx(e,n)));return o!==0?o:de(r,s)}}n+=r>65535?2:1}return de(t.length,e.length)}function Vx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function P5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return de(t[n],e[n]);return de(t.length,e.length)}function $o(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=-62135596800,Ux=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ux);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Fx)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ux}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Fx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new st(0,0))}static max(){return new ae(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="__name__";class Gn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Gn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return de(e.length,n.length)}static compareSegments(e,n){const r=Gn.isNumericId(e),s=Gn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Gn.extractNumericId(e).compare(Gn.extractNumericId(n)):im(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class Oe extends Gn{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const N5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Gn{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return N5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$x}static keyField(){return new ft([$x])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Oe.fromString(e))}static fromName(e){return new ee(Oe.fromString(e).popFirst(5))}static empty(){return new ee(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function k5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ae.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Ms(s,ee.empty(),e)}function O5(t){return new Ms(t.readTime,t.key,Nl)}class Ms{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ms(ae.min(),ee.empty(),Nl)}static max(){return new Ms(ae.max(),ee.empty(),Nl)}}function D5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==j5)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function L5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}uh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=-1;function dh(t){return t==null}function hd(t){return t===0&&1/t==-1/0}function V5(t){return typeof t=="number"&&Number.isInteger(t)&&!hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="";function F5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zx(e)),e=U5(t.get(n),e);return zx(e)}function U5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case DT:n+="";break;default:n+=i}}return n}function zx(t){return t+DT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tu(this.root,e,this.comparator,!0)}}class tu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ht.RED,this.left=s??ht.EMPTY,this.right=i??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hx(this.data.getIterator())}getIteratorFrom(e){return new Hx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class Hx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new An([])}unionWith(e){let n=new it(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MT("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const $5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=$5.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="server_timestamp",VT="__type__",FT="__previous_value__",UT="__local_write_time__";function Gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[VT])===null||n===void 0?void 0:n.stringValue)===LT}function hh(t){const e=t.mapValue.fields[FT];return Gg(e)?hh(e):e}function kl(t){const e=Ls(t.mapValue.fields[UT].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const fd="(default)";class Ol{constructor(e,n){this.projectId=e,this.database=n||fd}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===fd}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="__type__",zT="__max__",nu={mapValue:{fields:{__type__:{stringValue:zT}}}},BT="__vector__",pd="value";function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gg(t)?4:H5(t)?9007199254740991:B5(t)?10:11:ne(28295,{value:t})}function or(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kl(t).isEqual(kl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ls(s.timestampValue),a=Ls(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Vs(s.bytesValue).isEqual(Vs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return qe(s.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(s.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qe(s.integerValue)===qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=qe(s.doubleValue),a=qe(i.doubleValue);return o===a?hd(o)===hd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Bx(o)!==Bx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!or(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Dl(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function zo(t,e){if(t===e)return 0;const n=Fs(t),r=Fs(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=qe(i.integerValue||i.doubleValue),l=qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Wx(t.timestampValue,e.timestampValue);case 4:return Wx(kl(t),kl(e));case 5:return im(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Vs(i),l=Vs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=de(a[u],l[u]);if(d!==0)return d}return de(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=de(qe(i.latitude),qe(o.latitude));return a!==0?a:de(qe(i.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const p=i.fields||{},h=o.fields||{},y=(a=p[pd])===null||a===void 0?void 0:a.arrayValue,x=(l=h[pd])===null||l===void 0?void 0:l.arrayValue,v=de(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:qx(y,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===nu.mapValue&&o===nu.mapValue)return 0;if(i===nu.mapValue)return 1;if(o===nu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const h=im(l[p],d[p]);if(h!==0)return h;const y=zo(a[l[p]],u[d[p]]);if(y!==0)return y}return de(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{Pe:n})}}function Wx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Ls(t),r=Ls(e),s=de(n.seconds,r.seconds);return s!==0?s:de(n.nanos,r.nanos)}function qx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=zo(n[s],r[s]);if(i)return i}return de(n.length,r.length)}function Bo(t){return om(t)}function om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ls(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=om(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${om(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function Eu(t){switch(Fs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(t);return e?16+Eu(e):16;case 5:return 2*t.stringValue.length;case 6:return Vs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Eu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ni(r.fields,(i,o)=>{s+=i.length+Eu(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function Gx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function am(t){return!!t&&"integerValue"in t}function Kg(t){return!!t&&"arrayValue"in t}function Kx(t){return!!t&&"nullValue"in t}function Qx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bu(t){return!!t&&"mapValue"in t}function B5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$T])===null||n===void 0?void 0:n.stringValue)===BT}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function H5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=tl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());bu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];bu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new fn(tl(this.value))}}function HT(t){const e=[];return Ni(t.fields,(n,r)=>{const s=new ft([n]);if(bu(r)){const i=HT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,ae.min(),ae.min(),ae.min(),fn.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,ae.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,ae.min(),ae.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ae.min(),ae.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.position=e,this.inclusive=n}}function Yx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=zo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n="asc"){this.field=e,this.dir=n}}function W5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{}class Je extends WT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new G5(e,n,r):n==="array-contains"?new Y5(e,r):n==="in"?new X5(e,r):n==="not-in"?new J5(e,r):n==="array-contains-any"?new Z5(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K5(e,r):new Q5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends WT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Vn(e,n)}matches(e){return qT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qT(t){return t.op==="and"}function GT(t){return q5(t)&&qT(t)}function q5(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function lm(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(GT(t))return t.filters.map(e=>lm(e)).join(",");{const e=t.filters.map(n=>lm(n)).join(",");return`${t.op}(${e})`}}function KT(t,e){return t instanceof Je?function(r,s){return s instanceof Je&&r.op===s.op&&r.field.isEqual(s.field)&&or(r.value,s.value)}(t,e):t instanceof Vn?function(r,s){return s instanceof Vn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&KT(o,s.filters[a]),!0):!1}(t,e):void ne(19439)}function QT(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"}(t):"Filter"}class G5 extends Je{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class K5 extends Je{constructor(e,n){super(e,"in",n),this.keys=YT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Q5 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=YT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class Y5 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kg(n)&&Dl(n.arrayValue,this.value)}}class X5 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class J5 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dl(this.value.arrayValue,n)}}class Z5 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function Jx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new e9(t,e,n,r,s,i,o)}function Qg(t){const e=le(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),e.Ie=n}return e.Ie}function Yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!W5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xx(t.startAt,e.startAt)&&Xx(t.endAt,e.endAt)}function cm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function t9(t,e,n,r,s,i,o,a){return new sc(t,e,n,r,s,i,o,a)}function fh(t){return new sc(t)}function Zx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XT(t){return t.collectionGroup!==null}function nl(t){const e=le(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new gd(i,r))}),n.has(ft.keyField().canonicalString())||e.Ee.push(new gd(ft.keyField(),r))}return e.Ee}function er(t){const e=le(t);return e.de||(e.de=n9(e,nl(t))),e.de}function n9(t,e){if(t.limitType==="F")return Jx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new gd(s.field,i)});const n=t.endAt?new md(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new md(t.startAt.position,t.startAt.inclusive):null;return Jx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function um(t,e){const n=t.filters.concat([e]);return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dm(t,e,n){return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return Yg(er(t),er(e))&&t.limitType===e.limitType}function JT(t){return`${Qg(er(t))}|lt:${t.limitType}`}function Hi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>QT(s)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Bo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Bo(s)).join(",")),`Target(${r})`}(er(t))}; limitType=${t.limitType})`}function mh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of nl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Yx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,nl(r),s)||r.endAt&&!function(o,a,l){const u=Yx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,nl(r),s))}(t,e)}function r9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZT(t){return(e,n)=>{let r=!1;for(const s of nl(t)){const i=s9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function s9(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?zo(l,u):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return jT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=new Ue(ee.comparator);function kr(){return i9}const e2=new Ue(ee.comparator);function $a(...t){let e=e2;for(const n of t)e=e.insert(n.key,n);return e}function t2(t){let e=e2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function si(){return rl()}function n2(){return rl()}function rl(){return new ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const o9=new Ue(ee.comparator),a9=new it(ee.comparator);function pe(...t){let e=a9;for(const n of t)e=e.add(n);return e}const l9=new it(de);function c9(){return l9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function r2(t){return{integerValue:""+t}}function u9(t,e){return V5(e)?r2(e):Xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function d9(t,e,n){return t instanceof yd?function(s,i){const o={fields:{[VT]:{stringValue:LT},[UT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Gg(i)&&(i=hh(i)),i&&(o.fields[FT]=i),{mapValue:o}}(n,e):t instanceof jl?i2(t,e):t instanceof Ml?o2(t,e):function(s,i){const o=s2(s,i),a=e1(o)+e1(s.Re);return am(o)&&am(s.Re)?r2(a):Xg(s.serializer,a)}(t,e)}function h9(t,e,n){return t instanceof jl?i2(t,e):t instanceof Ml?o2(t,e):n}function s2(t,e){return t instanceof vd?function(r){return am(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class yd extends gh{}class jl extends gh{constructor(e){super(),this.elements=e}}function i2(t,e){const n=a2(e);for(const r of t.elements)n.some(s=>or(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ml extends gh{constructor(e){super(),this.elements=e}}function o2(t,e){let n=a2(e);for(const r of t.elements)n=n.filter(s=>!or(s,r));return{arrayValue:{values:n}}}class vd extends gh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function e1(t){return qe(t.integerValue||t.doubleValue)}function a2(t){return Kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function f9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof jl&&s instanceof jl||r instanceof Ml&&s instanceof Ml?$o(r.elements,s.elements,or):r instanceof vd&&s instanceof vd?or(r.Re,s.Re):r instanceof yd&&s instanceof yd}(t.transform,e.transform)}class p9{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yh{}function l2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jg(t.key,tr.none()):new ic(t.key,t.data,tr.none());{const n=t.data,r=fn.empty();let s=new it(ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Oi(t.key,r,new An(s.toArray()),tr.none())}}function m9(t,e,n){t instanceof ic?function(s,i,o){const a=s.value.clone(),l=n1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oi?function(s,i,o){if(!Tu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=n1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(c2(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sl(t,e,n,r){return t instanceof ic?function(i,o,a,l){if(!Tu(i.precondition,o))return a;const u=i.value.clone(),d=r1(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oi?function(i,o,a,l){if(!Tu(i.precondition,o))return a;const u=r1(i.fieldTransforms,l,o),d=o.data;return d.setAll(c2(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Tu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function g9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=s2(r.transform,s||null);i!=null&&(n===null&&(n=fn.empty()),n.set(r.field,i))}return n||null}function t1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$o(r,s,(i,o)=>f9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ic extends yh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oi extends yh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function c2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n1(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,h9(o,a,n[s]))}return r}function r1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,d9(i,o,e))}return r}class Jg extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y9 extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&m9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n2();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=l2(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(n,r)=>t1(n,r))&&$o(this.baseMutations,e.baseMutations,(n,r)=>t1(n,r))}}class Zg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_e(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return o9}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Zg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,me;function _9(t){switch(t){case $.OK:return ne(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function u2(t){if(t===void 0)return Nr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ye.OK:return $.OK;case Ye.CANCELLED:return $.CANCELLED;case Ye.UNKNOWN:return $.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return $.INTERNAL;case Ye.UNAVAILABLE:return $.UNAVAILABLE;case Ye.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ye.NOT_FOUND:return $.NOT_FOUND;case Ye.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ye.ABORTED:return $.ABORTED;case Ye.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ye.DATA_LOSS:return $.DATA_LOSS;default:return ne(39323,{code:t})}}(me=Ye||(Ye={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=new Ss([4294967295,4294967295],0);function s1(t){const e=kT().encode(t),n=new TT;return n.update(e),new Uint8Array(n.digest())}function i1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ss([n,r],0),new Ss([s,i],0)]}class e0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new za(`Invalid padding: ${n}`);if(r<0)throw new za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new za(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ss.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Ss.fromNumber(r)));return s.compare(E9)===1&&(s=new Ss([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=s1(e),[r,s]=i1(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new e0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=s1(e),[r,s]=i1(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vh(ae.min(),s,new Ue(de),kr(),pe())}}class oc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new oc(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class d2{constructor(e,n){this.targetId=e,this.Ce=n}}class h2{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class o1{constructor(){this.Fe=0,this.Me=a1(),this.xe=gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),n=pe(),r=pe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new oc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=a1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,_e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class b9{constructor(e){this.ze=e,this.je=new Map,this.He=kr(),this.Je=ru(),this.Ye=ru(),this.Ze=new Ue(de)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(cm(i))if(r===0){const o=new ee(i.path);this.tt(n,o,At.newNoDocument(o,ae.min()))}else _e(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Vs(r).toUint8Array()}catch(l){if(l instanceof MT)return Uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new e0(o,s,i)}catch(l){return Uo(l instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&cm(a.target)){const l=new ee(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,At.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=pe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new vh(e,n,this.Ze,this.He,r);return this.He=kr(),this.Je=ru(),this.Ye=ru(),this.Ze=new Ue(de),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new o1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new it(de),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new it(de),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new o1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ru(){return new Ue(ee.comparator)}function a1(){return new Ue(ee.comparator)}const T9={asc:"ASCENDING",desc:"DESCENDING"},I9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S9={and:"AND",or:"OR"};class C9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hm(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function A9(t,e){return xd(t,e.toTimestamp())}function nr(t){return _e(!!t,49232),ae.fromTimestamp(function(n){const r=Ls(n);return new st(r.seconds,r.nanos)}(t))}function t0(t,e){return fm(t,e).canonicalString()}function fm(t,e){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function p2(t){const e=Oe.fromString(t);return _e(x2(e),10190,{key:e.toString()}),e}function pm(t,e){return t0(t.databaseId,e.path)}function Df(t,e){const n=p2(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(g2(n))}function m2(t,e){return t0(t.databaseId,e)}function R9(t){const e=p2(t);return e.length===4?Oe.emptyPath():g2(e)}function mm(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function g2(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function l1(t,e,n){return{name:pm(t,e),fields:n.value.mapValue.fields}}function P9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(_e(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(_e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:u2(u.code);return new Y(d,u.message||"")}(o);n=new h2(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Df(t,r.document.name),i=nr(r.document.updateTime),o=r.document.createTime?nr(r.document.createTime):ae.min(),a=new fn({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Iu(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Df(t,r.document),i=r.readTime?nr(r.readTime):ae.min(),o=At.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Iu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Df(t,r.document),i=r.removedTargetIds||[];n=new Iu([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new w9(s,i),a=r.targetId;n=new d2(a,o)}}return n}function N9(t,e){let n;if(e instanceof ic)n={update:l1(t,e.key,e.value)};else if(e instanceof Jg)n={delete:pm(t,e.key)};else if(e instanceof Oi)n={update:l1(t,e.key,e.data),updateMask:U9(e.fieldMask)};else{if(!(e instanceof y9))return ne(16599,{ft:e.type});n={verify:pm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof yd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:A9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function k9(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?nr(s.updateTime):nr(i);return o.isEqual(ae.min())&&(o=nr(i)),new p9(o,s.transformResults||[])}(n,e))):[]}function O9(t,e){return{documents:[m2(t,e.path)]}}function D9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=m2(t,s);const i=function(u){if(u.length!==0)return v2(Vn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Wi(h.field),direction:L9(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function j9(t){let e=R9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_e(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const h=y2(p);return h instanceof Vn&&GT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(h=>function(x){return new gd(qi(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(p){let h;return h=typeof p=="object"?p.value:p,dh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(p){const h=!!p.before,y=p.values||[];return new md(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const h=!p.before,y=p.values||[];return new md(y,h)}(n.endAt)),t9(e,s,o,i,a,"F",l,u)}function M9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qi(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qi(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qi(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qi(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(qi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(r=>y2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function L9(t){return T9[t]}function V9(t){return I9[t]}function F9(t){return S9[t]}function Wi(t){return{fieldPath:t.canonicalString()}}function qi(t){return ft.fromServerFormat(t.fieldPath)}function v2(t){return t instanceof Je?function(n){if(n.op==="=="){if(Qx(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NAN"}};if(Kx(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qx(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NAN"}};if(Kx(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wi(n.field),op:V9(n.op),value:n.value}}}(t):t instanceof Vn?function(n){const r=n.getFilters().map(s=>v2(s));return r.length===1?r[0]:{compositeFilter:{op:F9(n.op),filters:r}}}(t):ne(54877,{filter:t})}function U9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function x2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r,s,i=ae.min(),o=ae.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.wt=e}}function z9(t){const e=j9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(){this.Cn=new H9}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Ms.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class H9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new it(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new it(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w2=41943040;class Ut{static withCacheSize(e){return new Ut(e,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(w2,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ho(0)}static lr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="LruGarbageCollector",W9=1048576;function d1([t,e],[n,r]){const s=de(t,n);return s===0?de(e,r):s}class q9{constructor(e){this.Er=e,this.buffer=new it(d1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class G9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(u1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oa(n)?G(u1,"Ignoring IndexedDB error during garbage collection: ",n):await ia(n)}await this.mr(3e5)})}}class K9{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(uh.le);const r=new q9(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(c1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c1):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Bi()<=fe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function Q9(t,e){return new K9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this.changes=new ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&sl(r.mutation,s,An.empty(),st.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=si();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=$a();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=kr();const o=rl(),a=function(){return rl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Oi)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),sl(d.mutation,u,d.mutation.getFieldMask(),st.now())):o.set(u.key,An.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new X9(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=rl();let s=new Ue((o,a)=>o-a),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||An.empty();d=a.applyToLocalView(u,d),r.set(l,d);const p=(s.get(a.batchId)||pe()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,p=n2();d.forEach(h=>{if(!i.has(h)){const y=l2(n.get(h),r.get(h));y!==null&&p.set(h,y),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(si());let a=Nl,l=i;return o.next(u=>F.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,pe())).next(d=>({batchId:a,changes:t2(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=$a();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=$a();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,l=>{const u=function(p,h){return new sc(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((p,h)=>{o=o.insert(p,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,At.newInvalidDocument(d)))});let a=$a();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&sl(d.mutation,u,An.empty(),st.now()),mh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nr(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:z9(s.bundledQuery),readTime:nr(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.overlays=new Ue(ee.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=si();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=si(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=si(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=si(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return F.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new x9(n,r));let i=this.Qr.get(n);i===void 0&&(i=pe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.$r=new it(ot.Ur),this.Kr=new it(ot.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new ot(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new ot(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ee(new Oe([])),r=new ot(n,e),s=new ot(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ee(new Oe([])),r=new ot(n,e),s=new ot(n,e+1);let i=pe();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ot(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ee.comparator(e.key,n.key)||de(e.Zr,n.Zr)}static Wr(e,n){return de(e.Zr,n.Zr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new it(ot.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new v9(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new ot(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?qg:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),s=new ot(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(de);return n.forEach(s=>{const i=new ot(s,0),o=new ot(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new ot(new ee(i),0);let a=new it(de);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){_e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,s=>{const i=new ot(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new ot(n,0),s=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.ii=e,this.docs=function(){return new Ue(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=kr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=kr();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||D5(O5(d),r)<=0||(s.has(d.key)||mh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sO(this)}getSize(e){return F.resolve(this.size)}}class sO extends Y9{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.persistence=e,this.oi=new ki(n=>Qg(n),Yg),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this._i=0,this.ai=new n0,this.targetCount=0,this.ui=Ho.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.ci={},this.overlays={},this.li=new uh(0),this.hi=!1,this.hi=!0,this.Pi=new tO,this.referenceDelegate=e(this),this.Ti=new iO(this),this.indexManager=new B9,this.remoteDocumentCache=function(s){return new rO(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new $9(n),this.Ei=new Z9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new nO(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new oO(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class oO extends M5{constructor(e){super(),this.currentSequenceNumber=e}}class r0{constructor(e){this.persistence=e,this.Vi=new n0,this.mi=null}static fi(e){return new r0(e)}get gi(){if(this.mi)return this.mi;throw ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const s=ee.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class wd{constructor(e,n){this.persistence=e,this.yi=new ki(r=>F5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Q9(this,n)}static fi(e,n){return new wd(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ae.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eu(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new s0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return i6()?8:L5(Pt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new aO;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Bi()<=fe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Hi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(Bi()<=fe.DEBUG&&G("QueryEngine","Query:",Hi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Bi()<=fe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Hi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):F.resolve())}ws(e,n){if(Zx(n))return F.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=dm(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,dm(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,s){return Zx(n)||s.isEqual(ae.min())?F.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(Bi()<=fe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hi(n)),this.Fs(e,o,n,k5(s,Nl)).next(a=>a))})}vs(e,n){let r=new it(ZT(e));return n.forEach((s,i)=>{mh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return Bi()<=fe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Hi(n)),this.ys.getDocumentsMatchingQuery(e,n,Ms.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="LocalStore",cO=3e8;class uO{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Ue(de),this.Os=new ki(i=>Qg(i),Yg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J9(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function dO(t,e,n,r){return new uO(t,e,n,r)}async function E2(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=pe();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function hO(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const p=u.batch,h=p.keys();let y=F.resolve();return h.forEach(x=>{y=y.next(()=>d.getEntry(l,x)).next(v=>{const b=u.docVersions.get(x);_e(b!==null,48541),v.version.compareTo(b)<0&&(p.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function b2(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function fO(t,e){const n=le(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,p)=>{const h=s.get(p);if(!h)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,p)));let y=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(gt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(p,y),function(v,b,w){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=cO?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,y,d)&&a.push(n.Ti.updateTargetData(i,y))});let l=kr(),u=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(pO(i,o,e.documentUpdates).next(d=>{l=d.qs,u=d.Qs})),!r.isEqual(ae.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.xs=s,i))}function pO(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=kr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(i0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function mO(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gO(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new hs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function gm(t,e,n){const r=le(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!oa(o))throw o;G(i0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function h1(t,e,n){const r=le(t);let s=ae.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const p=le(l),h=p.Os.get(d);return h!==void 0?F.resolve(p.xs.get(h)):p.Ti.getTargetData(u,d)}(r,o,er(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:ae.min(),n?i:pe())).next(a=>(yO(r,r9(e),a),{documents:a,$s:i})))}function yO(t,e,n){let r=t.Ns.get(e)||ae.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class f1{constructor(){this.activeTargetIds=c9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vO{constructor(){this.xo=new f1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new f1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="ConnectivityMonitor";class m1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G(p1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){G(p1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su=null;function ym(){return su===null?su=function(){return 268435456+Math.round(2147483648*Math.random())}():su++,"0x"+su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",wO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _O{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===fd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=ym(),a=this.jo(e,n.toUriEncodedString());G(jf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:u}=new URL(a),d=tc(u);return this.Jo(e,a,l,r,d).then(p=>(G(jf,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Uo(jf,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=wO[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class bO extends _O{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=ym();return new Promise((a,l)=>{const u=new IT;u.setWithCredentials(!0),u.listenOnce(ST.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _u.NO_ERROR:const p=u.getResponseJson();G(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case _u.TIMEOUT:G(Tt,`RPC '${e}' ${o} timed out`),l(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:const h=u.getStatus();if(G(Tt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const v=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(x.status);l(new Y(v,x.message))}else l(new Y($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y($.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(Tt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(Tt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=ym(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=RT(),a=AT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");G(Tt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);let h=!1,y=!1;const x=new EO({Zo:b=>{y?G(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(h||(G(Tt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),h=!0),G(Tt,`RPC '${e}' stream ${s} sending:`,b),p.send(b))},Xo:()=>p.close()}),v=(b,w,_)=>{b.listen(w,I=>{try{_(I)}catch(N){setTimeout(()=>{throw N},0)}})};return v(p,Ua.EventType.OPEN,()=>{y||(G(Tt,`RPC '${e}' stream ${s} transport opened.`),x.__())}),v(p,Ua.EventType.CLOSE,()=>{y||(y=!0,G(Tt,`RPC '${e}' stream ${s} transport closed`),x.u_())}),v(p,Ua.EventType.ERROR,b=>{y||(y=!0,Uo(Tt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),x.u_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),v(p,Ua.EventType.MESSAGE,b=>{var w;if(!y){const _=b.data[0];_e(!!_,16349);const I=_,N=(I==null?void 0:I.error)||((w=I[0])===null||w===void 0?void 0:w.error);if(N){G(Tt,`RPC '${e}' stream ${s} received error:`,N);const D=N.status;let M=function(C){const R=Ye[C];if(R!==void 0)return u2(R)}(D),A=N.message;M===void 0&&(M=$.INTERNAL,A="Unknown error status: "+D+" with message "+N.message),y=!0,x.u_(new Y(M,A)),p.close()}else G(Tt,`RPC '${e}' stream ${s} received:`,_),x.c_(_)}}),v(a,CT.STAT_EVENT,b=>{b.stat===sm.PROXY?G(Tt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===sm.NOPROXY&&G(Tt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new C9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="PersistentStream";class I2{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new T2(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return G(g1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(G(g1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TO extends I2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=P9(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?nr(o.readTime):ae.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=mm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=cm(l)?{documents:O9(i,l)}:{query:D9(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=f2(i,o.resumeToken);const u=hm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=xd(i,o.snapshotVersion.toTimestamp());const u=hm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=M9(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=mm(this.serializer),n.removeTarget=e,this.L_(n)}}class IO extends I2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=k9(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=mm(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>N9(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{}class CO extends SO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,fm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,fm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class AO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Nr(n),this.oa=!1):G("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="RemoteStore";class RO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Di(this)&&(G(wi,"Restarting streams for network reachability change."),await async function(l){const u=le(l);u.Ta.add(4),await ac(u),u.da.set("Unknown"),u.Ta.delete(4),await wh(u)}(this))})}),this.da=new AO(r,s)}}async function wh(t){if(Di(t))for(const e of t.Ia)await e(!0)}async function ac(t){for(const e of t.Ia)await e(!1)}function S2(t,e){const n=le(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),c0(n)?l0(n):aa(n).M_()&&a0(n,e))}function o0(t,e){const n=le(t),r=aa(n);n.Pa.delete(e),r.M_()&&C2(n,e),n.Pa.size===0&&(r.M_()?r.N_():Di(n)&&n.da.set("Unknown"))}function a0(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).H_(e)}function C2(t,e){t.Aa.Ke(e),aa(t).J_(e)}function l0(t){t.Aa=new b9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.da._a()}function c0(t){return Di(t)&&!aa(t).F_()&&t.Pa.size>0}function Di(t){return le(t).Ta.size===0}function A2(t){t.Aa=void 0}async function PO(t){t.da.set("Online")}async function NO(t){t.Pa.forEach((e,n)=>{a0(t,e)})}async function kO(t,e){A2(t),c0(t)?(t.da.ca(e),l0(t)):t.da.set("Unknown")}async function OO(t,e,n){if(t.da.set("Online"),e instanceof h2&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){G(wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _d(t,r)}else if(e instanceof Iu?t.Aa.Xe(e):e instanceof d2?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(ae.min()))try{const r=await b2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Pa.get(u);d&&i.Pa.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Pa.get(l);if(!d)return;i.Pa.set(l,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),C2(i,l);const p=new hs(d.target,l,u,d.sequenceNumber);a0(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(wi,"Failed to raise snapshot:",r),await _d(t,r)}}async function _d(t,e,n){if(!oa(e))throw e;t.Ta.add(1),await ac(t),t.da.set("Offline"),n||(n=()=>b2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(wi,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await wh(t)})}function R2(t,e){return e().catch(n=>_d(t,n,e))}async function _h(t){const e=le(t),n=Us(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:qg;for(;DO(e);)try{const s=await mO(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,jO(e,s)}catch(s){await _d(e,s)}P2(e)&&N2(e)}function DO(t){return Di(t)&&t.ha.length<10}function jO(t,e){t.ha.push(e);const n=Us(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function P2(t){return Di(t)&&!Us(t).F_()&&t.ha.length>0}function N2(t){Us(t).start()}async function MO(t){Us(t).ta()}async function LO(t){const e=Us(t);for(const n of t.ha)e.Z_(n.mutations)}async function VO(t,e,n){const r=t.ha.shift(),s=Zg.from(r,e,n);await R2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await _h(t)}async function FO(t,e){e&&Us(t).Y_&&await async function(r,s){if(function(o){return _9(o)&&o!==$.ABORTED}(s.code)){const i=r.ha.shift();Us(r).O_(),await R2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await _h(r)}}(t,e),P2(t)&&N2(t)}async function y1(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),G(wi,"RemoteStore received new credentials");const r=Di(n);n.Ta.add(3),await ac(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await wh(n)}async function UO(t,e){const n=le(t);e?(n.Ta.delete(2),await wh(n)):e||(n.Ta.add(2),await ac(n),n.da.set("Unknown"))}function aa(t){return t.Ra||(t.Ra=function(n,r,s){const i=le(n);return i.ra(),new TO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:PO.bind(null,t),n_:NO.bind(null,t),i_:kO.bind(null,t),j_:OO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),c0(t)?l0(t):t.da.set("Unknown")):(await t.Ra.stop(),A2(t))})),t.Ra}function Us(t){return t.Va||(t.Va=function(n,r,s){const i=le(n);return i.ra(),new IO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:MO.bind(null,t),i_:FO.bind(null,t),X_:LO.bind(null,t),ea:VO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await _h(t)):(await t.Va.stop(),t.ha.length>0&&(G(wi,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new u0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d0(t,e){if(Nr("AsyncQueue",`${e}: ${t}`),oa(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=$a(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.ma=new Ue(ee.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ne(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wo{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wo(e,n,yo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class zO{constructor(){this.queries=x1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=le(n),i=s.queries;s.queries=x1(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function x1(){return new ki(t=>JT(t),ph)}async function h0(t,e){const n=le(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new $O,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=d0(o,`Initialization of query '${Hi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&p0(n)}async function f0(t,e){const n=le(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BO(t,e){const n=le(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&p0(n)}function HO(t,e,n){const r=le(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function p0(t){t.ba.forEach(e=>{e.next()})}var vm,w1;(w1=vm||(vm={})).Ca="default",w1.Cache="cache";class m0{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.key=e}}class O2{constructor(e){this.key=e}}class WO{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=pe(),this.mutatedKeys=pe(),this.Ha=ZT(e),this.Ja=new yo(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new v1,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const h=s.get(d),y=mh(this.query,p)?p:null,x=!!h&&this.mutatedKeys.has(h.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;h&&y?h.data.isEqual(y.data)?x!==v&&(r.track({type:3,doc:y}),b=!0):this.eu(h,y)||(r.track({type:2,doc:y}),b=!0,(l&&this.Ha(y,l)>0||u&&this.Ha(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),b=!0):h&&!y&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(a=!0)),b&&(y?(o=o.add(y),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,p)=>function(y,x){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Vt:b})}};return v(y)-v(x)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new Wo(this.query,e.Ja,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new v1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=pe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new O2(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new k2(r))}),n}su(e){this.Ga=e.$s,this.ja=pe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Wo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const g0="SyncEngine";class qO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GO{constructor(e){this.key=e,this._u=!1}}class KO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new ki(a=>JT(a),ph),this.cu=new Map,this.lu=new Set,this.hu=new Ue(ee.comparator),this.Pu=new Map,this.Tu=new n0,this.Iu={},this.Eu=new Map,this.du=Ho.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function QO(t,e,n=!0){const r=F2(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await D2(r,e,n,!0),s}async function YO(t,e){const n=F2(t);await D2(n,e,!0,!1)}async function D2(t,e,n,r){const s=await gO(t.localStore,er(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await XO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&S2(t.remoteStore,s),a}async function XO(t,e,n,r,s){t.Ru=(p,h,y)=>async function(v,b,w,_){let I=b.view.Za(w);I.Cs&&(I=await h1(v.localStore,b.query,!1).then(({documents:A})=>b.view.Za(A,I)));const N=_&&_.targetChanges.get(b.targetId),D=_&&_.targetMismatches.get(b.targetId)!=null,M=b.view.applyChanges(I,v.isPrimaryClient,N,D);return E1(v,b.targetId,M.ru),M.snapshot}(t,p,h,y);const i=await h1(t.localStore,e,!0),o=new WO(e,i.$s),a=o.Za(i.documents),l=oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);E1(t,n,u.ru);const d=new qO(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function JO(t,e,n){const r=le(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!ph(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&o0(r.remoteStore,s.targetId),xm(r,s.targetId)}).catch(ia)):(xm(r,s.targetId),await gm(r.localStore,s.targetId,!0))}async function ZO(t,e){const n=le(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o0(n.remoteStore,r.targetId))}async function eD(t,e,n){const r=aD(t);try{const s=await function(o,a){const l=le(o),u=st.now(),d=a.reduce((y,x)=>y.add(x.key),pe());let p,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=kr(),v=pe();return l.Bs.getEntries(y,d).next(b=>{x=b,x.forEach((w,_)=>{_.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,x)).next(b=>{p=b;const w=[];for(const _ of a){const I=g9(_,p.get(_.key).overlayedDocument);I!=null&&w.push(new Oi(_.key,I,HT(I.value.mapValue),tr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,w,a)}).next(b=>{h=b;const w=b.applyToLocalDocumentSet(p,v);return l.documentOverlayCache.saveOverlays(y,b.batchId,w)})}).then(()=>({batchId:h.batchId,changes:t2(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new Ue(de)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,s.batchId,n),await lc(r,s.changes),await _h(r.remoteStore)}catch(s){const i=d0(s,"Failed to persist write");n.reject(i)}}async function j2(t,e){const n=le(t);try{const r=await fO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?_e(o._u,14607):s.removedDocuments.size>0&&(_e(o._u,42227),o._u=!1))}),await lc(n,r,e)}catch(r){await ia(r)}}function _1(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let u=!1;l.queries.forEach((d,p)=>{for(const h of p.ya)h.Da(a)&&(u=!0)}),u&&p0(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tD(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new Ue(ee.comparator);o=o.insert(i,At.newNoDocument(i,ae.min()));const a=pe().add(i),l=new vh(ae.min(),new Map,new Ue(de),o,a);await j2(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),y0(r)}else await gm(r.localStore,e,!1).then(()=>xm(r,e,n)).catch(ia)}async function nD(t,e){const n=le(t),r=e.batch.batchId;try{const s=await hO(n.localStore,e);L2(n,r,null),M2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lc(n,s)}catch(s){await ia(s)}}async function rD(t,e,n){const r=le(t);try{const s=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(_e(p!==null,37113),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);L2(r,e,n),M2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lc(r,s)}catch(s){await ia(s)}}function M2(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function L2(t,e,n){const r=le(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||V2(t,r)})}function V2(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(o0(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),y0(t))}function E1(t,e,n){for(const r of n)r instanceof k2?(t.Tu.addReference(r.key,e),sD(t,r)):r instanceof O2?(G(g0,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||V2(t,r.key)):ne(19791,{mu:r})}function sD(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(G(g0,"New document in limbo: "+n),t.lu.add(r),y0(t))}function y0(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ee(Oe.fromString(e)),r=t.du.next();t.Pu.set(r,new GO(n)),t.hu=t.hu.insert(n,r),S2(t.remoteStore,new hs(er(fh(n.path)),r,"TargetPurposeLimboResolution",uh.le))}}async function lc(t,e,n){const r=le(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){s.push(u);const p=s0.Rs(l.targetId,u);i.push(p)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,u){const d=le(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(u,h=>F.forEach(h.ds,y=>d.persistence.referenceDelegate.addReference(p,h.targetId,y)).next(()=>F.forEach(h.As,y=>d.persistence.referenceDelegate.removeReference(p,h.targetId,y)))))}catch(p){if(!oa(p))throw p;G(i0,"Failed to update sequence numbers: "+p)}for(const p of u){const h=p.targetId;if(!p.fromCache){const y=d.xs.get(h),x=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(h,v)}}}(r.localStore,i))}async function iD(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){G(g0,"User change. New user:",e.toKey());const r=await E2(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new Y($.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lc(n,r.ks)}}function oD(t,e){const n=le(t),r=n.Pu.get(e);if(r&&r._u)return pe().add(r.key);{let s=pe();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function F2(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=j2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tD.bind(null,e),e.au.j_=BO.bind(null,e.eventManager),e.au.Vu=HO.bind(null,e.eventManager),e}function aD(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rD.bind(null,e),e}class Ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return dO(this.persistence,new lO,e.initialUser,this.serializer)}yu(e){return new _2(r0.fi,this.serializer)}pu(e){return new vO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ed.provider={build:()=>new Ed};class lD extends Ed{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){_e(this.persistence.referenceDelegate instanceof wd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new G9(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new _2(r=>wd.fi(r,n),this.serializer)}}class wm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iD.bind(null,this.syncEngine),await UO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zO}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=function(i){return new bO(i)}(e.databaseInfo);return function(i,o,a,l){return new CO(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new RO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_1(this.syncEngine,n,0),function(){return m1.C()?new m1:new xO}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const p=new KO(s,i,o,a,l,u);return d&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=le(s);G(wi,"RemoteStore shutting down."),i.Ta.add(5),await ac(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class cD{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=OT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G($s,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G($s,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lf(t,e){t.asyncQueue.verifyOperationInProgress(),G($s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await E2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function b1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uD(t);G($s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>y1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>y1(e.remoteStore,s)),t._onlineComponents=e}async function uD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G($s,"Using user provided OfflineComponentProvider");try{await Lf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Lf(t,new Ed)}}else G($s,"Using default OfflineComponentProvider"),await Lf(t,new lD(void 0));return t._offlineComponents}async function U2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G($s,"Using user provided OnlineComponentProvider"),await b1(t,t._uninitializedComponentsProvider._online)):(G($s,"Using default OnlineComponentProvider"),await b1(t,new wm))),t._onlineComponents}function dD(t){return U2(t).then(e=>e.syncEngine)}async function bd(t){const e=await U2(t),n=e.eventManager;return n.onListen=QO.bind(null,e.syncEngine),n.onUnlisten=JO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZO.bind(null,e.syncEngine),n}function hD(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new v0({next:h=>{d.Cu(),o.enqueueAndForget(()=>f0(i,p));const y=h.docs.has(a);!y&&h.fromCache?u.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&h.fromCache&&l&&l.source==="server"?u.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),p=new m0(fh(a.path),d,{includeMetadataChanges:!0,La:!0});return h0(i,p)}(await bd(t),t.asyncQueue,e,n,r)),r.promise}function fD(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new v0({next:h=>{d.Cu(),o.enqueueAndForget(()=>f0(i,p)),h.fromCache&&l.source==="server"?u.reject(new Y($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),p=new m0(a,d,{includeMetadataChanges:!0,La:!0});return h0(i,p)}(await bd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pD(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I1(t){if(!ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S1(t){if(ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Eh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function On(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eh(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firestore.googleapis.com",C1=!0;class A1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B2,this.ssl=C1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:C1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W9)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new b5;switch(r.type){case"firstParty":return new C5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=T1.get(n);r&&(G("ComponentProvider","Removing Datastore"),T1.delete(n),r.terminate())}(this),Promise.resolve()}}function mD(t,e,n,r={}){var s;t=On(t,bh);const i=tc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(gT(`https://${l}`),yT("Firestore",!0)),o.host!==B2&&o.host!==l&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!yi(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=St.MOCK_USER;else{d=Y3(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new St(h)}t._authCredentials=new T5(new NT(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}}class Cs extends ji{constructor(e,n,r){super(e,n,fh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ee(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function Ll(t,e,...n){if(t=an(t),z2("collection","path",e),t instanceof bh){const r=Oe.fromString(e,...n);return S1(r),new Cs(t,null,r)}{if(!(t instanceof Mt||t instanceof Cs))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return S1(r),new Cs(t.firestore,null,r)}}function fs(t,e,...n){if(t=an(t),arguments.length===1&&(e=OT.newId()),z2("doc","path",e),t instanceof bh){const r=Oe.fromString(e,...n);return I1(r),new Mt(t,null,new ee(r))}{if(!(t instanceof Mt||t instanceof Cs))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return I1(r),new Mt(t.firestore,t instanceof Cs?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="AsyncQueue";class P1{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new T2(this,"async_queue_retry"),this.ec=()=>{const r=Mf();r&&G(R1,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Mf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new br;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!oa(e))throw e;G(R1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Nr("INTERNAL UNHANDLED ERROR: ",N1(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=u0.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&ne(47125,{_c:N1(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function N1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class _i extends bh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new P1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P1(e),this._firestoreClient=void 0,await e}}}function gD(t,e){const n=typeof t=="object"?t:_T(),r=typeof t=="string"?t:fd,s=Hg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=K3("firestore");i&&mD(s,...i)}return s}function Th(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yD(t),t._firestoreClient}function yD(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new z5(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$2(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new cD(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(gt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qo(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=/^__.*__$/;class xD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}function W2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{hc:t})}}class E0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new E0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Td(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(W2(this.hc)&&vD.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class wD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}gc(e,n,r,s=!1){return new E0({hc:e,methodName:n,fc:r,path:ft.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q2(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new wD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _D(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);Q2("Data must be an object, but it was:",o,r);const a=G2(r,o);let l,u;if(i.merge)l=new An(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const h=bD(e,p,n);if(!o.contains(h))throw new Y($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ID(d,h)||d.push(h)}l=new An(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new xD(new fn(a),l,u)}function ED(t,e,n,r=!1){return b0(n,t.gc(r?4:3,e))}function b0(t,e){if(K2(t=an(t)))return Q2("Unsupported field value:",e,t),G2(t,e);if(t instanceof H2)return function(r,s){if(!W2(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=b0(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=st.fromDate(r);return{timestampValue:xd(s.serializer,i)}}if(r instanceof st){const i=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(s.serializer,i)}}if(r instanceof w0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:f2(s.serializer,r._byteString)};if(r instanceof Mt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:t0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof _0)return function(o,a){return{mapValue:{fields:{[$T]:{stringValue:BT},[pd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return Xg(a.serializer,u)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Eh(r)}`)}(t,e)}function G2(t,e){const n={};return jT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,s)=>{const i=b0(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function K2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof w0||t instanceof qo||t instanceof Mt||t instanceof H2||t instanceof _0)}function Q2(t,e,n){if(!K2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Eh(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function bD(t,e,n){if((e=an(e))instanceof x0)return e._internalPath;if(typeof e=="string")return Y2(t,e);throw Td("Field path arguments must be of type string or ",t,!1,void 0,n)}const TD=new RegExp("[~\\*/\\[\\]]");function Y2(t,e,n){if(e.search(TD)>=0)throw Td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new x0(...e.split("."))._internalPath}catch{throw Td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Td(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y($.INVALID_ARGUMENT,a+t+l)}function ID(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SD extends X2{data(){return super.data()}}function T0(t,e){return typeof e=="string"?Y2(t,e):e instanceof x0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class CD extends I0{}function Id(t,e,...n){let r=[];e instanceof I0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof S0).length,a=i.filter(l=>l instanceof Ih).length;if(o>1||o>0&&a>0)throw new Y($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ih extends CD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ih(e,n,r)}_apply(e){const n=this._parse(e);return Z2(e._query,n),new ji(e.firestore,e.converter,um(e._query,n))}_parse(e){const n=q2(e.firestore);return function(i,o,a,l,u,d,p){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){D1(p,d);const x=[];for(const v of p)x.push(O1(l,i,v));h={arrayValue:{values:x}}}else h=O1(l,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||D1(p,d),h=ED(a,o,p,d==="in"||d==="not-in");return Je.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sd(t,e,n){const r=e,s=T0("where",t);return Ih._create(s,r,n)}class S0 extends I0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new S0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Z2(o,l),o=um(o,l)}(e._query,n),new ji(e.firestore,e.converter,um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function O1(t,e,n){if(typeof(n=an(n))=="string"){if(n==="")throw new Y($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(e)&&n.indexOf("/")!==-1)throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!ee.isDocumentKey(r))throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gx(t,new ee(r))}if(n instanceof Mt)return Gx(t,n._key);throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(n)}.`)}function D1(t,e){if(!Array.isArray(t)||t.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z2(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AD{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ni(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[pd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>qe(o.doubleValue));return new _0(i)}convertGeoPoint(e){return new w0(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);_e(x2(r),9688,{name:e});const s=new Ol(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||Nr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eI extends X2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Su extends eI{data(e={}){return super.data(e)}}class tI{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ba(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Su(this._firestore,this._userDataWriter,r.key,r,new Ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Su(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ba(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Su(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ba(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:PD(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t){t=On(t,Mt);const e=On(t.firestore,_i);return hD(Th(e),t._key).then(n=>sI(e,t,n))}class C0 extends AD{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function Vl(t){t=On(t,ji);const e=On(t.firestore,_i),n=Th(e),r=new C0(e);return J2(t._query),fD(n,t._query).then(s=>new tI(e,r,t,s))}function Fl(t,e,n){t=On(t,Mt);const r=On(t.firestore,_i),s=RD(t.converter,e,n);return rI(r,[_D(q2(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,tr.none())])}function ND(t){return rI(On(t.firestore,_i),[new Jg(t._key,tr.none())])}function kD(t,...e){var n,r,s;t=an(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||k1(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(k1(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let l,u,d;if(t instanceof Mt)u=On(t.firestore,_i),d=fh(t._key.path),l={next:p=>{e[o]&&e[o](sI(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=On(t,ji);u=On(p.firestore,_i),d=p._query;const h=new C0(u);l={next:y=>{e[o]&&e[o](new tI(u,h,p,y))},error:e[o+1],complete:e[o+2]},J2(t._query)}return function(h,y,x,v){const b=new v0(v),w=new m0(y,b,x);return h.asyncQueue.enqueueAndForget(async()=>h0(await bd(h),w)),()=>{b.Cu(),h.asyncQueue.enqueueAndForget(async()=>f0(await bd(h),w))}}(Th(u),d,a,l)}function rI(t,e){return function(r,s){const i=new br;return r.asyncQueue.enqueueAndForget(async()=>eD(await dD(r),s,i)),i.promise}(Th(t),e)}function sI(t,e,n){const r=n.docs.get(e._key),s=new C0(t);return new eI(t,s,e._key,r,new Ba(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){sa=s})(ra),Fo(new vi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new _i(new I5(r.getProvider("auth-internal")),new A5(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Is(jx,Mx,e),Is(jx,Mx,"esm2017")})();var OD="firebase",DD="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(OD,DD,"app");function A0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function iI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jD=iI,oI=new nc("auth","Firebase",iI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new zg("@firebase/auth");function MD(t,...e){Cd.logLevel<=fe.WARN&&Cd.warn(`Auth (${ra}): ${t}`,...e)}function Cu(t,...e){Cd.logLevel<=fe.ERROR&&Cd.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw R0(t,...e)}function rr(t,...e){return R0(t,...e)}function aI(t,e,n){const r=Object.assign(Object.assign({},jD()),{[e]:n});return new nc("auth","Firebase",r).create(e,{appName:t.name})}function As(t){return aI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oI.create(t,...e)}function se(t,e,...n){if(!t)throw R0(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cu(e),new Error(e)}function Dr(t,e){t||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LD(){return j1()==="http:"||j1()==="https:"}function j1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LD()||n6()||"connection"in navigator)?navigator.onLine:!0}function FD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=Z3()||r6()}get(){return VD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t,e){Dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zD=new cc(3e4,6e4);function uc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mi(t,e,n,r,s={}){return cI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=rc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return t6()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&tc(t.emulatorConfig.host)&&(u.credentials="include"),lI.fetch()(await dI(t,t.config.apiHost,n,a),u)})}async function cI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},UD),e);try{const s=new HD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw iu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw iu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw iu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw aI(t,d,u);Or(t,d)}}catch(s){if(s instanceof Mr)throw s;Or(t,"network-request-failed",{message:String(s)})}}async function uI(t,e,n,r,s={}){const i=await Mi(t,e,n,r,s);return"mfaPendingCredential"in i&&Or(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function dI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?P0(t.config,s):`${t.config.apiScheme}://${s}`;return $D.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function BD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),zD.get())})}}function iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=rr(t,e,r);return s.customData._tokenResponse=n,s}function M1(t){return t!==void 0&&t.enterprise!==void 0}class WD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qD(t,e){return Mi(t,"GET","/v2/recaptchaConfig",uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(t,e){return Mi(t,"POST","/v1/accounts:delete",e)}async function Ad(t,e){return Mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KD(t,e=!1){const n=an(t),r=await n.getIdToken(e),s=N0(r);se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:il(Vf(s.auth_time)),issuedAtTime:il(Vf(s.iat)),expirationTime:il(Vf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Vf(t){return Number(t)*1e3}function N0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const s=hT(n);return s?JSON.parse(s):(Cu("Failed to decode base64 JWT payload"),null)}catch(s){return Cu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function L1(t){const e=N0(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&QD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function QD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ul(t,Ad(n,{idToken:r}));se(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?hI(i.providerUserInfo):[],a=JD(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Em(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function XD(t){const e=an(t);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function hI(t){return t.map(e=>{var{providerId:n}=e,r=A0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(t,e){const n=await cI(t,{},async()=>{const r=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await dI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e8(t,e){return Mi(t,"POST","/v2/accounts:revokeToken",uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=L1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await ZD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new vo;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=A0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Em(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KD(this,e)}reload(){return XD(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await Ul(this,GD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:N,isAnonymous:D,providerData:M,stsTokenManager:A}=n;se(I&&A,e,"internal-error");const E=vo.fromJSON(this.name,A);se(typeof I=="string",e,"internal-error"),Gr(p,e.name),Gr(h,e.name),se(typeof N=="boolean",e,"internal-error"),se(typeof D=="boolean",e,"internal-error"),Gr(y,e.name),Gr(x,e.name),Gr(v,e.name),Gr(b,e.name),Gr(w,e.name),Gr(_,e.name);const C=new Rn({uid:I,auth:e,email:h,emailVerified:N,displayName:p,isAnonymous:D,photoURL:x,phoneNumber:y,tenantId:v,stsTokenManager:E,createdAt:w,lastLoginAt:_});return M&&Array.isArray(M)&&(C.providerData=M.map(R=>Object.assign({},R))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new vo;s.updateFromServerResponse(n);const i=new Rn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Rd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?hI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new vo;a.updateFromIdToken(r);const l=new Rn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Em(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Map;function _r(t){Dr(t instanceof Function,"Expected a class definition");let e=V1.get(t);return e?(Dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fI.type="NONE";const F1=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t,e,n){return`firebase:${t}:${e}:${n}`}class xo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Au(this.userKey,s.apiKey,i),this.fullPersistenceKey=Au("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ad(this.auth,{idToken:e}).catch(()=>{});return n?Rn._fromGetAccountInfoResponse(this.auth,n,e):null}return Rn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xo(_r(F1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||_r(F1);const o=Au(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let p;if(typeof d=="string"){const h=await Ad(e,{idToken:d}).catch(()=>{});if(!h)break;p=await Rn._fromGetAccountInfoResponse(e,h,d)}else p=Rn._fromJSON(e,d);u!==i&&(a=p),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new xo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new xo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xI(e))return"Blackberry";if(wI(e))return"Webos";if(mI(e))return"Safari";if((e.includes("chrome/")||gI(e))&&!e.includes("edge/"))return"Chrome";if(vI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pI(t=Pt()){return/firefox\//i.test(t)}function mI(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gI(t=Pt()){return/crios\//i.test(t)}function yI(t=Pt()){return/iemobile/i.test(t)}function vI(t=Pt()){return/android/i.test(t)}function xI(t=Pt()){return/blackberry/i.test(t)}function wI(t=Pt()){return/webos/i.test(t)}function k0(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function t8(t=Pt()){var e;return k0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n8(){return s6()&&document.documentMode===10}function _I(t=Pt()){return k0(t)||vI(t)||wI(t)||xI(t)||/windows phone/i.test(t)||yI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e=[]){let n;switch(t){case"Browser":n=U1(Pt());break;case"Worker":n=`${U1(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(t,e={}){return Mi(t,"GET","/v2/passwordPolicy",uc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=6;class o8{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:i8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $1(this),this.idTokenSubscription=new $1(this),this.beforeStateQueue=new r8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ad(this,{idToken:e}),r=await Rn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(As(this));const n=e?an(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s8(this),n=new o8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await e8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function la(t){return an(t)}class $1{constructor(e){this.auth=e,this.observer=null,this.addObserver=h6(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l8(t){Sh=t}function bI(t){return Sh.loadJS(t)}function c8(){return Sh.recaptchaEnterpriseScript}function u8(){return Sh.gapiScript}function d8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class h8{constructor(){this.enterprise=new f8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class f8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const p8="recaptcha-enterprise",TI="NO_RECAPTCHA";class m8{constructor(e){this.type=p8,this.auth=la(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{qD(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new WD(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;M1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(TI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h8().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&M1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=c8();l.length!==0&&(l+=a),bI(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function z1(t,e,n,r=!1,s=!1){const i=new m8(t);let o;if(s)o=TI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function g8(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await z1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await z1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(t,e){const n=Hg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(yi(i,e??{}))return s;Or(s,"already-initialized")}return n.initialize({options:e})}function v8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x8(t,e,n){const r=la(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=II(e),{host:o,port:a}=w8(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(yi(u,r.config.emulator)&&yi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,tc(o)?(gT(`${i}//${o}${l}`),yT("Auth",!0)):_8()}function II(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w8(t){const e=II(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:B1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:B1(o)}}}function B1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e){return uI(t,"POST","/v1/accounts:signInWithIdp",uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="http://localhost";class Ei extends SI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=A0(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ei(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:E8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends CI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends dc{constructor(){super("facebook.com")}static credential(e){return Ei._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ei._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends dc{constructor(){super("github.com")}static credential(e){return Ei._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends dc{constructor(){super("twitter.com")}static credential(e,n){return Ei._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(t,e){return uI(t,"POST","/v1/accounts:signUp",uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Rn._fromIdTokenResponse(e,r,s),o=H1(r);return new bi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=H1(r);return new bi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function H1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends Mr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Pd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Pd(e,n,r,s)}}function AI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Pd._fromErrorAndOperation(t,i,e,r):i})}async function T8(t,e,n=!1){const r=await Ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(t,e,n=!1){const{auth:r}=t;if(Cn(r.app))return Promise.reject(As(r));const s="reauthenticate";try{const i=await Ul(t,AI(r,s,e,t),n);se(i.idToken,r,"internal-error");const o=N0(i.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),bi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S8(t,e,n=!1){if(Cn(t.app))return Promise.reject(As(t));const r="signIn",s=await AI(t,r,e),i=await bi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t){const e=la(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A8(t,e,n){if(Cn(t.app))return Promise.reject(As(t));const r=la(t),o=await g8(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&C8(t),l}),a=await bi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function R8(t,e,n,r){return an(t).onIdTokenChanged(e,n,r)}function P8(t,e,n){return an(t).beforeAuthStateChanged(e,n)}const Nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nd,"1"),this.storage.removeItem(Nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=1e3,k8=10;class PI extends RI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_I(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);n8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,k8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PI.type="LOCAL";const O8=PI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends RI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NI.type="SESSION";const kI=NI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await D8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=O0("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const h=p;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function M8(t){sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function L8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F8(){return OI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebaseLocalStorageDb",U8=1,kd="firebaseLocalStorage",jI="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ah(t,e){return t.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function $8(){const t=indexedDB.deleteDatabase(DI);return new hc(t).toPromise()}function bm(){const t=indexedDB.open(DI,U8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kd,{keyPath:jI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kd)?e(r):(r.close(),await $8(),e(await bm()))})})}async function W1(t,e,n){const r=Ah(t,!0).put({[jI]:e,value:n});return new hc(r).toPromise()}async function z8(t,e){const n=Ah(t,!1).get(e),r=await new hc(n).toPromise();return r===void 0?null:r.value}function q1(t,e){const n=Ah(t,!0).delete(e);return new hc(n).toPromise()}const B8=800,H8=3;class MI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(F8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await L8(),!this.activeServiceWorker)return;this.sender=new j8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await W1(e,Nd,"1"),await q1(e,Nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ah(s,!1).getAll();return new hc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MI.type="LOCAL";const W8=MI;new cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t,e){return e?_r(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends SI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G8(t){return S8(t.auth,new D0(t),t.bypassAuthState)}function K8(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),I8(n,new D0(t),t.bypassAuthState)}async function Q8(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),T8(n,new D0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G8;case"linkViaPopup":case"linkViaRedirect":return Q8;case"reauthViaPopup":case"reauthViaRedirect":return K8;default:Or(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=new cc(2e3,1e4);class ao extends LI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=O0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y8.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="pendingRedirect",Ru=new Map;class J8 extends LI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ru.get(this.auth._key());if(!e){try{const r=await Z8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ru.set(this.auth._key(),e)}return this.bypassAuthState||Ru.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z8(t,e){const n=n7(e),r=t7(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function e7(t,e){Ru.set(t._key(),e)}function t7(t){return _r(t._redirectPersistence)}function n7(t){return Au(X8,t.config.apiKey,t.name)}async function r7(t,e,n=!1){if(Cn(t.app))return Promise.reject(As(t));const r=la(t),s=q8(r,e),o=await new J8(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=10*60*1e3;class i7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s7&&this.cachedEventUids.clear(),this.cachedEventUids.has(G1(e))}saveEventToCache(e){this.cachedEventUids.add(G1(e)),this.lastProcessedEventTime=Date.now()}}function G1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(t,e={}){return Mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c7=/^https?/;async function u7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a7(t);for(const n of e)try{if(d7(n))return}catch{}Or(t,"unauthorized-domain")}function d7(t){const e=_m(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!c7.test(n))return!1;if(l7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=new cc(3e4,6e4);function K1(){const t=sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f7(t){return new Promise((e,n)=>{var r,s,i;function o(){K1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K1(),n(rr(t,"network-request-failed"))},timeout:h7.get()})}if(!((s=(r=sr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=sr().gapi)===null||i===void 0)&&i.load)o();else{const a=d8("iframefcb");return sr()[a]=()=>{gapi.load?o():n(rr(t,"network-request-failed"))},bI(`${u8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Pu=null,e})}let Pu=null;function p7(t){return Pu=Pu||f7(t),Pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new cc(5e3,15e3),g7="__/auth/iframe",y7="emulator/auth/iframe",v7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w7(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P0(e,y7):`https://${t.config.authDomain}/${g7}`,r={apiKey:e.apiKey,appName:t.name,v:ra},s=x7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${rc(r).slice(1)}`}async function _7(t){const e=await p7(t),n=sr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:w7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=rr(t,"network-request-failed"),a=sr().setTimeout(()=>{i(o)},m7.get());function l(){sr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b7=500,T7=600,I7="_blank",S7="http://localhost";class Q1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C7(t,e,n,r=b7,s=T7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E7),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Pt().toLowerCase();n&&(a=gI(u)?I7:n),pI(u)&&(e=e||S7,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[y,x])=>`${h}${y}=${x},`,"");if(t8(u)&&a!=="_self")return A7(e||"",a),new Q1(null);const p=window.open(e||"",a,d);se(p,t,"popup-blocked");try{p.focus()}catch{}return new Q1(p)}function A7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="__/auth/handler",P7="emulator/auth/handler",N7=encodeURIComponent("fac");async function Y1(t,e,n,r,s,i){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:s};if(e instanceof CI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",d6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof dc){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${N7}=${encodeURIComponent(l)}`:"";return`${k7(t)}?${rc(a).slice(1)}${u}`}function k7({config:t}){return t.emulator?P0(t,P7):`https://${t.authDomain}/${R7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class O7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kI,this._completeRedirectFn=r7,this._overrideRedirectResult=e7}async _openPopup(e,n,r,s){var i;Dr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Y1(e,n,r,_m(),s);return C7(e,o,O0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Y1(e,n,r,_m(),s);return M8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Dr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _7(e),r=new i7(e);return n.register("authEvent",s=>(se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ff,{type:Ff},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ff];o!==void 0&&n(!!o),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _I()||mI()||k0()}}const D7=O7;var X1="@firebase/auth",J1="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L7(t){Fo(new vi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EI(t)},u=new a8(r,s,i,l);return v8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new vi("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new j7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(X1,J1,M7(t)),Is(X1,J1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=5*60,F7=mT("authIdTokenMaxAge")||V7;let Z1=null;const U7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F7)return;const s=n==null?void 0:n.token;Z1!==s&&(Z1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $7(t=_T()){const e=Hg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=y8(t,{popupRedirectResolver:D7,persistence:[W8,O8,kI]}),r=mT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=U7(i.toString());P8(n,o,()=>o(n.currentUser)),R8(n,a=>o(a))}}const s=fT("auth");return s&&x8(n,`http://${s}`),n}function z7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}l8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",z7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L7("Browser");const B7={apiKey:"AIzaSyBjQwNUZFoXmRHqIZ1cEHy00zg2Bi66AoA",authDomain:"super-shop-8c46a.firebaseapp.com",projectId:"super-shop-8c46a",storageBucket:"super-shop-8c46a.appspot.com",messagingSenderId:"219933718119",appId:"1:219933718119:web:ede8046f4a117a8c1046c2",measurementId:"G-FLXFFC71TT"},FI=wT(B7),H7=$7(FI),nn=gD(FI),UI=T.createContext(void 0),W7=({children:t})=>{const[e,n]=T.useState(null);T.useEffect(()=>{const l=localStorage.getItem("user");if(l){const u=JSON.parse(l);n(u)}},[]),T.useEffect(()=>{if(!(e!=null&&e.id))return;const l=typeof e.id=="string"?e.id.trim():String(e.id).trim(),u=fs(nn,"users",l),d=kD(u,p=>{if(p.exists()){const h=p.data(),y={...e,...h};n(y),localStorage.setItem("user",JSON.stringify(y))}});return()=>d()},[e==null?void 0:e.id]);const r=async l=>{if(!l.id)throw new Error("رقم المستخدم (ID) غير موجود");const u={name:l.name,id:l.id,email:l.email,profilePicture:l.profilePicture||void 0,isAdmin:l.isAdmin||!1,points:l.points||0};localStorage.setItem("user",JSON.stringify(u)),n(u),console.log("Logging in with ID:",l.id)},s=()=>{localStorage.removeItem("user"),n(null)},i=async l=>{if(e)try{const u=fs(nn,"users",e.id);await Fl(u,{profilePicture:l,updatedAt:new Date().toISOString()},{merge:!0})}catch(u){console.error("فشل تحديث صورة الملف الشخصي:",u)}},o=async l=>{if(!e)throw new Error("يجب تسجيل الدخول أولاً");const u=typeof e.id=="string"?e.id.trim():String(e.id).trim(),d=fs(nn,"users",u);try{await Fl(d,{points:l},{merge:!0})}catch(p){console.error("فشل تحديث النقاط:",p)}},a=async()=>{if(e!=null&&e.id)try{const l=fs(nn,"users",e.id),u=await nI(l);if(u.exists()){const d=u.data(),p={...e,...d};n(p),localStorage.setItem("user",JSON.stringify(p))}}catch(l){throw console.error("فشل تحديث بيانات المستخدم:",l),l}};return f.jsx(UI.Provider,{value:{user:e,login:r,logout:s,updateProfilePicture:i,updatePoints:o,refreshUserData:a},children:t})},fc=()=>{const t=T.useContext(UI);if(!t)throw new Error("يجب استخدام useAuth داخل AuthProvider");return t},Ws=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[s,i]=T.useState(!1),[o,a]=T.useState(null),l=T.useRef(null),u=T.useRef(null),{user:d,logout:p,refreshUserData:h}=fc(),y=()=>e(!t),x=()=>r(!n),v=()=>i(!s);T.useEffect(()=>{const I=N=>{l.current&&!l.current.contains(N.target)&&r(!1),u.current&&!u.current.contains(N.target)&&i(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const b=I=>{navigator.clipboard.writeText(I.toString()),Ie.success("تم نسخ الأيدي إلى الحافظة")};T.useEffect(()=>{d!=null&&d.profilePicture?a(d.profilePicture):a(null)},[d]);const w=async()=>{if(d)try{await h(),Ie.success("تم تحديث النقاط بنجاح")}catch(I){console.error("خطأ في تحديث النقاط:",I),Ie.error("حدث خطأ أثناء تحديث النقاط")}},_=(I=!1)=>f.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg py-4 px-6 text-gray-800 text-sm border border-gray-200 z-50",children:[f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o?f.jsx("img",{src:o,alt:"Profile",className:"w-12 h-12 rounded-full"}):f.jsx(Tf,{className:"w-12 h-12 text-smm-purple"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold truncate",children:d==null?void 0:d.name}),f.jsxs("div",{className:"flex items-center",children:[f.jsxs("p",{className:"text-xs opacity-80",children:["ID: ",d==null?void 0:d.id]}),f.jsx("button",{onClick:()=>b(d==null?void 0:d.id),className:"ml-2 text-gray-500 hover:text-gray-700",children:f.jsx(zp,{className:"w-4 h-4"})})]})]})]}),f.jsx("hr",{className:"my-2"}),f.jsxs("button",{onClick:p,className:"flex items-center w-full text-red-500 hover:bg-red-50 hover:text-red-700 transition-colors py-2 px-4 rounded-lg text-left",children:[f.jsx(I4,{className:"w-5 h-5 mr-2"}),"تسجيل الخروج"]})]});return f.jsxs("nav",{className:"w-full py-4 bg-white shadow-sm relative z-50",children:[f.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[f.jsx(ke,{to:"/",className:"text-2xl font-bold gradient-text",children:"Super Shop"}),f.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[f.jsx(ke,{to:"/",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"الرئيسية"}),f.jsx(ke,{to:"/services",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"الخدمات"}),f.jsx(ke,{to:"/about-us",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"من نحن"}),f.jsx(ke,{to:"/order-tracking",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"تتبع الطلبات"}),(d==null?void 0:d.isAdmin)&&f.jsx(ke,{to:"/dashboard",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"لوحة التحكم"}),!d&&f.jsx(ke,{to:"/login",className:"text-gray-700 hover:text-smm-purple transition-colors",children:"تسجيل الدخول"}),d&&f.jsxs("div",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-full",children:[f.jsx(nx,{className:"w-5 h-5 text-yellow-500 mr-1"}),f.jsxs("span",{className:"text-sm font-medium",children:[d.points??0," نقاط"]}),f.jsx("button",{className:"ml-2 p-1 rounded-full hover:bg-gray-200 transition-colors",onClick:w,children:f.jsx(C4,{className:"w-4 h-4"})})]}),f.jsx(lt,{asChild:!0,className:"bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:f.jsx(ke,{to:"/services",children:"ابدأ الآن"})}),d&&f.jsxs("div",{className:"relative",ref:l,children:[f.jsx("button",{onClick:x,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 transition",children:o?f.jsx("img",{src:o,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):f.jsx(Tf,{className:"w-8 h-8 text-smm-purple"})}),n&&_()]})]}),f.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[d&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center bg-gray-100 px-2 py-1 rounded-full",children:[f.jsx(nx,{className:"w-4 h-4 text-yellow-500 mr-1"}),f.jsx("span",{className:"text-xs font-medium",children:d.points??0})]}),f.jsxs("div",{className:"relative",ref:u,children:[f.jsx("button",{onClick:v,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 transition",children:o?f.jsx("img",{src:o,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):f.jsx(Tf,{className:"w-8 h-8 text-smm-purple"})}),s&&_(!0)]})]}),f.jsx(lt,{variant:"ghost",size:"icon",onClick:y,children:t?f.jsx(yb,{}):f.jsx(S4,{})})]})]}),t&&f.jsx("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-white shadow-md z-50 py-4 px-4",children:f.jsxs("div",{className:"flex flex-col space-y-4",children:[f.jsx(ke,{to:"/",onClick:y,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"الرئيسية"}),f.jsx(ke,{to:"/services",onClick:y,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"الخدمات"}),f.jsx(ke,{to:"/about-us",onClick:y,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"من نحن"}),f.jsx(ke,{to:"/order-tracking",onClick:y,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"تتبع الطلبات"}),(d==null?void 0:d.isAdmin)&&f.jsx(ke,{to:"/dashboard",onClick:y,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"لوحة التحكم"}),!d&&f.jsx(ke,{to:"/login",onClick:y,className:"text-gray-700 hover:text-smm-purple px-4 py-2 transition-colors",children:"تسجيل الدخول"}),f.jsx(lt,{asChild:!0,className:"bg-gradient-smm hover:bg-smm-purple transition-all duration-300 w-full",children:f.jsx(ke,{to:"/services",onClick:y,children:"ابدأ الآن"})}),d&&f.jsxs("div",{className:"bg-smm-purple text-white px-4 py-2 rounded-xl text-sm shadow-lg text-right",children:[f.jsx("div",{className:"font-semibold truncate",children:d.name}),f.jsxs("div",{className:"flex items-center justify-end",children:[f.jsxs("span",{className:"text-xs opacity-80",children:["ID: ",d.id]}),f.jsx("button",{onClick:()=>b(d.id),className:"ml-2 text-white opacity-70 hover:opacity-100",children:f.jsx(zp,{className:"w-4 h-4"})})]})]})]})})]})},q7=()=>f.jsxs("div",{className:"relative overflow-hidden bg-white py-12 md:py-24",children:[f.jsx("div",{className:"absolute -top-10 -right-10 w-72 h-72 bg-smm-yellow opacity-10 rounded-full blur-3xl"}),f.jsx("div",{className:"absolute -bottom-10 -left-10 w-80 h-80 bg-smm-purple opacity-10 rounded-full blur-3xl"}),f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[f.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[f.jsx("span",{className:"gradient-text",children:"عزز تواجدك الاجتماعي"})," اليوم"]}),f.jsx("p",{className:"text-gray-600 text-lg md:text-xl mb-8 max-w-2xl",children:"احصل على تفاعل حقيقي لملفاتك الشخصية على وسائل التواصل الاجتماعي. متابعون وإعجابات ومشاهدات عالية الجودة يتم تسليمها بسرعة وأمان."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx(lt,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 transition-all text-white font-medium px-8 py-6",children:f.jsx(ke,{to:"/services",children:"تصفح الخدمات"})}),f.jsx(lt,{asChild:!0,variant:"outline",className:"border-smm-purple text-smm-purple hover:bg-smm-purple/5 px-8 py-6",children:f.jsx(ke,{to:"/services",children:"عرض الأسعار"})})]}),f.jsxs("div",{className:"mt-12 flex flex-wrap gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"50K+"}),f.jsx("span",{className:"text-gray-600",children:"طلبات مكتملة"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"100%"}),f.jsx("span",{className:"text-gray-600",children:"رضا العملاء"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"font-bold text-3xl text-smm-purple",children:"24/7"}),f.jsx("span",{className:"text-gray-600",children:"دعم فني"})]})]})]}),f.jsx("div",{className:"lg:w-1/2 relative",children:f.jsxs("div",{className:"relative w-full h-64 md:h-96 bg-gradient-to-r from-smm-purple to-smm-pink rounded-2xl overflow-hidden shadow-xl animate-float",children:[f.jsx("div",{className:"absolute inset-0 bg-black/10"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"text-white text-center px-6",children:[f.jsx("h3",{className:"text-2xl font-bold mb-2",children:"خدمات مميزة لوسائل التواصل الاجتماعي"}),f.jsx("p",{className:"mb-4",children:"انستغرام، تيك توك، تليجرام، يوتيوب والمزيد"}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full"})}),f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full"})}),f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-red-500 to-pink-500 rounded-full"})}),f.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-full"})})]})]})})]})})]})})]}),qs=()=>f.jsx("footer",{className:"bg-gray-50 pt-12 pb-8",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[f.jsxs("div",{children:[f.jsx(ke,{to:"/",className:"text-2xl font-bold gradient-text mb-4 inline-block",children:"Hson Store"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"خدمات تسويق مميزة على وسائل التواصل الاجتماعي لمساعدتك على تنمية تواجدك وتفاعلك عبر الإنترنت."}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"فيسبوك"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"انستغرام"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"تويتر"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),f.jsxs("a",{href:"#",className:"w-10 h-10 rounded-full bg-smm-purple/10 flex items-center justify-center text-smm-purple hover:bg-smm-purple hover:text-white transition-colors",children:[f.jsx("span",{className:"sr-only",children:"تليجرام"}),f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:f.jsx("path",{d:"M22.05 1.577c-.393-.016-.784.08-1.117.235-.484.186-4.92 1.902-9.41 3.64-2.26.873-4.518 1.746-6.256 2.415-1.737.67-3.045 1.168-3.114 1.192-.46.16-1.082.362-1.61.984-.133.155-.267.354-.335.628s-.038.622.095.895c.265.547.714.773 1.244.976 1.76.564 3.58 1.102 5.087 1.608.556 1.96 1.09 3.927 1.618 5.89.174.394.553.54.944.544l-.002.02s.307.03.606-.042c.3-.07.677-.244 1.02-.565.377-.354 1.4-1.36 1.98-1.928l4.37 3.226.035.02s.38.193.768.193c.39 0 .786-.16 1.022-.53.133-.206.2-.494.2-.798.008-.47-.377-1.027-.377-1.027s-3.95-3.604-6.215-5.68c.61-.61 1.223-1.22 1.83-1.83.442-.44.882-.882 1.32-1.325.87-.874 1.152-1.295 1.288-1.53.13-.233.166-.362.166-.362.009-.13.022-.283.006-.466-.04-.33-.2-.617-.48-.817-.28-.203-.67-.248-.67-.248h-3.478c-.392.013-.792.123-1.115.332-.323.2-.584.46-.79.752l-.178.284s-2.05 2.97-3.55 4.84c-1.596 1.987-2.07 1.77-2.07 1.77l-.024-.04s-.114-.066-.19-.215c-.083-.176-.114-.37-.114-.52 0-.36-.004-4.368-.004-4.368s-.146-.414-.493-.604c-.348-.19-.84-.233-.84-.233l-4.75.03s-.368.023-.605.207-.4.555-.264.847c.143.282.453.509.762.781.308.273 7.924 8.575 16.8 12.224 0 0 .883.353 1.427.392.544.04 1.043-.124 1.43-.358.386-.234.58-.494.656-.8.07-.298.07-.703.07-.703.006-.26-.025-.398-.025-.398z"})})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"روابط سريعة"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx(ke,{to:"/",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الرئيسية"})}),f.jsx("li",{children:f.jsx(ke,{to:"/services",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الخدمات"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"كيف تعمل"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"الأسئلة الشائعة"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"اتصل بنا"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"خدماتنا"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"متابعين انستغرام"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"مشتركين تليجرام"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"إعجابات انستغرام"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"مشاهدات يوتيوب"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-gray-600 hover:text-smm-purple transition-colors",children:"متابعين تيك توك"})})]})]})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-8 flex flex-col md:flex-row justify-between items-center",children:[f.jsxs("p",{className:"text-gray-500 text-sm",children:["© ",new Date().getFullYear()," HSON STORE. جميع الحقوق محفوظة."]}),f.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[f.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"سياسة الخصوصية"}),f.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"شروط الخدمة"}),f.jsx("a",{href:"#",className:"text-gray-500 hover:text-smm-purple text-sm",children:"سياسة الاسترداد"})]})]})]})}),Ti=T.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:$e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ti.displayName="Card";const Go=T.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:$e("flex flex-col space-y-1.5 p-6",t),...e}));Go.displayName="CardHeader";const Ko=T.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:$e("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ko.displayName="CardTitle";const j0=T.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:$e("text-sm text-muted-foreground",t),...e}));j0.displayName="CardDescription";const Ii=T.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:$e("p-6 pt-0",t),...e}));Ii.displayName="CardContent";const Od=T.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:$e("flex items-center p-6 pt-0",t),...e}));Od.displayName="CardFooter";const G7=()=>{const t=[{name:"Instagrams",icon:"📸",description:"احصل على متابعين حقيقيين وإعجابات وتعليقات على انستغرام"},{name:"Telegram",icon:"✈️",description:"نمو قناتك على تليجرام مع مشتركين حقيقيين"},{name:"TikTok",icon:"🎵",description:"زيادة مشاهداتك ومتابعيك وتفاعلك على تيك توك"},{name:"YouTube",icon:"🎬",description:"عزز مشاهداتك ومشتركيك ووقت المشاهدة على يوتيوب"}];return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ws,{}),f.jsxs("main",{className:"flex-grow",children:[f.jsx(q7,{}),f.jsx("section",{className:"py-16 bg-gray-50",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"المنصات التي ندعمها"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"نقدم خدمات عالية الجودة لوسائل التواصل الاجتماعي عبر جميع المنصات الرئيسية لمساعدتك على تنمية تواجدك عبر الإنترنت."})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>f.jsx(Ti,{className:"hover:shadow-md transition-shadow",children:f.jsx(Ii,{className:"p-6",children:f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("span",{className:"text-4xl mb-4",children:e.icon}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.name}),f.jsx("p",{className:"text-gray-600",children:e.description})]})})},n))})]})}),f.jsx("section",{className:"py-16",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"كيف تعمل"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"عمليتنا بسيطة وسريعة ومصممة لتحقيق النتائج بسرعة."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"1"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"اختر باقة"}),f.jsx("p",{className:"text-gray-600",children:"تصفح مجموعتنا من الخدمات واختر الباقة التي تناسب احتياجاتك."})]}),f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"2"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"أكمل الدفع"}),f.jsx("p",{className:"text-gray-600",children:"ادفع بأمان باستخدام طرق الدفع المختلفة لدينا، بما في ذلك رصيد آسيا سيل."})]}),f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-smm flex items-center justify-center text-white text-xl font-bold mb-4",children:"3"}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"شاهد نموك"}),f.jsx("p",{className:"text-gray-600",children:"استرخ وشاهد بينما نقدم تفاعلاً عالي الجودة لملفاتك الشخصية على وسائل التواصل الاجتماعي."})]})]}),f.jsx("div",{className:"text-center mt-12",children:f.jsx(lt,{asChild:!0,className:"bg-gradient-smm hover:opacity-90 px-8 py-6",children:f.jsx(ke,{to:"/services",children:"ابدأ الآن"})})})]})}),f.jsx("section",{className:"py-16 bg-gradient-smm text-white",children:f.jsxs("div",{className:"container mx-auto px-4 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"هل أنت مستعد لتعزيز تواجدك الاجتماعي؟"}),f.jsx("p",{className:"text-white/80 max-w-2xl mx-auto mb-8",children:"انضم إلى آلاف العملاء الراضين الذين نجحوا في تنمية تواجدهم على وسائل التواصل الاجتماعي من خلال خدماتنا المتميزة."}),f.jsx(lt,{asChild:!0,className:"bg-white text-smm-purple hover:bg-white/90 px-8 py-6",children:f.jsx(ke,{to:"/services",children:"عرض جميع الخدمات"})})]})})]}),f.jsx(qs,{})]})},Bt=T.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Bt.displayName="Input";var K7="Label",$I=T.forwardRef((t,e)=>f.jsx(je.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$I.displayName=K7;var zI=$I;const Q7=Pg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tt=T.forwardRef(({className:t,...e},n)=>f.jsx(zI,{ref:n,className:$e(Q7(),t),...e}));tt.displayName=zI.displayName;const Y7=({title:t,description:e,price:n,features:r,popular:s=!1,platform:i,icon:o,quantity:a,id:l,minQuantity:u,pointsPerUnit:d})=>{const[p,h]=T.useState(u||a||0),y=Zo();T.useEffect(()=>{h(u||a||0)},[u,a]),console.log("ServiceCard:",{id:l,title:t,minQuantity:u,pointsPerUnit:d,selectedQuantity:p,calculatedPoints:u&&d?Math.ceil(p/u)*d:n});const x=w=>{const _=parseInt(w.target.value,10);if(!isNaN(_)&&u){let I=_;I<u?I=u:(I=Math.round(I/u)*u,I<u&&(I=u)),h(I)}else h(u||0)},v=u&&d?Math.ceil(p/u)*d:n,b=()=>{const w=new URLSearchParams;w.append("service",l),u&&d?(w.append("minQuantity",u.toString()),w.append("pointsPerUnit",d.toString()),w.append("points",(v==null?void 0:v.toString())||"0"),w.append("quantity",p.toString())):(w.append("points",(n==null?void 0:n.toString())||"0"),w.append("quantity",(a==null?void 0:a.toString())||"0")),y(`/payment?${w.toString()}`)};return f.jsxs(Ti,{className:`w-full transition-all duration-300 hover:shadow-lg ${s?"border-2 border-smm-pink relative":""}`,children:[s&&f.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-smm-pink text-white text-sm py-1 px-3 rounded-full",children:"الاختيار الأكثر شيوعًا"}),f.jsxs(Go,{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"bg-gradient-smm w-10 h-10 rounded-full flex items-center justify-center text-white",children:o}),f.jsx("span",{className:"text-sm text-gray-500",children:i})]}),f.jsx(Ko,{className:"text-xl sm:text-2xl",children:t}),f.jsx(j0,{children:e})]}),f.jsxs(Ii,{children:[f.jsx("div",{className:"mb-6",children:u&&d?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs(tt,{htmlFor:`quantity-${l}`,children:["الكمية (",u,"+)"]}),f.jsx(Bt,{id:`quantity-${l}`,type:"number",value:p,onChange:x,min:u,step:u})]}),f.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:[v," نقاط"]}),f.jsxs("p",{className:"text-sm text-gray-500",children:["السعر لـ ",p," ",t.toLowerCase()]})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-3xl font-bold text-smm-purple",children:[n," نقاط"]}),f.jsxs("p",{className:"text-sm text-gray-500",children:["لـ ",a," ",t.toLowerCase()]})]})}),f.jsx("ul",{className:"space-y-2",children:r.map((w,_)=>f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),w]},_))})]}),f.jsx(Od,{children:f.jsx(lt,{className:`w-full ${s?"bg-gradient-smm":"bg-smm-purple"} hover:opacity-90`,onClick:b,children:"اطلب الآن"})})]})};function X7(t,e=[]){let n=[];function r(i,o){const a=T.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:h,children:y,...x}=p,v=(h==null?void 0:h[t][l])||a,b=T.useMemo(()=>x,Object.values(x));return f.jsx(v.Provider,{value:b,children:y})}function d(p,h){const y=(h==null?void 0:h[t][l])||a,x=T.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,J7(s,...e)]}function J7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Z7=T.createContext(void 0);function M0(t){const e=T.useContext(Z7);return t||e||"ltr"}var Uf="rovingFocusGroup.onEntryFocus",ej={bubbles:!1,cancelable:!0},Rh="RovingFocusGroup",[Tm,BI,tj]=$E(Rh),[nj,Ph]=X7(Rh,[tj]),[rj,sj]=nj(Rh),HI=T.forwardRef((t,e)=>f.jsx(Tm.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Tm.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(ij,{...t,ref:e})})}));HI.displayName=Rh;var ij=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=t,h=T.useRef(null),y=Gt(e,h),x=M0(i),[v=null,b]=Jd({prop:o,defaultProp:a,onChange:l}),[w,_]=T.useState(!1),I=jn(u),N=BI(n),D=T.useRef(!1),[M,A]=T.useState(0);return T.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Uf,I),()=>E.removeEventListener(Uf,I)},[I]),f.jsx(rj,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:v,onItemFocus:T.useCallback(E=>b(E),[b]),onItemShiftTab:T.useCallback(()=>_(!0),[]),onFocusableItemAdd:T.useCallback(()=>A(E=>E+1),[]),onFocusableItemRemove:T.useCallback(()=>A(E=>E-1),[]),children:f.jsx(je.div,{tabIndex:w||M===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{D.current=!0}),onFocus:xe(t.onFocus,E=>{const C=!D.current;if(E.target===E.currentTarget&&C&&!w){const R=new CustomEvent(Uf,ej);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=N().filter(J=>J.focusable),O=k.find(J=>J.active),P=k.find(J=>J.id===v),re=[O,P,...k].filter(Boolean).map(J=>J.ref.current);GI(re,d)}}D.current=!1}),onBlur:xe(t.onBlur,()=>_(!1))})})}),WI="RovingFocusGroupItem",qI=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ab(),l=i||a,u=sj(WI,n),d=u.currentTabStopId===l,p=BI(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=u;return T.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),f.jsx(Tm.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(je.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:xe(t.onMouseDown,x=>{r?u.onItemFocus(l):x.preventDefault()}),onFocus:xe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:xe(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=lj(x,u.orientation,u.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=p().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const _=w.indexOf(x.currentTarget);w=u.loop?cj(w,_+1):w.slice(_+1)}setTimeout(()=>GI(w))}})})})});qI.displayName=WI;var oj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aj(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lj(t,e,n){const r=aj(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oj[r]}function GI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function cj(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KI=HI,QI=qI,L0="Tabs",[uj,lM]=Jl(L0,[Ph]),YI=Ph(),[dj,V0]=uj(L0),XI=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=M0(a),[p,h]=Jd({prop:r,onChange:s,defaultProp:i});return f.jsx(dj,{scope:n,baseId:Ab(),value:p,onValueChange:h,orientation:o,dir:d,activationMode:l,children:f.jsx(je.div,{dir:d,"data-orientation":o,...u,ref:e})})});XI.displayName=L0;var JI="TabsList",ZI=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=V0(JI,n),o=YI(n);return f.jsx(KI,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(je.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});ZI.displayName=JI;var eS="TabsTrigger",tS=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=V0(eS,n),a=YI(n),l=sS(o.baseId,r),u=iS(o.baseId,r),d=r===o.value;return f.jsx(QI,{asChild:!0,...a,focusable:!s,active:d,children:f.jsx(je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:xe(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:xe(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:xe(t.onFocus,()=>{const p=o.activationMode!=="manual";!d&&!s&&p&&o.onValueChange(r)})})})});tS.displayName=eS;var nS="TabsContent",rS=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=V0(nS,n),l=sS(a.baseId,r),u=iS(a.baseId,r),d=r===a.value,p=T.useRef(d);return T.useEffect(()=>{const h=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(h)},[]),f.jsx(Zl,{present:s||d,children:({present:h})=>f.jsx(je.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:h&&i})})});rS.displayName=nS;function sS(t,e){return`${t}-trigger-${e}`}function iS(t,e){return`${t}-content-${e}`}var hj=XI,oS=ZI,aS=tS,lS=rS;const fj=hj,cS=T.forwardRef(({className:t,...e},n)=>f.jsx(oS,{ref:n,className:$e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));cS.displayName=oS.displayName;const Gi=T.forwardRef(({className:t,...e},n)=>f.jsx(aS,{ref:n,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Gi.displayName=aS.displayName;const uS=T.forwardRef(({className:t,...e},n)=>f.jsx(lS,{ref:n,className:$e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));uS.displayName=lS.displayName;const pj=()=>{const[t,e]=T.useState("all"),n=[{id:"insta-followers",title:"رشق انستكرام",description:"متابعون انستغرام عالي الجودة يتفاعلون مع محتواك",features:["لا يتطلب كلمة مرور","ثابت بدون نزول"],popular:!0,platform:"Instagram",icon:"📸",minQuantity:300,pointsPerUnit:1,category:"instagram"},{id:"telegram-followers",title:"رشق متابعين تيليكرام",description:"احصل على متابعين حقيقيين لقناتك التليجرام",features:["متابعون عالي الجودة","نمط نمو طبيعي","ضمان عدم النقص","دعم للقنوات الخاصة"],popular:!0,platform:"Telegram",icon:"✈️",minQuantity:500,pointsPerUnit:1,category:"telegram"},{id:"tiktok-followers-1000",title:"متابعين تيك توك",description:"نمو حسابك على تيك توك مع متابعين عالي الجودة",features:["صورة ملف شخصي وسيرة ذاتية","متابعون مستقرون","لا يتطلب كلمة مرور","نمو آمن وطبيعي"],popular:!1,platform:"TikTok",icon:"🎵",minQuantity:1e3,pointsPerUnit:8.99,category:"tiktok"},{id:"tiktok-likes-2000",title:"إعجابات تيك توك",description:"احصل على المزيد من التفاعل مع إعجابات تيك توك",features:["احتفاظ عالٍ","تسليم سريع","يعمل مع جميع الفيديوهات","يزيد الوصول الخوارزمي"],popular:!1,platform:"TikTok",icon:"❤️",minQuantity:2e3,pointsPerUnit:5.99,category:"tiktok"},{id:"youtube-views-5000",title:"مشاهدات يوتيوب",description:"عزز أداء فيديوهاتك مع المزيد من المشاهدات",features:["مشاهدات باحتفاظ عالٍ","آمن لـ Ad-sense","استهداف جغرافي","يساعد في التوصيات"],popular:!0,platform:"YouTube",icon:"🎬",minQuantity:5e3,pointsPerUnit:19.99,category:"youtube"},{id:"youtube-subscribers-500",title:"مشتركين يوتيوب",description:"نمو قناتك على يوتيوب مع مشتركين عالي الجودة",features:["حسابات تبدو حقيقية","تسليم تدريجي","لا يتطلب كلمة مرور","مشتركون مفعلون للإشعارات"],popular:!1,platform:"YouTube",icon:"👥",minQuantity:500,pointsPerUnit:29.99,category:"youtube"}],r=t==="all"?n:n.filter(s=>s.category===t);return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ws,{}),f.jsx("main",{className:"flex-grow py-12",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"خدماتنا"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"تصفح مجموعتنا من خدمات وسائل التواصل الاجتماعي عالية الجودة لتعزيز تواجدك وتفاعلك عبر الإنترنت."})]}),f.jsxs(fj,{defaultValue:"all",value:t,onValueChange:e,className:"mb-12",children:[f.jsx("div",{className:"flex justify-center",children:f.jsxs(cS,{className:"bg-gray-100",children:[f.jsx(Gi,{value:"all",children:"جميع الخدمات"}),f.jsx(Gi,{value:"instagram",children:"انستغرام"}),f.jsx(Gi,{value:"telegram",children:"تليجرام"}),f.jsx(Gi,{value:"tiktok",children:"تيك توك"}),f.jsx(Gi,{value:"youtube",children:"يوتيوب"})]})}),f.jsx(uS,{value:t,className:"mt-8",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(s=>f.jsx(Y7,{id:s.id,title:s.title,description:s.description,features:s.features,popular:s.popular,platform:s.platform,icon:s.icon,minQuantity:s.minQuantity,pointsPerUnit:s.pointsPerUnit},s.id))})})]}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 mt-12",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"هل تحتاج إلى باقة مخصصة؟"}),f.jsx("p",{className:"text-gray-600",children:"لا تجد ما تبحث عنه؟ اتصل بنا للحصول على حل مخصص يلبي احتياجاتك."})]}),f.jsx("div",{className:"flex justify-center",children:f.jsx("a",{href:"mailto:uusheko@gmail.com",className:"inline-flex items-center justify-center bg-smm-purple hover:bg-smm-purple/90 text-white px-6 py-3 rounded-md font-medium transition-colors",children:"اتصل بنا"})})]})]})}),f.jsx(qs,{})]})};function mj(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var F0="Radio",[gj,dS]=Jl(F0),[yj,vj]=gj(F0),hS=T.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:u,...d}=t,[p,h]=T.useState(null),y=Gt(e,b=>h(b)),x=T.useRef(!1),v=p?u||!!p.closest("form"):!0;return f.jsxs(yj,{scope:n,checked:s,disabled:o,children:[f.jsx(je.button,{type:"button",role:"radio","aria-checked":s,"data-state":mS(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:y,onClick:xe(t.onClick,b=>{s||l==null||l(),v&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),v&&f.jsx(xj,{control:p,bubbles:!x.current,name:r,value:a,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});hS.displayName=F0;var fS="RadioIndicator",pS=T.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=vj(fS,n);return f.jsx(Zl,{present:r||i.checked,children:f.jsx(je.span,{"data-state":mS(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});pS.displayName=fS;var xj=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=T.useRef(null),o=mj(n),a=Vb(e);return T.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&p){const h=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(h)}},[o,n,r]),f.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mS(t){return t?"checked":"unchecked"}var wj=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],U0="RadioGroup",[_j,cM]=Jl(U0,[Ph,dS]),gS=Ph(),yS=dS(),[Ej,bj]=_j(U0),vS=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:u,loop:d=!0,onValueChange:p,...h}=t,y=gS(n),x=M0(u),[v,b]=Jd({prop:i,defaultProp:s,onChange:p});return f.jsx(Ej,{scope:n,name:r,required:o,disabled:a,value:v,onValueChange:b,children:f.jsx(KI,{asChild:!0,...y,orientation:l,dir:x,loop:d,children:f.jsx(je.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:x,...h,ref:e})})})});vS.displayName=U0;var xS="RadioGroupItem",wS=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=bj(xS,n),o=i.disabled||r,a=gS(n),l=yS(n),u=T.useRef(null),d=Gt(e,u),p=i.value===s.value,h=T.useRef(!1);return T.useEffect(()=>{const y=v=>{wj.includes(v.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",x)}},[]),f.jsx(QI,{asChild:!0,...a,focusable:!o,active:p,children:f.jsx(hS,{disabled:o,required:i.required,checked:p,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:xe(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:xe(s.onFocus,()=>{var y;h.current&&((y=u.current)==null||y.click())})})})});wS.displayName=xS;var Tj="RadioGroupIndicator",_S=T.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=yS(n);return f.jsx(pS,{...s,...r,ref:e})});_S.displayName=Tj;var ES=vS,bS=wS,Ij=_S;const Im=T.forwardRef(({className:t,...e},n)=>f.jsx(ES,{className:$e("grid gap-2",t),...e,ref:n}));Im.displayName=ES.displayName;const Nu=T.forwardRef(({className:t,...e},n)=>f.jsx(bS,{ref:n,className:$e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:f.jsx(Ij,{className:"flex items-center justify-center",children:f.jsx(T4,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Nu.displayName=bS.displayName;var Sj="Separator",ew="horizontal",Cj=["horizontal","vertical"],TS=T.forwardRef((t,e)=>{const{decorative:n,orientation:r=ew,...s}=t,i=Aj(r)?r:ew,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx(je.div,{"data-orientation":i,...a,...s,ref:e})});TS.displayName=Sj;function Aj(t){return Cj.includes(t)}var IS=TS;const ku=T.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>f.jsx(IS,{ref:s,decorative:n,orientation:e,className:$e("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));ku.displayName=IS.displayName;const SS=T.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));SS.displayName="Textarea";const Rj=()=>{const t=Jo(),e=Zo(),{toast:n}=VE(),{user:r}=fc(),[s,i]=T.useState({socialLink:"",paymentMethod:"asiacell",asiacellNumber:"",asiacellSubMethod:"card",asiacellTransferPhoneNumber:"",additionalInfo:""}),[o,a]=T.useState({serviceId:"",points:0,quantity:0}),[l,u]=T.useState(!1),d=o.points*(o.quantity>0?o.quantity:1);T.useEffect(()=>{const x=new URLSearchParams(t.search),v=x.get("service")||"",b=parseFloat(x.get("points")||"0"),w=parseInt(x.get("quantity")||"0",10);if(!v||b===0){e("/services"),n({title:"خطأ",description:"يرجى اختيار خدمة أولاً",variant:"destructive"});return}a({serviceId:v,points:b,quantity:w}),console.log("Payment Page - Extracted Service Info:",{serviceId:v,points:b,quantity:w})},[t,e,n]);const p=x=>{const{name:v,value:b}=x.target;i(w=>({...w,[v]:b}))},h=x=>{i(v=>({...v,paymentMethod:x}))},y=async x=>{if(x.preventDefault(),u(!0),!s.socialLink){n({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"}),u(!1);return}if((r==null?void 0:r.points)<d){n({title:"خطأ",description:`لا يكفي رصيد النقاط لديك. تحتاج إلى ${d} نقطة وليس لديك سوى ${r==null?void 0:r.points} نقطة`,variant:"destructive"}),u(!1);return}if(s.paymentMethod==="asiacell"){if(s.asiacellSubMethod==="card"&&!s.asiacellNumber){n({title:"خطأ",description:"يرجى إدخال رقم كارت Asiacell",variant:"destructive"}),u(!1);return}if(s.asiacellSubMethod==="transfer"&&!s.asiacellTransferPhoneNumber){n({title:"خطأ",description:"يرجى إدخال رقم هاتفك للتحويل",variant:"destructive"}),u(!1);return}}if((r==null?void 0:r.points)<o.points){n({title:"خطأ",description:"لا يكفي رصيد النقاط لديك",variant:"destructive"}),u(!1);return}try{if(console.log("User data before update:",r),console.log("Service info:",o),console.log("Total points to deduct:",d),!r||!r.id||r.points===void 0)throw new Error("Invalid user data");const v=String(r.id).trim();if(!v||v==="undefined"||v==="null")throw new Error("User ID is not valid");const b=fs(nn,"users",v),w=r.points-d;await Fl(b,{points:w,updatedAt:new Date().toISOString()},{merge:!0});const _={...r,points:w};localStorage.setItem("user",JSON.stringify(_)),console.log(`Points updated successfully! Deducted ${d} points. New balance: ${w}`),setTimeout(()=>{console.log("Order submitted:",{...s,...o,totalPointsUsed:d,previousPoints:r.points,newPoints:w}),n({title:"تم استلام الطلب!",description:`تم خصم ${d} نقطة من رصيدك. سنقوم بمعالجة طلبك قريباً.`}),setTimeout(()=>e("/"),2e3),u(!1)},1500)}catch(v){console.error("حدث خطأ أثناء تحديث النقاط:",v),n({title:"خطأ",description:"حدث خطأ أثناء معالجة طلبك، يرجى المحاولة لاحقًا",variant:"destructive"}),u(!1)}};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[f.jsx(Ws,{}),f.jsx("main",{className:"flex-grow py-12",children:f.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[f.jsx("div",{className:"mb-8",children:f.jsx(ke,{to:"/services",className:"inline-flex items-center text-gray-600 hover:text-smm-purple transition-colors text-sm font-medium",children:"← العودة إلى الخدمات"})}),f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"أكمل طلبك"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"املأ التفاصيل الخاصة بك لتقديم طلبك"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx(Ti,{className:"shadow-lg rounded-lg",children:f.jsxs("form",{onSubmit:y,children:[f.jsxs(Go,{className:"border-b border-gray-200 pb-4",children:[f.jsx(Ko,{className:"text-2xl font-semibold text-gray-800",children:"معلوماتك"}),f.jsx(j0,{className:"text-gray-600",children:"سنستخدم هذه المعلومات لمعالجة طلبك"})]}),f.jsxs(Ii,{className:"space-y-6 pt-6",children:[f.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs(tt,{htmlFor:"socialLink",className:"text-gray-700 font-medium",children:["رابط وسائل التواصل الاجتماعي",f.jsx("span",{className:"text-sm text-gray-500 ml-1 font-normal",children:"(رابط إلى ملفك الشخصي/منشورك)"})]}),f.jsx(Bt,{id:"socialLink",name:"socialLink",placeholder:"https://instagram.com/yourusername",value:s.socialLink,onChange:p,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})}),f.jsx(ku,{className:"my-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(tt,{className:"text-gray-700 font-medium",children:"طريقة الدفع"}),f.jsx(Im,{value:s.paymentMethod,onValueChange:h,className:"flex flex-col space-y-3",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Nu,{value:"asiacell",id:"asiacell"}),f.jsx(tt,{htmlFor:"asiacell",className:"cursor-pointer text-gray-600",children:"رصيد Asiacell للجوال"})]})})]}),s.paymentMethod==="asiacell"&&f.jsxs("div",{className:"space-y-4 mt-4 p-4 border border-gray-300 rounded-md bg-gray-50",children:[f.jsx(tt,{className:"text-gray-700 font-medium",children:"اختر طريقة الدفع عبر Asiacell:"}),f.jsxs(Im,{value:s.asiacellSubMethod,onValueChange:x=>i(v=>({...v,asiacellSubMethod:x})),className:"flex flex-col space-y-3",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Nu,{value:"card",id:"asiacell-card"}),f.jsx(tt,{htmlFor:"asiacell-card",className:"cursor-pointer text-gray-600",children:"ارسال رقم كارت الرصيد"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Nu,{value:"transfer",id:"asiacell-transfer"}),f.jsx(tt,{htmlFor:"asiacell-transfer",className:"cursor-pointer text-gray-600",children:"التحويل"})]})]}),s.asiacellSubMethod==="card"&&f.jsxs("div",{className:"space-y-2 mt-4",children:[f.jsx(tt,{htmlFor:"asiacellNumber",className:"text-gray-700 font-medium",children:"رقم كارت الرصيد"}),f.jsx(Bt,{id:"asiacellNumber",name:"asiacellNumber",placeholder:"أدخل رقم كارت الرصيد",value:s.asiacellNumber,onChange:p,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]}),s.asiacellSubMethod==="transfer"&&f.jsxs("div",{className:"space-y-2 mt-4",children:[f.jsx(tt,{htmlFor:"asiacellTransferPhoneNumber",className:"text-gray-700 font-medium",children:"رقم هاتفك الشخصي (للتأكيد)"}),f.jsx(Bt,{id:"asiacellTransferPhoneNumber",name:"asiacellTransferPhoneNumber",placeholder:"أدخل رقم هاتفك",value:s.asiacellTransferPhoneNumber,onChange:p,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"}),f.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["يرجى تحويل المبلغ المطلوب إلى هذا الرقم:"," ",f.jsx("span",{className:"font-bold text-smm-purple",children:"07704061932"})]}),f.jsx("p",{className:"text-sm text-gray-500",children:"بعد التحويل، أدخل رقم هاتفك أعلاه للتأكيد وسنقوم بمعالجة طلبك."})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(tt,{htmlFor:"additionalInfo",className:"text-gray-700 font-medium",children:"معلومات إضافية (اختياري)"}),f.jsx(SS,{id:"additionalInfo",name:"additionalInfo",placeholder:"أي متطلبات أو أسئلة محددة؟",value:s.additionalInfo,onChange:p,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]})]}),f.jsx(Od,{className:"pt-6",children:f.jsx(lt,{type:"submit",className:"w-full bg-gradient-smm hover:opacity-90 text-lg py-3",disabled:l,children:l?"جاري المعالجة...":"إكمال الطلب"})})]})})}),f.jsxs("div",{children:[f.jsxs(Ti,{className:"shadow-lg rounded-lg",children:[f.jsx(Go,{className:"border-b border-gray-200 pb-4",children:f.jsx(Ko,{className:"text-2xl font-semibold text-gray-800",children:"ملخص الطلب"})}),f.jsx(Ii,{className:"space-y-4 pt-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"معرف الخدمة:"}),f.jsx("span",{className:"font-medium text-gray-800",children:o.serviceId})]}),o.quantity>0&&f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الكمية:"}),f.jsx("span",{className:"font-medium text-gray-800",children:o.quantity})]}),f.jsx(ku,{}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"المجموع الفرعي:"}),f.jsxs("span",{className:"font-medium text-gray-800",children:[d," نقاط"]})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"رسوم المعالجة:"}),f.jsx("span",{className:"font-medium text-gray-800",children:"0 نقاط"})]}),f.jsx(ku,{}),f.jsxs("div",{className:"flex justify-between font-bold text-gray-800 text-xl",children:[f.jsx("span",{children:"الإجمالي:"}),f.jsxs("span",{children:[o.points," نقاط"]})]})]})}),f.jsx(Od,{className:"flex flex-col items-start space-y-4 pt-6",children:f.jsxs("div",{className:"text-sm text-gray-600",children:[f.jsx("p",{className:"font-semibold mb-2 text-gray-700",children:"ملاحظات الطلب:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[f.jsx("li",{children:"يبدأ التسليم خلال 24 ساعة"}),f.jsx("li",{children:"لا يتطلب كلمة مرور"}),f.jsx("li",{children:"آمن ومضمون 100%"})]})]})})]}),f.jsx("div",{className:"mt-6 p-4 bg-gray-100 rounded-md border border-gray-200",children:f.jsxs("p",{className:"text-sm text-gray-700",children:[f.jsx("span",{className:"font-semibold block mb-1 text-gray-800",children:"هل تحتاج مساعدة؟"}),"إذا كان لديك أي أسئلة أو تحتاج إلى مساعدة، اتصل بفريق الدعم لدينا على"," ",f.jsx("a",{href:"mailto:uusheko@gmail.com",className:"text-smm-purple hover:underline",children:"uusheko@gmail.com"})]})})]})]})]})}),f.jsx(qs,{})]})},Pj=()=>{const t=Jo();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Nj=()=>f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ws,{}),f.jsxs("main",{className:"flex-grow",children:[f.jsx("section",{className:"py-16 bg-gray-100 text-center",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"عن متجرنا المميز"}),f.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"اكتشف قصتنا، مهمتنا، والأشخاص الشغوفين وراء نجاحنا."})]})}),f.jsx("section",{className:"py-16",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[f.jsxs("div",{className:"md:w-1/2",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:"قصتنا"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"تأسس متجرنا المميز في [السنة] بهدف بسيط: توفير [منتجات/خدمات] عالية الجودة لمجتمعنا. ما بدأ كمشروع صغير نما ليصبح اسمًا موثوقًا به، معروفًا بالتزامنا بالتميز ورضا العملاء."}),f.jsx("p",{className:"text-gray-600",children:"على مر السنين، قمنا بتوسيع عروضنا وحققنا إنجازات جديدة، لكن قيمنا الأساسية لا تزال كما هي. نؤمن ببناء علاقات دائمة مع عملائنا وإحداث تأثير إيجابي."})]}),f.jsx("div",{className:"md:w-1/2",children:f.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-500",children:"صورة توضيحية"})})]})})}),f.jsx("section",{className:"py-16 bg-gray-50",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-8",children:[f.jsxs("div",{className:"md:w-1/2",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:"مهمتنا"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"مهمتنا هي [بيان مهمتك]. نسعى جاهدين لـ [الجوانب الرئيسية لمهمتك، مثل: تقديم قيمة استثنائية، تعزيز الابتكار، دعم المجتمعات المحلية]."}),f.jsx("p",{className:"text-gray-600",children:"نحن ملتزمون بـ [جانب رئيسي آخر من مهمتك]. كل قرار نتخذه يسترشد بالتزامنا بـ [القيمة الأساسية المتعلقة بالمهمة]."})]}),f.jsx("div",{className:"md:w-1/2",children:f.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center text-gray-500",children:"صورة توضيحية"})})]})})})]}),f.jsx(qs,{})]}),kj=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(null),[s,i]=T.useState(!1),[o,a]=T.useState(""),l=d=>{e(d.target.value)},u=d=>{if(d.preventDefault(),a(""),r(null),!t){a("Please enter an Order ID.");return}i(!0),setTimeout(()=>{i(!1),t==="12345"?r({id:"12345",service:"رشق انستكرام",quantity:500,status:"قيد المعالجة",date:"2023-10-27"}):a("Order not found.")},1500)};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font bg-gray-50",children:[f.jsx(Ws,{}),f.jsx("main",{className:"flex-grow py-12",children:f.jsxs("div",{className:"container mx-auto px-4 max-w-2xl",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8",children:"تتبع طلبك"}),f.jsxs(Ti,{className:"shadow-lg rounded-lg",children:[f.jsx(Go,{className:"border-b border-gray-200 pb-4",children:f.jsx(Ko,{className:"text-2xl font-semibold text-gray-800",children:"أدخل معرف الطلب"})}),f.jsx(Ii,{className:"space-y-4 pt-6",children:f.jsxs("form",{onSubmit:u,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(tt,{htmlFor:"orderId",className:"text-gray-700 font-medium",children:"معرف الطلب"}),f.jsx(Bt,{id:"orderId",type:"text",placeholder:"أدخل معرف طلبك هنا",value:t,onChange:l,required:!0,className:"border-gray-300 focus:border-smm-purple focus:ring-smm-purple"})]}),o&&f.jsx("p",{className:"text-red-500 text-sm",children:o}),f.jsx(lt,{type:"submit",className:"w-full bg-gradient-smm hover:opacity-90 text-lg py-3",disabled:s,children:s?"جاري البحث...":"تتبع الطلب"})]})})]}),n&&f.jsxs(Ti,{className:"shadow-lg rounded-lg mt-8",children:[f.jsx(Go,{className:"border-b border-gray-200 pb-4",children:f.jsx(Ko,{className:"text-2xl font-semibold text-gray-800",children:"تفاصيل الطلب"})}),f.jsxs(Ii,{className:"space-y-4 pt-6",children:[f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"معرف الطلب:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.id})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الخدمة:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.service})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الكمية:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.quantity})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"الحالة:"}),f.jsx("span",{className:`font-medium ${n.status==="قيد المعالجة"?"text-yellow-600":"text-green-600"}`,children:n.status})]}),f.jsxs("div",{className:"flex justify-between text-gray-700",children:[f.jsx("span",{children:"التاريخ:"}),f.jsx("span",{className:"font-medium text-gray-800",children:n.date})]})]})]})]})}),f.jsx(qs,{})]})},Oj={};var Sm=null;function Dj(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return Oj.randomBytes(t)}catch{}if(!Sm)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Sm(t)}function jj(t){Sm=t}function $0(t,e){if(t=t||z0,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(Dd(Dj($l),$l)),n.join("")}function CS(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=z0;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function r(s){Pn(function(){try{s(null,$0(t))}catch(i){s(i)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(s,i){r(function(o,a){if(o){i(o);return}s(a)})})}function AS(t,e){if(typeof e>"u"&&(e=z0),typeof e=="number"&&(e=$0(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return Cm(t,e)}function RS(t,e,n,r){function s(i){typeof t=="string"&&typeof e=="number"?CS(e,function(o,a){Cm(t,a,i,r)}):typeof t=="string"&&typeof e=="string"?Cm(t,e,i,r):Pn(i.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(i,o){s(function(a,l){if(a){o(a);return}i(l)})})}function PS(t,e){for(var n=t.length^e.length,r=0;r<t.length;++r)n|=t.charCodeAt(r)^e.charCodeAt(r);return n===0}function Mj(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:PS(AS(t,e.substring(0,e.length-31)),e)}function Lj(t,e,n,r){function s(i){if(typeof t!="string"||typeof e!="string"){Pn(i.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Pn(i.bind(this,null,!1));return}RS(t,e.substring(0,29),function(o,a){o?i(o):i(null,PS(a,e))},r)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(i,o){s(function(a,l){if(a){o(a);return}i(l)})})}function Vj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function Fj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function Uj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return NS(t)>72}var Pn=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function NS(t){for(var e=0,n=0,r=0;r<t.length;++r)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320?(++r,e+=4):e+=3;return e}function $j(t){for(var e=0,n,r,s=new Array(NS(t)),i=0,o=t.length;i<o;++i)n=t.charCodeAt(i),n<128?s[e++]=n:n<2048?(s[e++]=n>>6|192,s[e++]=n&63|128):(n&64512)===55296&&((r=t.charCodeAt(i+1))&64512)===56320?(n=65536+((n&1023)<<10)+(r&1023),++i,s[e++]=n>>18|240,s[e++]=n>>12&63|128,s[e++]=n>>6&63|128,s[e++]=n&63|128):(s[e++]=n>>12|224,s[e++]=n>>6&63|128,s[e++]=n&63|128);return s}var zi="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Kr=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Dd(t,e){var n=0,r=[],s,i;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(s=t[n++]&255,r.push(zi[s>>2&63]),s=(s&3)<<4,n>=e){r.push(zi[s&63]);break}if(i=t[n++]&255,s|=i>>4&15,r.push(zi[s&63]),s=(i&15)<<2,n>=e){r.push(zi[s&63]);break}i=t[n++]&255,s|=i>>6&3,r.push(zi[s&63]),r.push(zi[i&63])}return r.join("")}function kS(t,e){var n=0,r=t.length,s=0,i=[],o,a,l,u,d,p;if(e<=0)throw Error("Illegal len: "+e);for(;n<r-1&&s<e&&(p=t.charCodeAt(n++),o=p<Kr.length?Kr[p]:-1,p=t.charCodeAt(n++),a=p<Kr.length?Kr[p]:-1,!(o==-1||a==-1||(d=o<<2>>>0,d|=(a&48)>>4,i.push(String.fromCharCode(d)),++s>=e||n>=r)||(p=t.charCodeAt(n++),l=p<Kr.length?Kr[p]:-1,l==-1)||(d=(a&15)<<4>>>0,d|=(l&60)>>2,i.push(String.fromCharCode(d)),++s>=e||n>=r)));)p=t.charCodeAt(n++),u=p<Kr.length?Kr[p]:-1,d=(l&3)<<6>>>0,d|=u,i.push(String.fromCharCode(d)),++s;var h=[];for(n=0;n<s;n++)h.push(i[n].charCodeAt(0));return h}var $l=16,z0=10,zj=16,Bj=100,tw=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],nw=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],OS=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function zl(t,e,n,r){var s,i=t[e],o=t[e+1];return i^=n[0],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[1],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[2],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[3],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[4],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[5],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[6],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[7],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[8],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[9],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[10],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[11],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[12],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[13],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[14],s=r[i>>>24],s+=r[256|i>>16&255],s^=r[512|i>>8&255],s+=r[768|i&255],o^=s^n[15],s=r[o>>>24],s+=r[256|o>>16&255],s^=r[512|o>>8&255],s+=r[768|o&255],i^=s^n[16],t[e]=o^n[zj+1],t[e+1]=i,t}function Ki(t,e){for(var n=0,r=0;n<4;++n)r=r<<8|t[e]&255,e=(e+1)%t.length;return{key:r,offp:e}}function rw(t,e,n){for(var r=0,s=[0,0],i=e.length,o=n.length,a,l=0;l<i;l++)a=Ki(t,r),r=a.offp,e[l]=e[l]^a.key;for(l=0;l<i;l+=2)s=zl(s,0,e,n),e[l]=s[0],e[l+1]=s[1];for(l=0;l<o;l+=2)s=zl(s,0,e,n),n[l]=s[0],n[l+1]=s[1]}function Hj(t,e,n,r){for(var s=0,i=[0,0],o=n.length,a=r.length,l,u=0;u<o;u++)l=Ki(e,s),s=l.offp,n[u]=n[u]^l.key;for(s=0,u=0;u<o;u+=2)l=Ki(t,s),s=l.offp,i[0]^=l.key,l=Ki(t,s),s=l.offp,i[1]^=l.key,i=zl(i,0,n,r),n[u]=i[0],n[u+1]=i[1];for(u=0;u<a;u+=2)l=Ki(t,s),s=l.offp,i[0]^=l.key,l=Ki(t,s),s=l.offp,i[1]^=l.key,i=zl(i,0,n,r),r[u]=i[0],r[u+1]=i[1]}function sw(t,e,n,r,s){var i=OS.slice(),o=i.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),r){Pn(r.bind(this,a));return}else throw a;if(e.length!==$l)if(a=Error("Illegal salt length: "+e.length+" != "+$l),r){Pn(r.bind(this,a));return}else throw a;n=1<<n>>>0;var l,u,d=0,p;typeof Int32Array=="function"?(l=new Int32Array(tw),u=new Int32Array(nw)):(l=tw.slice(),u=nw.slice()),Hj(e,t,l,u);function h(){if(s&&s(d/n),d<n)for(var x=Date.now();d<n&&(d=d+1,rw(t,l,u),rw(e,l,u),!(Date.now()-x>Bj)););else{for(d=0;d<64;d++)for(p=0;p<o>>1;p++)zl(i,p<<1,l,u);var v=[];for(d=0;d<o;d++)v.push((i[d]>>24&255)>>>0),v.push((i[d]>>16&255)>>>0),v.push((i[d]>>8&255)>>>0),v.push((i[d]&255)>>>0);if(r){r(null,v);return}else return v}r&&Pn(h)}if(typeof r<"u")h();else for(var y;;)if(typeof(y=h())<"u")return y||[]}function Cm(t,e,n,r){var s;if(typeof t!="string"||typeof e!="string")if(s=Error("Invalid string / salt: Not a string"),n){Pn(n.bind(this,s));return}else throw s;var i,o;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(s=Error("Invalid salt version: "+e.substring(0,2)),n){Pn(n.bind(this,s));return}else throw s;if(e.charAt(2)==="$")i="\0",o=3;else{if(i=e.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||e.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+e.substring(2,4)),n){Pn(n.bind(this,s));return}else throw s;o=4}if(e.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),n){Pn(n.bind(this,s));return}else throw s;var a=parseInt(e.substring(o,o+1),10)*10,l=parseInt(e.substring(o+1,o+2),10),u=a+l,d=e.substring(o+3,o+25);t+=i>="a"?"\0":"";var p=$j(t),h=kS(d,$l);function y(x){var v=[];return v.push("$2"),i>="a"&&v.push(i),v.push("$"),u<10&&v.push("0"),v.push(u.toString()),v.push("$"),v.push(Dd(h,h.length)),v.push(Dd(x,OS.length*4-1)),v.join("")}if(typeof n>"u")return y(sw(p,h,u));sw(p,h,u,function(x,v){x?n(x,null):n(null,y(v))},r)}function Wj(t,e){return Dd(t,e)}function qj(t,e){return kS(t,e)}const Am={setRandomFallback:jj,genSaltSync:$0,genSalt:CS,hashSync:AS,hash:RS,compareSync:Mj,compare:Lj,getRounds:Vj,getSalt:Fj,truncates:Uj,encodeBase64:Wj,decodeBase64:qj},Gj=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,a]=T.useState(""),[l,u]=T.useState(!1),[d,p]=T.useState(!1),[h,y]=T.useState(0),[x,v]=T.useState(!1),b=Zo(),{login:w}=fc(),_=E=>/^[A-Za-z]+$/.test(E),I=E=>/^[A-Za-z._%+-]+[A-Za-z._%+-]*@[A-Za-z.-]+\.[A-Za-z]{2,}$/.test(E),N=E=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(E),D=async()=>{let E=!1,C=0;for(;!E;){C=Math.floor(1e9+Math.random()*9e9);const R=Ll(nn,"users"),k=Id(R,Sd("id","==",C));(await Vl(k)).empty&&(E=!0)}return y(C),C},M=()=>{h&&(navigator.clipboard.writeText(h.toString()),Ie.success("تم نسخ الأيدي إلى الحافظة"))};T.useEffect(()=>{D()},[]);const A=async E=>{if(E.preventDefault(),!t||!n||!s||!o){Ie.error("يرجى ملء جميع الحقول");return}if(!_(t)){Ie.error("الاسم يجب أن يحتوي فقط على حروف إنجليزية بدون فوارز أو مسافات");return}if(!I(n)){Ie.error("البريد الإلكتروني غير صالح. يجب أن لا يبدأ برقم");return}if(!N(s)){Ie.error("كلمة المرور يجب أن تكون على الأقل 8 أحرف وتحتوي على حروف وأرقام");return}if(s!==o){Ie.error("كلمتا المرور غير متطابقتين");return}try{const C=Ll(nn,"users"),R=Id(C,Sd("email","==",n));if(!(await Vl(R)).empty){Ie.error("هذا البريد الإلكتروني مسجل مسبقاً");return}const O=await D(),H=(await A8(H7,n,s)).user,re=await Am.genSalt(10),J=await Am.hash(s,re);console.log("Storing user data in Firestore:",{id:O.toString(),name:t,email:n,password:J,isVerified:!0,isAdmin:x,points:0,createdAt:new Date}),await Fl(fs(nn,"users",H.uid),{id:O.toString(),name:t,email:n,password:J,isVerified:!0,isAdmin:x,points:0,createdAt:new Date}),w({name:t,id:O.toString(),email:n,points:0});const ie=localStorage.getItem("user");console.log("User stored in localStorage after signup:",ie),Ie.success("تم التسجيل بنجاح!"),b("/")}catch(C){console.error("حدث خطأ أثناء التسجيل:",C);let R="حدث خطأ، يرجى المحاولة لاحقًا";C.code==="auth/email-already-in-use"?R="هذا البريد الإلكتروني مسجل مسبقاً":C.code==="auth/invalid-email"?R="البريد الإلكتروني غير صالح":C.code==="auth/weak-password"?R="كلمة المرور ضعيفة. يجب أن تكون على الأقل 6 أحرف":C.code==="auth/network-request-failed"?R="فشل الاتصال بالإنترنت. يرجى التحقق من اتصالك":C.code==="permission-denied"&&(R="لا يوجد إذن للقيام بهذه العملية. يرجى التحقق من إعدادات الإذن"),Ie.error(R)}};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ws,{}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:"تسجيل حساب جديد"}),f.jsxs("form",{className:"space-y-6",onSubmit:A,children:[f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"name",children:"الاسم"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(A4,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Bt,{id:"name",type:"text",value:t,onChange:E=>e(E.target.value),required:!0,className:"pl-10"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"email",children:"البريد الإلكتروني"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(gb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Bt,{id:"email",type:"email",value:n,onChange:E=>r(E.target.value),required:!0,className:"pl-10"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"password",children:"كلمة المرور"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(mb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Bt,{id:"password",type:l?"text":"password",value:s,onChange:E=>i(E.target.value),required:!0,className:"pl-10 pr-10"}),f.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?f.jsx(Bp,{className:"h-5 w-5 text-gray-400"}):f.jsx(Hp,{className:"h-5 w-5 text-gray-400"})})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"confirm-password",children:"تأكيد كلمة المرور"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(b4,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Bt,{id:"confirm-password",type:d?"text":"password",value:o,onChange:E=>a(E.target.value),required:!0,className:"pl-10 pr-10"}),f.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?f.jsx(Bp,{className:"h-5 w-5 text-gray-400"}):f.jsx(Hp,{className:"h-5 w-5 text-gray-400"})})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"admin",type:"checkbox",checked:x,onChange:E=>v(E.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),f.jsx(tt,{htmlFor:"admin",className:"ml-2 block text-sm text-gray-900",children:"تسجيل كمدير"})]}),f.jsxs("div",{className:"text-center mt-2",children:[f.jsxs("p",{className:"text-sm text-gray-600",children:["معرّفك: ",h]}),f.jsxs(lt,{type:"button",onClick:M,className:"mt-2 flex items-center gap-2 text-sm",children:[f.jsx(zp,{className:"w-4 h-4"})," نسخ الأيدي"]})]}),f.jsx(lt,{type:"submit",className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:"تسجيل"})]}),f.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["هل لديك حساب بالفعل؟ ",f.jsx(ke,{to:"/login",className:"text-blue-500",children:"سجل دخولك"})]})]})}),f.jsx(qs,{})]})},Kj=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(!1),o=Zo(),{login:a}=fc(),l=p=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(p),u=p=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(p),d=async p=>{if(p.preventDefault(),!t||!n){Ie.error("يرجى ملء جميع الحقول");return}if(!l(t)){Ie.error("البريد الإلكتروني غير صالح");return}if(!u(n)){Ie.error("كلمة المرور يجب أن تكون على الأقل 8 أحرف وتحتوي على حروف وأرقام");return}try{const h=Ll(nn,"users"),y=Id(h,Sd("email","==",t)),x=await Vl(y);if(x.empty){Ie.error("البريد الإلكتروني أو كلمة المرور غير صحيحة");return}const v=x.docs[0].data();if(console.log("User data from Firestore:",v),!v.password){Ie.error("كلمة المرور غير موجودة في قاعدة البيانات");return}if(!await Am.compare(n,v.password)){Ie.error("كلمة المرور غير صحيحة");return}if(!v.isVerified){Ie.error("حسابك غير مفعّل. يرجى التحقق من بريدك الإلكتروني");return}a({name:v.name,id:v.id,email:v.email,profilePicture:v.profilePicture||void 0,isAdmin:v.isAdmin||!1,points:v.points||0}),o("/")}catch(h){console.error("حدث خطأ أثناء التسجيل:",h),Ie.error("حدث خطأ، يرجى المحاولة لاحقًا")}};return f.jsxs("div",{className:"flex flex-col min-h-screen payment-page-font",children:[f.jsx(Ws,{}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8 gradient-text",children:"تسجيل الدخول"}),f.jsxs("form",{className:"space-y-6",onSubmit:d,children:[f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"email",children:"البريد الإلكتروني"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(gb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Bt,{id:"email",type:"email",value:t,onChange:p=>e(p.target.value),required:!0,className:"pl-10"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(tt,{htmlFor:"password",children:"كلمة المرور"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(mb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(Bt,{id:"password",type:s?"text":"password",value:n,onChange:p=>r(p.target.value),required:!0,className:"pl-10 pr-10"}),f.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?f.jsx(Bp,{className:"h-5 w-5 text-gray-400"}):f.jsx(Hp,{className:"h-5 w-5 text-gray-400"})})]})]}),f.jsx(lt,{type:"submit",className:"w-full bg-gradient-smm hover:bg-smm-purple transition-all duration-300",children:"دخول"})]}),f.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["ليس لديك حساب؟ ",f.jsx(ke,{to:"/signup",className:"text-blue-500",children:"أنشئ حساب جديد"})]})]})}),f.jsx(qs,{})]})},Qj=()=>{const{user:t,updatePoints:e}=fc(),n=Zo(),[r,s]=T.useState([]),[i,o]=T.useState(""),[a,l]=T.useState({});if(T.useEffect(()=>{!t||!t.isAdmin?n("/"):(async()=>{try{const x=Ll(nn,"users"),b=(await Vl(x)).docs.map(w=>({firebaseId:w.id,...w.data()}));s(b)}catch(x){console.error("حدث خطأ أثناء جلب المستخدمين:",x)}})()},[t,n]),!t||!t.isAdmin)return null;const u=async y=>{const x=String(y);if(console.log("Attempting to delete user with id:",x),window.confirm("هل أنت متأكد أنك تريد حذف هذا المستخدم؟"))try{const v=fs(nn,"users",x);await ND(v),s(b=>b.filter(w=>w.firebaseId!==x)),Ie.success("تم حذف المستخدم بنجاح")}catch(v){console.error("فشل الحذف:",v),Ie.error("حدث خطأ أثناء حذف المستخدم")}},d=async(y,x)=>{try{const v=fs(nn,"users",String(y)),b=await nI(v);if(b.exists()){const w=b.data(),_=typeof w.points=="number"?w.points:0,I=Math.max(_+x,0);await Fl(v,{points:I},{merge:!0}),t&&t.id===w.id&&await e(I),s(N=>N.map(D=>D.firebaseId===y?{...D,points:I}:D)),Ie.success(`تم ${x>0?"زيادة":"خصم"} النقاط بنجاح`)}else Ie.error("المستخدم غير موجود")}catch(v){console.error("حدث خطأ أثناء تحديث النقاط:",v),Ie.error("حدث خطأ، يرجى المحاولة لاحقًا")}},p=async()=>{if(!i){Ie.error("يرجى إدخال معرف المستخدم");return}try{const y=Ll(nn,"users"),x=Id(y,Sd("id","==",parseInt(i,10))),v=await Vl(x);if(v.empty)Ie.error("المستخدم غير موجود");else{const b=v.docs.map(w=>({firebaseId:w.id,...w.data()}));s(b)}}catch(y){console.error("حدث خطأ أثناء البحث عن المستخدم:",y),Ie.error("حدث خطأ، يرجى المحاولة لاحقًا")}},h=y=>{try{if(y!=null&&y.toDate)return new Date(y.toDate()).toLocaleDateString()}catch{return"N/A"}return"N/A"};return f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(Ws,{}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"max-w-6xl w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8",children:"لوحة التحكم"}),f.jsx("div",{className:"mb-4 flex justify-between items-center",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Bt,{type:"text",placeholder:"بحث عن المستخدم من خلال المعرف",value:i,onChange:y=>o(y.target.value),className:"mr-2"}),f.jsx(lt,{onClick:p,className:"bg-blue-500 hover:bg-blue-700 text-white",children:"بحث"})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full bg-white",children:[f.jsx("thead",{className:"bg-gray-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الاسم"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"المعرف"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"البريد الإلكتروني"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"تاريخ التسجيل"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"النقاط"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الإجراءات"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-right",children:r.map(y=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.name||"بدون اسم"}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.id||"بدون معرف"}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.email||"بدون بريد"}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:h(y.createdAt)}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.points||0}),f.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 flex flex-wrap gap-1",children:[f.jsx(lt,{onClick:()=>u(y.firebaseId),className:"bg-red-500 hover:bg-red-700 text-white",children:"حذف"}),f.jsx(Bt,{type:"number",placeholder:"نقاط",className:"w-20 mr-2",value:a[y.firebaseId]||"",onChange:x=>l(v=>({...v,[y.firebaseId]:x.target.value}))}),f.jsx(lt,{onClick:()=>{d(y.firebaseId,parseInt(a[y.firebaseId],10)||0)},className:"bg-green-500 hover:bg-green-700 text-white",children:"+ نقاط"}),f.jsx(lt,{onClick:()=>{d(y.firebaseId,-(parseInt(a[y.firebaseId],10)||0))},className:"bg-yellow-500 hover:bg-yellow-700 text-white",children:"- نقاط"})]})]},y.firebaseId))})]})})]})}),f.jsx(qs,{})]})},Yj=new M3,Xj=()=>f.jsx(W7,{children:f.jsx(V3,{client:Yj,children:f.jsxs(f3,{children:[f.jsx(uN,{}),f.jsx(FN,{}),f.jsxs(gP,{children:[f.jsx(Wn,{path:"/",element:f.jsx(G7,{})}),f.jsx(Wn,{path:"/services",element:f.jsx(pj,{})}),f.jsx(Wn,{path:"/payment",element:f.jsx(Rj,{})}),f.jsx(Wn,{path:"/about-us",element:f.jsx(Nj,{})}),f.jsx(Wn,{path:"/order-tracking",element:f.jsx(kj,{})}),f.jsx(Wn,{path:"/signup",element:f.jsx(Gj,{})}),f.jsx(Wn,{path:"/login",element:f.jsx(Kj,{})}),f.jsx(Wn,{path:"/dashboard",element:f.jsx(Qj,{})}),f.jsx(Wn,{path:"*",element:f.jsx(Pj,{})})]})]})})});$f.createRoot(document.getElementById("root")).render(f.jsx(bP,{children:f.jsx(Xj,{})}));
